<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="js," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="1 节点层次文档元素：文档的最外层元素，文档中所有其它元素都包含在文档元素中，一个文档中只能有一个文档元素。HTML文档的文档元素始终是&amp;lt;html&amp;gt;。DOM树：总共有12种节点类型



序号
类型
说明




1
element_node
元素节点


2
attribute_node
属性节点


3
text_node
文本节点


4
cdata_section_node
C">
<meta property="og:type" content="article">
<meta property="og:title" content="10 Dom">
<meta property="og:url" content="http://laputa-er.github.io/2014/10/07/BOOK_JS高级程序设计(第三版)/JSHPD_3rd_10_DOM/index.html">
<meta property="og:site_name" content="Sean">
<meta property="og:description" content="1 节点层次文档元素：文档的最外层元素，文档中所有其它元素都包含在文档元素中，一个文档中只能有一个文档元素。HTML文档的文档元素始终是&amp;lt;html&amp;gt;。DOM树：总共有12种节点类型



序号
类型
说明




1
element_node
元素节点


2
attribute_node
属性节点


3
text_node
文本节点


4
cdata_section_node
C">
<meta property="og:image" content="http://o6ul1xz4z.bkt.clouddn.com/2017-04-11-91A4B32B-788D-402E-BB53-87C0ADE3E9A1.png">
<meta property="og:image" content="http://o6ul1xz4z.bkt.clouddn.com/2017-04-11-A9518300-5B03-4EE5-A244-0DBE0A710CFD.png">
<meta property="og:image" content="http://o6ul1xz4z.bkt.clouddn.com/2017-04-11-C8E4D61B-9AE3-48A2-9BFD-D6D3907A1DE5.png">
<meta property="og:image" content="http://o6ul1xz4z.bkt.clouddn.com/2017-04-11-CE9F1E79-0245-4A66-BEBF-3B83927813DD.png">
<meta property="og:image" content="http://o6ul1xz4z.bkt.clouddn.com/2017-04-11-2D7C17AF-ABB5-45AE-9CEE-AD6E7EC1105F.png">
<meta property="og:updated_time" content="2017-04-18T07:48:05.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="10 Dom">
<meta name="twitter:description" content="1 节点层次文档元素：文档的最外层元素，文档中所有其它元素都包含在文档元素中，一个文档中只能有一个文档元素。HTML文档的文档元素始终是&amp;lt;html&amp;gt;。DOM树：总共有12种节点类型



序号
类型
说明




1
element_node
元素节点


2
attribute_node
属性节点


3
text_node
文本节点


4
cdata_section_node
C">
<meta name="twitter:image" content="http://o6ul1xz4z.bkt.clouddn.com/2017-04-11-91A4B32B-788D-402E-BB53-87C0ADE3E9A1.png">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://laputa-er.github.io/2014/10/07/BOOK_JS高级程序设计(第三版)/JSHPD_3rd_10_DOM/"/>

  <title> 10 Dom | Sean </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?898688f51c5a3d6b37dd23e04441e5bd";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Sean</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">笔记分享</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                10 Dom
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-10-07T16:40:28+08:00" content="2014-10-07">
              2014-10-07
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/JS高级程序设计-第三版/" itemprop="url" rel="index">
                    <span itemprop="name">JS高级程序设计(第三版)</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2014/10/07/BOOK_JS高级程序设计(第三版)/JSHPD_3rd_10_DOM/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2014/10/07/BOOK_JS高级程序设计(第三版)/JSHPD_3rd_10_DOM/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="1-节点层次"><a href="#1-节点层次" class="headerlink" title="1 节点层次"></a>1 节点层次</h1><p><strong>文档元素</strong>：文档的最外层元素，文档中所有其它元素都包含在文档元素中，一个文档中只能有一个文档元素。HTML文档的文档元素始终是<code>&lt;html&gt;</code>。<br><strong>DOM树</strong>：总共有12种节点类型</p>
<table>
<thead>
<tr>
<th>序号</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>element_node</td>
<td>元素节点</td>
</tr>
<tr>
<td>2</td>
<td>attribute_node</td>
<td>属性节点</td>
</tr>
<tr>
<td>3</td>
<td>text_node</td>
<td>文本节点</td>
</tr>
<tr>
<td>4</td>
<td>cdata_section_node</td>
<td>CDATA片段</td>
</tr>
<tr>
<td>5</td>
<td>entity_reference_node</td>
<td>实体引用</td>
</tr>
<tr>
<td>6</td>
<td>entity_node</td>
<td>实体</td>
</tr>
<tr>
<td>7</td>
<td>processing_instruction_node</td>
<td>处理指令</td>
</tr>
<tr>
<td>8</td>
<td>comment_node</td>
<td>注释节点</td>
</tr>
<tr>
<td>9</td>
<td>document_node</td>
<td>文档节点</td>
</tr>
<tr>
<td>10</td>
<td>document_type_node</td>
<td></td>
</tr>
<tr>
<td>11</td>
<td>document_fragment_node</td>
<td></td>
</tr>
<tr>
<td>12</td>
<td>notation_node</td>
</tr>
</tbody>
</table>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>SimplePage<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello World!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/2017-04-11-91A4B32B-788D-402E-BB53-87C0ADE3E9A1.png" alt="91A4B32B-788D-402E-BB53-87C0ADE3E9A1"></p>
<h2 id="1-1-Node类型"><a href="#1-1-Node类型" class="headerlink" title="1.1 Node类型"></a>1.1 Node类型</h2><p><strong>历史</strong>：DOM1 定义的 Node 接口的 JS 实现类 Node</p>
<p><strong>nodeType 属性</strong>：JS 的所有节点类型都继承自 <code>Node</code> 类型，因此所有的节点类型都共享着相同的基本属性和方法。</p>
<table>
<thead>
<tr>
<th>等价的数字（兼容所有浏览器）</th>
<th>Nodetype对应的常量（IE中不存在）</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Node.ELEMENT_NODE</td>
</tr>
<tr>
<td>2</td>
<td>Node.ATTRIBUTE_NODE</td>
</tr>
<tr>
<td>3</td>
<td>Node.TEXT_NODE</td>
</tr>
<tr>
<td>4</td>
<td>Node.CDATA_SECTION_NODE</td>
</tr>
<tr>
<td>5</td>
<td>Node.ENTITY_REFERENCE_NODE</td>
</tr>
<tr>
<td>6</td>
<td>Node.ENITY_NODE</td>
</tr>
<tr>
<td>7</td>
<td>Node.PROCESSING_INSTRUCTION_NODE</td>
</tr>
<tr>
<td>8</td>
<td>Node.COMMENT_NODE</td>
</tr>
<tr>
<td>9</td>
<td>Node.DOCUMENT_NODE</td>
</tr>
<tr>
<td>10</td>
<td>Node.DOCUMENT_TYPE_NODE</td>
</tr>
<tr>
<td>11</td>
<td>Node.DOCUMENT_FRAGMENT_NODE</td>
</tr>
<tr>
<td>12</td>
<td>Node.NOTATION_NODE</td>
</tr>
</tbody>
</table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 判断节点类型</span></span><br><span class="line"><span class="keyword">if</span>(someNode.nodeType == <span class="number">1</span>)&#123;<span class="comment">//兼容所有浏览器</span></span><br><span class="line">    alert(<span class="string">'Node is an element!'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="nodeName-和-nodeValue-属性"><a href="#nodeName-和-nodeValue-属性" class="headerlink" title="nodeName 和 nodeValue 属性"></a>nodeName 和 nodeValue 属性</h3><p>取值情况取决于节点类型</p>
<h3 id="节点关系"><a href="#节点关系" class="headerlink" title="节点关系"></a>节点关系</h3><p><strong>childNodes属性</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 值：NodeList对象,一个类数组对象，用于保存一组有序的节点，可以通过位置访问这些节点。</span><br><span class="line">☑︎ 特点：基于DOM结构动态查询</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> firstChild = someNode.childnodes[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">var</span> secondChild = someNode.childnodes.item(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">var</span> count = someNode.childNodes.length;</span><br></pre></td></tr></table></figure>
<p>将NodeList转换为数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">convertToArray</span>(<span class="params">nodes</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> array = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        array = <span class="built_in">Array</span>.prototype.slice.call(nodes);</span><br><span class="line">    &#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>, len = nodes.length; i &lt; len; i++)&#123;</span><br><span class="line">            array.push(nodes[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> array;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>parentNode属性</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 值：指向文档树中的父节点</span><br><span class="line">☑︎ 特点：包含在childNodes列表中的所有节点都具有相同的父节点</span><br></pre></td></tr></table></figure>
<p><strong>firstChild属性</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 值：指向<span class="selector-tag">childNodes</span>列表中的第一个节点</span><br><span class="line">☑︎ 特点：相当于<span class="selector-tag">someNode</span><span class="selector-class">.childNodes</span><span class="selector-attr">[0]</span></span><br></pre></td></tr></table></figure>
<p><strong>lastChild属性</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 值：指向childNodes列表中最后一个节点</span><br><span class="line">☑︎ 特点：没有指向的节点值为<span class="literal">null</span></span><br></pre></td></tr></table></figure>
<p><strong>previousSibling属性</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 值：指向同一childNodes列表中的上一个节点。</span><br><span class="line">☑︎ 特点：没有指向的节点值为<span class="literal">null</span></span><br></pre></td></tr></table></figure>
<p><strong>nextSibling属性</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 值：指向同一childNodes列表中的下一个节点。</span><br><span class="line">☑︎ 特点：没有指向的节点值为<span class="literal">null</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(someNode.nextSibling === <span class="literal">null</span>)&#123;</span><br><span class="line">    alert(<span class="string">'最后一个节点'</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    alert(<span class="string">'第一个节点'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/2017-04-11-A9518300-5B03-4EE5-A244-0DBE0A710CFD.png" alt="A9518300-5B03-4EE5-A244-0DBE0A710CFD"></p>
<p><strong>ownerDocument属性</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 值：指向整个文档的文档节点</span><br><span class="line">☑︎ 特点：通过这个属性就不用层层回溯达到顶端了</span><br></pre></td></tr></table></figure>
<p><strong>hasChildNodes()方法</strong></p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 返回值：节点包含子节点时返回<span class="literal">true</span>；否则返回<span class="literal">false</span></span><br><span class="line">☑︎ 要点：比查询childNodes属性的<span class="built_in">length</span>值更简单好用</span><br></pre></td></tr></table></figure>
<h3 id="操作节点（必需先取得父节点，如果节点类型没有子节点将会出错"><a href="#操作节点（必需先取得父节点，如果节点类型没有子节点将会出错" class="headerlink" title="操作节点（必需先取得父节点，如果节点类型没有子节点将会出错)"></a>操作节点（必需先取得父节点，如果节点类型没有子节点将会出错)</h3><p><strong>appendChild()方法</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 用途：向childNodes列表的末尾添加一个节点，相关节点的关系指针都会相应得到更新。</span><br><span class="line">☑︎ 参数：新创建的节点或文档树中的节点。</span><br><span class="line">☑︎ 返回值：新增的节点</span><br><span class="line">☑︎ 注意：任何DOM节点不能同时出现在多个位置，如果插入的节点本身就是DOM树上的，将会移动到新的位置。</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> returnode  = someNode.appendChild(newNode);</span><br><span class="line">alert(returnNode == newNode);    <span class="comment">//true</span></span><br><span class="line">alert(someNode.lastChild == newNode);    <span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<p><strong>insertBefore()方法</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 用途：将节点放在childNodes列表中某个特定的位置上。</span><br><span class="line">☑︎ 参数（2）：要插入的节点、作为参照的节点。</span><br><span class="line">☑︎ 返回值：插入的新节点</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//插入后成为最后一个子节点</span></span><br><span class="line"><span class="keyword">var</span> returnNode = someNode.insertBefore(newNode,<span class="literal">null</span>);</span><br><span class="line">alert(newNode == someNode.lastChild);</span><br><span class="line"><span class="comment">//插入后成为第一个子节点</span></span><br><span class="line"><span class="keyword">var</span> returnNode = someNode.insertBefore(newNode,someNode.firstChild);</span><br><span class="line">alert(newNode == someNode.firstNode);</span><br><span class="line"><span class="comment">//插入到最后一个子节点前面</span></span><br><span class="line"><span class="keyword">var</span> returnNode = someNode.insetBefore(newNode,someNode.lastNode);</span><br><span class="line">alert(newNode == someNode.lastNode);</span><br></pre></td></tr></table></figure>
<p><strong>replaceChild()方法</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 用途：替换某个节点</span><br><span class="line">☑︎ 参数（2）：要插入的节点、要替换的节点</span><br><span class="line">☑︎ 返回值：被替换（移除）的节点</span><br><span class="line">☑︎ 注意：被替换的节点任然是文档的一部分，只是没有自己的位置</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//替换第一个子节点</span></span><br><span class="line"><span class="keyword">var</span> returnNode  = someNode.replaceChild(newCode, someNode.firseChild);</span><br><span class="line"><span class="comment">//替换最后一个子节点</span></span><br><span class="line">returnNode = someNode.replaceChild(newCode, someNode.lastChild):</span><br></pre></td></tr></table></figure>
<p><strong>removeChild()方法</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 用途：移除节点</span><br><span class="line">☑︎ 参数：要移除的节点</span><br><span class="line">☑︎ 返回值：被移除的节点</span><br><span class="line">☑︎ 注意：被替换的节点仍然是文档的一部分，只是没有自己的位置</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//移除第一个子节点</span></span><br><span class="line"><span class="keyword">var</span> formerFirstChild = someNode.removeChild(someNode.firstCihld);</span><br></pre></td></tr></table></figure>
<h3 id="其它方法（所有类型节点都有）"><a href="#其它方法（所有类型节点都有）" class="headerlink" title="其它方法（所有类型节点都有）"></a>其它方法（所有类型节点都有）</h3><p><strong>cloneNode()</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 用途：创建一个节点的副本</span><br><span class="line">☑︎ 参数：<span class="literal">true</span>表示深拷贝（递归子节点）；<span class="literal">false</span>表示浅拷贝（不拷贝子节点）</span><br><span class="line">☑︎ 返回值：节点副本</span><br><span class="line">☑︎ 注意：返回的节点贵文档所有，但是是没有父节点的孤儿；IE9之前的版本会为空白创建节点；IE会同时复制事件处理程序/</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>item 1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>item 2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>item 3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> deepList = myList.cloneNode(<span class="literal">true</span>);</span><br><span class="line"><span class="built_in">console</span>.log(deepList.childNodes.length);    <span class="comment">//3(IE&lt;9)或 7（其它浏览器）</span></span><br><span class="line"><span class="keyword">var</span> shallowList = myList.cloneNode(<span class="literal">false</span>);</span><br><span class="line"><span class="built_in">console</span>.log(shallowList.childNodes.length);    <span class="comment">//0</span></span><br></pre></td></tr></table></figure>
<p><strong>normalize()方法</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 用途：处理文档树中的文本节点，删除空文本节点，合并相邻文本节点</span><br><span class="line">☑︎ 参数：父节点</span><br></pre></td></tr></table></figure>
<h2 id="1-2-Document类型"><a href="#1-2-Document类型" class="headerlink" title="1.2 Document类型"></a>1.2 Document类型</h2><ul>
<li>Document 类型</li>
</ul>
<figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">☑︎ <span class="keyword">JS</span>通过该类型表示文档</span><br></pre></td></tr></table></figure>
<ul>
<li>HTMLDocument 类型</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 继承自Document类型，表示HTML文档</span><br></pre></td></tr></table></figure>
<ul>
<li>document对象</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">☑︎ HTMLDocuemnt类型的一个实例</span><br><span class="line">☑︎ <span class="built_in">window</span>对象的属性</span><br></pre></td></tr></table></figure>
<p><strong>Document 节点特征</strong></p>
<table>
<thead>
<tr>
<th>序号</th>
<th>属性</th>
<th>值</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>nodeType</td>
<td>0</td>
</tr>
<tr>
<td>2</td>
<td>nodeName</td>
<td>#document</td>
</tr>
<tr>
<td>3</td>
<td>nodeValue</td>
<td>null</td>
</tr>
<tr>
<td>4</td>
<td>parentNode</td>
<td>null</td>
</tr>
<tr>
<td>5</td>
<td>ownerDocument</td>
<td>null</td>
</tr>
<tr>
<td>6</td>
<td>childNodes</td>
<td>最多一个DocumentType、Element或多个ProcessingInstruction、Comment</td>
</tr>
</tbody>
</table>
<p><strong>兼容性</strong><br>| 类型           | 支持访问构造函数和原型           |<br>| ———— | ——————— |<br>| Document     | FF、Safri、Chrome、Opera |<br>| HTMLDocument | 所有                    |</p>
<h3 id="1-2-1-文档的子节点"><a href="#1-2-1-文档的子节点" class="headerlink" title="1.2.1 文档的子节点"></a>1.2.1 文档的子节点</h3><p><strong>body 节点</strong></p>
<ul>
<li>document.documentElement（推荐）</li>
<li>document.childNodes[0]</li>
<li>document.firstChild</li>
<li>document.body</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> html = <span class="built_in">document</span>.documentElement;    <span class="comment">//取得对&lt;html&gt;的引用</span></span><br><span class="line">alert(html === <span class="built_in">document</span>.childNodes[<span class="number">0</span>]);    <span class="comment">//true</span></span><br><span class="line">alert(html === docuemnt.firstChild);    <span class="comment">//true</span></span><br><span class="line">alert(html === <span class="built_in">document</span>.body);    <span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<p><strong>document.docType</strong></p>
<p><strong>说明</strong>：访问<code>&lt;！DOCTYPE&gt;</code>节点</p>
<table>
<thead>
<tr>
<th>版本</th>
<th>处理方式</th>
<th>document.docType</th>
</tr>
</thead>
<tbody>
<tr>
<td>IE8-</td>
<td>解释为注释并把它作为Comment节点</td>
<td>null</td>
</tr>
<tr>
<td>IE9+、FF</td>
<td>作为文档的第一个子节点 DocumentType节点（也可以通过firstChid和childNodes[0]访问到）</td>
<td></td>
</tr>
<tr>
<td>Safari、Chrome、Opera 不作为文档子节点，不会出现在document.childNodes中</td>
<td>DocumentType节点</td>
</tr>
</tbody>
</table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> docType = docuemnt.doctype;    <span class="comment">//取得对&lt;!DOCTYPE&gt;的引用</span></span><br></pre></td></tr></table></figure>
<p><strong><code>&lt;html&gt;</code>之外的注释</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">！--</span> 第一条注释 <span class="attr">--</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">！--</span> 第二条注释 <span class="attr">--</span>&gt;</span></span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>版本</th>
<th>处理方式</th>
<th>节点类型</th>
</tr>
</thead>
<tbody>
<tr>
<td>IE8-、Safari3.1+、Opera、Chrome</td>
<td>只为第一条注释创建注释节点</td>
<td>注释节点，document.childNodes中的第一个节点</td>
</tr>
<tr>
<td>IE9+</td>
<td>为两条注释分别创建注释节点</td>
<td>注释节点，document.childNodes中的节点</td>
</tr>
<tr>
<td>FF、Safari3.1-</td>
<td>完全忽视这两条注释</td>
</tr>
</tbody>
</table>
<h3 id="1-2-2-文档信息"><a href="#1-2-2-文档信息" class="headerlink" title="1.2.2 文档信息"></a>1.2.2 文档信息</h3><p>HTMLDocument 的实例 document 包含的 Document 对象没有的属性。</p>
<h4 id="document-title属性"><a href="#document-title属性" class="headerlink" title="document.title属性"></a>document.title属性</h4><figure class="highlight vbscript-html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml">☑︎ 作用：可以取得当前页面的标题，也可以修改当前页面的标题并反映在浏览器的标题栏。</span><br><span class="line">☑︎ 值：<span class="tag">&lt;<span class="name">title</span>&gt;</span>元素中的文本，显示在浏览器窗口的标题栏或标题页上。</span><br><span class="line">☑︎ 特点：修改该属性不会改变<span class="tag">&lt;<span class="name">title</span>&gt;</span>属性</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//取得文档标题</span></span><br><span class="line"><span class="keyword">var</span> originalTitle = <span class="built_in">document</span>.title;</span><br><span class="line"><span class="comment">//设置文档标题</span></span><br><span class="line"><span class="built_in">document</span>.title = <span class="string">'new page title'</span>;</span><br></pre></td></tr></table></figure>
<h4 id="document-URL属性"><a href="#document-URL属性" class="headerlink" title="document.URL属性"></a>document.URL属性</h4><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 作用：取得页面完整的<span class="built_in">URL</span></span><br><span class="line">☑︎ 值：地址栏中显示的<span class="built_in">URL</span></span><br><span class="line">☑︎ 特点：只读</span><br></pre></td></tr></table></figure>
<h4 id="document-domain属性"><a href="#document-domain属性" class="headerlink" title="document.domain属性"></a>document.domain属性</h4><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 作用：取得页面的域名或通过改变页面中包含的来自其它子域框架或内嵌框架的domain实现跨域通信</span><br><span class="line">☑︎ 值：页面的域名</span><br><span class="line">☑︎ 特点：可写，由于跨域安全限制，不可设置为<span class="built_in">URL</span>不包含的域,，即只能设置为父域；一旦设置为“的“松散的”就不能设置回”紧绷的“（IE7-除外）。</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//假设页面来自www.wrox.com</span></span><br><span class="line"><span class="built_in">document</span>.domain = <span class="string">'wrox.com'</span>;</span><br><span class="line"><span class="built_in">document</span>.domain = <span class="string">'www.wrox.com'</span>;<span class="comment">//出错！</span></span><br></pre></td></tr></table></figure>
<h4 id="docuemnt-referrer属性"><a href="#docuemnt-referrer属性" class="headerlink" title="docuemnt.referrer属性"></a>docuemnt.referrer属性</h4><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 作用：取得链接到当前页面的那个页面的<span class="built_in">URL</span></span><br><span class="line">☑︎ 值：链接到当前页面的那个页面的<span class="built_in">URL</span>，可能包含空字符串</span><br><span class="line">☑︎ 特点：只读</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//取得完整的URL</span></span><br><span class="line"><span class="keyword">var</span> url = <span class="built_in">document</span>.URL;</span><br><span class="line"><span class="comment">//取得域名</span></span><br><span class="line"><span class="keyword">var</span> domain = <span class="built_in">document</span>.demain;</span><br><span class="line"><span class="comment">//取得来源页面的URL</span></span><br><span class="line"><span class="keyword">var</span> referrer = dicument.referrer;</span><br></pre></td></tr></table></figure>
<h3 id="1-2-3-查找元素"><a href="#1-2-3-查找元素" class="headerlink" title="1.2.3 查找元素"></a>1.2.3 查找元素</h3><h4 id="getElementById-方法"><a href="#getElementById-方法" class="headerlink" title="getElementById()方法"></a>getElementById()方法</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 用途：通过ID获得元素</span><br><span class="line">☑︎ 参数：要取得元素的ID，区分大小写</span><br><span class="line">☑︎ 返回值：存在返回相应ID元素；否则返回<span class="literal">null</span></span><br></pre></td></tr></table></figure>
<p>注意</p>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">☑︎ IE7-不区分大小写</span><br><span class="line">☑︎ 页面中多个ID相同的元素只返回第一个</span><br><span class="line">☑︎ IE7-怪癖：<span class="keyword">name</span>值匹配的表单元素（input、textarea、button、<span class="keyword">select</span>）也会被该方法返回，因此注意不让表单字段的<span class="keyword">name</span>和其它元素ID相同</span><br></pre></td></tr></table></figure>
<h4 id="getElementByTagName-方法"><a href="#getElementByTagName-方法" class="headerlink" title="getElementByTagName()方法"></a>getElementByTagName()方法</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 用途：通过标签名获得元素集合</span><br><span class="line">☑︎ 参数：标签名</span><br><span class="line">☑︎ 返回值：HTMLCollection对象，类似NodeList</span><br><span class="line">☑︎ 注意：传入”*“作为参数可以返回所有元素，IE会返回所有注释节点</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"myimage.gif"</span> <span class="attr">name</span>=<span class="string">"myimage"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> images = <span class="built_in">document</span>.getElementByTagName(<span class="string">'img'</span>); <span class="comment">//取得所有图像的集合</span></span><br><span class="line"><span class="built_in">console</span>.log(images.length);    <span class="comment">//输出图像的数量</span></span><br><span class="line"><span class="built_in">console</span>.log(images[<span class="number">0</span>].src);    <span class="comment">//输出第一个图像元素desrc属性</span></span><br><span class="line"><span class="built_in">console</span>.log(images.item(<span class="number">0</span>).src);</span><br></pre></td></tr></table></figure>
<p><strong>HTMLCollection 对象</strong></p>
<p>☑︎ namedItem() 方法</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 用途：通过元素的<span class="built_in">name</span>特性取得集合中的项</span><br><span class="line">☑︎ 参数：元素的<span class="built_in">name</span>属性值</span><br><span class="line">☑︎ 返回值：元素</span><br><span class="line">☑︎ 注意：可以替换为使用方括号语法</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myImage = images.namedItem(<span class="string">'myImage'</span>);</span><br><span class="line">或</span><br><span class="line"><span class="keyword">var</span> myImage  = images[<span class="string">'myImage'</span>];</span><br></pre></td></tr></table></figure>
<h4 id="getElementsByName"><a href="#getElementsByName" class="headerlink" title="getElementsByName()"></a>getElementsByName()</h4><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 用途：返回给定<span class="built_in">name</span>特性的所有元素</span><br><span class="line">☑︎ 参数：元素的<span class="built_in">name</span>值  </span><br><span class="line">☑︎ 返回值：HTMLCollection类型</span><br><span class="line">☑︎注意：返回值使用namedItem()只能获得第一项</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">legend</span>&gt;</span>Which color do you prefer?<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">value</span>=<span class="string">"red"</span> <span class="attr">name</span>=<span class="string">"color"</span> <span class="attr">id</span>=<span class="string">"colorRed"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"color"</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">value</span>=<span class="string">"green"</span> <span class="attr">name</span>=<span class="string">"color"</span> <span class="attr">id</span>=<span class="string">"colorGreen"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"color"</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">value</span>=<span class="string">"blue"</span> <span class="attr">name</span>=<span class="string">"color"</span> <span class="attr">id</span>=<span class="string">"colorBlue"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"color"</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> radios = <span class="built_in">document</span>.getElementsByName(<span class="string">'color'</span>);</span><br></pre></td></tr></table></figure>
<h3 id="1-2-4-特殊集合（HTMLCollection）"><a href="#1-2-4-特殊集合（HTMLCollection）" class="headerlink" title="1.2.4 特殊集合（HTMLCollection）"></a>1.2.4 特殊集合（HTMLCollection）</h3><p>特点：会随着文档的更新而更新<br>| 集合               | 说明               | 备注                                       |<br>| —————- | —————- | —————————————- |<br>| document.anchors | 文档中所有带name特性的a元素 |                                          |<br>| document.applets | 文档中所有applet元素    | 不建议使用                                    |<br>| document.forms   | 文档中所有form元素      | document.getElementByTagName(“form”)得到相同结果 |<br>| document.images  | 文档中所有img元素       | document.getElementByTagName(“img”)得到相同结果 |<br>| document.lnks    | 文档中所有带href特性的a元素 |                                          |</p>
<h3 id="1-2-5-DOM一致性检测"><a href="#1-2-5-DOM一致性检测" class="headerlink" title="1.2.5 DOM一致性检测"></a>1.2.5 DOM一致性检测</h3><h4 id="document-implementation属性"><a href="#document-implementation属性" class="headerlink" title="document.implementation属性"></a>document.implementation属性</h4><p>可用于检测浏览器实现了DOM的哪些部分</p>
<p><strong>document.implementation.hasFeature()</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 参数（2）：要检测的DOM功能的名称、版本号</span><br><span class="line">☑︎ 返回值：支持返回<span class="literal">true</span>；否则返回<span class="literal">false</span></span><br><span class="line">☑︎ 问题：返回<span class="literal">true</span>并不意味着实现和规范完全一致</span><br><span class="line">☑︎ 注意：同时使用能力检测</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> hasXmlDom = <span class="built_in">document</span>.implementation.hasFeature(<span class="string">"XML"</span>,<span class="string">"1.0"</span>);</span><br></pre></td></tr></table></figure>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/2017-04-11-C8E4D61B-9AE3-48A2-9BFD-D6D3907A1DE5.png" alt="C8E4D61B-9AE3-48A2-9BFD-D6D3907A1DE5"></p>
<h3 id="1-2-6-文档写入"><a href="#1-2-6-文档写入" class="headerlink" title="1.2.6 文档写入"></a>1.2.6 文档写入</h3><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">不支持文档写入的情况</span><br><span class="line">☑︎ 严格型 XHTML 文档</span><br><span class="line">☑︎ 按照 <span class="built_in">application</span>/xml+xhtml 内容类型提供的页面</span><br></pre></td></tr></table></figure>
<h4 id="document-write"><a href="#document-write" class="headerlink" title="document.write()"></a>document.write()</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 用途：原样写入输出流到文本</span><br><span class="line">☑︎ 参数：字符串</span><br><span class="line">☑︎ 注意：加载文档阶段调用直接向其中输出内容；加载结束后调用会重写整个页面，而且需要自己打开/关闭输出流</span><br><span class="line">，关闭输出流后才会将内容添加进文档。</span><br></pre></td></tr></table></figure>
<h4 id="document-writeln"><a href="#document-writeln" class="headerlink" title="document.writeln()"></a>document.writeln()</h4><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 用途：写入输出流到文本，会自动在字符串的末尾添加一个换行符<span class="comment">(\n)</span></span><br><span class="line">☑︎ 参数：字符串</span><br><span class="line">☑︎ 注意：加载文档阶段调用直接向其中输出内容；加载结束后调用会重写整个页面，而且需要自己打开/关闭输出流。</span><br></pre></td></tr></table></figure>
<h4 id="document-open"><a href="#document-open" class="headerlink" title="document.open()"></a>document.open()</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 用途：HTML 文档加载完后使用，用来打开网页输出流</span><br><span class="line">☑︎ 注意：会导致之前 <span class="selector-tag">body</span> 中的所有内容被删除</span><br></pre></td></tr></table></figure>
<h4 id="document-close"><a href="#document-close" class="headerlink" title="document.close()"></a>document.close()</h4><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 用途：关闭输出流</span><br><span class="line">☑︎ 注意：<span class="built_in">open</span>() 和 <span class="built_in">close</span>() 之间执行的 <span class="built_in">write</span>() 会依次往后插入到 body 中</span><br></pre></td></tr></table></figure>
<h2 id="1-3-Element类型"><a href="#1-3-Element类型" class="headerlink" title="1.3 Element类型"></a>1.3 Element类型</h2><p><strong>节点特征</strong></p>
<table>
<thead>
<tr>
<th>序号</th>
<th>属性</th>
<th>值</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>nodeType</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>nodeName</td>
<td>元素的标签名</td>
</tr>
<tr>
<td>3</td>
<td>nodeValue</td>
<td>null</td>
</tr>
<tr>
<td>4</td>
<td>parentNode</td>
<td>Document或Element</td>
</tr>
<tr>
<td>5</td>
<td>childNodes</td>
<td>Element、Text、Comment、ProcessingInstruction、CDATASection或EntityReference</td>
</tr>
</tbody>
</table>
<p><strong>属性</strong></p>
<p>☑︎ nodeName属性</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">值：标签名</span><br></pre></td></tr></table></figure>
<p>☑︎ tagName属性</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">值：标签名,比nodeName更清晰</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"myDiv"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = <span class="built_in">document</span>.getElementById(<span class="string">'myDiv'</span>);</span><br><span class="line">alert(div.tagName);    <span class="comment">//DIV</span></span><br><span class="line">alert(div.tagName == div.nodeName);    <span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<p>注意：大小写（HTML中标签名始终都以全部大写表示；XML（XHTML）中与源代码一致）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(element.tagName.toLowerCase() == <span class="string">'div'</span>)&#123;</span><br><span class="line">    <span class="comment">//在此执行某些操作</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>兼容性</strong><br>| 浏览器版本            | 行为                     |<br>| —————- | ———————- |<br>| safari2-、Opera8- | 不能访问Element类型的构造函数     |<br>| 其它               | 可以访问Element类型的构造函数及其原型 |</p>
<h3 id="1-3-1-HTML元素"><a href="#1-3-1-HTML元素" class="headerlink" title="1.3.1 HTML元素"></a>1.3.1 HTML元素</h3><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>元素在文档中的唯一标识符</td>
</tr>
<tr>
<td>title</td>
<td>有关元素的附加说明信息，一般通过工具提示条显示出来</td>
</tr>
<tr>
<td>lang</td>
<td>元素内容的语言代码，很少使用</td>
</tr>
<tr>
<td>dir</td>
<td>语言的方向，“ltr”（从左到右）；“rtl”(从右到左)</td>
</tr>
<tr>
<td>className</td>
<td>为元素指定的CSS类（没有使用class，因为是保留字）</td>
</tr>
</tbody>
</table>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"myDiv"</span> <span class="attr">class</span>=<span class="string">"bd"</span> <span class="attr">title</span>=<span class="string">"Body text"</span> <span class="attr">lang</span>=<span class="string">"en"</span> <span class="attr">dir</span>=<span class="string">"ltr"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div =  <span class="built_in">document</span>.getElementById(<span class="string">"myDiv"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(div.id);    <span class="comment">//"myDiv"</span></span><br><span class="line"><span class="built_in">console</span>.log(div.className);    <span class="comment">//"bd"</span></span><br><span class="line"><span class="built_in">console</span>.log(div.title);  <span class="comment">//"Body text" </span></span><br><span class="line"><span class="built_in">console</span>.log(div.lang);    <span class="comment">//"en"</span></span><br><span class="line"><span class="built_in">console</span>.log(div.dir);    <span class="comment">//"ltr"</span></span><br></pre></td></tr></table></figure>
<p>所有HTML元素都是由 HTMLElement 或更具体的子类型来表示（斜体指不推荐）：</p>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/2017-04-11-CE9F1E79-0245-4A66-BEBF-3B83927813DD.png" alt="CE9F1E79-0245-4A66-BEBF-3B83927813DD"></p>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/2017-04-11-2D7C17AF-ABB5-45AE-9CEE-AD6E7EC1105F.png" alt="2D7C17AF-ABB5-45AE-9CEE-AD6E7EC1105F"></p>
<h3 id="1-3-2-取得特性"><a href="#1-3-2-取得特性" class="headerlink" title="1.3.2 取得特性"></a>1.3.2 取得特性</h3><h4 id="getAttribute-方法"><a href="#getAttribute-方法" class="headerlink" title="getAttribute() 方法"></a>getAttribute() 方法</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 用途：获得特性值（推荐只在获得自定义特性时使用）</span><br><span class="line">☑︎ 参数：元素的属性，不区分大小写</span><br><span class="line">☑︎ 返回值：属性不存在返回<span class="literal">null</span></span><br><span class="line">☑︎ 注意：自定义属性也有效，但只有公认的（非自定义的）属性才能在DOM对象中找到对应属性(IE除外)</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"myDiv"</span> <span class="attr">class</span>=<span class="string">"bd"</span>  <span class="attr">title</span>=<span class="string">"Body text"</span> <span class="attr">lang</span>=<span class="string">"en"</span> <span class="attr">dir</span>=<span class="string">"ltr"</span> <span class="attr">my_special_attribute</span>=<span class="string">"hello"</span>&gt;</span><span class="tag">&lt;/<span class="name">dvi</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = <span class="built_in">document</span>.getElementById(<span class="string">"myDiv"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(div.getAttribute(<span class="string">"id"</span>)); <span class="comment">//"myDiv"</span></span><br><span class="line"><span class="built_in">console</span>.log(div.getAttribute(<span class="string">"class"</span>)); <span class="comment">//"bd"</span></span><br><span class="line"><span class="built_in">console</span>.log(div.getAttribute(<span class="string">"title"</span>)); <span class="comment">//"Body text"</span></span><br><span class="line"><span class="built_in">console</span>.log(div.getAttribute(<span class="string">"lang"</span>)); <span class="comment">//"en"</span></span><br><span class="line"><span class="built_in">console</span>.log(div.getAttribute(<span class="string">"dir"</span>)); <span class="comment">//"ltr"</span></span><br><span class="line">          替代：DOM本身的属性(自定义特性无法访问)</span><br><span class="line"><span class="built_in">console</span>.log(div.id);    <span class="comment">//"myDiv"</span></span><br><span class="line"><span class="built_in">console</span>.log(div.my_special_attribute);    <span class="comment">//"undefined"(IE除外)</span></span><br><span class="line"><span class="built_in">console</span>.log(div.align);    <span class="comment">//“left”</span></span><br></pre></td></tr></table></figure>
<p><strong>特殊特性</strong><br>☑ ︎style属性</p>
<table>
<thead>
<tr>
<th>访问方式</th>
<th>返回值</th>
</tr>
</thead>
<tbody>
<tr>
<td>div.getAttribute(“style”)</td>
<td>CSS文本</td>
</tr>
<tr>
<td>div.style</td>
<td>对象</td>
</tr>
</tbody>
</table>
<p>☑︎ 事件处理程序<br>| 访问方式                        | 返回值   |<br>| ————————— | —– |<br>| div.getAttribute(“onclick”) | 代码字符串 |<br>| div.onclick                 | 函数    |</p>
<h3 id="1-3-3-设置特性"><a href="#1-3-3-设置特性" class="headerlink" title="1.3.3 设置特性"></a>1.3.3 设置特性</h3><h4 id="setAttribute-方法"><a href="#setAttribute-方法" class="headerlink" title="setAttribute()方法"></a>setAttribute()方法</h4><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 用途：设置或创建特性值（可以自定义，HTML5要求data_前缀）</span><br><span class="line">☑︎ 参数（<span class="number">2</span>）：要设置的特性名、值</span><br><span class="line">☑︎ 注意：特性名会同意被转成小写<span class="comment">;IE7-有异常</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">div.setAttribute(<span class="string">"id"</span>,  <span class="string">"sometherId"</span>);</span><br><span class="line">div.setAttribute(<span class="string">"class"</span>,  <span class="string">"ft"</span>);</span><br><span class="line">div.setAttribute(<span class="string">"title"</span>,  <span class="string">"some other text"</span>);</span><br><span class="line">div.setAttribute(<span class="string">"lang"</span>,  <span class="string">"fr"</span>);</span><br><span class="line">div.setAttribute(<span class="string">"dir"</span>,  <span class="string">"rtl"</span>);</span><br></pre></td></tr></table></figure>
<h4 id="removeAttribute-方法"><a href="#removeAttribute-方法" class="headerlink" title="removeAttribute()方法"></a>removeAttribute()方法</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 用途：彻底删除元素的特性</span><br><span class="line">☑︎ 参数：特性名</span><br><span class="line">☑︎ 特点：不常用</span><br><span class="line">☑︎ 兼容性：IE6-不支持</span><br></pre></td></tr></table></figure>
<h3 id="1-3-4-attributes属性"><a href="#1-3-4-attributes属性" class="headerlink" title="1.3.4 attributes属性"></a>1.3.4 attributes属性</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 用途：包含元素的特性,适合用来遍历元素的特性</span><br><span class="line">☑︎ 特点：<span class="built_in">Element</span>节点独有</span><br><span class="line">☑︎ 值：NamedNodeMap(类似NodeList)</span><br></pre></td></tr></table></figure>
<p><strong>NamedNodeMap对象</strong></p>
<p>☑︎ getNameItem(name): 返回nodeName属性等于name的节点</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> id = element.attributes.getNamedItem(<span class="string">"id"</span>).nodeVlaue;</span><br><span class="line">或</span><br><span class="line"><span class="keyword">var</span> id = element.attributes[<span class="string">'id'</span>].nodeValue;</span><br></pre></td></tr></table></figure>
<p>☑︎ removeNamedItem(name): 从列表中移除 nodeName 属性等于 name 的节点</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> oldAttr = element.attributes.removeNamedItems(<span class="string">"id"</span>);</span><br></pre></td></tr></table></figure>
<p>☑︎ setNamedItem(node): 向列表中添加节点，以节点的 nodeName 属性为索引</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">element.attributes.setNamedItem(newAttr);</span><br></pre></td></tr></table></figure>
<p>☑︎ item(pos): 返回位于数字pos位置处的节点</p>
<p><strong>遍历attributes</strong><br>方式一：全部遍历</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 不能保证 <span class="keyword">attributes</span> 中属性出现的顺序</span><br><span class="line">☑︎ IE7-会返回元素所有的属性，包括未设定的</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">outputAttributes</span>(<span class="params">element</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> paris = <span class="keyword">new</span> <span class="built_in">Array</span>(),</span><br><span class="line">  attrName,</span><br><span class="line">  attrValue,</span><br><span class="line">  i,</span><br><span class="line">     len;</span><br><span class="line">     <span class="keyword">for</span>(i=<span class="number">0</span>,len=element.attrbutes.length; i&lt;len;i++)&#123;</span><br><span class="line">      attrName = element.attributes[i].nodeName;</span><br><span class="line">      attrValue = element.attrbutes[i].nodeValue;</span><br><span class="line">      pairs.push(attrNames + <span class="string">"=\" "</span><span class="string">"+attrValue+"</span>\<span class="string">""</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> pairs.join(<span class="string">" "</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>方式二：只遍历设置了值的属性</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">outputAttributes</span>(<span class="params">element</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> paris = <span class="keyword">new</span> <span class="built_in">Array</span>(),</span><br><span class="line">    attrName,</span><br><span class="line">    attrValue,</span><br><span class="line">    i,</span><br><span class="line">   len;</span><br><span class="line">   <span class="keyword">for</span>(i=<span class="number">0</span>,len=element.attrbutes.length; i&lt;len;i++)&#123;</span><br><span class="line">        attrName = element.attributes[i].nodeName;</span><br><span class="line">        attrValue = element.attrbutes[i].nodeValue;</span><br><span class="line">        <span class="keyword">if</span>(eleement.attributes[i].specified)&#123;</span><br><span class="line">            pairs.push(attrNames + <span class="string">"=\" "</span><span class="string">"+attrValue+"</span>\<span class="string">""</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> pairs.join(<span class="string">" "</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-3-5-创建元素"><a href="#1-3-5-创建元素" class="headerlink" title="1.3.5 创建元素"></a>1.3.5 创建元素</h3><p><strong>document.createElement()方法</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 用途：创建节点（会同时设置ownerDocument）</span><br><span class="line">☑︎ 参数：标签名（HTML中不区分大小写；XML和XHTML中区分），IE允许传入完整的元素标签</span><br><span class="line">☑︎ 返回值：创建的节点</span><br><span class="line">☑︎ 注意：将新元素添加到DOM树种才会影响浏览器的显示</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span><br><span class="line">div.id = <span class="string">"myNewDiv"</span>;</span><br><span class="line">div.className = <span class="string">"box"</span>;</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(div);</span><br></pre></td></tr></table></figure>
<p>☑︎ 附：IE允许传入完整元素标签</p>
<p>用途：通过指定完整的标签，避开IE7-动态创建元素的某些问题（仅在使用标签名作参数给IE7带来问题时使用）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 不能设置动态创建的 iframe 元素的 name 属性</span><br><span class="line">☑︎ 不能通过表单的 <span class="keyword">reset</span>()方法重设动态创建的 &lt;<span class="keyword">input</span>&gt; 元素</span><br><span class="line">☑︎ 动态创建的 <span class="keyword">type</span> 特性值为 “<span class="keyword">reset</span>” 的 button 元素无法重设表单</span><br><span class="line">☑︎ 动态创建的一批 <span class="keyword">name</span> 相同的单选按钮彼此毫无关系</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = <span class="built_in">document</span>.createElement(<span class="string">"&lt;div id='myNewDiv' class='box'&gt;&lt;/div&gt;"</span>);</span><br><span class="line"><span class="keyword">if</span>(client.bowser.ie &amp;&amp; client.browser.ie&lt;=<span class="number">7</span>)&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建一个带name特性的iframe元素</span></span><br><span class="line">    <span class="keyword">var</span> iframe = <span class="built_in">document</span>.createElement(<span class="string">"&lt;iframe name=\"myFrame\"&gt;&lt;/iframe&gt;"</span>);</span><br><span class="line">    <span class="comment">//创建input元素</span></span><br><span class="line">     <span class="keyword">var</span> input = <span class="built_in">document</span>.createElement(<span class="string">"&lt;input type=\"checkbox\"&gt;"</span>);</span><br><span class="line">    <span class="comment">//创建button元素</span></span><br><span class="line">     <span class="keyword">var</span> button = <span class="built_in">document</span>.createElement(<span class="string">"&lt;button type=\"reset\"&gt;&lt;/button&gt;"</span>);</span><br><span class="line">    <span class="comment">//创建单选按钮</span></span><br><span class="line">     <span class="keyword">var</span> radio1 = <span class="built_in">document</span>.createElement(<span class="string">"&lt;input type=\"radio\" name=\"choice\" value=\"1\"&gt;"</span>);</span><br><span class="line">     <span class="keyword">var</span> radio2 = <span class="built_in">document</span>.createElement(<span class="string">"&lt;input type=\"radio\" name=\"choice\" value=\"1\"&gt;"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-3-6-元素的子节点"><a href="#1-3-6-元素的子节点" class="headerlink" title="1.3.6 元素的子节点"></a>1.3.6 元素的子节点</h3><h4 id="遍历子节点"><a href="#遍历子节点" class="headerlink" title="遍历子节点"></a>遍历子节点</h4><p>问题：IE会将空白符也解析为子节点</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"myList"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item 1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item 2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item 3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>解决：遍历时判断节点的类型</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>,len=element.childNodes.length; i&lt; len;i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(element.childNodes[i].nodeType == <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="comment">//执行某些操作</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="通过标签名取得子节点"><a href="#通过标签名取得子节点" class="headerlink" title="通过标签名取得子节点"></a>通过标签名取得子节点</h4><p>注意：会递归各个层次获取子节点</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ul = <span class="built_in">document</span>.getElementById(<span class="string">"myList"</span>):</span><br><span class="line"><span class="keyword">var</span> items = ul.getElementByTagName(<span class="string">"li"</span>);</span><br></pre></td></tr></table></figure>
<h2 id="1-4-Text类型"><a href="#1-4-Text类型" class="headerlink" title="1.4 Text类型"></a>1.4 Text类型</h2><p><strong>节点特征</strong><br>| 序号   | 属性         | 值       |<br>| —- | ———- | ——- |<br>| 1    | nodeType   | 3       |<br>| 2    | nodeName   | #text   |<br>| 3    | nodeValue  | 包含的文本内容 |<br>| 4    | parentNode | Element |<br>| 5    | childNodes | 不支持子节点  |</p>
<table>
<thead>
<tr>
<th>重要属性</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>nodeValue属性、data属性</td>
<td>Text节点中包含的文本</td>
</tr>
<tr>
<td>length属性</td>
<td>包含文本的字符的数目（nodeValue.length、data.length）</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>appendData(text)</td>
<td>将text添加到节点的末尾</td>
</tr>
<tr>
<td>deleteDate(offset, count)</td>
<td>从offset指定的位置开始删除count个字符</td>
</tr>
<tr>
<td>insertData(offset, text)</td>
<td>重offset指定的位置插入text</td>
</tr>
<tr>
<td>replaceData(offset, count, text)</td>
<td>用text替换从offset指定的位置开始到offset+count为止处的文本</td>
</tr>
<tr>
<td>splitText(offset)</td>
<td>从offset指定的位置开始将文本节点分成两个文本节点</td>
</tr>
<tr>
<td>substringData(offset,count)</td>
<td>提取从offset指定的位置开始到offset+count位置处的字符串</td>
</tr>
</tbody>
</table>
<p>注意, 默认情况下，每个可以包含内容的元素最多只能有一个文本节点 </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>Hello World!<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = docuemnt.getElementByTagName(<span class="string">'div'</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">var</span> textNode = div.firstChild.nodeValue = <span class="string">"Some &lt;strong&gt;other&lt;/strong&gt; message"</span>;</span><br></pre></td></tr></table></figure>
<h3 id="1-4-1-创建文本节点"><a href="#1-4-1-创建文本节点" class="headerlink" title="1.4.1 创建文本节点"></a>1.4.1 创建文本节点</h3><h4 id="document-createTextNode-方法"><a href="#document-createTextNode-方法" class="headerlink" title="document.createTextNode() 方法"></a>document.createTextNode() 方法</h4><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 用途：创建新文本节点（会同时设置ownerDocument属性）</span><br><span class="line">☑︎ 参数：要插入节点中的文本（会按照HTML或XML的格式进行编码）</span><br><span class="line">☑︎ 注意：只有添加到文档树中后参会被渲染<span class="comment">;两个同胞且相邻的文本节点会被连起来显示。</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> element = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</span><br><span class="line">element.className  =<span class="string">"message"</span>;</span><br><span class="line"><span class="keyword">var</span> textNode = <span class="built_in">document</span>.createTextNode(<span class="string">"Hello World!"</span>);</span><br><span class="line">element.appendChild(textNode);</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(element);</span><br></pre></td></tr></table></figure>
<h3 id="1-4-2-规范化文本节点"><a href="#1-4-2-规范化文本节点" class="headerlink" title="1.4.2 规范化文本节点"></a>1.4.2 规范化文本节点</h3><h4 id="normalize-方法"><a href="#normalize-方法" class="headerlink" title="normalize()方法"></a>normalize()方法</h4><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 调用：定义在<span class="keyword">Node</span><span class="title">类型中，所有节点类型都可以调用</span><br><span class="line">☑︎ 用途：合并文本子节点为一个文本子节点</span><br><span class="line">☑︎ 注意：某些情况下IE6</span>会崩溃（已经修复？）</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建父节点</span></span><br><span class="line"><span class="keyword">var</span> element = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</span><br><span class="line">element.className = <span class="string">"message"</span>;</span><br><span class="line"><span class="comment">//第一个文本子节点</span></span><br><span class="line"><span class="keyword">var</span> textNode = <span class="built_in">document</span>.createTextNode(<span class="string">"Hello world!"</span>);</span><br><span class="line">element.appendChild(textNode);</span><br><span class="line"><span class="comment">//第二个文本子节点</span></span><br><span class="line"><span class="keyword">var</span> anotherTextNode = <span class="built_in">document</span>.createTextNode(<span class="string">"Yippee!"</span>);</span><br><span class="line">element.appendChild(anotherTextNode);</span><br><span class="line"><span class="comment">//将父节点添加进文档树</span></span><br><span class="line"><span class="built_in">document</span>.body.appendChild(element);</span><br><span class="line">alert(element.childNodes.length);  <span class="comment">//2</span></span><br><span class="line">element.normalize();</span><br><span class="line">alert(element.childBodes.length);    <span class="comment">//1</span></span><br><span class="line">alert(element.firstChild.nodeValue);    <span class="comment">//"Hello world!Yippee!"</span></span><br></pre></td></tr></table></figure>
<h3 id="1-4-3-分割文本节点"><a href="#1-4-3-分割文本节点" class="headerlink" title="1.4.3 分割文本节点"></a>1.4.3 分割文本节点</h3><h4 id="spliteText-方法"><a href="#spliteText-方法" class="headerlink" title="spliteText()方法"></a>spliteText()方法</h4><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 调用：定义在<span class="keyword">Node</span><span class="title">类型中，所有节点类型都可以调用</span><br><span class="line">☑︎ 用途：按照指定的位置分割nodeValue</span>的值，原来的节点包含从开始到指定位置的文本</span><br><span class="line">☑︎ 参数：分隔文本的位置</span><br><span class="line">☑︎ 返回值：包含指定位置到结尾文本的新文本节点</span><br><span class="line">☑︎ 注意：并不会导致页面有任何变化</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> element = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</span><br><span class="line">element.className = <span class="string">"message"</span>;</span><br><span class="line"><span class="keyword">var</span> textNode = <span class="built_in">document</span>.createTextNode(<span class="string">"Hello world!"</span>);</span><br><span class="line">element.appendChild(textNode);</span><br><span class="line"><span class="built_in">document</span>.body.append(element);</span><br><span class="line"><span class="keyword">var</span> newNode = element.firstChild.splitText(<span class="number">5</span>);</span><br><span class="line"><span class="built_in">console</span>.log(element.firstChild.nodeValue);    <span class="comment">//"Hello world!"</span></span><br><span class="line"><span class="built_in">console</span>.log(newNode.nodeValue);    <span class="comment">//" world!"</span></span><br><span class="line"><span class="built_in">console</span>.log(element.childNodes.length);    <span class="comment">//2</span></span><br></pre></td></tr></table></figure>
<h2 id="1-5-Comment类型"><a href="#1-5-Comment类型" class="headerlink" title="1.5 Comment类型"></a>1.5 Comment类型</h2><h3 id="节点特征"><a href="#节点特征" class="headerlink" title="节点特征"></a>节点特征</h3><table>
<thead>
<tr>
<th>序号</th>
<th>属性</th>
<th>值</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>nodeType</td>
<td>8</td>
</tr>
<tr>
<td>2</td>
<td>nodeName</td>
<td>#comment</td>
</tr>
<tr>
<td>3</td>
<td>nodeValue</td>
<td>注释的内容</td>
</tr>
<tr>
<td>4</td>
<td>parentNode</td>
<td>Docuemnt或Element</td>
</tr>
<tr>
<td>5</td>
<td>childNodes</td>
<td>不支持子节点</td>
</tr>
</tbody>
</table>
<h3 id="重要属性"><a href="#重要属性" class="headerlink" title="重要属性"></a>重要属性</h3><p>nodeValue、data：取得注释的内容</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"myDiv"</span>&gt;</span><span class="comment">&lt;!--A comment--&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = <span class="built_in">document</span>.getElementById(<span class="string">"myDiv"</span>);</span><br><span class="line"><span class="keyword">var</span> comment = div.firstChild;</span><br><span class="line">alert(comment.data);    <span class="comment">//"A comment"</span></span><br></pre></td></tr></table></figure>
<h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><p>和Text继承自相同基类，拥有除splitText()之外的所有字符串操作方法</p>
<h4 id="document-createComment-方法"><a href="#document-createComment-方法" class="headerlink" title="document.createComment()方法"></a>document.createComment()方法</h4><figure class="highlight vbscript-html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml">☑︎ 用途：创建注释节点</span><br><span class="line">☑︎ 参数：注释字符串</span><br><span class="line">☑︎ 注意：浏览器不识别<span class="tag">&lt;/<span class="name">html</span>&gt;</span>之后的注释节点</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> comment = <span class="built_in">document</span>.createComment(<span class="string">"A comment"</span>);</span><br></pre></td></tr></table></figure>
<p><strong>兼容性</strong></p>
<table>
<thead>
<tr>
<th>浏览器</th>
<th>对注释节点的处理</th>
<th>形式</th>
</tr>
</thead>
<tbody>
<tr>
<td>Firefox、Safari、Chrome、Opera</td>
<td>Comment</td>
<td>可以访问其构造函数和原型</td>
</tr>
<tr>
<td>IE8</td>
<td>标签名为”!”的元素</td>
<td>通过getElementByTagName()访问</td>
</tr>
<tr>
<td>IE9</td>
<td>HTMLCommentElement</td>
</tr>
</tbody>
</table>
<h2 id="1-6-CDATASelection类型"><a href="#1-6-CDATASelection类型" class="headerlink" title="1.6 CDATASelection类型"></a>1.6 CDATASelection类型</h2><h3 id="节点特征-1"><a href="#节点特征-1" class="headerlink" title="节点特征"></a>节点特征</h3><table>
<thead>
<tr>
<th>序号</th>
<th>属性</th>
<th>值</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>nodeType</td>
<td>4</td>
</tr>
<tr>
<td>2</td>
<td>nodeName</td>
<td>#cdata-section</td>
</tr>
<tr>
<td>3</td>
<td>nodeValue</td>
<td>CDATA区域中的内容</td>
</tr>
<tr>
<td>4</td>
<td>parentNode</td>
<td>Docuemnt或Element</td>
</tr>
<tr>
<td>5</td>
<td>childNodes</td>
<td>不支持子节点</td>
</tr>
</tbody>
</table>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">注意</span><br><span class="line">☑︎ 多数浏览器会把CDATA区域错误地解析为Comment或<span class="built_in">Element</span></span><br><span class="line">☑︎ 只能出现在XML文档</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"myDiv"</span>&gt;</span>![CDATA[This is some content.]]<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="方法-1"><a href="#方法-1" class="headerlink" title="方法"></a>方法</h3><h4 id="document-createCDataSelection-方法"><a href="#document-createCDataSelection-方法" class="headerlink" title="document.createCDataSelection()方法"></a>document.createCDataSelection()方法</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">☑︎ 用途：创建CDATA区域</span><br><span class="line">☑︎ 参数：传入节点的内容</span><br></pre></td></tr></table></figure>
<h2 id="1-7-cumentType类型"><a href="#1-7-cumentType类型" class="headerlink" title="1.7 cumentType类型"></a>1.7 cumentType类型</h2><h3 id="节点特征-2"><a href="#节点特征-2" class="headerlink" title="节点特征"></a>节点特征</h3><table>
<thead>
<tr>
<th>序号</th>
<th>属性</th>
<th>值</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>nodeType</td>
<td>10</td>
</tr>
<tr>
<td>2</td>
<td>nodeName</td>
<td>doctype的名称</td>
</tr>
<tr>
<td>3</td>
<td>nodeValue</td>
<td>null</td>
</tr>
<tr>
<td>4</td>
<td>parentNode</td>
<td>Docuemnt</td>
</tr>
<tr>
<td>5</td>
<td>childNodes</td>
<td>不支持子节点</td>
</tr>
</tbody>
</table>
<h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h3><p>☑︎ name: 文档类型的名称，也就是<code>&lt;!DOCTYPE</code>之后的文本<br>☑︎ entities:  由文档类型描述的实体的NamedNodeMap对象<br>☑︎ notations:  由文档类型描述的符号的NamedNodeMap对象</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"</span><br><span class="line">"http://www.w3.org/TR/html4/strict.dtd"&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alert(<span class="built_in">document</span>.doctype.name);    <span class="comment">//"HTML"</span></span><br></pre></td></tr></table></figure>
<p><strong>兼容性</strong><br>| 版本   | 对DocumentType的支持 | document.doctype的值 |<br>| —- | —————- | —————— |<br>| IE8- | 不支持              | null               |<br>| IE9  | 不支持              | 正确赋值               |</p>
<h2 id="1-8-docmentFragment-类型"><a href="#1-8-docmentFragment-类型" class="headerlink" title="1.8 docmentFragment 类型"></a>1.8 docmentFragment 类型</h2><h3 id="文档片段介绍"><a href="#文档片段介绍" class="headerlink" title="文档片段介绍"></a>文档片段介绍</h3><p>☑︎ 说明：只有该类型没有对应的标记。是一种“轻量级”的文档，可以包含并控制节点，但不会像完整的文档那样占用额外的资源。<br>☑︎ 用途：不能把文档片段直接添加到文档，但可以将它作为一个“仓库”来使用，即可以在里面保存将来可能添加到文档中的节点。</p>
<table>
<thead>
<tr>
<th>序号</th>
<th>属性</th>
<th>值</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>nodeType</td>
<td>11</td>
</tr>
<tr>
<td>2</td>
<td>nodeName</td>
<td>#docuement-frafment</td>
</tr>
<tr>
<td>3</td>
<td>nodeValue</td>
<td>null</td>
</tr>
<tr>
<td>4</td>
<td>parentNode</td>
<td>null</td>
</tr>
<tr>
<td>5</td>
<td>childNodes</td>
<td>Element、ProcessingInstruction、Comment、Text、CDATASection、EntityReference</td>
</tr>
</tbody>
</table>
<h3 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h3><h4 id="document-createDocumentFragment-方法"><a href="#document-createDocumentFragment-方法" class="headerlink" title="document.createDocumentFragment()方法"></a>document.createDocumentFragment()方法</h4><p>☑︎ 用途：创建文档片段<br>☑︎ 注意：一个节点append文档片段会导致文档片段中的所有节点都被移动到这个节点</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"myList"</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fragment = <span class="built_in">document</span>.createDoocumentFragment();</span><br><span class="line"><span class="keyword">var</span> ul =  <span class="built_in">document</span>.getElementById(<span class="string">"myList"</span>);</span><br><span class="line"><span class="keyword">var</span> li = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="number">3</span>; i++)&#123;</span><br><span class="line">    li = <span class="built_in">document</span>.createElement(<span class="string">"li"</span>);</span><br><span class="line">    li.appendChild(docuemnt.createTextNode(<span class="string">"Item "</span>+(i+<span class="number">1</span>)));</span><br><span class="line">    fragment.appendChild(li);</span><br><span class="line">&#125;</span><br><span class="line">ul.appendChild(fragment);</span><br></pre></td></tr></table></figure>
<h2 id="1-9-tr-类型"><a href="#1-9-tr-类型" class="headerlink" title="1.9 tr 类型"></a>1.9 tr 类型</h2><p>注意: 不被认为是 DOM 树的一部分</p>
<p><strong>节点特征</strong><br>| 序号   | 属性         | 值                                       |<br>| —- | ———- | ————————————— |<br>| 1    | nodeType   | 11                                      |<br>| 2    | nodeName   | 特性的名称                                   |<br>| 3    | nodeValue  | 特性的值                                    |<br>| 4    | parentNode | null                                    |<br>| 5    | 子节点        | HTML中不支持子节点、XML中可以是Text或EntityReference |</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>nodeName、name</td>
<td>特性名称</td>
</tr>
<tr>
<td>nodeValue、value</td>
<td>特性值</td>
</tr>
<tr>
<td>specified</td>
<td>代码中指定了值true;否则为false</td>
</tr>
</tbody>
</table>
<h3 id="创建-1"><a href="#创建-1" class="headerlink" title="创建"></a>创建</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.createAttribute()方法</span><br><span class="line"><span class="keyword">var</span> attr = <span class="built_in">document</span>.createAttribute(<span class="string">"align"</span>);</span><br><span class="line">attr.value = <span class="string">"left"</span>;</span><br><span class="line">element.setAttribute(attr);</span><br><span class="line">alert(element.attributes[<span class="string">"align"</span>].value);    <span class="comment">//"left"</span></span><br><span class="line">alert(element.getAttributeNode(<span class="string">"align"</span>).value);    <span class="comment">//"left"</span></span><br><span class="line">alert(element.getAttribute(<span class="string">"align"</span>));    <span class="comment">// "left"</span></span><br></pre></td></tr></table></figure>
<h3 id="获得-设置特性"><a href="#获得-设置特性" class="headerlink" title="获得/设置特性"></a>获得/设置特性</h3><h4 id="getAttrbuteNode-方法"><a href="#getAttrbuteNode-方法" class="headerlink" title="getAttrbuteNode()方法"></a>getAttrbuteNode()方法</h4><p>☑︎ 用途：获得特性节点<br>☑︎ 参数：特性名称<br>☑︎ 返回值：特性节点<br>☑︎ 定义于：Node</p>
<h4 id="setAttrbuteNode-方法"><a href="#setAttrbuteNode-方法" class="headerlink" title="setAttrbuteNode()方法"></a>setAttrbuteNode()方法</h4><p>☑︎ 用途：设置特性<br>☑︎ 参数：特性节点<br>☑︎ 定义于：Node</p>
<h1 id="2-DOM操作技术"><a href="#2-DOM操作技术" class="headerlink" title="2 DOM操作技术"></a>2 DOM操作技术</h1><h2 id="2-1-动态脚本"><a href="#2-1-动态脚本" class="headerlink" title="2.1 动态脚本"></a>2.1 动态脚本</h2><p>页面加载时不存在,但将来的某一时刻通过修改 DOM 动态添加的脚本。</p>
<h3 id="方式一：插入外部文件"><a href="#方式一：插入外部文件" class="headerlink" title="方式一：插入外部文件"></a>方式一：插入外部文件</h3><p>☑︎ 特点：元素被加入到页面中时才会开始加载</p>
<p><strong>案例一</strong>：插入到body最后面<br>目标</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span> = <span class="string">"client.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>实现</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadScript</span>(<span class="params">url</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span><br><span class="line">    script.type = <span class="string">"text/script"</span>;</span><br><span class="line">    script.src = url;</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(script);</span><br><span class="line">&#125;</span><br><span class="line">loadScript(<span class="string">"client.js"</span>);</span><br></pre></td></tr></table></figure>
<p><strong>方式二</strong>：在页面中插入JS代码<br>☑︎ 特点：脚本执行后立即可用，将在全局作用域中执行</p>
<p><strong>目标</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="actionscript"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span><span class="params">()</span></span>&#123;</span><br><span class="line">    alert(<span class="string">"hi"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>实现1：IE会出错（IE将script视为一个特殊的元素，不允许DOM访问其子节点）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> script  =<span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span><br><span class="line">script.type = <span class="string">"text/javascript"</span>;</span><br><span class="line">script.appendChild(<span class="built_in">document</span>.createTextNode(<span class="string">"function sayHi()&#123;alert('hi');&#125;"</span>));</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(script);</span><br></pre></td></tr></table></figure>
<p>实现2：IE不会有问题，但Safari3.0-不能正确支持text属性</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> script  =<span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span><br><span class="line">script.type = <span class="string">"text/javascript"</span>;</span><br><span class="line">script.text = <span class="string">"function sayHi()&#123;alert('hi');&#125;"</span>;</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(script);</span><br></pre></td></tr></table></figure>
<p>实现3：兼容所有浏览器</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadScriptString</span>(<span class="params">code</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span><br><span class="line">    script.type = <span class="string">""</span>text/javascript;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        script.appendChild(<span class="built_in">document</span>.createTextNode(code));</span><br><span class="line">    &#125;<span class="keyword">catch</span>(ex)&#123;</span><br><span class="line">        script.text = code;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(script);</span><br><span class="line">&#125;</span><br><span class="line">loadScriptString(<span class="string">"function sayHi()&#123;alert('hi');&#125;"</span>);</span><br></pre></td></tr></table></figure>
<h2 id="2-2-动态样式"><a href="#2-2-动态样式" class="headerlink" title="2.2 动态样式"></a>2.2 动态样式</h2><figure class="highlight vbscript-html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml">☑︎ 必需将<span class="tag">&lt;<span class="name">link</span>&gt;</span>元素添加到<span class="tag">&lt;<span class="name">head</span>&gt;</span>元素中才能保证所有浏览器行为一致</span><br><span class="line">☑︎ 异步加载</span></span><br></pre></td></tr></table></figure>
<h3 id="方式一"><a href="#方式一" class="headerlink" title="方式一"></a>方式一</h3><p>插入外部文件</p>
<p><strong>插入目标</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span> = <span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span> = <span class="string">"styles.css"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>实现</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadStyles</span>(<span class="params">url</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> link = <span class="built_in">document</span>.createElement(<span class="string">"link"</span>);</span><br><span class="line">    link.rel = <span class="string">"stylesheet"</span>;</span><br><span class="line">    link.type = <span class="string">"text/css"</span>;</span><br><span class="line">    link.href = url;</span><br><span class="line">    <span class="keyword">var</span> head = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"head"</span>)[<span class="number">0</span>];</span><br><span class="line">    head.appendChild(link);</span><br><span class="line">&#125;</span><br><span class="line">loadStyles(<span class="string">"style.css"</span>);</span><br></pre></td></tr></table></figure>
<h3 id="方式二"><a href="#方式二" class="headerlink" title="方式二"></a>方式二</h3><p>插入包含嵌入式CSS的style节点(解决IE不允许访问style的子节点的问题)</p>
<p><strong>插入目标</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="css"></span><br><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>:red;</span><br><span class="line">&#125;</span><br><span class="line"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>实现1:未解决 IE 不能访问 style 子节点的问题</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadStyleString</span>(<span class="params">css</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> style = <span class="built_in">document</span>.creatEllement(<span class="string">"style"</span>);</span><br><span class="line">    style.type=<span class="string">"text/css"</span>;</span><br><span class="line">    style.appendChild(<span class="built_in">document</span>.createTextNode(css));</span><br><span class="line">    <span class="keyword">var</span> head = <span class="built_in">document</span>.getElementByTagName(<span class="string">'head'</span>)[<span class="number">0</span>];</span><br><span class="line">    head.appendChild(style);</span><br><span class="line">&#125;</span><br><span class="line">loadStyleString(<span class="string">"body&#123;background:red;&#125;"</span>);</span><br></pre></td></tr></table></figure>
<p><strong>实现2：针对IE访问元素的 styleSheet.cssText</strong><br>☑︎ 注意：重用同一个style元素进行再次设置或设置为空字符串可能呆滞浏览器崩溃。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadStyleString</span>(<span class="params">css</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> style = <span class="built_in">document</span>.creatEllement(<span class="string">"style"</span>);</span><br><span class="line">    style.type=<span class="string">"text/css"</span>;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        style.appendChild(<span class="built_in">document</span>.createTextNode(css));</span><br><span class="line">    &#125;<span class="keyword">catch</span>(ex)&#123;</span><br><span class="line">        style.styleSheet.cssText = css;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> head = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'head'</span>)[<span class="number">0</span>];</span><br><span class="line">    head.appendChild(style);</span><br><span class="line">&#125;</span><br><span class="line">loadStyleString(<span class="string">"body&#123;background:red;&#125;"</span>);</span><br></pre></td></tr></table></figure>
<h2 id="2-3-操作表格"><a href="#2-3-操作表格" class="headerlink" title="2.3 操作表格"></a>2.3 操作表格</h2><p>HTMLDOM 还为 <code>table</code>、<code>tbody</code>、<code>tr</code> 元素添加了一些属性和方法<br>| table的属性或方法     | 说明                       |<br>| ————— | ———————— |<br>| caption         | 保存着对caption元素（如果有）的指针    |<br>| tBodies         | 一个tbody元素的HTMLCollection |<br>| tFoot           | 保存着tfoot元素（如果有）的指针       |<br>| tHead           | 保存着对thead元素（如果有）的指针      |<br>| rows            | 是一个表格中所有行的HTMLCollection |<br>| createTHead()   | 创建thead元素，将其放在表格中，返回引用   |<br>| createTFoot()   | 创建tfoot元素，将其放在表格中，返回引用   |<br>| createCaption() | 创建Caption元素，将其放在表格中，返回引用 |<br>| deleteTHead()   | 删除thead元素                |<br>| deleteTFoot()   | 删除tfoot元素                |<br>| deleteCaption() | 删除caption元素              |<br>| deleteRow(pos)  | 删除指定位置的行                 |<br>| insertRow(pos)  | 向rows集合中的指定位置插入一行        |</p>
<table>
<thead>
<tr>
<th>tbody的属性或方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>rows</td>
<td>表格中所有行的HTMLCollection</td>
</tr>
<tr>
<td>deleteRows(pos)</td>
<td>删除指定位置的行</td>
</tr>
<tr>
<td>insertRow(pos)</td>
<td>向rows集合中的指定位置插入一行，返回新插入行的引用</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>tr的属性或方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>cells</td>
<td>保存着tr元素中单元格的HTMLCollection</td>
</tr>
<tr>
<td>deleteCell(pos)</td>
<td>删除指定位置的单元格</td>
</tr>
<tr>
<td>deleteCell(pos)</td>
<td>删除指定位置的单元格</td>
</tr>
<tr>
<td>insertCell(pos)</td>
<td>项cells集合中指定位置插入一个单元格，返回对心插入单元格的引用</td>
</tr>
</tbody>
</table>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">"1"</span> <span class="attr">width</span>=<span class="string">"100%"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>Cell 1,1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>Cell 2,1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>Cell 1,2<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>Cell 2,2<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建table</span></span><br><span class="line"><span class="keyword">var</span> table = <span class="built_in">document</span>.createElement(<span class="string">"table"</span>);</span><br><span class="line">table.border = <span class="number">1</span>;</span><br><span class="line">table.width =  <span class="string">"100%"</span>;</span><br><span class="line"><span class="comment">//创建tbody</span></span><br><span class="line"><span class="keyword">var</span> tbody = <span class="built_in">document</span>.createElement(<span class="string">"tbody"</span>);</span><br><span class="line">table.appendChild(tbody);</span><br><span class="line"><span class="comment">//创建第一行</span></span><br><span class="line">tbody.insertRow(<span class="number">0</span>);</span><br><span class="line">tbody.rows[<span class="number">0</span>].insertCell(<span class="number">0</span>);</span><br><span class="line">tbody.rows[<span class="number">0</span>].cells[<span class="number">0</span>].appendChild(<span class="built_in">document</span>.createTextNode(<span class="string">"Cell 1,1"</span>));</span><br><span class="line">tbody.rows[<span class="number">0</span>].insertCell(<span class="number">1</span>);</span><br><span class="line">tbody.rows[<span class="number">0</span>].cells[<span class="number">1</span>].appendChild(<span class="built_in">document</span>.createTextNode(<span class="string">"Cell 2,1"</span>));</span><br><span class="line"><span class="comment">//创建第二行</span></span><br><span class="line">tbody.insertRow(<span class="number">1</span>);</span><br><span class="line">tbody.rows[<span class="number">1</span>].insertCell(<span class="number">0</span>);</span><br><span class="line">tbody.rows[<span class="number">1</span>].cells[<span class="number">0</span>].appendChild(<span class="built_in">document</span>.createTextNode(<span class="string">"Cell 1,2"</span>));</span><br><span class="line">tbody.rows[<span class="number">1</span>].insertCell(<span class="number">1</span>);</span><br><span class="line">tbody.rows[<span class="number">1</span>].cells[<span class="number">1</span>].appendChild(<span class="built_in">document</span>.createTextNode(<span class="string">"Cell 2,2"</span>));</span><br></pre></td></tr></table></figure>
<h2 id="2-4-使用-NodeList"><a href="#2-4-使用-NodeList" class="headerlink" title="2.4 使用 NodeList"></a>2.4 使用 NodeList</h2><p>☑︎ 减少对 NodeList 的访问，或将 NodeList 的值缓存起来，因为每次访问都会运行一次基于文档的查询；<br>☑︎ 遍历 NodeList 最好将其 length 属性值保存在另外一个变量</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> divs = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"div"</span>),</span><br><span class="line">    i,</span><br><span class="line">    len,</span><br><span class="line">    div;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>,len = divs.length;i&lt;len; i++)&#123;</span><br><span class="line">    div = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</span><br><span class="line">    <span class="built_in">document</span>.body.append(div);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/js/" rel="tag">#js</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2014/09/20/BOOK_HTTP权威指南/HTTP权威指南_2_URL与资源/" rel="next" title="2 URL与资源">
                <i class="fa fa-chevron-left"></i> 2 URL与资源
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2014/10/08/BOOK_JS高级程序设计(第三版)/JSHPD_3rd_04_变量、作用域和内存问题/" rel="prev" title="4 变量、作用域和内存问题">
                4 变量、作用域和内存问题 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2014/10/07/BOOK_JS高级程序设计(第三版)/JSHPD_3rd_10_DOM/"
           data-title="10 Dom" data-url="http://laputa-er.github.io/2014/10/07/BOOK_JS高级程序设计(第三版)/JSHPD_3rd_10_DOM/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Sean" />
          <p class="site-author-name" itemprop="name">Sean</p>
          <p class="site-description motion-element" itemprop="description">整理了一批过去一段时间ios相关的笔记，其它的笔记也整理下？源码分享出来？再说吧...反正也只有自己会看吧...</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">200</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">22</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">31</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-节点层次"><span class="nav-text">1 节点层次</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-Node类型"><span class="nav-text">1.1 Node类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#nodeName-和-nodeValue-属性"><span class="nav-text">nodeName 和 nodeValue 属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#节点关系"><span class="nav-text">节点关系</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#操作节点（必需先取得父节点，如果节点类型没有子节点将会出错"><span class="nav-text">操作节点（必需先取得父节点，如果节点类型没有子节点将会出错)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#其它方法（所有类型节点都有）"><span class="nav-text">其它方法（所有类型节点都有）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-Document类型"><span class="nav-text">1.2 Document类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-1-文档的子节点"><span class="nav-text">1.2.1 文档的子节点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-2-文档信息"><span class="nav-text">1.2.2 文档信息</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#document-title属性"><span class="nav-text">document.title属性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#document-URL属性"><span class="nav-text">document.URL属性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#document-domain属性"><span class="nav-text">document.domain属性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#docuemnt-referrer属性"><span class="nav-text">docuemnt.referrer属性</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-3-查找元素"><span class="nav-text">1.2.3 查找元素</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#getElementById-方法"><span class="nav-text">getElementById()方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#getElementByTagName-方法"><span class="nav-text">getElementByTagName()方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#getElementsByName"><span class="nav-text">getElementsByName()</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-4-特殊集合（HTMLCollection）"><span class="nav-text">1.2.4 特殊集合（HTMLCollection）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-5-DOM一致性检测"><span class="nav-text">1.2.5 DOM一致性检测</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#document-implementation属性"><span class="nav-text">document.implementation属性</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-6-文档写入"><span class="nav-text">1.2.6 文档写入</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#document-write"><span class="nav-text">document.write()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#document-writeln"><span class="nav-text">document.writeln()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#document-open"><span class="nav-text">document.open()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#document-close"><span class="nav-text">document.close()</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-3-Element类型"><span class="nav-text">1.3 Element类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-1-HTML元素"><span class="nav-text">1.3.1 HTML元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-2-取得特性"><span class="nav-text">1.3.2 取得特性</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#getAttribute-方法"><span class="nav-text">getAttribute() 方法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-3-设置特性"><span class="nav-text">1.3.3 设置特性</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#setAttribute-方法"><span class="nav-text">setAttribute()方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#removeAttribute-方法"><span class="nav-text">removeAttribute()方法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-4-attributes属性"><span class="nav-text">1.3.4 attributes属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-5-创建元素"><span class="nav-text">1.3.5 创建元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-6-元素的子节点"><span class="nav-text">1.3.6 元素的子节点</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#遍历子节点"><span class="nav-text">遍历子节点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#通过标签名取得子节点"><span class="nav-text">通过标签名取得子节点</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4-Text类型"><span class="nav-text">1.4 Text类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-1-创建文本节点"><span class="nav-text">1.4.1 创建文本节点</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#document-createTextNode-方法"><span class="nav-text">document.createTextNode() 方法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-2-规范化文本节点"><span class="nav-text">1.4.2 规范化文本节点</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#normalize-方法"><span class="nav-text">normalize()方法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-3-分割文本节点"><span class="nav-text">1.4.3 分割文本节点</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#spliteText-方法"><span class="nav-text">spliteText()方法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-5-Comment类型"><span class="nav-text">1.5 Comment类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#节点特征"><span class="nav-text">节点特征</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#重要属性"><span class="nav-text">重要属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#方法"><span class="nav-text">方法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#document-createComment-方法"><span class="nav-text">document.createComment()方法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-6-CDATASelection类型"><span class="nav-text">1.6 CDATASelection类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#节点特征-1"><span class="nav-text">节点特征</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#方法-1"><span class="nav-text">方法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#document-createCDataSelection-方法"><span class="nav-text">document.createCDataSelection()方法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-7-cumentType类型"><span class="nav-text">1.7 cumentType类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#节点特征-2"><span class="nav-text">节点特征</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#属性"><span class="nav-text">属性</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-8-docmentFragment-类型"><span class="nav-text">1.8 docmentFragment 类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#文档片段介绍"><span class="nav-text">文档片段介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#创建"><span class="nav-text">创建</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#document-createDocumentFragment-方法"><span class="nav-text">document.createDocumentFragment()方法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-9-tr-类型"><span class="nav-text">1.9 tr 类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#创建-1"><span class="nav-text">创建</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#获得-设置特性"><span class="nav-text">获得/设置特性</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#getAttrbuteNode-方法"><span class="nav-text">getAttrbuteNode()方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#setAttrbuteNode-方法"><span class="nav-text">setAttrbuteNode()方法</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-DOM操作技术"><span class="nav-text">2 DOM操作技术</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-动态脚本"><span class="nav-text">2.1 动态脚本</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#方式一：插入外部文件"><span class="nav-text">方式一：插入外部文件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2-动态样式"><span class="nav-text">2.2 动态样式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#方式一"><span class="nav-text">方式一</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#方式二"><span class="nav-text">方式二</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-3-操作表格"><span class="nav-text">2.3 操作表格</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-4-使用-NodeList"><span class="nav-text">2.4 使用 NodeList</span></a></li></ol></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Sean</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"lapuda-er"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
       search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();

    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
            // get the contents from search data
            isfetched = true;
            $('.popup').detach().appendTo('.header-inner');
            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();
            var $input = document.getElementById(search_id);
            var $resultContent = document.getElementById(content_id);
            $input.addEventListener('input', function(){
                var matchcounts = 0;
                var str='<ul class=\"search-result-list\">';
                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                $resultContent.innerHTML = "";
                if (this.value.trim().length > 1) {
                // perform local searching
                datas.forEach(function(data) {
                    var isMatch = true;
                    var content_index = [];
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                    var data_url = data.url;
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty titles and contents
                    if(data_title != '' && data_content != '') {
                        keywords.forEach(function(keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);
                            if( index_title < 0 && index_content < 0 ){
                                isMatch = false;
                            } else {
                                if (index_content < 0) {
                                    index_content = 0;
                                }
                                if (i == 0) {
                                    first_occur = index_content;
                                }
                            }
                        });
                    }
                    // show search results
                    if (isMatch) {
                        matchcounts += 1;
                        str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                        var content = data.content.trim().replace(/<[^>]+>/g,"");
                        if (first_occur >= 0) {
                            // cut out 100 characters
                            var start = first_occur - 20;
                            var end = first_occur + 80;
                            if(start < 0){
                                start = 0;
                            }
                            if(start == 0){
                                end = 50;
                            }
                            if(end > content.length){
                                end = content.length;
                            }
                            var match_content = content.substring(start, end);
                            // highlight all keywords
                            keywords.forEach(function(keyword){
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                            });

                            str += "<p class=\"search-result\">" + match_content +"...</p>"
                        }
                        str += "</li>";
                    }
                })};
                str += "</ul>";
                if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
                if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
                $resultContent.innerHTML = str;
            });
            proceedsearch();
        }
    });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };

    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  

</body>
</html>
