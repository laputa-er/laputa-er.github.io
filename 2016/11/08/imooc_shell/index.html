<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="shell," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="1    Shell基础1.1    shell概述命令行解释器：Shell是一个命令行解释器，它为用户提供了一个向Linux内核发送请求以便运行程序的解密哪系统级程序，用户可以用Shell来启动、挂起、停止设置是编写一些程序。一门语言：Shell还是一个功能相当强大的编程语言，易编写，易调试，灵活性较强。Shell时解释执行的脚本语言，再Shell中可以直接调用 Linux 系统命令。
1.2">
<meta property="og:type" content="article">
<meta property="og:title" content="Shell">
<meta property="og:url" content="http://laputa-er.github.io/2016/11/08/imooc_shell/index.html">
<meta property="og:site_name" content="Sean">
<meta property="og:description" content="1    Shell基础1.1    shell概述命令行解释器：Shell是一个命令行解释器，它为用户提供了一个向Linux内核发送请求以便运行程序的解密哪系统级程序，用户可以用Shell来启动、挂起、停止设置是编写一些程序。一门语言：Shell还是一个功能相当强大的编程语言，易编写，易调试，灵活性较强。Shell时解释执行的脚本语言，再Shell中可以直接调用 Linux 系统命令。
1.2">
<meta property="og:image" content="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-03%20%E4%B8%8A%E5%8D%888.18.42.png">
<meta property="og:image" content="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-03%20%E4%B8%8A%E5%8D%888.26.33.png">
<meta property="og:image" content="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-03%20%E4%B8%8A%E5%8D%888.48.32.png">
<meta property="og:image" content="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-03%20%E4%B8%8B%E5%8D%8810.57.06.png">
<meta property="og:image" content="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-03%20%E4%B8%8B%E5%8D%8811.03.32.png">
<meta property="og:image" content="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-04%20%E4%B8%8B%E5%8D%881.33.53.png">
<meta property="og:image" content="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-04%20%E4%B8%8B%E5%8D%884.44.07.png">
<meta property="og:image" content="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-05%20%E4%B8%8A%E5%8D%889.19.23.png">
<meta property="og:image" content="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-05%20%E4%B8%8B%E5%8D%883.21.28.png">
<meta property="og:image" content="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-05%20%E4%B8%8B%E5%8D%8811.22.09.png">
<meta property="og:image" content="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-06%20%E4%B8%8A%E5%8D%889.49.39.png">
<meta property="og:image" content="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-06%20%E4%B8%8A%E5%8D%8810.51.23.png">
<meta property="og:image" content="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-06%20%E4%B8%8A%E5%8D%8810.57.02.png">
<meta property="og:image" content="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-06%20%E4%B8%8A%E5%8D%8811.02.12.png">
<meta property="og:image" content="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-06%20%E4%B8%8A%E5%8D%8811.11.00.png">
<meta property="og:updated_time" content="2016-11-30T08:49:52.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Shell">
<meta name="twitter:description" content="1    Shell基础1.1    shell概述命令行解释器：Shell是一个命令行解释器，它为用户提供了一个向Linux内核发送请求以便运行程序的解密哪系统级程序，用户可以用Shell来启动、挂起、停止设置是编写一些程序。一门语言：Shell还是一个功能相当强大的编程语言，易编写，易调试，灵活性较强。Shell时解释执行的脚本语言，再Shell中可以直接调用 Linux 系统命令。
1.2">
<meta name="twitter:image" content="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-03%20%E4%B8%8A%E5%8D%888.18.42.png">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://laputa-er.github.io/2016/11/08/imooc_shell/"/>

  <title> Shell | Sean </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?898688f51c5a3d6b37dd23e04441e5bd";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Sean</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">笔记分享</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Shell
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-11-08T15:04:40+08:00" content="2016-11-08">
              2016-11-08
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/慕课网学习笔记/" itemprop="url" rel="index">
                    <span itemprop="name">慕课网学习笔记</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/11/08/imooc_shell/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/11/08/imooc_shell/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="1-Shell基础"><a href="#1-Shell基础" class="headerlink" title="1    Shell基础"></a>1    Shell基础</h1><h2 id="1-1-shell概述"><a href="#1-1-shell概述" class="headerlink" title="1.1    shell概述"></a>1.1    shell概述</h2><p><strong>命令行解释器：</strong>Shell是一个命令行解释器，它为用户提供了一个向Linux内核发送请求以便运行程序的解密哪系统级程序，用户可以用Shell来启动、挂起、停止设置是编写一些程序。<br><strong>一门语言：</strong>Shell还是一个功能相当强大的编程语言，易编写，易调试，灵活性较强。Shell时解释执行的脚本语言，再Shell中可以直接调用 Linux 系统命令。</p>
<h2 id="1-2-Shell的分类"><a href="#1-2-Shell的分类" class="headerlink" title="1.2    Shell的分类"></a>1.2    Shell的分类</h2><p><strong>注意：</strong>Bourne和C 两种shell语法不兼容。</p>
<table>
<thead>
<tr>
<th>shell</th>
<th>语法</th>
<th>家族</th>
</tr>
</thead>
<tbody>
<tr>
<td>Bourne Shell</td>
<td>Bourne</td>
<td><code>sh(兼容bash)</code> <code>ksh</code> <code>bash(linux的标准shell)</code> <code>psh</code></td>
</tr>
<tr>
<td>C Shell(主要用于Unix)</td>
<td>C</td>
<td><code>csh</code> <code>tcsh</code></td>
</tr>
</tbody>
</table>
<h3 id="Bourne-Shell"><a href="#Bourne-Shell" class="headerlink" title="Bourne Shell"></a>Bourne Shell</h3><p><strong>历史：</strong>从1979起就开始使用<code>Bourne Shell</code>，<code>Bourne Shell</code>的主文件名为<code>sh</code>。<br><strong>特点：</strong>功能简单，不支持历史操作。<br><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ echo <span class="variable">$SHELL</span></span><br><span class="line">/bin/zsh</span><br></pre></td></tr></table></figure></p>
<h3 id="C-Shell"><a href="#C-Shell" class="headerlink" title="C Shell"></a>C Shell</h3><p><strong>说明：</strong>C Shell主要再BSD版的Unix系统中使用，其语法和C语言相类似而得名。</p>
<h3 id="1-1-3-子Shell"><a href="#1-1-3-子Shell" class="headerlink" title="1.1.3        子Shell"></a>1.1.3        子Shell</h3><p><strong>规则：</strong></p>
<ol>
<li>再一个<code>shell</code>中可以调用其它<code>shell</code>，它们存在父子关系</li>
<li>子<code>shell</code>可以是一个和父shell不同的shell</li>
</ol>
<h2 id="1-2-脚本执行方式"><a href="#1-2-脚本执行方式" class="headerlink" title="1.2    脚本执行方式"></a>1.2    脚本执行方式</h2><h3 id="1-2-1-echo"><a href="#1-2-1-echo" class="headerlink" title="1.2.1    echo"></a>1.2.1    echo</h3><p><strong>语法：</strong><code>echo [选项] ［输出内容］</code><br><strong>选项：</strong></p>
<table>
<thead>
<tr>
<th>-e</th>
<th>支持反斜线控制的字符转换</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<p>####控制字符列表</p>
<table>
<thead>
<tr>
<th>控制字符</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>\a</td>
<td>输出警告音</td>
</tr>
<tr>
<td>\b</td>
<td>退格键，也就是向左删除键</td>
</tr>
<tr>
<td>\n</td>
<td>换行符</td>
</tr>
<tr>
<td>\r</td>
<td>回车键</td>
</tr>
<tr>
<td>\t</td>
<td>制表符，也就是Tab键</td>
</tr>
<tr>
<td>\v</td>
<td>垂直制表符</td>
</tr>
<tr>
<td>\0nnn</td>
<td>按照八进制ASCLL码表输出字符。其中0位数字零，nnn时3位八进制数</td>
</tr>
<tr>
<td>\xhh</td>
<td>按照十六进制ASCLL码表输出字符。其中hh是两位16进制</td>
</tr>
<tr>
<td>\e</td>
<td>为输出文本添加颜色，格式为<code>\e[1;［色值］［文本］\e[0m</code>。其中<code>\e[1;</code>代表开始位置，<code>\e[0m</code>代表关闭颜色</td>
</tr>
</tbody>
</table>
<p>####颜色</p>
<table>
<thead>
<tr>
<th>色值(前面的可以添加<code>#</code>，也可以省略)</th>
<th>代表的颜色</th>
</tr>
</thead>
<tbody>
<tr>
<td>30m</td>
<td>黑色</td>
</tr>
<tr>
<td>31m</td>
<td>红色</td>
</tr>
<tr>
<td>32m</td>
<td>绿色</td>
</tr>
<tr>
<td>33m</td>
<td>黄色</td>
</tr>
<tr>
<td>34m</td>
<td>蓝色</td>
</tr>
<tr>
<td>35m</td>
<td>洋红</td>
</tr>
<tr>
<td>36m</td>
<td>青色</td>
</tr>
<tr>
<td>37m</td>
<td>白色</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#按照十六进制的ASCLL码输出</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="_">-e</span> <span class="string">'\x68\t\x65\t\x6c\t\x6c\t\x6f\t'</span></span><br><span class="line"> h	e	l	l	o</span><br><span class="line"></span><br><span class="line"><span class="comment">#输出带颜色的字符</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="_">-e</span> <span class="string">'\e[1;31m no zuo no die\e[0m'</span></span><br><span class="line"> no zuo no die</span><br></pre></td></tr></table></figure>
<h3 id="1-2-2-第一个脚本"><a href="#1-2-2-第一个脚本" class="headerlink" title="1.2.2    第一个脚本"></a>1.2.2    第一个脚本</h3><p><strong>注意：</strong><code>#!/bin/zsh</code>不应该省略（对一些简单shell省略未必要问题，但会给其他shell留下隐患）<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/zsh</span></span><br><span class="line"><span class="comment">#The first program</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="_">-e</span> <span class="string">"\e[1;34m Hello Shell!\e[0m"</span></span><br></pre></td></tr></table></figure></p>
<h3 id="1-2-3-执行方式"><a href="#1-2-3-执行方式" class="headerlink" title="1.2.3    执行方式"></a>1.2.3    执行方式</h3><h4 id="1-2-3-1-需要赋予权限"><a href="#1-2-3-1-需要赋予权限" class="headerlink" title="1.2.3.1    ./(需要赋予权限)"></a>1.2.3.1    <code>./</code>(需要赋予权限)</h4><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ chmod +x hello.sh</span><br><span class="line">$ ./hello.sh</span><br></pre></td></tr></table></figure>
<h4 id="1-2-3-2-指定shell执行（不需要赋予权限）"><a href="#1-2-3-2-指定shell执行（不需要赋予权限）" class="headerlink" title="1.2.3.2    指定shell执行（不需要赋予权限）"></a>1.2.3.2    指定shell执行（不需要赋予权限）</h4><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ zsh hello.sh</span><br></pre></td></tr></table></figure>
<h2 id="1-3-别名和快捷键"><a href="#1-3-别名和快捷键" class="headerlink" title="1.3    别名和快捷键"></a>1.3    别名和快捷键</h2><h3 id="1-3-1-别名"><a href="#1-3-1-别名" class="headerlink" title="1.3.1    别名"></a>1.3.1    别名</h3><p><strong>命令生效优先级：</strong></p>
<table>
<thead>
<tr>
<th>序号</th>
<th>命令</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>用绝对路径或相对路径执行的命令</td>
</tr>
<tr>
<td>2</td>
<td>别名</td>
</tr>
<tr>
<td>3</td>
<td>Bash的内部命令</td>
</tr>
<tr>
<td>4</td>
<td>按照<code>$PATH</code>环境变量定义的目录查找顺序找到的第一个命令</td>
</tr>
</tbody>
</table>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#查看已经生效的所有别名</span></span><br><span class="line">$ <span class="built_in">alias</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#设置临时别名</span></span><br><span class="line">$ <span class="built_in">alias</span> ls=<span class="string">'ls -l --color=auto'</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">#查看否个别名</span></span><br><span class="line">$ <span class="built_in">alias</span> ls</span><br><span class="line"></span><br><span class="line"><span class="comment">#写入环境变量配置文件</span></span><br><span class="line">$ vim ~/.bashrc</span><br><span class="line"> <span class="built_in">alias</span> ls=<span class="string">'ls -l --color=auto'</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">#删除别名</span></span><br><span class="line">$ <span class="built_in">unalias</span> ls</span><br></pre></td></tr></table></figure>
<h3 id="13-2-快捷键"><a href="#13-2-快捷键" class="headerlink" title="13.2    快捷键"></a>13.2    快捷键</h3><table>
<thead>
<tr>
<th>快捷键</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ctrl+c</code></td>
<td>强制终止当前命令</td>
</tr>
<tr>
<td><code>ctrl+l</code></td>
<td>清屏</td>
</tr>
<tr>
<td><code>ctrl+a</code></td>
<td>光标移动到命令行首</td>
</tr>
<tr>
<td><code>ctrl+e</code></td>
<td>光标移动到命令行尾</td>
</tr>
<tr>
<td><code>ctrl+u</code></td>
<td>从光标所在位置删除到行首</td>
</tr>
<tr>
<td><code>ctrl+z</code></td>
<td>把命令放入后台</td>
</tr>
<tr>
<td><code>ctrl+r</code></td>
<td>在历史命令中搜索</td>
</tr>
</tbody>
</table>
<h2 id="1-4-历史命令"><a href="#1-4-历史命令" class="headerlink" title="1.4    历史命令"></a>1.4    历史命令</h2><h3 id="1-4-1-history"><a href="#1-4-1-history" class="headerlink" title="1.4.1    history"></a>1.4.1    <code>history</code></h3><p><strong>注意：</strong>不推荐清空历史命令<br><strong>语法：</strong><code>history [选项] [历史命令保存文件]</code><br><strong>选项：</strong></p>
<table>
<thead>
<tr>
<th>选项</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>-c</td>
<td>清空历史命令</td>
</tr>
<tr>
<td>-w</td>
<td>把缓存中的历史命令写入历史命令保存文件~/.bash_history</td>
</tr>
</tbody>
</table>
<h3 id="1-4-2-历史命令的调用"><a href="#1-4-2-历史命令的调用" class="headerlink" title="1.4.2    历史命令的调用"></a>1.4.2    历史命令的调用</h3><ul>
<li>使用上、下箭头调用以前的历史命令</li>
<li>使用<code>!n</code>重复执行第n条历史命令</li>
<li>使用<code>!!</code>重复执行上一条命令</li>
<li>使用<code>!字串</code>重复执行最后一条以该字串开头的命令</li>
</ul>
<h2 id="1-5-输出重定向"><a href="#1-5-输出重定向" class="headerlink" title="1.5    输出重定向"></a>1.5    输出重定向</h2><h3 id="1-5-1-标准输入输出"><a href="#1-5-1-标准输入输出" class="headerlink" title="1.5.1    标准输入输出"></a>1.5.1    标准输入输出</h3><table>
<thead>
<tr>
<th>设备</th>
<th>设备文件名</th>
<th>文件描述符</th>
<th>类型</th>
</tr>
</thead>
<tbody>
<tr>
<td>键盘</td>
<td>/dev/stdin</td>
<td>0</td>
<td>标准输入</td>
</tr>
<tr>
<td>显示器</td>
<td>/dev/stdout</td>
<td>1</td>
<td>标准输出</td>
</tr>
<tr>
<td>显示器</td>
<td>/dev/stderr</td>
<td>2</td>
<td>标准错误输出</td>
</tr>
</tbody>
</table>
<h3 id="1-5-2-输出重定向"><a href="#1-5-2-输出重定向" class="headerlink" title="1.5.2    输出重定向"></a>1.5.2    输出重定向</h3><p><strong>注意：</strong><code>2&gt;&gt;</code>和<code>2&gt;</code>两边不能带空格。<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-03%20%E4%B8%8A%E5%8D%888.18.42.png" alt="Alt text"><br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-03%20%E4%B8%8A%E5%8D%888.26.33.png" alt="Alt text"></p>
<h3 id="1-5-3-输入重定向"><a href="#1-5-3-输入重定向" class="headerlink" title="1.5.3    输入重定向"></a>1.5.3    输入重定向</h3><p><code>wc [选项] ［文件名］</code>：<br><strong>选项：</strong></p>
<table>
<thead>
<tr>
<th>选项</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>-c</td>
<td>统计字节数</td>
</tr>
<tr>
<td>-w</td>
<td>统计单词数</td>
</tr>
<tr>
<td>-l</td>
<td>统计行数</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#行数 字数 字符数</span></span><br><span class="line">$ cat /etc/manpath.config | wc </span><br><span class="line"><span class="comment">#计算这个月登录的次数</span></span><br><span class="line">$ last | grep [a-zA-Z] | grep -v <span class="string">'wtmp'</span> | wc <span class="_">-l</span></span><br></pre></td></tr></table></figure>
<h3 id="1-5-4-实例"><a href="#1-5-4-实例" class="headerlink" title="1.5.4    实例"></a>1.5.4    实例</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#stdout和stderr</span></span><br><span class="line">$ find -name /home .bashrc   &gt; list_right 2&gt; list_error</span><br><span class="line"><span class="comment">#标准信息写到list_right ,标准错误信息丢进“黑洞”</span></span><br><span class="line">$ find -name /home .bashrc   &gt; list_right 2&gt; list_error</span><br><span class="line"></span><br><span class="line">$ find -name /home .bashrc   &amp;&gt; list</span><br><span class="line"><span class="comment">#or</span></span><br><span class="line"><span class="comment">#标准信息写到和标准错误信息都写进list</span></span><br><span class="line">$ find -name /home .bashrc   &gt; list 2&gt;&amp;1</span><br><span class="line"></span><br><span class="line"><span class="comment">#stdin</span></span><br><span class="line"><span class="comment">#利用cat创建一个新档案，^d结束输入</span></span><br><span class="line">$ cat &gt; catfile                             </span><br><span class="line"><span class="comment">#利用cat创建一个新档案，输入"eof"后结束输入</span></span><br><span class="line">$ cat &gt; catfile &lt;&lt;<span class="string">"eof"</span></span><br><span class="line"><span class="comment">#将~/.bashrc的内容写入到cattest中             </span></span><br><span class="line">$ cat  &gt; cattest &lt;~/.bashrc</span><br><span class="line"></span><br><span class="line"><span class="comment">#当遇到某个特定结束字符时结束输入，并将之前的所有输入作为输入进行统计</span></span><br><span class="line">$ wc &lt;&lt; endflag</span><br><span class="line"> &gt; a</span><br><span class="line"> &gt; b</span><br><span class="line"> &gt; c</span><br><span class="line"> &gt; endflag</span><br><span class="line">        3       3       6</span><br></pre></td></tr></table></figure>
<h2 id="1-6-管道符"><a href="#1-6-管道符" class="headerlink" title="1.6    管道符"></a>1.6    管道符</h2><h3 id="1-6-1-命令执行的判断依据"><a href="#1-6-1-命令执行的判断依据" class="headerlink" title="1.6.1    命令执行的判断依据"></a>1.6.1    命令执行的判断依据</h3><p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-03%20%E4%B8%8A%E5%8D%888.48.32.png" alt="Alt text"><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#如果存在/tmp/abc就创建/tmp/abc/hehe，否则不创建</span></span><br><span class="line">$ ls /tmp/abc &amp;&amp; touch /tmp/abc/hehe</span><br><span class="line"><span class="comment">#如果不存在/tmp/abc就创建/tmp/abc</span></span><br><span class="line">$ ls /tmp/abc || mkdir /tmp/abc</span><br><span class="line"><span class="comment">#如果存在/tmp/abc,创建/tmp/abc/hehe;否则先创建/tmp/abc,再创建/tmp/abc/hehe</span></span><br><span class="line">$ ls /tmp/abc || mkdir /tmp/abc &amp;&amp; touch /tmp/abc/hehe</span><br><span class="line"><span class="comment">#如果有/tmp/newtest就输出" exit"，否则"no exit"</span></span><br><span class="line">$ ls /tmp/newtest &amp;&amp; <span class="built_in">echo</span> <span class="string">"exit"</span> || <span class="built_in">echo</span> <span class="string">"no exit"</span></span><br><span class="line"><span class="comment">#统计打包压缩事件</span></span><br><span class="line">$ date;tar -zxvf etc.tar.gz /etc ;date</span><br><span class="line"></span><br><span class="line"><span class="comment">#模拟if-else</span></span><br><span class="line">$ ls &amp;&amp; <span class="built_in">echo</span> <span class="string">'yes'</span> || <span class="built_in">echo</span> <span class="string">'no'</span></span><br></pre></td></tr></table></figure></p>
<h3 id="1-6-2-管线命令"><a href="#1-6-2-管线命令" class="headerlink" title="1.6.2    管线命令"></a>1.6.2    管线命令</h3><p><code>[命令1] ［命令2］</code>：命令1的正确输出作为命令2 的操作对象<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">$ ls -al /etc | less</span><br><span class="line">$ ps -ef | grep sshd</span><br><span class="line"><span class="comment">#将path变量取出，找出第五个路径,以“：”作为分隔</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$PATH</span> | cut <span class="_">-d</span> <span class="string">':'</span>  <span class="_">-f</span> 5</span><br><span class="line"><span class="comment">#将path变量取出，找出第三到第五个路径,以“：”作为分隔</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$PATH</span> | cut <span class="_">-d</span> <span class="string">':'</span>  <span class="_">-f</span> 3,5</span><br><span class="line"><span class="comment"># 将export输出的信息每行都切掉前12个字符</span></span><br><span class="line">$ <span class="built_in">export</span> | cut -c 12-</span><br><span class="line"><span class="comment"># 截取每行第12-20个字符</span></span><br><span class="line">$ <span class="built_in">export</span> | cut -c 12-20</span><br><span class="line"><span class="comment"># 查看这个月的登录信息，</span></span><br><span class="line">$ last | cut <span class="_">-d</span> <span class="string">' '</span> <span class="_">-f</span> 1</span><br><span class="line"><span class="comment"># 取出其中含有“reboot”的行</span></span><br><span class="line">$ last | grep <span class="string">'reboot'</span>  &lt;==&gt; $ last | grep reboot &lt;==&gt;$ last | grep <span class="string">"reboot"</span></span><br><span class="line"><span class="comment"># 取出带有reboot字串的行的第一栏</span></span><br><span class="line">$ last | grep reboot | cut <span class="_">-d</span> <span class="string">' '</span> <span class="_">-f</span> 1</span><br><span class="line"><span class="comment"># 单独使用grep举例</span></span><br><span class="line">$ grep MANPATH /etc/manpath.config</span><br><span class="line"><span class="comment"># 用以':'分隔的第三栏排序</span></span><br><span class="line">$ cat /etc/passwd | sort -t <span class="string">':'</span> -k 3</span><br><span class="line"><span class="comment"># 输出第1栏并排序,然后去掉重复项并新显示没一项重复的次数</span></span><br><span class="line">$ last | cut <span class="_">-d</span> <span class="string">' '</span> <span class="_">-f</span> 1 | sort |uniq -c</span><br><span class="line"><span class="comment"># 行数 字数 字符数</span></span><br><span class="line">$ cat /etc/manpath.config | wc</span><br><span class="line"><span class="comment"># 计算这个月登录的次数</span></span><br><span class="line">$ last | grep [a-zA-Z] | grep -v <span class="string">'wtmp'</span> | wc <span class="_">-l</span></span><br><span class="line"><span class="comment"># tee使数据流双重导向到文件后还可以交给后面的管道处理</span></span><br><span class="line">$ last | tee <span class="_">-a</span> last.list | cut <span class="_">-d</span> <span class="string">' '</span> <span class="_">-f</span> 1</span><br></pre></td></tr></table></figure></p>
<h2 id="1-7-通配符"><a href="#1-7-通配符" class="headerlink" title="1.7    通配符"></a>1.7    通配符</h2><p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-03%20%E4%B8%8B%E5%8D%8810.57.06.png" alt="Alt text"><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ls index*</span><br><span class="line"> index.css  index.html index.js</span><br></pre></td></tr></table></figure></p>
<h2 id="1-8-Bash中的其他特殊符号"><a href="#1-8-Bash中的其他特殊符号" class="headerlink" title="1.8    Bash中的其他特殊符号"></a>1.8    Bash中的其他特殊符号</h2><p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-03%20%E4%B8%8B%E5%8D%8811.03.32.png" alt="Alt text"></p>
<h1 id="2-Bash变量与变量分类"><a href="#2-Bash变量与变量分类" class="headerlink" title="2    Bash变量与变量分类"></a>2    Bash变量与变量分类</h1><h2 id="2-1-Bash变量与变量分类"><a href="#2-1-Bash变量与变量分类" class="headerlink" title="2.1    Bash变量与变量分类"></a>2.1    Bash变量与变量分类</h2><h3 id="2-1-1-变量命名规则"><a href="#2-1-1-变量命名规则" class="headerlink" title="2.1.1    变量命名规则"></a>2.1.1    变量命名规则</h3><ul>
<li>变量名必须以字母或下划线打头，名字中间只能由字母、数字和下划线组成</li>
<li>变量名的长度不得超过255个字符</li>
<li>变量名在有效范围内必须是唯一的</li>
<li>在Bash中，变量的默认类型都是字符串型</li>
</ul>
<h3 id="2-1-2-变量分类"><a href="#2-1-2-变量分类" class="headerlink" title="2.1.2    变量分类"></a>2.1.2    变量分类</h3><p><strong>注意：</strong>bash中的所有变量都是字符串</p>
<table>
<thead>
<tr>
<th>分类</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>用户自定义变量</strong></td>
<td>自己定义的变量</td>
</tr>
<tr>
<td><strong>环境变量</strong></td>
<td>主要保存的是和操作系统环境相关的数据。变量可以自定义，但是对系统生效的环境变量名和变量作用是固定的</td>
</tr>
<tr>
<td><strong>位置参数变量</strong></td>
<td>主要用来向脚本中传递参数或数据，变量名不能自定义，变量作用是固定的</td>
</tr>
<tr>
<td><strong>预定义变量</strong></td>
<td>是Bash中已经定义好的变量，变量名不能自定义，变量作用也是固定的</td>
</tr>
</tbody>
</table>
<h2 id="2-2-用户自定义变量"><a href="#2-2-用户自定义变量" class="headerlink" title="2.2    用户自定义变量"></a>2.2    用户自定义变量</h2><h3 id="2-2-1-定义变量"><a href="#2-2-1-定义变量" class="headerlink" title="2.2.1    定义变量"></a>2.2.1    定义变量</h3><p><strong>语法：</strong><code>变量名＝变量值</code><br><strong>注意：</strong></p>
<ol>
<li>变量值存在空格时需要用<code>&quot;&quot;</code></li>
<li><code>=</code>左右两侧不能有空格</li>
</ol>
<h3 id="2-2-2-变量调用"><a href="#2-2-2-变量调用" class="headerlink" title="2.2.2    变量调用"></a>2.2.2    变量调用</h3><p><strong>语法：</strong><code>$变量名</code><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="variable">$x</span></span><br></pre></td></tr></table></figure></p>
<h3 id="2-2-3-变量叠加"><a href="#2-2-3-变量叠加" class="headerlink" title="2.2.3    变量叠加"></a>2.2.3    变量叠加</h3><p><strong>用途：</strong>通过为变量追加字符串获得新的字符串<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x=123</span><br><span class="line">x=<span class="string">"<span class="variable">$x</span>"</span>123</span><br><span class="line">x=<span class="variable">$&#123;x&#125;</span>123</span><br></pre></td></tr></table></figure></p>
<h3 id="2-2-4-set"><a href="#2-2-4-set" class="headerlink" title="2.2.4    set"></a>2.2.4    set</h3><p><strong>用途：</strong>查看系统中所有已经生效的变量<br><strong>选项：</strong></p>
<table>
<thead>
<tr>
<th>-u</th>
<th>如果设定此选项，调用未声明变量时会报错（默认无任何提示）</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<h3 id="2-2-5-变量删除"><a href="#2-2-5-变量删除" class="headerlink" title="2.2.5    变量删除"></a>2.2.5    变量删除</h3><p><strong>语法：</strong><code>unset 变量名</code><br><strong>特点：</strong>不仅仅清空变量的值，会使变量不再存在<br><strong>注意：</strong><code>变量名</code>不需要在前面添加<code>$</code></p>
<h2 id="2-3-bash环境变量"><a href="#2-3-bash环境变量" class="headerlink" title="2.3    bash环境变量"></a>2.3    bash环境变量</h2><p><strong>环境变量与用户自定义变量的区别？</strong></p>
<ul>
<li>用户自定义变量只在当前的shell中生效</li>
<li>环境变量在当前Shell和这个Shell的所有子Shell中生效<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ pstree | grep bash</span><br><span class="line"> | |   \-+= 09557 tonyearth bash<span class="comment">#父bash</span></span><br><span class="line"> | |     \-+= 09573 tonyearth bash<span class="comment">#子bash</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="2-3-1-声明环境变量"><a href="#2-3-1-声明环境变量" class="headerlink" title="2.3.1    声明环境变量"></a>2.3.1    声明环境变量</h3><p><strong>语法：</strong><code>export 变量名＝变量值</code><br><strong>查看环境变量：</strong><code>env</code></p>
<h3 id="2-3-2-删除环境变量"><a href="#2-3-2-删除环境变量" class="headerlink" title="2.3.2    删除环境变量"></a>2.3.2    删除环境变量</h3><p><strong>语法：</strong><code>unset $环境变量名</code><br><strong>注意：</strong></p>
<ol>
<li>无法在子shell中删除父shell中声明的环境变量</li>
<li>推荐环境变量名使用大写来定义（因为所有命令都是小写）</li>
</ol>
<h3 id="2-3-3-常见环境变量"><a href="#2-3-3-常见环境变量" class="headerlink" title="2.3.3    常见环境变量"></a>2.3.3    常见环境变量</h3><table>
<thead>
<tr>
<th>环境变量名</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>HOSTNAME</td>
<td>主机名</td>
</tr>
<tr>
<td>SHELL</td>
<td>当前的shell</td>
</tr>
<tr>
<td>TERM</td>
<td>终端环境</td>
</tr>
<tr>
<td>HISIZE</td>
<td>历史命令条数</td>
</tr>
<tr>
<td>SSH_CLIENT</td>
<td>当前操作环境是用ssh连接的，这里记录客户端ip</td>
</tr>
<tr>
<td>SSH_TTY</td>
<td>ssh连接的终端是pts/1</td>
</tr>
<tr>
<td>USER</td>
<td>当情登陆的用户</td>
</tr>
<tr>
<td>PATH</td>
<td>系统查找命令的路径</td>
</tr>
<tr>
<td>PS1</td>
<td>命令你提示符设置</td>
</tr>
<tr>
<td>PS2</td>
<td>长命令使用<code>\</code>换行后行首的标志符</td>
</tr>
</tbody>
</table>
<p>####PATH环境变量<br><strong>用途：</strong>系统查找命令的路径，非常重要<br><strong>查看：</strong><code>echo $PATH</code><br><strong>追加（变量叠加）：</strong><code>PATH=&quot;$PATH&quot;:/root/sh</code></p>
<p>####PS1环境变量</p>
<table>
<thead>
<tr>
<th>项目</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>\d</td>
<td>显示日期，格式为“星期 月 日”</td>
</tr>
<tr>
<td>\H</td>
<td>显示完整的主机名。如默认主机名”localhost.localdomain”</td>
</tr>
<tr>
<td>\t</td>
<td>显示24小时制时间，格式为”HH:MM:SS”</td>
</tr>
<tr>
<td>\A</td>
<td>显示24小时制时间，格式为“HH:MM”</td>
</tr>
<tr>
<td>\u</td>
<td>显示当前用户名</td>
</tr>
<tr>
<td>\w</td>
<td>显示当前所在目录的完整名称</td>
</tr>
<tr>
<td>\W</td>
<td>显示当前所在目录的最后一个目录</td>
</tr>
<tr>
<td>\$</td>
<td>提示符。root用户为”#”，普通用户为”$”</td>
</tr>
</tbody>
</table>
<h2 id="2-4-bash语系变量"><a href="#2-4-bash语系变量" class="headerlink" title="2.4    bash语系变量"></a>2.4    bash语系变量</h2><h3 id="2-4-1-locale"><a href="#2-4-1-locale" class="headerlink" title="2.4.1    locale"></a>2.4.1    locale</h3><p><code>locale</code>：查询当前系统的语系</p>
<table>
<thead>
<tr>
<th>相关环境变量</th>
<th>含义</th>
<th>特点</th>
</tr>
</thead>
<tbody>
<tr>
<td>LANG</td>
<td>定义系统主语系的变量</td>
<td>当前生效的语系</td>
</tr>
<tr>
<td>LC_ALL</td>
<td>定义整体语系的变量</td>
<td>默认整体的语系</td>
</tr>
</tbody>
</table>
<p><strong>系统默认语系</strong>：<code>/etc/sysconfig/i18n</code><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#查看所有支持的语系</span></span><br><span class="line">$ locale <span class="_">-a</span> | more</span><br></pre></td></tr></table></figure></p>
<h3 id="2-4-2-Linux中文支持"><a href="#2-4-2-Linux中文支持" class="headerlink" title="2.4.2    Linux中文支持"></a>2.4.2    Linux中文支持</h3><p><strong>正确安装中文字体后的3中情况：</strong></p>
<ol>
<li>如果有图形界面，可以正确支持中文显示</li>
<li>如果使用第三方远程工具，只要语系设定正确，可以支持中文显示</li>
<li>如果纯字符界面，必须使用第三方插件（如zhcon等）</li>
</ol>
<h2 id="2-5-位置参数变量"><a href="#2-5-位置参数变量" class="headerlink" title="2.5    位置参数变量"></a>2.5    位置参数变量</h2><p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-04%20%E4%B8%8B%E5%8D%881.33.53.png" alt="Alt text"><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ vim sum.sh</span><br><span class="line"> <span class="comment">#!/bin/sh</span></span><br><span class="line"> num1=<span class="variable">$1</span></span><br><span class="line"> num2=<span class="variable">$2</span></span><br><span class="line"> sum=$((<span class="variable">$num1</span> + <span class="variable">$num2</span>))</span><br><span class="line"> <span class="built_in">echo</span> <span class="variable">$sum</span></span><br><span class="line"></span><br><span class="line">$ bash sum.sh 1 2</span><br><span class="line"> 3</span><br></pre></td></tr></table></figure></p>
<h3 id="2-5-1-和-的区别"><a href="#2-5-1-和-的区别" class="headerlink" title="2.5.1    $*和$@的区别"></a>2.5.1    <code>$*</code>和<code>$@</code>的区别</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">$ vim test.sh</span><br><span class="line"> <span class="comment">#!/bin/bash</span></span><br><span class="line"> <span class="comment">#$*中的所有参数看成是一个整体，所以只会循环一次</span></span><br><span class="line"> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="string">"$*"</span></span><br><span class="line"> <span class="keyword">do</span> </span><br><span class="line"> 	<span class="built_in">echo</span> <span class="string">"The parameters is: <span class="variable">$i</span>"</span></span><br><span class="line"> <span class="keyword">done</span></span><br><span class="line"> <span class="comment">#$@中的每个参数都看成是独立的，所有"$@"中有几个参数，就会循环几次</span></span><br><span class="line"> <span class="keyword">for</span> j <span class="keyword">in</span> <span class="string">"<span class="variable">$@</span>"</span></span><br><span class="line"> <span class="keyword">do</span></span><br><span class="line"> 	<span class="built_in">echo</span> <span class="string">"Parameter: <span class="variable">$j</span>"</span></span><br><span class="line"> <span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">$ bash test.sh 1 3 4 5</span><br><span class="line"> The parameters is: 1 3 4 5</span><br><span class="line"> Parameter: 1</span><br><span class="line"> Parameter: 3</span><br><span class="line"> Parameter: 4</span><br><span class="line"> Parameter: 5</span><br></pre></td></tr></table></figure>
<h2 id="2-6-预定义变量"><a href="#2-6-预定义变量" class="headerlink" title="2.6    预定义变量"></a>2.6    预定义变量</h2><p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-04%20%E4%B8%8B%E5%8D%884.44.07.png" alt="Alt text"><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> $$</span><br><span class="line"> 12098</span><br><span class="line"></span><br><span class="line">$ ps aux | grep 2911</span><br><span class="line"> root     16442  0.0  0.0 103248   852 pts/1    S+   16:46   0:00 grep 2911</span><br><span class="line"></span><br><span class="line">$ bash-3.2$ <span class="built_in">echo</span> $?</span><br><span class="line"> 0</span><br><span class="line"></span><br><span class="line">$ bash-3.2$ <span class="built_in">echo</span> $!</span><br></pre></td></tr></table></figure></p>
<h3 id="2-6-1-接收键盘输入"><a href="#2-6-1-接收键盘输入" class="headerlink" title="2.6.1    接收键盘输入"></a>2.6.1    接收键盘输入</h3><p><strong>命令：</strong><code>read [选项] [变量名]</code></p>
<table>
<thead>
<tr>
<th>选项</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>-p “提示信息”</td>
<td>在等待read输入时，输出提示信息</td>
</tr>
<tr>
<td>-t 秒数</td>
<td>read命令会一直等待用户输入，使用此选项可以制定等待时间</td>
</tr>
<tr>
<td>-n 字符数</td>
<td>read命令只接受制定的字符数就会执行</td>
</tr>
<tr>
<td>-s</td>
<td>隐藏输入的数据，适用于机密信息的输入</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span><br><span class="line"></span></span><br><span class="line"><span class="comment"># 30s没输入终止脚本的执行</span></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">"please input your name:"</span> -t 30 name</span><br><span class="line"><span class="comment">#不显示输入的密码</span></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">"please input your password:"</span> <span class="_">-s</span> passwd</span><br><span class="line"><span class="comment">#只接收输入的一个字符便向下走</span></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">"please input your sex[M/F]:"</span> -n 1 sex</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$name</span>"</span>/<span class="string">"passwd"</span></span><br></pre></td></tr></table></figure>
<h1 id="2-运算符"><a href="#2-运算符" class="headerlink" title="2    运算符"></a>2    运算符</h1><h2 id="2-1-课程概述及declare命令"><a href="#2-1-课程概述及declare命令" class="headerlink" title="2.1  课程概述及declare命令"></a>2.1  课程概述及declare命令</h2><p><strong>shell变量的缺点</strong></p>
<ol>
<li>弱类型</li>
<li>默认字符串类型</li>
</ol>
<h3 id="2-1-1-declare声明变量类型"><a href="#2-1-1-declare声明变量类型" class="headerlink" title="2.1.1    declare声明变量类型"></a>2.1.1    declare声明变量类型</h3><p><strong>语法：</strong>declare [+/-] [选项] 变量名</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>-</td>
<td>给变量设定类型属性</td>
</tr>
<tr>
<td>+</td>
<td>取消变量的类型属性</td>
</tr>
<tr>
<td>-a</td>
<td>将变量声明为数组型</td>
</tr>
<tr>
<td>-i</td>
<td>将变量声明为整型</td>
</tr>
<tr>
<td>-x</td>
<td>将变量声明为环境变量</td>
</tr>
<tr>
<td>-r</td>
<td>将变量声明为只读变量</td>
</tr>
<tr>
<td>-p</td>
<td>显示指定变量被声明的类型</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#给变量aa和bb赋值</span></span><br><span class="line">$ aa=11</span><br><span class="line">$ bb=22</span><br><span class="line"><span class="comment">#声明变量cc的类型是整型，它是aa和bb的和</span></span><br><span class="line">$ <span class="built_in">declare</span> -i cc=<span class="variable">$aa</span>+<span class="variable">$bb</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$cc</span></span><br><span class="line">33</span><br></pre></td></tr></table></figure>
<h3 id="2-1-2-声明数组变量"><a href="#2-1-2-声明数组变量" class="headerlink" title="2.1.2    声明数组变量"></a>2.1.2    声明数组变量</h3><p><strong>注意：</strong>只要在数组名后使用了<code>[下标]</code>，shell会自动将该变量作为数组类型<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#为数组赋值，declare的过程可以省略</span></span><br><span class="line">$ movie[0]=zp</span><br><span class="line">$ movie[1]=tp</span><br><span class="line">$ <span class="built_in">declare</span> <span class="_">-a</span> movie[2]=live</span><br><span class="line"></span><br><span class="line"><span class="comment">#查看数组</span></span><br><span class="line"><span class="comment">#不加下标默认是[0]</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$&#123;movie&#125;</span></span><br><span class="line"> zp</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$&#123;movie[2]&#125;</span></span><br><span class="line"> live</span><br><span class="line"><span class="comment">#使用[*]会引用所有值</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$&#123;movie[*]&#125;</span></span><br><span class="line"> zp tp live</span><br></pre></td></tr></table></figure></p>
<h3 id="2-1-3-声明环境变量"><a href="#2-1-3-声明环境变量" class="headerlink" title="2.1.3    声明环境变量"></a>2.1.3    声明环境变量</h3><p><strong>说明：</strong><code>export</code>声明环境变量，底层使用的是<code>declare -x</code><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">export</span> aa=11</span><br><span class="line"><span class="comment">#发现用export声明的环境变量底层使用的是declare</span></span><br><span class="line">$ <span class="built_in">declare</span> -p aa</span><br><span class="line"> <span class="built_in">declare</span> -x aa=<span class="string">"11"</span></span><br></pre></td></tr></table></figure></p>
<h3 id="2-1-4-只读变量"><a href="#2-1-4-只读变量" class="headerlink" title="2.1.4    只读变量"></a>2.1.4    只读变量</h3><p><strong>特点：</strong></p>
<ol>
<li>临时生效</li>
<li>无法取消类型声明</li>
<li>无法删除<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#声明只读变量</span></span><br><span class="line">$ <span class="built_in">declare</span> -r <span class="built_in">test</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#查看该变量</span></span><br><span class="line">$ <span class="built_in">declare</span> -p <span class="built_in">test</span></span><br><span class="line"> <span class="built_in">declare</span> -r <span class="built_in">test</span>=<span class="string">""</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">#尝试删除</span></span><br><span class="line">$ <span class="built_in">unset</span> <span class="built_in">test</span></span><br><span class="line"> bash: <span class="built_in">unset</span>: <span class="built_in">test</span>: cannot <span class="built_in">unset</span>: <span class="built_in">readonly</span> variable</span><br><span class="line"> </span><br><span class="line"><span class="comment">#尝试取消类型声明</span></span><br><span class="line">$ <span class="built_in">declare</span> +r <span class="built_in">test</span></span><br><span class="line"> bash: <span class="built_in">declare</span>: <span class="built_in">test</span>: <span class="built_in">readonly</span> variable</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="2-2-数值运算方法"><a href="#2-2-数值运算方法" class="headerlink" title="2.2    数值运算方法"></a>2.2    数值运算方法</h2><p><strong>两种方式</strong></p>
<ul>
<li><p>方式一：<code>declare</code>(有点麻烦)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">aa=1</span><br><span class="line">bb=2</span><br><span class="line"><span class="built_in">declare</span> -i cc=<span class="variable">$a</span>+<span class="variable">$b</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>方式二：<code>expr</code>或<code>let</code>数值运算工具(也麻烦)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">aa=1</span><br><span class="line">bb=2</span><br><span class="line">cc=$(expr <span class="variable">$aa</span> + <span class="variable">$bb</span>)<span class="comment">#+号左右两侧必须有空格</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>方式三：<code>$((运算式))</code>（推荐）或<code>$[运算式]</code>(方便)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ aa=11</span><br><span class="line">$ bb=22</span><br><span class="line">$ ff=$((<span class="variable">$aa</span>+<span class="variable">$bb</span>))</span><br><span class="line">$ gg=$[<span class="variable">$aa</span>+<span class="variable">$bb</span>]</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$ff</span></span><br><span class="line"> 33</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="2-3-运算符"><a href="#2-3-运算符" class="headerlink" title="2.3    运算符"></a>2.3    运算符</h2><p><code>优先级递减</code><br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-05%20%E4%B8%8A%E5%8D%889.19.23.png" alt="Alt text"></p>
<h2 id="2-3-变量测试"><a href="#2-3-变量测试" class="headerlink" title="2.3    变量测试"></a>2.3    变量测试</h2><p><strong>优点：</strong>语法简单，效率高<br><strong>缺点：</strong> 理解困难<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-05%20%E4%B8%8B%E5%8D%883.21.28.png" alt="Alt text"><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">unset</span> y</span><br><span class="line">$ x=<span class="variable">$&#123;y-2&#125;</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$x</span></span><br><span class="line"> 2</span><br></pre></td></tr></table></figure></p>
<h1 id="3-条件判断与流程控制"><a href="#3-条件判断与流程控制" class="headerlink" title="3 条件判断与流程控制"></a>3 条件判断与流程控制</h1><h2 id="3-1-条件判断式与语句"><a href="#3-1-条件判断式与语句" class="headerlink" title="3.1    条件判断式与语句"></a>3.1    条件判断式与语句</h2><p><strong>两种判断格式</strong></p>
<ol>
<li><code>test -e /root/install.log</code></li>
<li><code>[ -e /root/install.log ]</code></li>
</ol>
<h3 id="3-1-1-概述-略"><a href="#3-1-1-概述-略" class="headerlink" title="3.1.1    概述(略)"></a>3.1.1    概述(略)</h3><h3 id="3-1-2-按照文件类型判断"><a href="#3-1-2-按照文件类型判断" class="headerlink" title="3.1.2    按照文件类型判断"></a>3.1.2    按照文件类型判断</h3><p><strong>流程控制语句</strong></p>
<ol>
<li>条件判断式</li>
<li>单分支if语句</li>
<li>双分支if语句</li>
<li>多分支if语句</li>
<li>case语句</li>
<li>for循环</li>
<li>while循环和util循环</li>
</ol>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-05%20%E4%B8%8B%E5%8D%8811.22.09.png" alt="Alt text"><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ [ <span class="_">-e</span> ./sum.sh ] &amp;&amp; <span class="built_in">echo</span> yes || <span class="built_in">echo</span> no</span><br><span class="line"> yes</span><br><span class="line"><span class="comment">#或</span></span><br><span class="line">$ [ <span class="_">-e</span> ./sum.sh ]</span><br><span class="line">$ <span class="built_in">echo</span> $?</span><br><span class="line"> 0<span class="comment">#代表存在</span></span><br></pre></td></tr></table></figure></p>
<h3 id="3-1-3-按文件权限判断"><a href="#3-1-3-按文件权限判断" class="headerlink" title="3.1.3    按文件权限判断"></a>3.1.3    按文件权限判断</h3><p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-06%20%E4%B8%8A%E5%8D%889.49.39.png" alt="Alt text"></p>
<h3 id="3-1-4-两个文件之间的比较"><a href="#3-1-4-两个文件之间的比较" class="headerlink" title="3.1.4    两个文件之间的比较"></a>3.1.4    两个文件之间的比较</h3><p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-06%20%E4%B8%8A%E5%8D%8810.51.23.png" alt="Alt text"><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#创建硬链接</span></span><br><span class="line">$ ln /root/student.txt /tmp/stu.txt</span><br><span class="line"></span><br><span class="line"><span class="comment">#测试两个文件的Inode号是否一致</span></span><br><span class="line">$ [ /root/student.txt -ef /tmp/stu.txt ] &amp;&amp; <span class="built_in">echo</span> yes || <span class="built_in">echo</span> no</span><br><span class="line"> yes</span><br></pre></td></tr></table></figure></p>
<h3 id="3-1-5-两个整数之间的比较"><a href="#3-1-5-两个整数之间的比较" class="headerlink" title="3.1.5    两个整数之间的比较"></a>3.1.5    两个整数之间的比较</h3><p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-06%20%E4%B8%8A%E5%8D%8810.57.02.png" alt="Alt text"><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ [ 23 -ge 22 ] &amp;&amp; <span class="built_in">echo</span> yes || <span class="built_in">echo</span> no</span><br><span class="line"> yes</span><br><span class="line"></span><br><span class="line">$ shell  [ 23 -le 22 ] &amp;&amp; <span class="built_in">echo</span> yes || <span class="built_in">echo</span> no</span><br><span class="line"> no</span><br></pre></td></tr></table></figure></p>
<h3 id="3-1-6-字符串的判断"><a href="#3-1-6-字符串的判断" class="headerlink" title="3.1.6    字符串的判断"></a>3.1.6    字符串的判断</h3><p><strong>注意：</strong></p>
<ol>
<li>判断字符串是否相等也可以使用<code>=</code>代替<code>==</code>，但容易和赋值操作混淆，因此不推荐。</li>
<li>用<code>$变量</code>访问变量如果出现异常可以尝试在外面加上<code>&quot;</code></li>
<li>比较数字大小一般也可以用比较字串来替代<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-06%20%E4%B8%8A%E5%8D%8811.02.12.png" alt="Alt text"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ name=gui</span><br><span class="line"></span><br><span class="line"><span class="comment">#判断字符串是否位空</span></span><br><span class="line">$ [ -z <span class="variable">$name</span> ] &amp;&amp; <span class="built_in">echo</span> yes || <span class="built_in">echo</span> no</span><br><span class="line"> no</span><br><span class="line"></span><br><span class="line">$ aa=11</span><br><span class="line">$ bb=22</span><br><span class="line"><span class="comment">#判断字符串是否相等（会将变量作为字符串进行比较）</span></span><br><span class="line">$ [ <span class="string">"<span class="variable">$aa</span>"</span> <span class="_">-eq</span> <span class="string">"<span class="variable">$bb</span>"</span> ] &amp;&amp; <span class="built_in">echo</span> yes || <span class="built_in">echo</span> no</span><br><span class="line"> no</span><br><span class="line"><span class="comment">#判断数字是否相等（将变量作为数字进行比较）</span></span><br><span class="line">$ [ <span class="string">"<span class="variable">$aa</span>"</span>==<span class="string">"<span class="variable">$bb</span>"</span> ] &amp;&amp; <span class="built_in">echo</span> yes || <span class="built_in">echo</span> no </span><br><span class="line">yes</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="3-1-7-多重条件判断"><a href="#3-1-7-多重条件判断" class="headerlink" title="3.1.7    多重条件判断"></a>3.1.7    多重条件判断</h3><p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-06%20%E4%B8%8A%E5%8D%8811.11.00.png" alt="Alt text"><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ a=22</span><br><span class="line"><span class="comment">#判断aa是否不为空且大于23</span></span><br><span class="line">$ [ -n <span class="string">"<span class="variable">$aa</span>"</span> <span class="_">-a</span> <span class="string">"<span class="variable">$aa</span>"</span> <span class="_">-gt</span> 23 ] &amp;&amp; <span class="built_in">echo</span> yes || <span class="built_in">echo</span> no</span><br><span class="line"> no</span><br></pre></td></tr></table></figure></p>
<h2 id="3-2-单分支if语句"><a href="#3-2-单分支if语句" class="headerlink" title="3.2    单分支if语句"></a>3.2    单分支if语句</h2><h3 id="3-2-1-概述"><a href="#3-2-1-概述" class="headerlink" title="3.2.1    概述"></a>3.2.1    概述</h3><p><code>shell的语法结构和大多数语言都不同</code><br><strong>学习小脚本实例的好处</strong></p>
<ol>
<li>掌握语法结构</li>
<li>了解shell的作用</li>
<li>分析编程思想</li>
</ol>
<p><strong>建立编程思想的方法</strong></p>
<ol>
<li>熟悉Linux基本命令、规范、语法及shell语法</li>
<li>当遇到实际需求时，应用所学知识</li>
</ol>
<h3 id="3-2-2-单分支if语句"><a href="#3-2-2-单分支if语句" class="headerlink" title="3.2.2    单分支if语句"></a>3.2.2    单分支if语句</h3><h4 id="3-2-2-1-需要注意的几个地方"><a href="#3-2-2-1-需要注意的几个地方" class="headerlink" title="3.2.2.1 需要注意的几个地方"></a>3.2.2.1 需要注意的几个地方</h4><ul>
<li><code>if</code>语句使用fi结尾，和一般语言使用大括号结尾不同</li>
<li><code>[ 条件判断式 ]</code>就是使用test命令判断，所以中括号和条件判断式之间必须有空格</li>
<li><code>then</code>后面跟符号条件之后执行的程序，可以放在<code>[]</code>之后，用<code>;</code>分割。也可以换行写入，就不需要<code>;</code>了</li>
</ul>
<h4 id="3-2-2-2-语法"><a href="#3-2-2-2-语法" class="headerlink" title="3.2.2.2  语法"></a>3.2.2.2  语法</h4><p><strong>方式一</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [ 条件判断式 ];<span class="keyword">then</span></span><br><span class="line">  程序</span><br><span class="line"> <span class="keyword">fi</span></span><br></pre></td></tr></table></figure></p>
<p> <strong>方式二</strong><br> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">if</span> [ 条件判断式 ]</span><br><span class="line">   <span class="keyword">then</span></span><br><span class="line">   程序</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure></p>
<h4 id="3-2-2-3-案例：判断当前用户是否是root"><a href="#3-2-2-3-案例：判断当前用户是否是root" class="headerlink" title="3.2.2.3 案例：判断当前用户是否是root"></a>3.2.2.3 案例：判断当前用户是否是root</h4><p><strong>注意：</strong>使用<code>whoami</code>判断用户身份在<code>su root</code>情况下会误认为当前用户还是却换为root之前的用户，因此使用<code>env</code>更可靠。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">#获得含有"USER="字串的那一行，以"="分隔，取第二部分</span></span><br><span class="line">username=$(env | grep USER= | cut <span class="_">-d</span> <span class="string">"="</span> <span class="_">-f</span> 2)</span><br><span class="line"><span class="keyword">if</span> [ <span class="string">"<span class="variable">$username</span>"</span> == root ]</span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">"This is Root."</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure></p>
<h3 id="3-2-3-案例：判断分区使用率"><a href="#3-2-3-案例：判断分区使用率" class="headerlink" title="3.2.3    案例：判断分区使用率"></a>3.2.3    案例：判断分区使用率</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">diskRate=$(df -h | grep disk1 | awk <span class="string">'&#123;print $5&#125;'</span> | cut <span class="_">-d</span> <span class="string">"%"</span> <span class="_">-f</span> 1)</span><br><span class="line"><span class="keyword">if</span> [ <span class="string">"<span class="variable">$diskRate</span>"</span> -ge <span class="string">"90"</span> ]</span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">"/ is full!"</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h2 id="3-3-双分支if语句"><a href="#3-3-双分支if语句" class="headerlink" title="3.3    双分支if语句"></a>3.3    双分支if语句</h2><p><strong>语法</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [ 条件判断式 ]</span><br><span class="line">   <span class="keyword">then</span></span><br><span class="line">   条件成立时，执行的程序</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">   条件不成立时，执行的另一个程序</span><br><span class="line"> <span class="keyword">fi</span></span><br></pre></td></tr></table></figure></p>
<h3 id="3-3-1-判断输入的是否是一个目录"><a href="#3-3-1-判断输入的是否是一个目录" class="headerlink" title="3.3.1    判断输入的是否是一个目录"></a>3.3.1    判断输入的是否是一个目录</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">#AIM：检查用户输入的目录是否真的存在</span></span><br><span class="line"><span class="built_in">read</span> -t 30 -p <span class="string">"Please input a directory:"</span> dir</span><br><span class="line"><span class="keyword">if</span> [ <span class="_">-d</span> <span class="variable">$dir</span> ]</span><br><span class="line">	<span class="keyword">then</span> </span><br><span class="line">		<span class="built_in">echo</span> yes</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">echo</span> no</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h3 id="3-3-2-3-3-3-判断Apache服务是否启动"><a href="#3-3-2-3-3-3-判断Apache服务是否启动" class="headerlink" title="3.3.2~3.3.3    判断Apache服务是否启动"></a>3.3.2~3.3.3    判断Apache服务是否启动</h3><p><strong>注意：</strong>脚本名中不要包含<code>httpd</code><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">#截取httpd进程，并把结果赋予变量test</span></span><br><span class="line">pid=$(ps aux | grep httpd | grep -v grep)</span><br><span class="line"><span class="keyword">if</span> [ -n <span class="string">"<span class="variable">$pid</span>"</span> ]</span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">"<span class="variable">$(date)</span> httpd is on."</span> &gt;&gt; /tmp/autostart-acc.log</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		/etc/rc.d/init.d/httpd start &amp;&gt;/dev/null</span><br><span class="line">		<span class="built_in">echo</span> <span class="string">"<span class="variable">$(date)</span> restart httpd!! "</span> &gt;&gt; /tmp/autostart-err.log</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure></p>
<h2 id="3-4-多分支if条件语句"><a href="#3-4-多分支if条件语句" class="headerlink" title="3.4    多分支if条件语句"></a>3.4    多分支if条件语句</h2><h3 id="3-4-1-简介"><a href="#3-4-1-简介" class="headerlink" title="3.4.1    简介"></a>3.4.1    简介</h3><p><strong>语法</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [ 条件判断式1 ]</span><br><span class="line">   <span class="keyword">then</span></span><br><span class="line">     条件成立时，执行程序1</span><br><span class="line"><span class="keyword">elif</span> [ 条件判断式2 ]</span><br><span class="line">   <span class="keyword">then</span></span><br><span class="line">     条件不成立时，执行的另一个程序</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">     当所有条件都不成立时，最后执行此程序</span><br><span class="line"> <span class="keyword">fi</span></span><br></pre></td></tr></table></figure></p>
<h3 id="3-4-2-例：计算器"><a href="#3-4-2-例：计算器" class="headerlink" title="3.4.2    例：计算器"></a>3.4.2    例：计算器</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">#字符界面加减乘除计算器</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#通过read命令接收要计算的树枝，并赋予变量num1和num2</span></span><br><span class="line"><span class="built_in">read</span> -t 30 -p <span class="string">"Please input num1:"</span> num1</span><br><span class="line"><span class="built_in">read</span> -t 30 -p <span class="string">"Please input num2:"</span> num2</span><br><span class="line"></span><br><span class="line"><span class="comment">#通过read命令接收要计算的符号，并赋予变量ope</span></span><br><span class="line"><span class="built_in">read</span> -t 30 -p <span class="string">"Please input an operator:"</span> ope</span><br><span class="line"><span class="keyword">if</span> [ -n <span class="string">"<span class="variable">$num1</span>"</span> <span class="_">-a</span> -n <span class="string">"<span class="variable">$num2</span>"</span> <span class="_">-a</span> -n <span class="string">"<span class="variable">$ope</span>"</span> ]</span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">	<span class="comment">#被操作数是否匹配数字</span></span><br><span class="line">	<span class="comment">#原理：尝试将变量中的数字转变为空，如果结果为空则说明变量中只包含数字</span></span><br><span class="line">	<span class="built_in">test</span>1=$(<span class="built_in">echo</span> <span class="variable">$num1</span> | sed <span class="string">'s/[0-9]//g'</span>)</span><br><span class="line">	<span class="built_in">test</span>2=$(<span class="built_in">echo</span> <span class="variable">$num1</span> | sed <span class="string">'s/[0-9]//g'</span>)</span><br><span class="line"></span><br><span class="line">	<span class="comment">#如果都为空，则说明都是数字</span></span><br><span class="line">	<span class="keyword">if</span> [ -z <span class="string">"<span class="variable">$test1</span>"</span> <span class="_">-a</span> -z <span class="string">"<span class="variable">$test2</span>"</span> ]</span><br><span class="line">		<span class="keyword">then</span></span><br><span class="line">		<span class="keyword">if</span> [ <span class="string">"<span class="variable">$ope</span>"</span> == <span class="string">'+'</span> ]</span><br><span class="line">			<span class="keyword">then</span></span><br><span class="line">			sum=$((<span class="variable">$num1</span>+<span class="variable">$num2</span>))</span><br><span class="line">		<span class="keyword">elif</span> [ <span class="string">"<span class="variable">$ope</span>"</span> == <span class="string">'-'</span> ]</span><br><span class="line">			<span class="keyword">then</span></span><br><span class="line">			sum=$((<span class="variable">$num</span>-<span class="variable">$num2</span>))</span><br><span class="line">		<span class="keyword">elif</span> [ <span class="string">"<span class="variable">$ope</span>"</span> == <span class="string">'*'</span> ]</span><br><span class="line">			<span class="keyword">then</span></span><br><span class="line">			sum=$((<span class="variable">$num1</span>*<span class="variable">$num2</span>))</span><br><span class="line">		<span class="keyword">elif</span> [ <span class="string">"<span class="variable">$ope</span>"</span> == <span class="string">'/'</span> ]</span><br><span class="line">			<span class="keyword">then</span></span><br><span class="line">			sum=$((<span class="variable">$num1</span>/<span class="variable">$num2</span>))</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			<span class="built_in">echo</span> <span class="string">"Please enter a valid symbol"</span></span><br><span class="line"></span><br><span class="line">			<span class="comment">#退出程序，返回错误代码10</span></span><br><span class="line">			<span class="built_in">exit</span> 10</span><br><span class="line">		<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="comment">#如果test1和test2不是数字</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">"Please enter a valid value"</span></span><br><span class="line">		<span class="built_in">exit</span> 11</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment">#输出结果</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$num1</span> <span class="variable">$ope</span> <span class="variable">$num2</span> = <span class="variable">$sum</span>"</span></span><br></pre></td></tr></table></figure>
<h3 id="3-4-2-例：判断用户输入的是什么文件"><a href="#3-4-2-例：判断用户输入的是什么文件" class="headerlink" title="3.4.2    例：判断用户输入的是什么文件"></a>3.4.2    例：判断用户输入的是什么文件</h3><p><strong>注意：</strong><code>exit</code>可以终止后面的判断<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">#判断用户输入的是什么文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#接收键盘的输入，并赋予变量file</span></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">"Please input a filename:"</span> file</span><br><span class="line"></span><br><span class="line"><span class="comment">#判断file变量是否为空</span></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">"<span class="variable">$file</span>"</span> ]</span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">"Error,please input a filename"</span></span><br><span class="line">	<span class="built_in">exit</span> 1</span><br><span class="line"><span class="comment">#判断文件是否存在</span></span><br><span class="line"><span class="keyword">elif</span> [ ! <span class="_">-e</span> <span class="string">"<span class="variable">$file</span>"</span> ]</span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">"Your input is not a file!"</span></span><br><span class="line">	<span class="built_in">exit</span> 2</span><br><span class="line"><span class="comment">#判断file的值是否为普通文件</span></span><br><span class="line"><span class="keyword">elif</span> [ <span class="_">-f</span> <span class="string">"<span class="variable">$file</span>"</span> ]</span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">"<span class="variable">$file</span> is a regulare file!"</span></span><br><span class="line"><span class="comment">#判断file的值是否为目录文件</span></span><br><span class="line"><span class="keyword">elif</span> [ <span class="_">-d</span> <span class="string">"<span class="variable">$file</span>"</span> ]</span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">"<span class="variable">$file</span> is a directory!"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">"<span class="variable">$file</span> is an other file!"</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure></p>
<h2 id="3-5-多分支case语句"><a href="#3-5-多分支case语句" class="headerlink" title="3.5    多分支case语句"></a>3.5    多分支case语句</h2><p><strong>简介：</strong>case语句和<code>if...elif...else</code>语句一样都是多分支条件语句，不过和if多分支条件语句不同的是，case语句只能判断一种条件关系，而if语句可以判断多种条件关系。<br><strong>语法</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> $变量名 <span class="keyword">in</span></span><br><span class="line">  <span class="string">"值1"</span>)</span><br><span class="line">    如果变量的值等于值1，则执行程序1</span><br><span class="line">    ;;</span><br><span class="line">  <span class="string">"值2"</span>)</span><br><span class="line">    如果变量的值等于值2，则执行程序2</span><br><span class="line">    ;;</span><br><span class="line">  *)</span><br><span class="line">    如果变量的值都不是以上的值，则执行此程序。</span><br><span class="line">    ;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">#判断用户输入</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">"Please choose yes/no:"</span> -t 30 cho</span><br><span class="line"><span class="keyword">case</span> <span class="string">"<span class="variable">$cho</span>"</span> <span class="keyword">in</span></span><br><span class="line">	<span class="string">"yes"</span>)</span><br><span class="line">		<span class="built_in">echo</span> <span class="string">"Your choose is yes!"</span></span><br><span class="line">		;;</span><br><span class="line">	<span class="string">"no"</span>)</span><br><span class="line">		<span class="built_in">echo</span> <span class="string">"Your choose is no!"</span></span><br><span class="line">		;;</span><br><span class="line">	*)</span><br><span class="line">		<span class="built_in">echo</span> <span class="string">"Your choose is error!"</span></span><br><span class="line">		;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure>
<h2 id="3-6-for循环"><a href="#3-6-for循环" class="headerlink" title="3.6    for循环"></a>3.6    for循环</h2><p><strong>语法</strong></p>
<ul>
<li><p>语法1</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> 变量 <span class="keyword">in</span> 值1 值2 值3 ...</span><br><span class="line">  <span class="keyword">do</span></span><br><span class="line">      程序</span><br><span class="line">  <span class="keyword">done</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>语法2</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>((初始值;循环控制条件;变量变化))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  程序</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="3-6-1-for循环"><a href="#3-6-1-for循环" class="headerlink" title="3.6.1    for循环"></a>3.6.1    for循环</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">#判断用户输入</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> /root/<span class="built_in">test</span>/</span><br><span class="line"><span class="comment">#将需要压缩的文件名丢进ls.log</span></span><br><span class="line">ls *.tar.gz &gt; ls.log</span><br><span class="line">ls *.tgz &gt;&gt; ls.log</span><br><span class="line"></span><br><span class="line"><span class="comment">#解压名字在ls.log中的压缩包</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> $(cat ls.log)</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">	tar -zxf <span class="variable">$i</span> &amp;&gt; /dev/null</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line">rm -rf /lamp/ls.log</span><br></pre></td></tr></table></figure>
<h3 id="3-6-2-例：批量添加删除制定数量的用户"><a href="#3-6-2-例：批量添加删除制定数量的用户" class="headerlink" title="3.6.2    例：批量添加删除制定数量的用户"></a>3.6.2    例：批量添加删除制定数量的用户</h3><p><strong>注意：</strong>不支持<code>++</code> <code>--</code>等运算<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">#批量添加指定数量的用户</span></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">"Please input user name:"</span> -t 30 name</span><br><span class="line"><span class="built_in">read</span> -p <span class="string">"Please input the number of users:"</span> -t 30 num</span><br><span class="line"><span class="built_in">read</span> -p <span class="string">"Please input the password of users:"</span> -t 30 pass</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ ! -z <span class="string">"<span class="variable">$name</span>"</span> <span class="_">-a</span> ! -z <span class="string">"<span class="variable">$num</span>"</span> <span class="_">-a</span> ! -z <span class="string">"<span class="variable">$pass</span>"</span> ]</span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">	y=$(<span class="built_in">echo</span> <span class="variable">$num</span> | sed <span class="string">'s/[0-9]//g'</span>)</span><br><span class="line">	<span class="keyword">if</span> [ -z <span class="string">"<span class="variable">$y</span>"</span> ]</span><br><span class="line">		<span class="keyword">then</span></span><br><span class="line">		<span class="keyword">for</span> (( i = 0; i &lt; <span class="variable">$num</span>; i=i+1 )); <span class="keyword">do</span></span><br><span class="line">			/usr/sbin/useradd <span class="variable">$name</span><span class="variable">$i</span> &amp;&gt; /dev/null</span><br><span class="line">			<span class="built_in">echo</span> <span class="variable">$pass</span> | /usr/bin/passwd --stdin <span class="variable">$name</span><span class="variable">$i</span> &amp;&gt; /dev/null</span><br><span class="line">		<span class="keyword">done</span></span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure></p>
<h2 id="3-7-while循环和unit循环"><a href="#3-7-while循环和unit循环" class="headerlink" title="3.7    while循环和unit循环"></a>3.7    while循环和unit循环</h2><h3 id="3-7-1-while循环"><a href="#3-7-1-while循环" class="headerlink" title="3.7.1    while循环"></a>3.7.1    while循环</h3><p><strong>简介：</strong><code>while</code>循环是不定循环，也称作条件循环。只要条件判定式成立，循环就会一直继续，指导条件判定式不成立，循环才会停止。这就和<code>for</code>的固定循环不太一样了。<br><strong>语法：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> [ 条件判定式 ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  程序</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">#批量添加指定数量的用户</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1-100相加</span></span><br><span class="line">i=0</span><br><span class="line">s=0</span><br><span class="line"><span class="keyword">while</span> [ <span class="variable">$i</span> -le 100 ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">	s=$((<span class="variable">$s</span>+<span class="variable">$i</span>))</span><br><span class="line">	i=$((<span class="variable">$i</span>+1))</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"The sun is <span class="variable">$s</span>"</span></span><br></pre></td></tr></table></figure>
<h3 id="3-7-2-until循环"><a href="#3-7-2-until循环" class="headerlink" title="3.7.2    until循环"></a>3.7.2    until循环</h3><p><strong>简介：</strong><code>until</code>循环，和<code>while</code>循环相反，<code>until</code>循环时只要条件判断式不成立则进行循环，并执行循环程序。一旦循环条件成立，则终止循环。<br><strong>语法：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">until [ 条件判定式 ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  程序</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">#批量添加指定数量的用户</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1-100相加</span></span><br><span class="line">i=0</span><br><span class="line">s=0</span><br><span class="line">until [ <span class="variable">$i</span> <span class="_">-gt</span> 100 ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">	s=$((<span class="variable">$s</span>+<span class="variable">$i</span>))</span><br><span class="line">	i=$((<span class="variable">$i</span>+1))</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"The sun is <span class="variable">$s</span>"</span></span><br></pre></td></tr></table></figure>
<h2 id="3-8-课程总结"><a href="#3-8-课程总结" class="headerlink" title="3.8    课程总结"></a>3.8    课程总结</h2>
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/shell/" rel="tag">#shell</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/10/26/es6_22 二进制数组/" rel="next" title="22 二进制数组(ECMAScript6入门)">
                <i class="fa fa-chevron-left"></i> 22 二进制数组(ECMAScript6入门)
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/11/26/bali_pinyin-first-step/" rel="prev" title="Chinese pinyin - first step">
                Chinese pinyin - first step <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2016/11/08/imooc_shell/"
           data-title="Shell" data-url="http://laputa-er.github.io/2016/11/08/imooc_shell/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Sean" />
          <p class="site-author-name" itemprop="name">Sean</p>
          <p class="site-description motion-element" itemprop="description">整理了一批过去一段时间ios相关的笔记，其它的笔记也整理下？源码分享出来？再说吧...反正也只有自己会看吧...</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">154</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">16</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">15</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-Shell基础"><span class="nav-text">1    Shell基础</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-shell概述"><span class="nav-text">1.1    shell概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-Shell的分类"><span class="nav-text">1.2    Shell的分类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Bourne-Shell"><span class="nav-text">Bourne Shell</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#C-Shell"><span class="nav-text">C Shell</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-3-子Shell"><span class="nav-text">1.1.3        子Shell</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-脚本执行方式"><span class="nav-text">1.2    脚本执行方式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-1-echo"><span class="nav-text">1.2.1    echo</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-2-第一个脚本"><span class="nav-text">1.2.2    第一个脚本</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-3-执行方式"><span class="nav-text">1.2.3    执行方式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-2-3-1-需要赋予权限"><span class="nav-text">1.2.3.1    ./(需要赋予权限)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-2-3-2-指定shell执行（不需要赋予权限）"><span class="nav-text">1.2.3.2    指定shell执行（不需要赋予权限）</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-3-别名和快捷键"><span class="nav-text">1.3    别名和快捷键</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-1-别名"><span class="nav-text">1.3.1    别名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-2-快捷键"><span class="nav-text">13.2    快捷键</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4-历史命令"><span class="nav-text">1.4    历史命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-1-history"><span class="nav-text">1.4.1    history</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-2-历史命令的调用"><span class="nav-text">1.4.2    历史命令的调用</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-5-输出重定向"><span class="nav-text">1.5    输出重定向</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-1-标准输入输出"><span class="nav-text">1.5.1    标准输入输出</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-2-输出重定向"><span class="nav-text">1.5.2    输出重定向</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-3-输入重定向"><span class="nav-text">1.5.3    输入重定向</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-4-实例"><span class="nav-text">1.5.4    实例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-6-管道符"><span class="nav-text">1.6    管道符</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-6-1-命令执行的判断依据"><span class="nav-text">1.6.1    命令执行的判断依据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-6-2-管线命令"><span class="nav-text">1.6.2    管线命令</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-7-通配符"><span class="nav-text">1.7    通配符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-8-Bash中的其他特殊符号"><span class="nav-text">1.8    Bash中的其他特殊符号</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-Bash变量与变量分类"><span class="nav-text">2    Bash变量与变量分类</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-Bash变量与变量分类"><span class="nav-text">2.1    Bash变量与变量分类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-1-变量命名规则"><span class="nav-text">2.1.1    变量命名规则</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-2-变量分类"><span class="nav-text">2.1.2    变量分类</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2-用户自定义变量"><span class="nav-text">2.2    用户自定义变量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-1-定义变量"><span class="nav-text">2.2.1    定义变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-2-变量调用"><span class="nav-text">2.2.2    变量调用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-3-变量叠加"><span class="nav-text">2.2.3    变量叠加</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-4-set"><span class="nav-text">2.2.4    set</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-5-变量删除"><span class="nav-text">2.2.5    变量删除</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-3-bash环境变量"><span class="nav-text">2.3    bash环境变量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-1-声明环境变量"><span class="nav-text">2.3.1    声明环境变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-2-删除环境变量"><span class="nav-text">2.3.2    删除环境变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-3-常见环境变量"><span class="nav-text">2.3.3    常见环境变量</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-4-bash语系变量"><span class="nav-text">2.4    bash语系变量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-1-locale"><span class="nav-text">2.4.1    locale</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-2-Linux中文支持"><span class="nav-text">2.4.2    Linux中文支持</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-5-位置参数变量"><span class="nav-text">2.5    位置参数变量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-5-1-和-的区别"><span class="nav-text">2.5.1    $*和$@的区别</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-6-预定义变量"><span class="nav-text">2.6    预定义变量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-6-1-接收键盘输入"><span class="nav-text">2.6.1    接收键盘输入</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-运算符"><span class="nav-text">2    运算符</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-课程概述及declare命令"><span class="nav-text">2.1  课程概述及declare命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-1-declare声明变量类型"><span class="nav-text">2.1.1    declare声明变量类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-2-声明数组变量"><span class="nav-text">2.1.2    声明数组变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-3-声明环境变量"><span class="nav-text">2.1.3    声明环境变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-4-只读变量"><span class="nav-text">2.1.4    只读变量</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2-数值运算方法"><span class="nav-text">2.2    数值运算方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-3-运算符"><span class="nav-text">2.3    运算符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-3-变量测试"><span class="nav-text">2.3    变量测试</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-条件判断与流程控制"><span class="nav-text">3 条件判断与流程控制</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1-条件判断式与语句"><span class="nav-text">3.1    条件判断式与语句</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-1-概述-略"><span class="nav-text">3.1.1    概述(略)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-2-按照文件类型判断"><span class="nav-text">3.1.2    按照文件类型判断</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-3-按文件权限判断"><span class="nav-text">3.1.3    按文件权限判断</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-4-两个文件之间的比较"><span class="nav-text">3.1.4    两个文件之间的比较</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-5-两个整数之间的比较"><span class="nav-text">3.1.5    两个整数之间的比较</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-6-字符串的判断"><span class="nav-text">3.1.6    字符串的判断</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-7-多重条件判断"><span class="nav-text">3.1.7    多重条件判断</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-单分支if语句"><span class="nav-text">3.2    单分支if语句</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-1-概述"><span class="nav-text">3.2.1    概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-2-单分支if语句"><span class="nav-text">3.2.2    单分支if语句</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-2-1-需要注意的几个地方"><span class="nav-text">3.2.2.1 需要注意的几个地方</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-2-2-语法"><span class="nav-text">3.2.2.2  语法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-2-3-案例：判断当前用户是否是root"><span class="nav-text">3.2.2.3 案例：判断当前用户是否是root</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-3-案例：判断分区使用率"><span class="nav-text">3.2.3    案例：判断分区使用率</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-双分支if语句"><span class="nav-text">3.3    双分支if语句</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-1-判断输入的是否是一个目录"><span class="nav-text">3.3.1    判断输入的是否是一个目录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-2-3-3-3-判断Apache服务是否启动"><span class="nav-text">3.3.2~3.3.3    判断Apache服务是否启动</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-4-多分支if条件语句"><span class="nav-text">3.4    多分支if条件语句</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-1-简介"><span class="nav-text">3.4.1    简介</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-2-例：计算器"><span class="nav-text">3.4.2    例：计算器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-2-例：判断用户输入的是什么文件"><span class="nav-text">3.4.2    例：判断用户输入的是什么文件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-5-多分支case语句"><span class="nav-text">3.5    多分支case语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-6-for循环"><span class="nav-text">3.6    for循环</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-6-1-for循环"><span class="nav-text">3.6.1    for循环</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-6-2-例：批量添加删除制定数量的用户"><span class="nav-text">3.6.2    例：批量添加删除制定数量的用户</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-7-while循环和unit循环"><span class="nav-text">3.7    while循环和unit循环</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-7-1-while循环"><span class="nav-text">3.7.1    while循环</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-7-2-until循环"><span class="nav-text">3.7.2    until循环</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-8-课程总结"><span class="nav-text">3.8    课程总结</span></a></li></ol></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Sean</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"lapuda-er"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
       search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();

    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
            // get the contents from search data
            isfetched = true;
            $('.popup').detach().appendTo('.header-inner');
            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();
            var $input = document.getElementById(search_id);
            var $resultContent = document.getElementById(content_id);
            $input.addEventListener('input', function(){
                var matchcounts = 0;
                var str='<ul class=\"search-result-list\">';
                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                $resultContent.innerHTML = "";
                if (this.value.trim().length > 1) {
                // perform local searching
                datas.forEach(function(data) {
                    var isMatch = true;
                    var content_index = [];
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                    var data_url = data.url;
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty titles and contents
                    if(data_title != '' && data_content != '') {
                        keywords.forEach(function(keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);
                            if( index_title < 0 && index_content < 0 ){
                                isMatch = false;
                            } else {
                                if (index_content < 0) {
                                    index_content = 0;
                                }
                                if (i == 0) {
                                    first_occur = index_content;
                                }
                            }
                        });
                    }
                    // show search results
                    if (isMatch) {
                        matchcounts += 1;
                        str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                        var content = data.content.trim().replace(/<[^>]+>/g,"");
                        if (first_occur >= 0) {
                            // cut out 100 characters
                            var start = first_occur - 20;
                            var end = first_occur + 80;
                            if(start < 0){
                                start = 0;
                            }
                            if(start == 0){
                                end = 50;
                            }
                            if(end > content.length){
                                end = content.length;
                            }
                            var match_content = content.substring(start, end);
                            // highlight all keywords
                            keywords.forEach(function(keyword){
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                            });

                            str += "<p class=\"search-result\">" + match_content +"...</p>"
                        }
                        str += "</li>";
                    }
                })};
                str += "</ul>";
                if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
                if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
                $resultContent.innerHTML = str;
            });
            proceedsearch();
        }
    });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };

    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  

</body>
</html>
