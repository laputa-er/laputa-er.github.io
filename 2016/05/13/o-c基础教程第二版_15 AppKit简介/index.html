<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    
    <title>15 AppKit简介 | Sean</title>
    <meta name="renderer" content="webkit">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta name="description" content="do things for fun">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="15 AppKit简介 | Sean">
    <meta name="twitter:description" content="do things for fun">

    <meta property="og:type" content="article">
    <meta property="og:title" content="15 AppKit简介 | Sean">
    <meta property="og:description" content="do things for fun">

    
    <meta name="author" content="Sean">
    
    <link rel="stylesheet" href="/css/vno.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">

    
    <link rel="icon" href="/images/favicon.png">
    

    <meta name="generator" content="hexo"/>
    

    <link rel="canonical" href="http://laputa-er.github.io/2016/05/13/o-c基础教程第二版_15 AppKit简介/"/>

    
</head>

<body class="home-template no-js">

    <span class="mobile btn-mobile-menu">
        <i class="fa fa-list btn-mobile-menu__icon"></i>
        <i class="fa fa-angle-up btn-mobile-close__icon hidden"></i>
    </span>
    
<header class="panel-cover panel-cover--collapsed" style="background-image: url(/images/mengxiang.jpg)">
  <div class="panel-main">
    <div class="panel-main__inner panel-inverted">
      <span class="panel-arrow panel-left-arrow disabled">
        <i class="fa fa-angle-left"></i>
      </span>
      <span class="panel-arrow panel-right-arrow">
        <i class="fa fa-angle-right"></i>
      </span>

      <div class="panel-animation-container">
        <div class="panel-content panel-main__content">
            <a href="/" title="前往 Sean 的主页"><img src="/images/sean.png" width="80" alt="Sean logo" class="panel-cover__logo logo" /></a>
            <h1 class="panel-cover__title panel-title"><a href="/" title="link to homepage for Sean">Sean</a></h1>
            
            <span class="panel-cover__subtitle panel-subtitle">笔记分享</span>
            
            <hr class="panel-cover__divider" />
            <p class="panel-cover__description">整理了一批过去一段时间ios相关的笔记，其它的笔记也整理下？源码分享出来？再说吧...反正也只有自己会看吧...</p>
            <hr class="panel-cover__divider panel-cover__divider--secondary" />

            <div class="navigation-wrapper">
              <div>
              <nav class="cover-navigation cover-navigation--primary">
                <ul class="navigation">
                  <li class="navigation__item"><a href="/#blog" title="访问笔记" class="blog-button">笔记</a></li>
                  <li style="display: none;">
                    <textarea>
                      
                        <li class="navigation__item"><a href="/projects">项目作品</a></li>
                      
                        <li class="navigation__item"><a href="/aboutme">关于我</a></li>
                      
                    </textarea>
                  </li>
                </ul>
              </nav>
              </div>
              <div>
              <nav class="cover-navigation navigation--social">
  <ul class="navigation">

  <!-- Weibo-->
  

  <!-- Github -->
  

<!-- Stack Overflow -->
        

  <!-- Google Plus -->
  

<!-- Facebook -->

  
<!-- Twitter -->

  



  </ul>
</nav>

              </div>
            </div>

          </div>
          <div class="panel-content panel-tagcloud_content">
            
              <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">笔记分类</h3>
    <div class="widget tagcloud">
      <a href="/tags/Objective-C基础教程第二版/">Objective-C基础教程第二版</a> <a href="/tags/The-Swift-Program-Language-2/">The Swift Program Language 2</a> <a href="/tags/c语言程序设计－现代方法/">c语言程序设计－现代方法</a> <a href="/tags/极客学院-ios中级/">极客学院_ios中级</a> <a href="/tags/极客学院-ios初级/">极客学院_ios初级</a> <a href="/tags/极客学院-ios高级/">极客学院_ios高级</a>
    </div>
  </div>

  
</aside>
            
          </div>
        </div>  

      </div>
      <div class="panel-cover--overlay cover-blue"></div>
  </div>
  </header>
    
    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            <article class="post-container post-container--single">

  <header class="post-header">
    <div class="post-meta">
      <time datetime="2016-05-13T02:41:28.000Z" class="post-list__meta--date date">2016-05-13</time> &#8226; <span class="post-meta__tags tags">于&nbsp;
  <a class="tag-link" href="/tags/Objective-C基础教程第二版/">Objective-C基础教程第二版</a>
</span>
    </div>
    <h1 class="post-title">15 AppKit简介</h1>
  </header>

  <section class="post">
    <!-- Table of Contents -->
    
    <div id="top-toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#15-1-构建项目"><span class="toc-number">1.</span> <span class="toc-text">15.1    构建项目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-2-创建委托文件-interface部分"><span class="toc-number">2.</span> <span class="toc-text">15.2    创建委托文件@interface部分</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-3-Interface-Builder"><span class="toc-number">3.</span> <span class="toc-text">15.3    Interface Builder</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-4-设计用户界面"><span class="toc-number">4.</span> <span class="toc-text">15.4    设计用户界面</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-5-创建连接"><span class="toc-number">5.</span> <span class="toc-text">15.5    创建连接</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#15-5-1-连接输出口（IBOutlet）"><span class="toc-number">5.1.</span> <span class="toc-text">15.5.1    连接输出口（IBOutlet）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-5-2-连接操作（IBAction）"><span class="toc-number">5.2.</span> <span class="toc-text">15.5.2    连接操作（IBAction）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-6-应用程序委托的实现"><span class="toc-number">6.</span> <span class="toc-text">15.6    应用程序委托的实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-7-小结"><span class="toc-number">7.</span> <span class="toc-text">15.7    小结</span></a></li></ol>
    </div>
    <div id="tocShell"></div>
    <div id="toc" class="toc-article">
      <div class="btn-group drag-me">
        <i class="social fa fa-ellipsis-v"></i>
      </div>
      <div class="btn-group dropup-catelog">
        <button class="btn"><i class="social fa fa-list-ol"></i></button>
        <div class="catelog-content">
          <p class="toc-title-wrap">
            <strong class="toc-title">文章目录</strong>
          </p>
          <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#15-1-构建项目"><span class="toc-number">1.</span> <span class="toc-text">15.1    构建项目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-2-创建委托文件-interface部分"><span class="toc-number">2.</span> <span class="toc-text">15.2    创建委托文件@interface部分</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-3-Interface-Builder"><span class="toc-number">3.</span> <span class="toc-text">15.3    Interface Builder</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-4-设计用户界面"><span class="toc-number">4.</span> <span class="toc-text">15.4    设计用户界面</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-5-创建连接"><span class="toc-number">5.</span> <span class="toc-text">15.5    创建连接</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#15-5-1-连接输出口（IBOutlet）"><span class="toc-number">5.1.</span> <span class="toc-text">15.5.1    连接输出口（IBOutlet）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-5-2-连接操作（IBAction）"><span class="toc-number">5.2.</span> <span class="toc-text">15.5.2    连接操作（IBAction）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-6-应用程序委托的实现"><span class="toc-number">6.</span> <span class="toc-text">15.6    应用程序委托的实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-7-小结"><span class="toc-number">7.</span> <span class="toc-text">15.7    小结</span></a></li></ol>
        </div>
      </div>
    </div>
    
    <blockquote>
<p><strong>说明：</strong><code>Application Kit</code>中包含<code>Cocoa</code>中关于用户界面的大量资源。<br><strong>注意：</strong>学习这一章节时，<code>Xcode</code>的最新版本是<code>7.2</code>，部分知识已经过时。比如目前<code>storyboard</code>已经基本取代了<code>xib</code>。</p>
</blockquote>
<h2 id="15-1-构建项目"><a href="#15-1-构建项目" class="headerlink" title="15.1    构建项目"></a>15.1    构建项目</h2><blockquote>
<p><strong>说明：</strong>下面是通过<code>Xcode</code>构建<code>Cocoa</code>应用程序项目的步骤。</p>
<ol>
<li>File-&gt;New-&gt;New Project（Create a New Xcode Project）</li>
<li>左边列表<code>Mac OS X</code>下的<code>Application</code>选项-&gt;<code>Cocoa Application</code>-&gt;Next</li>
<li>项目信息</li>
</ol>
<ul>
<li><code>Product Name</code>：应用名称</li>
<li><code>Company Identifier</code>：企业标识符，用来区分应用程序</li>
<li><code>Class Prefix</code>：伪命名空间，避免文件名冲突</li>
</ul>
<ol>
<li>复选框</li>
</ol>
<ul>
<li><code>Create Document-Based Application</code></li>
<li><code>Use Core Data</code></li>
<li><code>Include Unit Test</code></li>
<li><code>Use Automatic Reference Counting</code></li>
</ul>
</blockquote>
<h2 id="15-2-创建委托文件-interface部分"><a href="#15-2-创建委托文件-interface部分" class="headerlink" title="15.2    创建委托文件@interface部分"></a>15.2    创建委托文件<code>@interface</code>部分</h2><blockquote>
<p><strong><code>Interface Builder</code>：</strong>简称<code>IB</code>，用可视化的方式为<code>OS X</code>和<code>iOS</code>布局窗口内容，构建用户界面。<br><strong><code>IBOutlet</code>和<code>IBAction</code>：</strong>这两个关键字会经常出现在代码中，用于</p>
<ul>
<li>为<code>Interface Builder</code>提供标记</li>
<li>帮助阅读代码</li>
</ul>
</blockquote>
<h2 id="15-3-Interface-Builder"><a href="#15-3-Interface-Builder" class="headerlink" title="15.3    Interface Builder"></a>15.3    Interface Builder</h2><blockquote>
<p><strong>说明：</strong>通过<code>.xib</code>文件就可以打开<code>IB</code>的可视化编辑器。</p>
<ul>
<li><strong>nib文件：</strong>编译时，<code>.xib</code>(<code>XML</code>格式)文件会被编译为<code>nib(NeXT Interface Builder)</code>文件，它是包含了压缩对象的二进制文件，</li>
<li><strong>对象库：</strong>包含了大量可以拖入窗口的不同类型的对象。</li>
</ul>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-25%20%E4%B8%8B%E5%8D%8810.17.36.png" alt="Alt text"></p>
</blockquote>
<h2 id="15-4-设计用户界面"><a href="#15-4-设计用户界面" class="headerlink" title="15.4    设计用户界面"></a>15.4    设计用户界面</h2><blockquote>
<p><strong>说明：</strong>对用户界面进行布局</p>
<ol>
<li>拖入一个<code>Text Filed</code></li>
<li>拖入一个<code>Label</code></li>
<li>拖入一个<code>push button</code></li>
</ol>
</blockquote>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-25%20%E4%B8%8B%E5%8D%8810.42.36.png" alt="Alt text"></p>
<h2 id="15-5-创建连接"><a href="#15-5-创建连接" class="headerlink" title="15.5    创建连接"></a>15.5    创建连接</h2><blockquote>
<p><strong>说明：</strong>将<code>代码</code>与刚创建的<code>用户界面元素</code>相连接。</p>
</blockquote>
<h3 id="15-5-1-连接输出口（IBOutlet）"><a href="#15-5-1-连接输出口（IBOutlet）" class="headerlink" title="15.5.1    连接输出口（IBOutlet）"></a>15.5.1    连接输出口（IBOutlet）</h3><blockquote>
<p><strong>说明：</strong>通过拖动自动生成界面元素对应的代码。以其中的<code>Text Field</code>为例子</p>
<ol>
<li>打开辅助编辑器</li>
<li>按住<code>Control</code>键将光标从<code>文本框</code>拖动到<code>头文件</code>中<code>@property</code>那一行的下面</li>
<li>出现<code>Insert Outlet orAction</code>提示消息时松开鼠标</li>
<li>在弹出的对话框中输入<code>textField</code>，点击<code>Connect</code></li>
</ol>
</blockquote>
<h3 id="15-5-2-连接操作（IBAction）"><a href="#15-5-2-连接操作（IBAction）" class="headerlink" title="15.5.2    连接操作（IBAction）"></a>15.5.2    连接操作（IBAction）</h3><blockquote>
<p><strong>说明：</strong>将按钮连接到操作，这样按下按钮就会触发代码。以<code>UpperCae</code>按钮为例</p>
<ol>
<li>按住<code>Control</code>键和<code>UpperCase</code>按钮</li>
<li>拖动一条直线到<code>头文件</code>的最后一行<code>@property</code>语句下</li>
<li>弹出连接对话框，选择<code>Action</code>类型</li>
<li>在Name文本框中输入<code>uppercase</code>，并点击<code>Connect</code>(自动在头文件中创建方法的声明，并在实现文件中创建方法的实现)</li>
</ol>
</blockquote>
<h2 id="15-6-应用程序委托的实现"><a href="#15-6-应用程序委托的实现" class="headerlink" title="15.6    应用程序委托的实现"></a>15.6    应用程序委托的实现</h2><blockquote>
<p><strong>说明：</strong><code>IBOutlet</code>的工作方式</p>
<ol>
<li>应用程序启动时，<code>MainMenu.nib</code>被自动加载，界面对象被创建</li>
<li>分配并初始化<code>MSCApplelegate</code>实例（<code>IBOutlet</code>的实例变量）</li>
<li>建立连接：将<code>NSTextField</code>等对象的地址添加到<code>MSCAppDelegate</code>实例变量中，然后像每个每个<code>界面对象</code>发送<code>awakeFromNib</code>消息。</li>
</ol>
</blockquote>
<p><em>MSCAppDelegate.h</em></p>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Cocoa/Cocoa.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">MSCAppDelegate</span> : <span class="title">NSObject</span> &lt;<span class="title">NSApplicationDelegate</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">assign</span>) <span class="keyword">IBOutlet</span> <span class="built_in">NSWindow</span> *window;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">weak</span>) <span class="keyword">IBOutlet</span> <span class="built_in">NSTextField</span> *textField;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">weak</span>) <span class="keyword">IBOutlet</span> <span class="built_in">NSTextField</span> *resultsField;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">IBAction</span>)uppercase:(<span class="keyword">id</span>)sender;</span><br><span class="line">- (<span class="keyword">IBAction</span>)lowercase:(<span class="keyword">id</span>)sender;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>MSCAppDelegate.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"MSCAppDelegate.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">MSCAppDelegate</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@synthesize</span> window = _window;</span><br><span class="line"><span class="keyword">@synthesize</span> textField = _textField;</span><br><span class="line"><span class="keyword">@synthesize</span> resultsField = _resultsField;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>)init &#123;</span><br><span class="line">	<span class="keyword">if</span> (<span class="literal">nil</span> != (<span class="keyword">self</span> = [<span class="keyword">super</span> init])) &#123;</span><br><span class="line">        <span class="comment">// 此时还没和界面对象建立连接，因此都是 nil</span></span><br><span class="line">		<span class="built_in">NSLog</span> (<span class="string">@"init: text %@ / results %@"</span>, _textField, _resultsField);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">self</span>;	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * 对界面对象进行一些初始化工作</span><br><span class="line"> * 连接建立后会被调用</span><br><span class="line"> *  @override</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>)awakeFromNib &#123;</span><br><span class="line">	<span class="built_in">NSLog</span> (<span class="string">@"awake: text %@ / results %@"</span>, _textField, _resultsField);</span><br><span class="line">	</span><br><span class="line">	[_textField setStringValue:<span class="string">@"Enter text here"</span>];</span><br><span class="line">	[_resultsField setStringValue:<span class="string">@"Results"</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)applicationDidFinishLaunching:(<span class="built_in">NSNotification</span> *)aNotification &#123;</span><br><span class="line">    <span class="comment">// Insert code here to initialize your application</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">IBAction</span>)uppercase:(<span class="keyword">id</span>)sender &#123;</span><br><span class="line">	<span class="built_in">NSString</span> *original = [_textField stringValue];</span><br><span class="line">	<span class="built_in">NSString</span> *uppercase = [original uppercaseString];</span><br><span class="line">	[_resultsField setStringValue:uppercase];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">IBAction</span>)lowercase:(<span class="keyword">id</span>)sender &#123;</span><br><span class="line">	<span class="built_in">NSString</span> *original = [_textField stringValue];</span><br><span class="line">	<span class="built_in">NSString</span> *lowercase = [original lowercaseString];</span><br><span class="line">	[_resultsField setStringValue:lowercase];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h2 id="15-7-小结"><a href="#15-7-小结" class="headerlink" title="15.7    小结"></a>15.7    小结</h2>
  </section>

</article>




            <footer class="footer">
    <span class="footer__copyright">
        本站点采用<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>
    </span>
    <span class="footer__copyright">
        基于 <a href="http://hexo.io">Hexo</a> 搭建，感谢 <a href="https://pages.github.com/">GitHub Pages</a> 提供免费的托管服务
    </span>
    <span class="footer__copyright">
        &copy; 2016 - 
        本站修改自<a href="https://github.com/lenbo-ma/hexo-theme-vno" target="_blank">hexo-theme-vno</a>
    </span>
</footer>

        </div>
    </div>

    <script src="http://cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
    <script src="/js/main.js"></script>

     
</body>
</html>
