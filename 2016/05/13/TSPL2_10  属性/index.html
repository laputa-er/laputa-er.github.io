<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    
    <title>10 属性 | Sean</title>
    <meta name="renderer" content="webkit">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta name="description" content="do things for fun">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="10 属性 | Sean">
    <meta name="twitter:description" content="do things for fun">

    <meta property="og:type" content="article">
    <meta property="og:title" content="10 属性 | Sean">
    <meta property="og:description" content="do things for fun">

    
    <meta name="author" content="Sean">
    
    <link rel="stylesheet" href="/css/vno.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">

    
    <link rel="icon" href="/images/favicon.png">
    

    <meta name="generator" content="hexo"/>
    

    <link rel="canonical" href="http://laputa-er.github.io/2016/05/13/TSPL2_10  属性/"/>

    
</head>

<body class="home-template no-js">

    <span class="mobile btn-mobile-menu">
        <i class="fa fa-list btn-mobile-menu__icon"></i>
        <i class="fa fa-angle-up btn-mobile-close__icon hidden"></i>
    </span>
    
<header class="panel-cover panel-cover--collapsed" style="background-image: url(/images/mengxiang.jpg)">
  <div class="panel-main">
    <div class="panel-main__inner panel-inverted">
      <span class="panel-arrow panel-left-arrow disabled">
        <i class="fa fa-angle-left"></i>
      </span>
      <span class="panel-arrow panel-right-arrow">
        <i class="fa fa-angle-right"></i>
      </span>

      <div class="panel-animation-container">
        <div class="panel-content panel-main__content">
            <a href="/" title="前往 Sean 的主页"><img src="/images/sean.png" width="80" alt="Sean logo" class="panel-cover__logo logo" /></a>
            <h1 class="panel-cover__title panel-title"><a href="/" title="link to homepage for Sean">Sean</a></h1>
            
            <span class="panel-cover__subtitle panel-subtitle">笔记分享</span>
            
            <hr class="panel-cover__divider" />
            <p class="panel-cover__description">整理了一批过去一段时间ios相关的笔记，其它的笔记也整理下？源码分享出来？再说吧...反正也只有自己会看吧...</p>
            <hr class="panel-cover__divider panel-cover__divider--secondary" />

            <div class="navigation-wrapper">
              <div>
              <nav class="cover-navigation cover-navigation--primary">
                <ul class="navigation">
                  <li class="navigation__item"><a href="/#blog" title="访问笔记" class="blog-button">笔记</a></li>
                  <li style="display: none;">
                    <textarea>
                      
                        <li class="navigation__item"><a href="/projects">项目作品</a></li>
                      
                        <li class="navigation__item"><a href="/aboutme">关于我</a></li>
                      
                    </textarea>
                  </li>
                </ul>
              </nav>
              </div>
              <div>
              <nav class="cover-navigation navigation--social">
  <ul class="navigation">

  <!-- Weibo-->
  

  <!-- Github -->
  

<!-- Stack Overflow -->
        

  <!-- Google Plus -->
  

<!-- Facebook -->

  
<!-- Twitter -->

  



  </ul>
</nav>

              </div>
            </div>

          </div>
          <div class="panel-content panel-tagcloud_content">
            
              <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">笔记分类</h3>
    <div class="widget tagcloud">
      <a href="/tags/Objective-C基础教程第二版/">Objective-C基础教程第二版</a> <a href="/tags/The-Swift-Program-Language-2/">The Swift Program Language 2</a> <a href="/tags/c语言程序设计－现代方法/">c语言程序设计－现代方法</a> <a href="/tags/极客学院-ios中级/">极客学院_ios中级</a> <a href="/tags/极客学院-ios初级/">极客学院_ios初级</a> <a href="/tags/极客学院-ios高级/">极客学院_ios高级</a>
    </div>
  </div>

  
</aside>
            
          </div>
        </div>  

      </div>
      <div class="panel-cover--overlay cover-blue"></div>
  </div>
  </header>
    
    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            <article class="post-container post-container--single">

  <header class="post-header">
    <div class="post-meta">
      <time datetime="2016-05-13T11:45:28.000Z" class="post-list__meta--date date">2016-05-13</time> &#8226; <span class="post-meta__tags tags">于&nbsp;
  <a class="tag-link" href="/tags/The-Swift-Program-Language-2/">The Swift Program Language 2</a>
</span>
    </div>
    <h1 class="post-title">10 属性</h1>
  </header>

  <section class="post">
    <!-- Table of Contents -->
    
    <div id="top-toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#10-1-存储属性-Stored-Properties"><span class="toc-number">1.</span> <span class="toc-text">10.1    存储属性(Stored Properties)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-1-常量结构体实例和常量类实例的存储属性"><span class="toc-number">1.1.</span> <span class="toc-text">10.1.1    常量结构体实例和常量类实例的存储属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-2-延迟存储属性"><span class="toc-number">1.2.</span> <span class="toc-text">10.1.2    延迟存储属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-3-存储属性和实例变量"><span class="toc-number">1.3.</span> <span class="toc-text">10.1.3    存储属性和实例变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-2-计算属性"><span class="toc-number">2.</span> <span class="toc-text">10.2    计算属性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-1-便捷setter声明"><span class="toc-number">2.1.</span> <span class="toc-text">10.2.1    便捷setter声明</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-3-属性观察器"><span class="toc-number">3.</span> <span class="toc-text">10.3    属性观察器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-3-1-哪些属性可以定义属性观察器？"><span class="toc-number">3.1.</span> <span class="toc-text">10.3.1    哪些属性可以定义属性观察器？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-3-2-属性观察器有哪几种？"><span class="toc-number">3.2.</span> <span class="toc-text">10.3.2    属性观察器有哪几种？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-4-全局变量和局部变量"><span class="toc-number">4.</span> <span class="toc-text">10.4 全局变量和局部变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-5-类型属性"><span class="toc-number">5.</span> <span class="toc-text">10.5    类型属性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-5-1-类型属性语法"><span class="toc-number">5.1.</span> <span class="toc-text">10.5.1  类型属性语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-5-2-获取和设置类型属性的值"><span class="toc-number">5.2.</span> <span class="toc-text">10.5.2  获取和设置类型属性的值</span></a></li></ol></li></ol>
    </div>
    <div id="tocShell"></div>
    <div id="toc" class="toc-article">
      <div class="btn-group drag-me">
        <i class="social fa fa-ellipsis-v"></i>
      </div>
      <div class="btn-group dropup-catelog">
        <button class="btn"><i class="social fa fa-list-ol"></i></button>
        <div class="catelog-content">
          <p class="toc-title-wrap">
            <strong class="toc-title">文章目录</strong>
          </p>
          <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#10-1-存储属性-Stored-Properties"><span class="toc-number">1.</span> <span class="toc-text">10.1    存储属性(Stored Properties)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-1-常量结构体实例和常量类实例的存储属性"><span class="toc-number">1.1.</span> <span class="toc-text">10.1.1    常量结构体实例和常量类实例的存储属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-2-延迟存储属性"><span class="toc-number">1.2.</span> <span class="toc-text">10.1.2    延迟存储属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-3-存储属性和实例变量"><span class="toc-number">1.3.</span> <span class="toc-text">10.1.3    存储属性和实例变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-2-计算属性"><span class="toc-number">2.</span> <span class="toc-text">10.2    计算属性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-1-便捷setter声明"><span class="toc-number">2.1.</span> <span class="toc-text">10.2.1    便捷setter声明</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-3-属性观察器"><span class="toc-number">3.</span> <span class="toc-text">10.3    属性观察器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-3-1-哪些属性可以定义属性观察器？"><span class="toc-number">3.1.</span> <span class="toc-text">10.3.1    哪些属性可以定义属性观察器？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-3-2-属性观察器有哪几种？"><span class="toc-number">3.2.</span> <span class="toc-text">10.3.2    属性观察器有哪几种？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-4-全局变量和局部变量"><span class="toc-number">4.</span> <span class="toc-text">10.4 全局变量和局部变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-5-类型属性"><span class="toc-number">5.</span> <span class="toc-text">10.5    类型属性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-5-1-类型属性语法"><span class="toc-number">5.1.</span> <span class="toc-text">10.5.1  类型属性语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-5-2-获取和设置类型属性的值"><span class="toc-number">5.2.</span> <span class="toc-text">10.5.2  获取和设置类型属性的值</span></a></li></ol></li></ol>
        </div>
      </div>
    </div>
    
    <blockquote>
<p><strong>按从属区分</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th><strong>属性类型</strong></th>
<th><strong>特点</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>类型属性</td>
<td>类型本身的属性</td>
</tr>
<tr>
<td>实例属性</td>
<td>特定类型的实例的属性</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>按存储数据的方式区分</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th><strong>属性类型</strong></th>
<th><strong>特点</strong></th>
<th><strong>限制</strong></th>
<th><strong>定义方式</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>存储属性</td>
<td>存储常量或变量作为实例的一部分</td>
<td>类、结构体</td>
<td><code>let</code>、<code>var</code></td>
</tr>
<tr>
<td>计算属性</td>
<td>通过计算获取值的，值是不固定的</td>
<td>类、结构体、枚举</td>
<td><code>var</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>计算属性分类</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th><strong>计算属性</strong></th>
<th><strong>特点</strong></th>
<th><strong>定义方式</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>读写计算属性</td>
<td>既可以获取值，也可以设置值</td>
<td>只提供getter没有setter</td>
</tr>
<tr>
<td>只读计算属性</td>
<td>总是返回一个值，可以通过点运算符访问，但不能设置新的值。</td>
<td>同时设置getter和setter</td>
</tr>
</tbody>
</table>
<h2 id="10-1-存储属性-Stored-Properties"><a href="#10-1-存储属性-Stored-Properties" class="headerlink" title="10.1    存储属性(Stored Properties)"></a>10.1    存储属性(Stored Properties)</h2><table>
<thead>
<tr>
<th><strong>存储属性类型</strong></th>
<th><strong>定义方式</strong></th>
<th><strong>特点</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>变量存储属性</td>
<td>使用<code>var</code>定义</td>
<td>可以修改</td>
</tr>
<tr>
<td>常量存储属性</td>
<td>使用<code>let</code>定义</td>
<td>初始化后不可修改</td>
</tr>
</tbody>
</table>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1.声明一个结构体</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">FixedLengthRange</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> firstValue:<span class="type">Int</span></span><br><span class="line">    <span class="keyword">let</span> length:<span class="type">Int</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//2.创建结构体实例</span></span><br><span class="line"><span class="keyword">var</span> rangeOfThreeItems = <span class="type">FixedLengthRange</span>(firstValue: <span class="number">0</span>, length: <span class="number">3</span>)</span><br><span class="line"><span class="comment">//3.修改结构体实例的变量存储属性</span></span><br><span class="line">rangeOfThreeItems.firstValue = <span class="number">6</span></span><br></pre></td></tr></table></figure>
<h3 id="10-1-1-常量结构体实例和常量类实例的存储属性"><a href="#10-1-1-常量结构体实例和常量类实例的存储属性" class="headerlink" title="10.1.1    常量结构体实例和常量类实例的存储属性"></a>10.1.1    常量结构体实例和常量类实例的存储属性</h3><blockquote>
<p><strong>说明：</strong>创建了一个结构体的实例并将其赋值给一个常量，则无法修改该实例的任何属性，即使定义了变量存储属性</p>
</blockquote>
<table>
<thead>
<tr>
<th><strong>特指</strong></th>
<th><strong>被赋值给常量</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>结构体(struct)实例</td>
<td>它的所有属性（包括<code>var</code>声明的）也就成了常量。</td>
</tr>
<tr>
<td>类(class)实例</td>
<td>仍然可以修改实例的变量属性（<code>var</code>）</td>
</tr>
</tbody>
</table>
<h3 id="10-1-2-延迟存储属性"><a href="#10-1-2-延迟存储属性" class="headerlink" title="10.1.2    延迟存储属性"></a>10.1.2    延迟存储属性</h3><blockquote>
<p><strong>关键字：</strong><code>lazy</code><br><strong>说明：</strong>第一次被调用的时候才会计算其初始值的属性<br><strong>注意：</strong>必须将延迟存储属性声明为变量(<code>var</code>)，因为常量属性在构造完成之前必须要有初始值，延迟属性不能保证这一点。<br><strong>应用</strong>：</p>
<ol>
<li>当属性的值依赖于在实例的构造过程结束前无法知道具体值的外部因素时</li>
<li>当属性的值需要复杂或大量计算时</li>
</ol>
</blockquote>
<pre><code>class DataImporter {
    /*
    DataImporter是一个将外部文件中的数据导入的类。这个类的初始化会消耗不少时间。
    */
    var fileName = &quot;data.txt&quot;;
}

class DataManager {
    lazy var impoter = DataImporter()
    var data = [String]()
    //这里提供数据管理功能
}
let manager = DataManager()
manager.data.append(&quot;Some data&quot;)
manager.data.append(&quot;Some more data&quot;)
//DataImporter实例的importer属性还没有被创建

println(manager.impoter.fileName)//DataImporter的实例现在被创建了，输出&quot;data.txt&quot;
</code></pre><h3 id="10-1-3-存储属性和实例变量"><a href="#10-1-3-存储属性和实例变量" class="headerlink" title="10.1.3    存储属性和实例变量"></a>10.1.3    存储属性和实例变量</h3><blockquote>
<p>说明：<code>swift</code>的属性没有对应的实例变量，属性的后端存储也无法直接访问。</p>
</blockquote>
<h2 id="10-2-计算属性"><a href="#10-2-计算属性" class="headerlink" title="10.2    计算属性"></a>10.2    计算属性</h2><blockquote>
<p><strong>说明：</strong>计算属性不直接存储值，而是提供一个 <code>getter</code> 和一个可选的 <code>setter</code>，来间接获取和设置其他属性或变量的值。</p>
<ul>
<li>定义<code>getter</code>计算并返回属性值</li>
<li>定义可选的<code>setter</code>间接设置其它属性或变量的值。</li>
</ul>
<p><strong>注意</strong>:创建实例时可以不必为计算属性赋值，因为计算属性并不存储值，而是通过计算动态得出的。</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x = <span class="number">0.0</span>,y = <span class="number">0.0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Size</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> width = <span class="number">0.0</span>, height = <span class="number">0.0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Rect</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> origin = <span class="type">Point</span>()</span><br><span class="line">    <span class="keyword">var</span> size = <span class="type">Size</span>()</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//计算属性</span></span><br><span class="line">    <span class="keyword">var</span> center:<span class="type">Point</span>&#123;</span><br><span class="line">        <span class="keyword">get</span>&#123;</span><br><span class="line">            <span class="keyword">let</span> centerX = origin.x + (size.width / <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">let</span> centerY = origin.y + (size.height / <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="type">Point</span>(x:centerX, y:centerY)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">set</span>(newCenter)&#123;</span><br><span class="line">            origin.x = newCenter.x - (size.width / <span class="number">2</span>)</span><br><span class="line">            origin.y = newCenter.y - (size.height / <span class="number">2</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> square = <span class="type">Rect</span>(origin: <span class="type">Point</span>(x:<span class="number">15.0</span>,y:<span class="number">0.0</span>), size: <span class="type">Size</span>(width: <span class="number">10.0</span>, height: <span class="number">10.0</span>))</span><br><span class="line"><span class="keyword">let</span> initialSquareCenter = <span class="type">Point</span>(x:<span class="number">15.0</span>, y:<span class="number">15.0</span>)</span><br><span class="line"><span class="built_in">println</span>(<span class="string">"Square.origin is now at (\(square.origin.x),\(square.origin.y))"</span>)</span><br></pre></td></tr></table></figure>
<h3 id="10-2-1-便捷setter声明"><a href="#10-2-1-便捷setter声明" class="headerlink" title="10.2.1    便捷setter声明"></a>10.2.1    便捷setter声明</h3><blockquote>
<p><strong>说明</strong>:如果计算属性的<code>setter</code>没有定义标识新值的参数名，则可以使用默认名称<code>newValue</code>。</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//不使用便捷setter声明</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Rect</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> origin = <span class="type">Point</span>()</span><br><span class="line">    <span class="keyword">var</span> size = <span class="type">Size</span>()</span><br><span class="line">    <span class="keyword">var</span> center:<span class="type">Point</span>&#123;</span><br><span class="line">        <span class="keyword">get</span>&#123;</span><br><span class="line">            <span class="keyword">let</span> centerX = origin.x + (size.width / <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">let</span> centerY = origin.y + (size.height / <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="type">Point</span>(x:centerX, y:centerY)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">set</span>(newCenter)&#123;</span><br><span class="line">            origin.x = newCenter.x - (size.width / <span class="number">2</span>)</span><br><span class="line">            origin.y = newCenter.y - (size.height / <span class="number">2</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用便捷setter声明</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">AlternativeRect</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> origin = <span class="type">Point</span>()</span><br><span class="line">    <span class="keyword">var</span> size = <span class="type">Size</span>()</span><br><span class="line">    <span class="keyword">var</span> center:<span class="type">Point</span>&#123;</span><br><span class="line">        <span class="keyword">get</span>&#123;</span><br><span class="line">            <span class="keyword">let</span> centerX = origin.x + (size.width / <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">let</span> centerY = origin.y + (size.height / <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="type">Point</span>(x:centerX, y:centerY)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">set</span>&#123;</span><br><span class="line">            origin.x = newValue.x - (size.width / <span class="number">2</span>)</span><br><span class="line">            origin.y = newValue.y - (size.height / <span class="number">2</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">```	</span><br><span class="line"></span><br><span class="line">### <span class="number">10.2</span>.<span class="number">2</span> 只读计算属性</span><br><span class="line">&gt;**说明：**只有 `getter` 没有 `setter` 的计算属性就是只读计算属性</span><br><span class="line">&gt;**用途**：当一个属性的值完全只需要计算得出而不需要设置值时。</span><br><span class="line"></span><br><span class="line">```swift</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Cuboid</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> width = <span class="number">0.0</span>, height = <span class="number">0.0</span>, depth = <span class="number">0.0</span></span><br><span class="line">    <span class="keyword">var</span> volume:<span class="type">Double</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> width * height * depth</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> fourByFiveByTwo = <span class="type">Cuboid</span>(width: <span class="number">4.0</span>, height: <span class="number">5.0</span>, depth: <span class="number">2.0</span>)</span><br><span class="line"><span class="built_in">println</span>(<span class="string">"the volume of fourByFiveByTwo is 40.0"</span>)</span><br></pre></td></tr></table></figure>
<h2 id="10-3-属性观察器"><a href="#10-3-属性观察器" class="headerlink" title="10.3    属性观察器"></a>10.3    属性观察器</h2><blockquote>
<p><strong>说明：</strong>属性观察器监控和响应属性值的变化，每次属性被设置值的时候都会调用属性观察器，甚至新值和当前值相同的时候也不例外。</p>
</blockquote>
<h3 id="10-3-1-哪些属性可以定义属性观察器？"><a href="#10-3-1-哪些属性可以定义属性观察器？" class="headerlink" title="10.3.1    哪些属性可以定义属性观察器？"></a>10.3.1    哪些属性可以定义属性观察器？</h3><table>
<thead>
<tr>
<th><strong>可以设置属性观察器</strong></th>
<th><strong>不可以设置属性观察器</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>结构体、类的静态(类型)属性和实例属性</td>
<td>类无法重载的计算属性</td>
</tr>
<tr>
<td>类继承的属性</td>
<td>延迟存储属性</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>注意</strong>：不需要为无法重载的计算属性添加属性观察器，因为可以通过<code>setter</code>直接监控和响应值的变化。</p>
</blockquote>
<h3 id="10-3-2-属性观察器有哪几种？"><a href="#10-3-2-属性观察器有哪几种？" class="headerlink" title="10.3.2    属性观察器有哪几种？"></a>10.3.2    属性观察器有哪几种？</h3><table>
<thead>
<tr>
<th>属性观察器</th>
<th>调用时机</th>
<th>参数</th>
<th>参数默认名</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>willSet</code></td>
<td>在设置新的值之前调用</td>
<td>新的属性的值</td>
<td>newValue</td>
</tr>
<tr>
<td><code>didSet</code></td>
<td>在新的值被设置之后被调用</td>
<td>旧的属性值</td>
<td>oldValue</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>注意</strong>：<code>willSet</code>和<code>didSet</code>观察器只会当属性的值在初始化之外的地方被设置时调用。</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StepCounter</span> </span>&#123;</span><br><span class="line">	    <span class="comment">//定义一个属性及其属性观察器</span></span><br><span class="line">    <span class="keyword">var</span> totalSteps:<span class="type">Int</span> = <span class="number">0</span>&#123;</span><br><span class="line">        <span class="comment">//在设置新值之前调用</span></span><br><span class="line">        <span class="keyword">willSet</span>(newTotalSteps)&#123;</span><br><span class="line">            <span class="built_in">println</span>(<span class="string">"About to set totalSteps to \(newTotalSteps)"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//在新值被设置之后调用</span></span><br><span class="line">        <span class="keyword">didSet</span>&#123;</span><br><span class="line">            <span class="keyword">if</span> totalSteps &gt; oldValue&#123;</span><br><span class="line">                <span class="built_in">println</span>(<span class="string">"aDDED \(totalSteps - oldValue) steps"</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> stepCounter = <span class="type">StepCounter</span>()</span><br><span class="line">stepCounter.totalSteps = <span class="number">200</span></span><br><span class="line"><span class="comment">//About to set totalSteps to 200</span></span><br><span class="line"><span class="comment">//Added 200 steps</span></span><br></pre></td></tr></table></figure>
<h2 id="10-4-全局变量和局部变量"><a href="#10-4-全局变量和局部变量" class="headerlink" title="10.4 全局变量和局部变量"></a>10.4 全局变量和局部变量</h2><table>
<thead>
<tr>
<th><em>**</em></th>
<th>全局变量</th>
<th>局部变量</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>定义</strong></td>
<td>函数、方法、闭包或任何类型之外定义的变量</td>
<td>函数、方法或必包内部定义的变量</td>
</tr>
<tr>
<td><strong>默认是否延迟计算</strong></td>
<td>是</td>
<td>否（除非使用<code>lazy</code>）</td>
</tr>
<tr>
<td><strong>是否可以定义计算属性</strong></td>
<td>是</td>
<td>是</td>
</tr>
<tr>
<td><strong>是否可以为存储型变量定义观察器</strong></td>
<td>是</td>
<td>是</td>
</tr>
</tbody>
</table>
<h2 id="10-5-类型属性"><a href="#10-5-类型属性" class="headerlink" title="10.5    类型属性"></a>10.5    类型属性</h2><blockquote>
<p><strong>用途</strong>：用于定义特定类型所有实例共享的数据。<br><strong>注意</strong>：必须给存储类型属性设置默认值，因为类型本身无法在初始化过程中使用构造函器给类型属性赋值。<br><strong>说明：</strong>无论创建了多少个该类型的实例，这些属性都只有唯一一份。这种属性就是类型属性。</p>
</blockquote>
<table>
<thead>
<tr>
<th>分类</th>
<th>存储型类型属性</th>
<th>计算型类型属性</th>
</tr>
</thead>
<tbody>
<tr>
<td>可以定义该类型属性的类型</td>
<td><code>struct</code>、<code>enum</code></td>
<td><code>struct</code>、<code>enum</code>、<code>class</code></td>
</tr>
<tr>
<td>可以为变量或常量</td>
<td>变量、常量</td>
<td>变量</td>
</tr>
<tr>
<td>是否需要指定默认值</td>
<td>是</td>
<td>否</td>
</tr>
</tbody>
</table>
<h3 id="10-5-1-类型属性语法"><a href="#10-5-1-类型属性语法" class="headerlink" title="10.5.1  类型属性语法"></a>10.5.1  类型属性语法</h3><blockquote>
<p><strong>说明：</strong>使用关键字static来定义类型属性。在为类定义计算型类型属性时，可以改用关键字class来支持子类对父类的实现进行重写</p>
</blockquote>
<table>
<thead>
<tr>
<th>定义类型属性的关键字</th>
<th>使用类型</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>static</code></td>
<td>值类型（结构体、枚举）</td>
</tr>
<tr>
<td><code>class</code></td>
<td>类</td>
</tr>
</tbody>
</table>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//结构体</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">SomeStructure</span> </span>&#123;</span><br><span class="line">    <span class="comment">//存储型类型属性</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> storedTypeProperty = <span class="string">"Some value"</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//计算型类型属性（只读）</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> computedTypeProperty:<span class="type">Int</span>&#123;</span><br><span class="line">        <span class="comment">//这里返回一个int值</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//枚举类型</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">SomeEnumeration</span></span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> storedTypeProperty = <span class="string">"Some value"</span>  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SomeClass</span></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">var</span> <span class="title">computedTypeProperty</span>:<span class="title">Int</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="10-5-2-获取和设置类型属性的值"><a href="#10-5-2-获取和设置类型属性的值" class="headerlink" title="10.5.2  获取和设置类型属性的值"></a>10.5.2  获取和设置类型属性的值</h3><blockquote>
<p><strong>说明：</strong><code>类型名.类型属性</code></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">AudioChannel</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> thresholdLevel = <span class="number">10</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> maxInputLevelForAllChannels = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> currentLevel:<span class="type">Int</span> = <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">didSet</span>&#123;</span><br><span class="line">            <span class="keyword">if</span> currentLevel &gt; <span class="type">AudioChannel</span>.thresholdLevel&#123;</span><br><span class="line">                <span class="comment">//将新电平值设置为阀值</span></span><br><span class="line">                currentLevel = <span class="type">AudioChannel</span>.thresholdLevel</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> currentLevel &gt; <span class="type">AudioChannel</span>.maxInputLevelForAllChannels&#123;</span><br><span class="line">                <span class="comment">//存储当前电平值作为新的最大输入电平</span></span><br><span class="line">                <span class="type">AudioChannel</span>.maxInputLevelForAllChannels = currentLevel</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> leftChannel = <span class="type">AudioChannel</span>()</span><br><span class="line"><span class="keyword">var</span> rightChannel = <span class="type">AudioChannel</span>()</span><br><span class="line"></span><br><span class="line">leftChannel.currentLevel = <span class="number">7</span></span><br><span class="line"><span class="built_in">println</span>(leftChannel.currentLevel)<span class="comment">//7</span></span><br><span class="line"><span class="built_in">println</span>(<span class="type">AudioChannel</span>.maxInputLevelForAllChannels)<span class="comment">//7</span></span><br></pre></td></tr></table></figure>
  </section>

</article>


<section class="post-comments">
  <!-- 多说评论框 start -->
  <div class="ds-thread" data-thread-key="http://laputa-er.github.io/2016/05/13/TSPL2_10  属性/" data-title="10 属性" data-url="http://laputa-er.github.io/2016/05/13/TSPL2_10  属性/"></div>
  <!-- 多说评论框 end -->
  <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
  <script type="text/javascript">
  var duoshuoQuery = {short_name:"laputa-er"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共JS代码 end -->
</section>




            <footer class="footer">
    <span class="footer__copyright">
        本站点采用<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>
    </span>
    <span class="footer__copyright">
        基于 <a href="http://hexo.io">Hexo</a> 搭建，感谢 <a href="https://pages.github.com/">GitHub Pages</a> 提供免费的托管服务
    </span>
    <span class="footer__copyright">
        &copy; 2016 - 
        本站修改自<a href="https://github.com/lenbo-ma/hexo-theme-vno" target="_blank">hexo-theme-vno</a>
    </span>
</footer>

        </div>
    </div>

    <script src="http://cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
    <script src="/js/main.js"></script>

     
</body>
</html>
