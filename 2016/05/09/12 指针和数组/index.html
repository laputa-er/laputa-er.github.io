<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    
    <title>12 指针和数组 | Laputa</title>
    <meta name="renderer" content="webkit">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta name="description" content="do things for fun">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="12 指针和数组 | Laputa">
    <meta name="twitter:description" content="do things for fun">

    <meta property="og:type" content="article">
    <meta property="og:title" content="12 指针和数组 | Laputa">
    <meta property="og:description" content="do things for fun">

    
    <meta name="author" content="Sean">
    
    <link rel="stylesheet" href="/css/vno.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">

    
    <link rel="icon" href="/images/favicon.png">
    

    <meta name="generator" content="hexo"/>
    
    <link rel="alternate" type="application/rss+xml" title="Laputa" href="/atom.xml">
    

    <link rel="canonical" href="http://laputa-er.github.io/2016/05/09/12 指针和数组/"/>

    
</head>

<body class="home-template no-js">

    <span class="mobile btn-mobile-menu">
        <i class="fa fa-list btn-mobile-menu__icon"></i>
        <i class="fa fa-angle-up btn-mobile-close__icon hidden"></i>
    </span>
    
<header class="panel-cover panel-cover--collapsed" style="background-image: url(/images/mengxiang.jpg)">
  <div class="panel-main">
    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        <a href="/" title="前往 Laputa 的主页"><img src="/images/logo2.jpg" width="80" alt="Laputa logo" class="panel-cover__logo logo" /></a>
        <h1 class="panel-cover__title panel-title"><a href="/" title="link to homepage for Laputa">Laputa</a></h1>
        
        <span class="panel-cover__subtitle panel-subtitle">已然在路上</span>
        
        <hr class="panel-cover__divider" />
        <p class="panel-cover__description">If you can not act the way you want to live, you will one day live in accordance with the way to think about.</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary" />

        <div class="navigation-wrapper">
          <div>
          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">
              <li class="navigation__item"><a href="/#blog" title="访问笔记" class="blog-button">笔记</a></li>
            
              <li class="navigation__item"><a href="/projects">项目作品</a></li>
            
              <li class="navigation__item"><a href="/aboutme">关于我</a></li>
            
            </ul>
          </nav>
          </div>
          <div>
          <nav class="cover-navigation navigation--social">
  <ul class="navigation">

  <!-- Weibo-->
  

  <!-- Github -->
  
  <li class="navigation__item">
    <a href="https://github.com/laputa-er" title="查看我的GitHub主页" target="_blank">
      <i class='social fa fa-github'></i>
      <span class="label">Github</span>
    </a>
  </li>


<!-- Stack Overflow -->
        
        <li class="navigation__item">
            <a href="http://stackoverflow.com/users/6304138/laputa" title="Stack Overflow" target="_blank">
                <i class='social fa fa-stack-overflow'></i>
                <span class="label">Stack Overflow</span>
            </a>
        </li>
        

  <!-- Google Plus -->
  

<!-- Facebook -->

  
<!-- Twitter -->

  

  <li class="navigation__item">
    <a href="/atom.xml" title="RSS" target="_blank">
      <i class='social fa fa-rss'></i>
      <span class="label">RSS</span>
    </a>
  </li>



  </ul>
</nav>

          </div>
        </div>

      </div>

    </div>

    <div class="panel-cover--overlay cover-blue"></div>
  </div>
</header>
    
    
    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            <article class="post-container post-container--single">

  <header class="post-header">
    <div class="post-meta">
      <time datetime="2016-05-09T15:24:07.000Z" class="post-list__meta--date date">2016-05-09</time> &#8226; <span class="post-meta__tags tags">于&nbsp;
  <a class="tag-link" href="/tags/c语言程序设计－现代方法/">c语言程序设计－现代方法</a>
</span>
    </div>
    <h1 class="post-title">12 指针和数组</h1>
  </header>

  <section class="post">
    <!-- Table of Contents -->
    
    <div id="top-toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#12-1-指针的算术运算"><span class="toc-number">1.</span> <span class="toc-text">12.1    指针的算术运算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-1-指针加上整数"><span class="toc-number">1.1.</span> <span class="toc-text">12.1.1    指针加上整数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-2-指针减去整数"><span class="toc-number">1.2.</span> <span class="toc-text">12.1.2    指针减去整数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-3-指针相减"><span class="toc-number">1.3.</span> <span class="toc-text">12.1.3    指针相减</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-4-指针比较"><span class="toc-number">1.4.</span> <span class="toc-text">12.1.4    指针比较</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-2-指针用于数组处理"><span class="toc-number">2.</span> <span class="toc-text">12.2    指针用于数组处理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#运算符和-运算符的组合"><span class="toc-number">2.0.1.</span> <span class="toc-text">*运算符和++运算符的组合</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#程序-栈"><span class="toc-number">2.0.2.</span> <span class="toc-text">程序:栈</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-3-用数组名作为指针"><span class="toc-number">3.</span> <span class="toc-text">12.3    用数组名作为指针</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-3-1-程序：数列反向（改进版）"><span class="toc-number">3.1.</span> <span class="toc-text">12.3.1    程序：数列反向（改进版）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-3-2-数组型实际参数（改进版）"><span class="toc-number">3.2.</span> <span class="toc-text">12.3.2    数组型实际参数（改进版）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-3-3-用指针作为数组名"><span class="toc-number">3.3.</span> <span class="toc-text">12.3.3    用指针作为数组名</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-4-指针和多维数组"><span class="toc-number">4.</span> <span class="toc-text">12.4    指针和多维数组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-4-1-处理多维数组的元素"><span class="toc-number">4.1.</span> <span class="toc-text">12.4.1    处理多维数组的元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-4-2-处理多维数组的行"><span class="toc-number">4.2.</span> <span class="toc-text">12.4.2    处理多维数组的行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-4-3-用多维数组名作为指针"><span class="toc-number">4.3.</span> <span class="toc-text">12.4.3    用多维数组名作为指针</span></a></li></ol></li></ol>
    </div>
    <div id="tocShell"></div>
    <div id="toc" class="toc-article">
      <div class="btn-group drag-me">
        <i class="social fa fa-ellipsis-v"></i>
      </div>
      <div class="btn-group dropup-catelog">
        <button class="btn"><i class="social fa fa-list-ol"></i></button>
        <div class="catelog-content">
          <p class="toc-title-wrap">
            <strong class="toc-title">文章目录</strong>
          </p>
          <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#12-1-指针的算术运算"><span class="toc-number">1.</span> <span class="toc-text">12.1    指针的算术运算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-1-指针加上整数"><span class="toc-number">1.1.</span> <span class="toc-text">12.1.1    指针加上整数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-2-指针减去整数"><span class="toc-number">1.2.</span> <span class="toc-text">12.1.2    指针减去整数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-3-指针相减"><span class="toc-number">1.3.</span> <span class="toc-text">12.1.3    指针相减</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-4-指针比较"><span class="toc-number">1.4.</span> <span class="toc-text">12.1.4    指针比较</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-2-指针用于数组处理"><span class="toc-number">2.</span> <span class="toc-text">12.2    指针用于数组处理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#运算符和-运算符的组合"><span class="toc-number">2.0.1.</span> <span class="toc-text">*运算符和++运算符的组合</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#程序-栈"><span class="toc-number">2.0.2.</span> <span class="toc-text">程序:栈</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-3-用数组名作为指针"><span class="toc-number">3.</span> <span class="toc-text">12.3    用数组名作为指针</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-3-1-程序：数列反向（改进版）"><span class="toc-number">3.1.</span> <span class="toc-text">12.3.1    程序：数列反向（改进版）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-3-2-数组型实际参数（改进版）"><span class="toc-number">3.2.</span> <span class="toc-text">12.3.2    数组型实际参数（改进版）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-3-3-用指针作为数组名"><span class="toc-number">3.3.</span> <span class="toc-text">12.3.3    用指针作为数组名</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-4-指针和多维数组"><span class="toc-number">4.</span> <span class="toc-text">12.4    指针和多维数组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-4-1-处理多维数组的元素"><span class="toc-number">4.1.</span> <span class="toc-text">12.4.1    处理多维数组的元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-4-2-处理多维数组的行"><span class="toc-number">4.2.</span> <span class="toc-text">12.4.2    处理多维数组的行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-4-3-用多维数组名作为指针"><span class="toc-number">4.3.</span> <span class="toc-text">12.4.3    用多维数组名作为指针</span></a></li></ol></li></ol>
        </div>
      </div>
    </div>
    
    <h2 id="12-1-指针的算术运算"><a href="#12-1-指针的算术运算" class="headerlink" title="12.1    指针的算术运算"></a>12.1    指针的算术运算</h2><blockquote>
<p><strong>说明：</strong>指针不仅可以指向普通变量，还可以指向数组元素。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>], *p;</span><br><span class="line">p = &amp;a[<span class="number">0</span>];</span><br><span class="line">*p = <span class="number">5</span>;<span class="comment">//a[0]值变为5</span></span><br></pre></td></tr></table></figure>
<p><strong>3种格式：</strong></p>
<ol>
<li>指针加上整数</li>
<li>指针减去整数</li>
<li>两个指针相减</li>
</ol>
<h3 id="12-1-1-指针加上整数"><a href="#12-1-1-指针加上整数" class="headerlink" title="12.1.1    指针加上整数"></a>12.1.1    指针加上整数</h3><blockquote>
<p><strong>说明：</strong>指针<code>p</code>加上整数<code>j</code>产生指向<code>p</code>元素后<code>j</code>个位置的指针。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">p = &amp;a[<span class="number">2</span>];</span><br><span class="line">q = p + <span class="number">3</span>;<span class="comment">//p指向了数组下标为5的位置</span></span><br></pre></td></tr></table></figure>
<h3 id="12-1-2-指针减去整数"><a href="#12-1-2-指针减去整数" class="headerlink" title="12.1.2    指针减去整数"></a>12.1.2    指针减去整数</h3><blockquote>
<p><strong>说明：</strong>如果<code>p</code>指向数组元素<code>a[i]</code>，那么<code>p-j</code>指向<code>a[i-j]</code>。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">p = &amp;a[<span class="number">8</span>];</span><br><span class="line">q = p<span class="number">-3</span>;<span class="comment">//指向数组a下标为5的位置</span></span><br></pre></td></tr></table></figure>
<h3 id="12-1-3-指针相减"><a href="#12-1-3-指针相减" class="headerlink" title="12.1.3    指针相减"></a>12.1.3    指针相减</h3><blockquote>
<p><strong>说明：</strong>当两个指针相减时，结果为指针之间的距离。<br><strong>用途：</strong>用来计算数组种元素的个数。如果<code>p</code>指向<code>a[i]</code>且<code>q</code>指向<code>a[j]</code>，那么<code>p-q</code>就等于<code>i-j</code>。<br><strong>限制：</strong></p>
<ul>
<li>只有在<code>p</code>指向数组元素时，指针<code>p</code>上的算数运算才会获得意义的结果</li>
<li>只有在两个指针指向同一个数组时，指针相减才有意义</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">p = &amp;a[<span class="number">5</span>];</span><br><span class="line">q = &amp;a[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">i = p - q;<span class="comment">//4</span></span><br><span class="line">i = q - p;<span class="comment">//-4</span></span><br></pre></td></tr></table></figure>
<h3 id="12-1-4-指针比较"><a href="#12-1-4-指针比较" class="headerlink" title="12.1.4    指针比较"></a>12.1.4    指针比较</h3><blockquote>
<p><strong>说明：</strong>可以用关系运算符（<code>&lt;</code> <code>&lt;=</code>  <code>&lt;</code>  <code>&gt;=</code>）和判等运算符（<code>==</code>和<code>!=</code>）。<br><strong>限制：</strong>只有在两个指针指向同一个数组时，用关系运算符进行的指针比较才有意义。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">p = &amp;a[<span class="number">5</span>];</span><br><span class="line">q = &amp;a[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">p &lt;= q;<span class="comment">//0</span></span><br><span class="line">q &gt; p;<span class="comment">//1</span></span><br></pre></td></tr></table></figure>
<h2 id="12-2-指针用于数组处理"><a href="#12-2-指针用于数组处理" class="headerlink" title="12.2    指针用于数组处理"></a>12.2    指针用于数组处理</h2><blockquote>
<p><strong>说明：</strong>指针的算术运算允许通过对指针变量进行重复自增来访问数组的元素。<br><strong>注意：</strong>数组<code>a</code>的下标是<code>0到N-1</code>,但<code>&amp;a[N]</code>是合法的，只要不尝试对该地址存储空间进行读取活写入，就是安全的。<br><strong>性能：</strong>一些编译器依赖下标而不是指针产生的循环代码性会更好。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 10</span></span><br><span class="line"><span class="keyword">int</span> a[N], sum, *p;</span><br><span class="line">sum = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//计算数组元素的和</span></span><br><span class="line"><span class="keyword">for</span>(p = &amp;a[<span class="number">0</span>]; p &lt; &amp;a[N]; p++)&#123;</span><br><span class="line">	sum += *p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="运算符和-运算符的组合"><a href="#运算符和-运算符的组合" class="headerlink" title="*运算符和++运算符的组合"></a><code>*</code>运算符和<code>++</code>运算符的组合</h4><table>
<thead>
<tr>
<th>表达式</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>*p++</code>或<code>*(p++)</code></td>
<td>表达式的值是<code>*p</code>，然后<code>p</code>自增1</td>
</tr>
<tr>
<td><code>(*p)++</code></td>
<td>表达式的值为<code>*p</code>，然后<code>*p</code>自增1</td>
</tr>
<tr>
<td><code>*++p</code></td>
<td>先自增<code>p</code>，在自增后的指针对应的值</td>
</tr>
<tr>
<td><code>++*p</code>或<code>++(*p)</code></td>
<td>表达式的值是<code>*p</code>自增后的值</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">p = &amp;a[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">while</span>(p &lt; &amp;a[N])&#123;</span><br><span class="line">	sum += *p++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="程序-栈"><a href="#程序-栈" class="headerlink" title="程序:栈"></a>程序:栈</h4><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> STACK_SIZE 100</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TRUE 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FALSE 0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> Bool;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> contents[STACK_SIZE];</span><br><span class="line"><span class="keyword">int</span> *top = contents[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * 清空栈</span><br><span class="line"> * 将top指针指向数组的第一项</span><br><span class="line"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">make_empty</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">	top = &amp;contents[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * 检查栈是否为空</span><br><span class="line"> * @return  true:空；false:非空</span><br><span class="line"> */</span></span><br><span class="line"><span class="function">Bool <span class="title">is_empty</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">	return *top == contents[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * 检查栈是否已满</span><br><span class="line"> * @return  true:已满；false:未满</span><br><span class="line"> */</span></span><br><span class="line"><span class="function">Bool <span class="title">is_full</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">	return *top == contents[STACK_SIZE];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * 向栈中压入数据</span><br><span class="line"> * @param i 要压入的数据项</span><br><span class="line"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(is_full())&#123;</span><br><span class="line">		stace_overflow();</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		*top++ = i;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * 从栈中弹出数据项</span><br><span class="line"> * @return  数据项</span><br><span class="line"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pop</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(is_empty())&#123;</span><br><span class="line">		stack_underflow();</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		return *--top;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="12-3-用数组名作为指针"><a href="#12-3-用数组名作为指针" class="headerlink" title="12.3    用数组名作为指针"></a>12.3    用数组名作为指针</h2><blockquote>
<p><strong>说明：</strong>可以用数组的名字作为指向数组第一个元素的指针。<br><strong>意义：</strong>简化了指针的算术运算，而且使得数组和指针都更加通用。<br><strong>局限：</strong>虽然可以把数组名用作指针，但是不能给数组名赋新的值。试图使数组名指向其它地方是错误的。所以当需要的时候，可以先将数组指针复制给其它变量，然后改变该指针变量。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">*a = <span class="number">7</span>;<span class="comment">//a[0]=7</span></span><br><span class="line">*(a+<span class="number">1</span>); = <span class="number">12</span>;<span class="comment">//a[1]=12</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//计算数组元素的和</span></span><br><span class="line"><span class="keyword">for</span>(p = a; p &lt; a + N; p++)&#123;</span><br><span class="line">	sum += *p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="12-3-1-程序：数列反向（改进版）"><a href="#12-3-1-程序：数列反向（改进版）" class="headerlink" title="12.3.1    程序：数列反向（改进版）"></a>12.3.1    程序：数列反向（改进版）</h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Reverses a series of numbers (pointer version)</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="meta">#<span class="meta-keyword">define</span> N 10</span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> a[N], *p;</span><br><span class="line"></span><br><span class="line"> 	<span class="comment">//输入N个数组存储到数组中</span></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter %d numbers\n"</span>, N);</span><br><span class="line"> 	<span class="keyword">for</span>(p = a; p &lt; a + N; p++)&#123;</span><br><span class="line"> 		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, p);</span><br><span class="line"> 	&#125;</span><br><span class="line"></span><br><span class="line"> 	<span class="comment">//逆向打印所有数组元素</span></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"In reverse order:"</span>);</span><br><span class="line"> 	<span class="keyword">for</span>(p = a + N <span class="number">-1</span>; p &gt;= a; p--)&#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">" %d"</span>, *p);</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ./reverse2                             </span><br><span class="line"> Enter 10 numbers</span><br><span class="line"> 1 2 3 4 5 6 7 8 9 0</span><br><span class="line"> In reverse order: 0 9 8 7 6 5 4 3 2 1</span><br></pre></td></tr></table></figure>
<h3 id="12-3-2-数组型实际参数（改进版）"><a href="#12-3-2-数组型实际参数（改进版）" class="headerlink" title="12.3.2    数组型实际参数（改进版）"></a>12.3.2    数组型实际参数（改进版）</h3><blockquote>
<p><strong>说明：</strong>数组作为实参传递给函数是是作为指针传递的（传引用），而不会复制数组。</p>
</blockquote>
<ul>
<li><p>因为没有对数组进行复制，所以数组作为实际参数不会防止原数组被修改<br><strong>防改变：</strong>为了指明数组形式参数不会改变，可以在它的声明中包含单词<code>const</code></p>
</li>
<li><p>给函数传递数组所需的时间不依赖于数组的大小</p>
</li>
<li>声明形参时，数组型式和指针形式等价，编译器处理这两类声明就好像它们是完全一样的<br><strong>局限：</strong>不适用于普通变量的声明</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>];<span class="comment">//会导致编译器为10个证书预留空间</span></span><br><span class="line"><span class="keyword">int</span> *a;<span class="comment">//会导致编译器为指针变量分配空间</span></span><br></pre></td></tr></table></figure>
<ul>
<li>可以给形式参数为数组的函数传递数组的“片段”</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find_largest</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i, max;</span><br><span class="line">	max = a[<span class="number">0</span>];</span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">1</span>; i &lt; n; i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(a[i] &gt; max)&#123;</span><br><span class="line">			max = a[i];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	return max;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> N = <span class="number">4</span>, b = [<span class="number">2</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> larget = find_largest(b, N);<span class="comment">//会把数组b的第一个元素的地址赋给a，数组本身并没有复制</span></span><br></pre></td></tr></table></figure>
<h3 id="12-3-3-用指针作为数组名"><a href="#12-3-3-用指针作为数组名" class="headerlink" title="12.3.3    用指针作为数组名"></a>12.3.3    用指针作为数组名</h3><blockquote>
<p><strong>说明：</strong>指向数组的指针除了可以通过指针的方式操作数组外，还可以将该指针当作数组来使用。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 100</span></span><br><span class="line"><span class="keyword">int</span> a[N], i, sum = <span class="number">0</span>, *p = a;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; N; i++)&#123;</span><br><span class="line">	sum += p[i];<span class="comment">//*(p+i)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="12-4-指针和多维数组"><a href="#12-4-指针和多维数组" class="headerlink" title="12.4    指针和多维数组"></a>12.4    指针和多维数组</h2><h3 id="12-4-1-处理多维数组的元素"><a href="#12-4-1-处理多维数组的元素" class="headerlink" title="12.4.1    处理多维数组的元素"></a>12.4.1    处理多维数组的元素</h3><blockquote>
<p><strong>说明：</strong>可以通过指针递增的方式访问到多维数组的每一个元素，因为c语言始终按照顺序存储多维数组的元素。</p>
</blockquote>
<p><em>数组遍历（数组下标的方式）</em></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> row, col;</span><br><span class="line"><span class="comment">//将数组元素初始化为0</span></span><br><span class="line"><span class="keyword">for</span>(row = <span class="number">0</span>; row &lt; NUM_ROWS; row++)&#123;</span><br><span class="line">	<span class="keyword">for</span>(col = <span class="number">0</span>; col &lt; NUM_COLS; col++)&#123;</span><br><span class="line">		a[row][col] = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>数组遍历（指针的方式）</em></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> *p;</span><br><span class="line"><span class="keyword">for</span>(p = &amp;a[<span class="number">0</span>][<span class="number">0</span>]; p &lt;= &amp;a[NUMROWS<span class="number">-1</span>][NUM_COLS<span class="number">-1</span>]; P++)&#123;</span><br><span class="line">	*p = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="12-4-2-处理多维数组的行"><a href="#12-4-2-处理多维数组的行" class="headerlink" title="12.4.2    处理多维数组的行"></a>12.4.2    处理多维数组的行</h3><blockquote>
<p><strong>说明：</strong>二维数组第<code>i</code>(从0开始)行第一个元素的地址<br><code>a[i]</code> == <code>*(a + i)</code> ==<code>&amp;a[i][0]</code> == <code>&amp;(*(a[i] + 0))</code> == <code>&amp;*a[i]</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> a[NUM_ROWS][NUM_COLS], *p, i;</span><br><span class="line">...</span><br><span class="line"><span class="comment">//初始化a的第i行元素为0</span></span><br><span class="line"><span class="keyword">for</span>(p = a[i]; p &lt; a[i] + NUM_COLS; p++)&#123;</span><br><span class="line">	*p = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="12-4-3-用多维数组名作为指针"><a href="#12-4-3-用多维数组名作为指针" class="headerlink" title="12.4.3    用多维数组名作为指针"></a>12.4.3    用多维数组名作为指针</h3><p><strong>指针的指针：</strong><code>int a[10], b[10][10];</code></p>
<blockquote>
<p><code>a</code>可以看作是<code>int *</code>型的指针，而<code>b</code>用作指针时则是<code>int **</code>型的（指针某个整数的指针的指针）。</p>
</blockquote>

  </section>

</article>




            <footer class="footer">
    <span class="footer__copyright">
        本站点采用<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>
    </span>
    <span class="footer__copyright">
        基于 <a href="http://hexo.io">Hexo</a> 搭建，感谢 <a href="https://pages.github.com/">GitHub Pages</a> 提供免费的托管服务
    </span>
    <span class="footer__copyright">
        &copy; 2016 - 
        本站修改自<a href="https://github.com/lenbo-ma/hexo-theme-vno" target="_blank">hexo-theme-vno</a>
    </span>
</footer>

        </div>
    </div>

    <script src="http://cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
    <script src="/js/main.js"></script>

     
</body>
</html>
