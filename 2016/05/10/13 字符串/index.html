<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="c语言程序设计－现代方法," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="13.1    字符串字面量
说明：用一对双括号括起来的字符序列。
13.1.1    字符串字面量中的转义序列说明：char型字面量中能够使用的转义字符字符串字面量中都可以使用。注意：数字转义字符并不常用，但使用时会需要注意一些char中不会遇到的问题




数字转义字符
格式
字符串字面量额外规则




八进制转义字符
\最多含有3位数字的八进制数字
在3个数字之后结束，或者在第一个非八进">
<meta property="og:type" content="article">
<meta property="og:title" content="13 字符串">
<meta property="og:url" content="http://laputa-er.github.io/2016/05/10/13 字符串/index.html">
<meta property="og:site_name" content="Sean">
<meta property="og:description" content="13.1    字符串字面量
说明：用一对双括号括起来的字符序列。
13.1.1    字符串字面量中的转义序列说明：char型字面量中能够使用的转义字符字符串字面量中都可以使用。注意：数字转义字符并不常用，但使用时会需要注意一些char中不会遇到的问题




数字转义字符
格式
字符串字面量额外规则




八进制转义字符
\最多含有3位数字的八进制数字
在3个数字之后结束，或者在第一个非八进">
<meta property="og:image" content="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-07-31%20%E4%B8%8A%E5%8D%888.16.44.png">
<meta property="og:image" content="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-07-31%20%E4%B8%8A%E5%8D%888.23.02.png">
<meta property="og:image" content="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-07-31%20%E4%B8%8A%E5%8D%888.56.34.png">
<meta property="og:updated_time" content="2016-05-13T09:33:19.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="13 字符串">
<meta name="twitter:description" content="13.1    字符串字面量
说明：用一对双括号括起来的字符序列。
13.1.1    字符串字面量中的转义序列说明：char型字面量中能够使用的转义字符字符串字面量中都可以使用。注意：数字转义字符并不常用，但使用时会需要注意一些char中不会遇到的问题




数字转义字符
格式
字符串字面量额外规则




八进制转义字符
\最多含有3位数字的八进制数字
在3个数字之后结束，或者在第一个非八进">
<meta name="twitter:image" content="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-07-31%20%E4%B8%8A%E5%8D%888.16.44.png">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://laputa-er.github.io/2016/05/10/13 字符串/"/>

  <title> 13 字符串 | Sean </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Sean</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">笔记分享</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                13 字符串
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-05-10T10:11:36+08:00" content="2016-05-10">
              2016-05-10
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/10/13 字符串/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/10/13 字符串/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="13-1-字符串字面量"><a href="#13-1-字符串字面量" class="headerlink" title="13.1    字符串字面量"></a>13.1    字符串字面量</h2><blockquote>
<p><strong>说明：</strong>用一对双括号括起来的字符序列。</p>
<h3 id="13-1-1-字符串字面量中的转义序列"><a href="#13-1-1-字符串字面量中的转义序列" class="headerlink" title="13.1.1    字符串字面量中的转义序列"></a>13.1.1    字符串字面量中的转义序列</h3><p><strong>说明：</strong><code>char</code>型字面量中能够使用的转义字符字符串字面量中都可以使用。<br><strong>注意：</strong>数字转义字符并不常用，但使用时会需要注意一些<code>char</code>中不会遇到的问题</p>
</blockquote>
<table>
<thead>
<tr>
<th>数字转义字符</th>
<th>格式</th>
<th>字符串字面量额外规则</th>
</tr>
</thead>
<tbody>
<tr>
<td>八进制转义字符</td>
<td><code>\最多含有3位数字的八进制数字</code></td>
<td>在3个数字之后结束，或者在第一个非八进制数字符处结束。</td>
</tr>
<tr>
<td>十六进制转义字符</td>
<td><code>\x十六进制数</code></td>
<td>没有字数限制，直到第一个非十六机制数字符截止（通常还限制十六进制数大小为<code>\x0~\x7f</code>或<code>\x0~\xff</code>）</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//字符串字面量中使用8进制转义字符</span></span><br><span class="line"><span class="string">"\1234"</span><span class="comment">//2个字符（\123和4）</span></span><br><span class="line"><span class="string">"\189"</span><span class="comment">//3个字符（\1，8，9）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//字符串字面量中使用16进制转义字符</span></span><br><span class="line"><span class="string">"Z\x81rich"</span><span class="comment">//6个字符（Z, \81, r, i, c, h）</span></span><br><span class="line"><span class="string">"\x81ber"</span><span class="comment">//2个字符（\x81be和r）</span></span><br></pre></td></tr></table></figure>
<h3 id="13-1-2-延续字符串字面量"><a href="#13-1-2-延续字符串字面量" class="headerlink" title="13.1.2    延续字符串字面量"></a>13.1.2    延续字符串字面量</h3><h4 id="方式一：用字符-结尾"><a href="#方式一：用字符-结尾" class="headerlink" title="方式一：用字符\结尾"></a>方式一：用字符<code>\</code>结尾</h4><blockquote>
<p><strong>说明：</strong>只要在一行用字符<code>\</code>结尾，那么c语言就允许在下一行延续字符串字面量。<br><strong>注意：</strong>除了（看不见）的末尾的换行符，在同一行不可以有其他字符跟在<code>\</code>后面。<br><strong>扩展：</strong>不只字符串，字符<code>\</code>还可以用来分隔任何长的符号。<br><strong>缺点：</strong>字符字面量必须从下一行的起始位置继续，破坏了程序的缩紧结构。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">"Put a disk in drive A,then \</span><br><span class="line">press any key to continue\n"</span>);</span><br></pre></td></tr></table></figure>
<h4 id="方式二：字面量自动合并（c标准）"><a href="#方式二：字面量自动合并（c标准）" class="headerlink" title="方式二：字面量自动合并（c标准）"></a>方式二：字面量自动合并（c标准）</h4><blockquote>
<p><strong>说明：</strong>当两条或更多条字符串字面量相连时（仅用空白字符分割），编译器必须把他们合并成单独一条字符串。<br><strong>优点：</strong>不必破坏缩紧。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">"Put a disk in drive A, then"</span></span><br><span class="line">	   <span class="string">"press any key to continue\n"</span>);</span><br></pre></td></tr></table></figure>
<h3 id="13-1-3-如何存储字符串字面量"><a href="#13-1-3-如何存储字符串字面量" class="headerlink" title="13.1.3    如何存储字符串字面量"></a>13.1.3    如何存储字符串字面量</h3><blockquote>
<p><strong>存储形式：</strong>c语言把字符串字面量作为字符数组来处理，相当于<code>char *</code>。<br><strong>空字符（<code>\0</code>）：</strong><code>ASCII</code>字符集中的第一个字符。<br><strong>内存分配：</strong>当c语言编译器在程序中遇到长度为<code>n</code>的字符串字面量时，它会为字符串字面量分配长度为<code>n+1</code>的内存空间，用来存储字符串子民啊量中的字符，以及额外的一个字符——<code>空字符</code>。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">"abc"</span>);<span class="comment">//当调用printf时，会传递"abc"的地址（即指向字母`a`存储单元的指针）</span></span><br></pre></td></tr></table></figure>
<h3 id="13-1-4-字符串字面量的操作"><a href="#13-1-4-字符串字面量的操作" class="headerlink" title="13.1.4    字符串字面量的操作"></a>13.1.4    字符串字面量的操作</h3><blockquote>
<p><strong>说明：</strong>可以将字符串字面量赋值给<code>char *</code>指针。<br><strong>特点：</strong></p>
<ul>
<li><p>c语言允许指针添加下标，因此可以给字符串字面量添加下标</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> ch;</span><br><span class="line">ch = <span class="string">"abc"</span>[<span class="number">1</span>];<span class="comment">//b</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>允许改变字符串字面量的字符（不推荐）</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">//一些编译器可能会出现异常</span></span><br><span class="line">&gt;<span class="keyword">char</span> *p = <span class="string">"abc"</span>;</span><br><span class="line">&gt;*p = <span class="string">'b'</span>;<span class="comment">//字符串字面量被修改为"bbc"</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> *p;</span><br><span class="line">p = <span class="string">"abc"</span>;<span class="comment">//这个赋值操作不是复制"abc"中的字符，而仅仅是使用p指向字符串的第一个字符。</span></span><br></pre></td></tr></table></figure>
<h3 id="13-1-5-字符串字面量与字符常量"><a href="#13-1-5-字符串字面量与字符常量" class="headerlink" title="13.1.5    字符串字面量与字符常量"></a>13.1.5    字符串字面量与字符常量</h3><blockquote>
<p><strong>说明：</strong>只包含一个字符的字符串字面量不同于字符常量。</p>
</blockquote>
<table>
<thead>
<tr>
<th>例子</th>
<th>类型</th>
<th>特点</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&quot;a&quot;</code></td>
<td>字符串字面量</td>
<td>用指针来表示</td>
</tr>
<tr>
<td><code>&#39;a&#39;</code></td>
<td>字符常量</td>
<td>用整数（字符的ASCII码）来表示</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);<span class="comment">//合法，相当于传递`char *`指针作为参数</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">'\n'</span>);<span class="comment">//会报错，传递的不是指针而是整数</span></span><br></pre></td></tr></table></figure>
<h2 id="13-2-字符串变量"><a href="#13-2-字符串变量" class="headerlink" title="13.2    字符串变量"></a>13.2    字符串变量</h2><blockquote>
<p><strong>存储方式：</strong><code>char str[STR_LEN+1]</code></p>
<ul>
<li>载体为一维的字符数组</li>
<li>以空字符串结尾（数组的长度比字符串的长度多一个字符）</li>
</ul>
<p><strong>注意：</strong>如果没有给空字符预留位置，可能导致程序运行时出现不可预知的结果，因为c函数库中的函数假设字符串都以空字符串结束。<br><strong>技巧：</strong>字符串的长度取决于空字符的位置，而不是取决于存放字符串的字符数组的长度。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> STR_LEN 80</span></span><br><span class="line"><span class="keyword">char</span> str[STR_LEN+<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<h3 id="13-2-1-初始化字符串变量"><a href="#13-2-1-初始化字符串变量" class="headerlink" title="13.2.1    初始化字符串变量"></a>13.2.1    初始化字符串变量</h3><blockquote>
<p><strong>两种字面量：</strong><code>字符串字面量</code>和<code>数组字初始化式</code></p>
</blockquote>
<h4 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h4><blockquote>
<p><strong>底层：</strong>c编译器会把它看成是数组初始化式的缩写形式。<br><strong>规则：</strong></p>
<ul>
<li>如果初始化式太短以至于不能填满字符串变量时，c编译器会讲多出的部分都赋值为<code>\0</code></li>
<li>如果没有空间给空字符串，将使数组无法作为字符串使用</li>
</ul>
<p><strong>注意：</strong>一定要确保数组的长度要长于初始化式的长度。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//编译器将把字符床"June 14"中的字符复制到数组date1中，然后追加一个空字符串从而使date1可以作为字符串使用</span></span><br><span class="line"><span class="keyword">char</span> date[<span class="number">8</span>] = <span class="string">"June 14"</span>;</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>J</th>
<th>u</th>
<th>n</th>
<th>e</th>
<th></th>
<th>1</th>
<th>4</th>
<th>\0</th>
<th>\0</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<h4 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h4><blockquote>
<p><strong>规则：</strong>如果初始化式比本身短，会把余下的字符数组元素初始化为<code>\0</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//数组长度可以省略由编译器自己计算，手工计算很容易出错</span></span><br><span class="line"><span class="keyword">char</span> date1[<span class="number">8</span>] = &#123;<span class="string">'J'</span>, <span class="string">'u'</span>, <span class="string">'n'</span>, <span class="string">'e'</span>, <span class="string">' '</span>, <span class="string">'1'</span>, <span class="string">'4'</span>, <span class="string">'\0'</span>&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="13-2-2-字符数组和字符指针"><a href="#13-2-2-字符数组和字符指针" class="headerlink" title="13.2.2    字符数组和字符指针"></a>13.2.2    字符数组和字符指针</h3><blockquote>
<p><strong>说明：</strong>数组变量有两种</p>
</blockquote>
<table>
<thead>
<tr>
<th>＊</th>
<th>字符数组</th>
<th>字符指针</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>声明</strong></td>
<td><code>char varStr[]</code></td>
<td><code>char *varStr</code></td>
</tr>
<tr>
<td><strong>元素是否可修改</strong></td>
<td>是</td>
<td>否（因为指针指向的是不可修改的字符串）</td>
</tr>
<tr>
<td><strong>变量本身是否可改变指向</strong></td>
<td>否（数组名和数组绑定在一起且无法改变指向）</td>
<td>否</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>注意：</strong>声明字符指针必需指向字符数组后才能使用，无论是字面量（两种形式的字面量）还是已经声明好的字符数组。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> *p, str[STR_LEN+<span class="number">1</span>];</span><br><span class="line">p = srt;<span class="comment">//p指向了str的第一个字符</span></span><br></pre></td></tr></table></figure>
<h2 id="13-3-字符串的读／写"><a href="#13-3-字符串的读／写" class="headerlink" title="13.3    字符串的读／写"></a>13.3    字符串的读／写</h2><h3 id="13-3-1-用printf函数和puts函数写字符串"><a href="#13-3-1-用printf函数和puts函数写字符串" class="headerlink" title="13.3.1    用printf函数和puts函数写字符串"></a>13.3.1    用printf函数和puts函数写字符串</h3><h4 id="13-3-1-1-printf函数"><a href="#13-3-1-1-printf函数" class="headerlink" title="13.3.1.1    printf函数"></a>13.3.1.1    <code>printf</code>函数</h4><blockquote>
<p><strong>说明：</strong>转换说明为<code>%[m][.p]s</code>，下面分3中情景讨论。</p>
</blockquote>
<hr>
<p><em>情景1:<code>%s</code>（不限制宽度，不截断）</em></p>
<table>
<thead>
<tr>
<th>情景</th>
<th>表现</th>
</tr>
</thead>
<tbody>
<tr>
<td>末尾提供了<code>空字符</code></td>
<td>逐个写字符<code>直到遇到空字符</code></td>
</tr>
<tr>
<td>末尾没有<code>空字符</code></td>
<td>会越过字符串的末尾继续写，直到最终在<code>内存的某个地方找到空字符</code>为止</td>
</tr>
</tbody>
</table>
<hr>
<p><em>情景2:<code>%ms</code>（限制宽度，不截断）</em></p>
<table>
<thead>
<tr>
<th>m大小</th>
<th>表现</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>>字符串长度</td>
<td>多出部分显示空格，字符串右对齐</td>
<td>在<code>m</code>前使用<code>-</code>强制左对齐</td>
</tr>
<tr>
<td>&lt;字符串长度</td>
<td>忽略设置的m，显示整个字符串</td>
<td>不会截断</td>
</tr>
</tbody>
</table>
<hr>
<p><em>情景3:<code>%m.ps</code>（限制宽度，截断）</em><br>会使字符串的前p个字符在大小为m的区域内显示。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> str[] = <span class="string">"Are we having fun yet?"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"Value of str:%s\n"</span>, str);<span class="comment">//Are we having fun yet?</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">puts</span>(str);<span class="comment">////Are we having fun yet?(\n)</span></span><br></pre></td></tr></table></figure>
<h4 id="13-3-1-2-put函数"><a href="#13-3-1-2-put函数" class="headerlink" title="13.3.1.2    put函数"></a>13.3.1.2    put函数</h4><blockquote>
<p><strong>参数：</strong>需要显示的字符串<br><strong>说明：</strong></p>
<ul>
<li>不使用转换说明和格式串</li>
<li>在写完字符串后，puts函数总会添加一个额外的换行符</li>
</ul>
</blockquote>
<h3 id="13-3-2-用scanf函数和gets函数读字符串"><a href="#13-3-2-用scanf函数和gets函数读字符串" class="headerlink" title="13.3.2    用scanf函数和gets函数读字符串"></a>13.3.2    用scanf函数和gets函数读字符串</h3><h4 id="13-3-2-1-scanf函数"><a href="#13-3-2-1-scanf函数" class="headerlink" title="13.3.2.1    scanf函数"></a>13.3.2.1    scanf函数</h4><blockquote>
<p><strong>说明：</strong></p>
<ul>
<li>不需要在str前添加运算符<code>&amp;</code>，因为str是数组名，编译器会自动把它当作指针来处理</li>
<li>空白符（换行符、空格符、制表符）会使scanf函数停止读入，因此用scanf输入的字符串永远不会包含空白符</li>
<li>scanf函数始终会在字符串末尾存储一个<code>空字符</code>（否则无法当作正常字符串使用）</li>
</ul>
<p><strong>注意：</strong>scanf不会检测何时填满数组，可能会越过数组边界，导致异常。<br><strong>技巧：</strong>使用<code>%ns</code>代替<code>%s</code>可以使scanf函数更安全（<code>n</code> 指可以存储的最大字符的数量）</p>
<p><strong>限制：</strong>通常不用于读入一整行输入。</p>
</blockquote>
<h4 id="13-3-2-2-gets函数"><a href="#13-3-2-2-gets函数" class="headerlink" title="13.3.2.2    gets函数"></a>13.3.2.2    gets函数</h4><blockquote>
<p><strong>说明：</strong>类似scanf函数，把读入的字符放在数组中，然后存储一个<code>空字符</code>。</p>
<ul>
<li>不会在开始读字符串之前跳过空白字符（scanf函数会跳过）</li>
<li>会持续读入直到找到换行符（不是任意空白符）</li>
</ul>
<p><strong>扩展：</strong>gets函数天生就是不安全的，fgets函数是更加安全的选择。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> sentence[STR_LEN+<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"Enter a sentence:\n"</span>);<span class="comment">//To , or not to c</span></span><br><span class="line">gets(sentence);<span class="comment">//sentence的值为"To , or not to c"</span></span><br></pre></td></tr></table></figure>
<h3 id="13-3-3-逐个字符读字符串"><a href="#13-3-3-逐个字符读字符串" class="headerlink" title="13.3.3    逐个字符读字符串"></a>13.3.3    逐个字符读字符串</h3><p><strong>说明：</strong>利用<code>getchar</code>自定义更加灵活的输入函数<br><strong>编程思路：</strong></p>
<ol>
<li>在开始存储字符串之前，函数应该跳过空白字符吗？</li>
<li>什么字符会导致函数停止读取：换行符、任意空白字符、还是其他一些字符？需要存储这类字符还是忽略掉？</li>
<li>如果输入的字符串太长以致无法存储，那么程序应该做些什么：胡咧额外的字符，还是把它们留给下一次的操作输入？</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* 不会跳过空白符，在第一个换行符处（不把换行符存储到字符串中）停止读取，</span><br><span class="line">* 并且忽略额外的字符。</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">read_line</span><span class="params">(<span class="keyword">char</span> str[], <span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> ch;</span><br><span class="line">	<span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>((ch = getchar()) != <span class="string">'\n'</span>)&#123;</span><br><span class="line">		<span class="keyword">if</span>(i &lt; n)&#123;</span><br><span class="line">			str[i++] = ch;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	str[i] = <span class="string">'\0'</span>;</span><br><span class="line">	return i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="13-4-访问字符串中的字符"><a href="#13-4-访问字符串中的字符" class="headerlink" title="13.4    访问字符串中的字符"></a>13.4    访问字符串中的字符</h2><p><strong>说明：</strong>访问字符串中的字符存在两种方式</p>
<ol>
<li>数组下标</li>
<li>指针</li>
</ol>
<h3 id="13-4-1-用数组下标"><a href="#13-4-1-用数组下标" class="headerlink" title="13.4.1    用数组下标"></a>13.4.1    用数组下标</h3><p><strong>说明：</strong>既然字符串是以数组的方式存储的，那么可以使用下标来访问字符串中的字符。<br><strong><code>const</code>：</strong>形式参数使用<code>const</code>修饰可以防止数组被修改。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* 使用数组下标遍历数组计算数组中空格的数量</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">count_spaces</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> s[])</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> count = <span class="number">0</span>, i;</span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; s[i] != <span class="string">'\0'</span>; i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(s[i] == <span class="string">' '</span>)&#123;</span><br><span class="line">			coun++;</span><br><span class="line">		&#125;</span><br><span class="line">		return count;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="13-4-2-用指针"><a href="#13-4-2-用指针" class="headerlink" title="13.4.2    用指针"></a>13.4.2    用指针</h3><blockquote>
<p><strong>说明：</strong>使用指针代替数组下标访问字符串中的字符会更加便捷。<br><code>const</code>：用<code>const</code>修饰字符串指针可以避免传进来的实参的指向被改变，即便如此，因为传进来的指针的副本，所以可以可以自增。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* 使用指针遍历数组计算数组中空格的数量</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">count_spaces</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *s&#123;</span><br><span class="line">	<span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(; s != <span class="string">'\0'</span>; s++)</span></span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(*s == <span class="string">' '</span>)&#123;</span><br><span class="line">			coun++;</span><br><span class="line">		&#125;</span><br><span class="line">		return count;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="13-5-使用c语言的字符串库"><a href="#13-5-使用c语言的字符串库" class="headerlink" title="13.5    使用c语言的字符串库"></a>13.5    使用c语言的字符串库</h2><blockquote>
<p><strong>说明：</strong>c语言的函数库为字符串的操作提供了丰富的函数集，包含在<code>string.h</code>中。<br><strong>参数：</strong></p>
<ul>
<li>每个函数至少需要一个字符串作为实际参数</li>
<li>字符串形式参数类型可以是<code>char *</code></li>
<li>合法的实际参数类型：字符数组、<code>char *</code>类型变量、字符串字面量</li>
</ul>
<p><strong>技巧：</strong></p>
<ul>
<li>形式参数没有声明为const的函数会在调用函数时修改形式参数，因此对应的实际参数不能为字符串字面量（字符串字面量的特点在于不可修改）。</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br></pre></td></tr></table></figure>
<h3 id="13-5-1-strcpy函数"><a href="#13-5-1-strcpy函数" class="headerlink" title="13.5.1    strcpy函数"></a>13.5.1    strcpy函数</h3><p><strong>背景：</strong>不能使用赋值运算符将字符串字面量赋值给字符数组（但字符串指针可以）。因为数组名在c语言中是不能作为左值使用的。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//字符数组形式声明的字符串</span></span><br><span class="line"><span class="keyword">char</span> strArr[] = &#123;<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'\0'</span>&#125;;</span><br><span class="line"><span class="comment">//指针方式声明的字符串</span></span><br><span class="line"><span class="keyword">char</span> *strPointer = <span class="string">"def"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// strArr = "aaa";//这种方式会报错</span></span><br><span class="line">strPointer = <span class="string">"bbb"</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%s\n"</span>, strPointer);</span><br></pre></td></tr></table></figure>
<p><strong>原型：</strong><code>char *strcpy(char *s1, const char *s2)</code><br><strong>用途：</strong>将<code>s2</code>指向的字符串复制到<code>s1</code>指向的数组中。<br><strong>返回值：</strong>被赋值的字符串的首地址，可以被用来实现多重赋值。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">strcpy</span>(s1, <span class="built_in">strcpy</span>(s2, <span class="string">"abc"</span>));<span class="comment">//将abc复制给s1和s2</span></span><br></pre></td></tr></table></figure>
<p><strong>注意：</strong></p>
<ul>
<li>函数会将<code>s2</code>指向的字符串逐个复制过去直到遇到一个空字符为止，因此假设<code>s2</code>长度为<code>n</code>，如果<code>s1</code>长度小于<code>n</code>包含（<code>\0</code>），<code>s1</code>后面的内存也会被覆盖</li>
<li>因为不会修改<code>s2</code>指向的字符串，因此s2被声明为<code>const</code></li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//字符数组形式声明的字符串</span></span><br><span class="line"><span class="keyword">char</span> strArr[] = &#123;<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'\0'</span>&#125;;</span><br><span class="line"><span class="comment">//指针方式声明的字符串</span></span><br><span class="line"><span class="keyword">char</span> *strPointer = <span class="string">"def"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// strArr = "aaa";//这种方式会报错</span></span><br><span class="line">strPointer = <span class="string">"bbb"</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%s\n"</span>, strPointer);</span><br></pre></td></tr></table></figure>
<h3 id="13-5-2-strcat函数"><a href="#13-5-2-strcat函数" class="headerlink" title="13.5.2    strcat函数"></a>13.5.2    strcat函数</h3><p><strong>原型：</strong><code>char *strcats(char *s1, const char *s2)</code><br><strong>说明：</strong>将<code>s2</code>指向的字符串追加到<code>s1</code>指向的字符串的后面<br><strong>返回值：</strong><code>s1</code>指向的字符串（指针）<br><strong>注意：</strong>如果<code>s1</code>指向的数组的大小不足以容纳所有的字符，将会多余的字符复制到数组后面的内存，到处错误。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">strcpy</span>(s1, <span class="string">"abc"</span>);</span><br><span class="line"><span class="built_in">strcpy</span>(s2, <span class="string">"def"</span>);<span class="comment">//"abcdefhgi"</span></span><br><span class="line"><span class="built_in">strcpy</span>(s1, <span class="built_in">strcat</span>(s2, <span class="string">"ghi"</span>));<span class="comment">//"defhgi"</span></span><br></pre></td></tr></table></figure>
<h3 id="13-5-3-strcmp函数"><a href="#13-5-3-strcmp函数" class="headerlink" title="13.5.3    strcmp函数"></a>13.5.3    strcmp函数</h3><p><strong>原型：</strong><code>int strcmp(const char *s1, const chat *s2)</code><br><strong>说明：</strong>比较两个字符串的大小</p>
<table>
<thead>
<tr>
<th>返回值</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>小于0</td>
<td>s1 &lt; s2</td>
</tr>
<tr>
<td>0</td>
<td>s1 == s2</td>
</tr>
<tr>
<td>大于0</td>
<td>s1 &gt; s2</td>
</tr>
</tbody>
</table>
<p><strong>底层：</strong>依据对应ASCII字符集的大小</p>
<ul>
<li>字典顺序</li>
<li>前<code>i</code>个字符相同，第<code>i+1</code>个字符大的大（若其中一个没有第<code>i+1</code>个字符，则字符数多的大）</li>
<li>所有大写字母（65～90）都小于所有小写字符（97～122 ）</li>
<li>数字（48～57）小于字母</li>
<li>空格符（32）小于所有打印字符</li>
</ul>
<h3 id="13-5-4-strlen函数"><a href="#13-5-4-strlen函数" class="headerlink" title="13.5.4    strlen函数"></a>13.5.4    strlen函数</h3><p><strong>原型：</strong><code>size_t strlen(const char *s)</code><br><strong>说明：</strong>求字符串的长度，即字符串中第一个空字符串前的字符的个数（不包括空字符）。</p>
<blockquote>
<p><strong>size_ t</strong>：无符号整数类型（unsigned int 或 unsigned long int ），在c函数库定义的。</p>
</blockquote>
<p><strong>注意：</strong>当用数组作为函数的实际参数时，strlen函数不会测量数组本身的长度，而是返回存储在数组中的字符串的长度。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> len;</span><br><span class="line">fen = <span class="built_in">strlen</span>(<span class="string">"abc"</span>);<span class="comment">//3</span></span><br><span class="line">len = <span class="built_in">strlen</span>(<span class="string">" "</span>);<span class="comment">//0</span></span><br><span class="line"><span class="built_in">strcpy</span>(str1, <span class="string">"abc"</span>);</span><br><span class="line">len = <span class="built_in">strlen</span>(str1);<span class="comment">//3</span></span><br></pre></td></tr></table></figure>
<h3 id="13-5-5-程序：显示一个月的提示列表"><a href="#13-5-5-程序：显示一个月的提示列表" class="headerlink" title="13.5.5    程序：显示一个月的提示列表"></a>13.5.5    程序：显示一个月的提示列表</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$./remind</span><br><span class="line"> Enter day and reminder:1 dd</span><br><span class="line"> Enter day and reminder:2 ff</span><br><span class="line"> Enter day and reminder:3 ff</span><br><span class="line"> Enter day and reminder:0</span><br><span class="line"></span><br><span class="line"> Day Reminder</span><br><span class="line">  1 dd</span><br><span class="line">  2 ff</span><br><span class="line">  3 ff</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Prints a one-month reminder list</span><br><span class="line"> * 程序需要读入一系列天和提示的组合(记录备忘列表)，并且按照顺训进行存储（按日期排序）</span><br><span class="line"> * 额外需求：</span><br><span class="line"> * 1. 天在两个字符的域中右对齐</span><br><span class="line"> * 2. 确定用户没有输入两位以上的数字</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_REMIND 50<span class="comment">//备忘录数量</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MSG_LEN 60<span class="comment">//每条备忘的最大长度</span></span></span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">read_line</span><span class="params">(<span class="keyword">char</span> str[], <span class="keyword">int</span> n)</span></span>;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="comment">//备忘录列表</span></span><br><span class="line"> 	<span class="keyword">char</span> reminders[MAX_REMIND][MSG_LEN + <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"> 	<span class="comment">//日期字符串和信息字符串</span></span><br><span class="line"> 	<span class="keyword">char</span> day_str[<span class="number">3</span>], msg_str[MSG_LEN + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"> 	<span class="keyword">int</span> day, i, j, num_remind = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"> 	<span class="keyword">for</span>(;;)&#123;</span><br><span class="line"> 		<span class="comment">//如果备忘录已满，就停止循环</span></span><br><span class="line"> 		<span class="keyword">if</span>(num_remind == MAX_REMIND)&#123;</span><br><span class="line"> 			<span class="built_in">printf</span>(<span class="string">"-- No space left --\n"</span>);</span><br><span class="line"> 			<span class="keyword">break</span>;</span><br><span class="line"> 		&#125;</span><br><span class="line"> 		<span class="comment">//输入日期和一条备忘清单</span></span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"Enter day and reminder:"</span>);</span><br><span class="line"></span><br><span class="line"> 		<span class="comment">//把日期读入到整形变量day中，即使输入更多的数字，在%与d之间的数2也会通知scanf函数在读入两个数字后停止</span></span><br><span class="line"> 		<span class="built_in">scanf</span>(<span class="string">"%2d"</span>, &amp;day);</span><br><span class="line"></span><br><span class="line"> 		<span class="comment">//如果日期输入0，则停止循环，不在输入任何备忘</span></span><br><span class="line"> 		<span class="keyword">if</span>(day == <span class="number">0</span>)&#123;</span><br><span class="line"> 			<span class="keyword">break</span>;</span><br><span class="line"> 		&#125;</span><br><span class="line"> 		</span><br><span class="line"> 		<span class="comment">//把day的值转换为字符串并写到day_str中</span></span><br><span class="line"> 		<span class="built_in">sprintf</span>(day_str, <span class="string">"%2d"</span>, day);<span class="comment">//day_str会包含一个空字符结尾的合法字符串</span></span><br><span class="line"> 		read_line(msg_str, MSG_LEN);<span class="comment">//读入备忘信息</span></span><br><span class="line"></span><br><span class="line"> 		<span class="comment">//找到备忘录的位置（根据日期从小到大排序的位置）</span></span><br><span class="line"> 		<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; num_remind; i++)&#123;</span><br><span class="line"> 			<span class="comment">//确定这一天的位置</span></span><br><span class="line"> 			<span class="keyword">if</span>(<span class="built_in">strcmp</span>(day_str, reminders[i]) &lt; <span class="number">0</span>)&#123;</span><br><span class="line"> 				<span class="keyword">break</span>;</span><br><span class="line"> 			&#125;</span><br><span class="line"> 		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//将包括该位置之后的备忘信息向后移动</span></span><br><span class="line">		<span class="keyword">for</span>(j = num_remind; j &gt; i; j--)&#123;</span><br><span class="line">			<span class="built_in">strcpy</span>(reminders[j], reminders[j<span class="number">-1</span>]);</span><br><span class="line">		&#125; 	</span><br><span class="line"></span><br><span class="line"> 		<span class="comment">//将备忘信息放在空出来的位置</span></span><br><span class="line"> 		<span class="built_in">strcpy</span>(reminders[i], day_str);</span><br><span class="line"></span><br><span class="line"> 		<span class="comment">//将备忘信息拼接过去</span></span><br><span class="line"> 		<span class="built_in">strcat</span>(reminders[i], msg_str);</span><br><span class="line"> 		num_remind++;</span><br><span class="line"> 	&#125;</span><br><span class="line"></span><br><span class="line"> 	<span class="comment">//打印出当前所有备忘信息</span></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"\nDay Reminder\n"</span>);</span><br><span class="line"> 	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; num_remind; i++)&#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"%s\n"</span>, reminders[i]);</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * 读入一行</span><br><span class="line"> * @param  str 存储字符串的位置</span><br><span class="line"> * @param  n   字符串长度上限</span><br><span class="line"> * @return     该条字符串的长度</span><br><span class="line"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">read_line</span><span class="params">(<span class="keyword">char</span> str[], <span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">char</span> ch;</span><br><span class="line"> 	<span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"> 	<span class="keyword">while</span>((ch = getchar()) != <span class="string">'\n'</span>)&#123;</span><br><span class="line"> 		<span class="keyword">if</span>(i &lt; n)&#123;</span><br><span class="line"> 			str[i++] = ch;</span><br><span class="line"> 		&#125;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	str[i] = <span class="string">'\0'</span>;</span><br><span class="line"> 	return i;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h2 id="13-6-字符串惯用法"><a href="#13-6-字符串惯用法" class="headerlink" title="13.6    字符串惯用法"></a>13.6    字符串惯用法</h2><h3 id="13-6-1-搜索字符串的结尾"><a href="#13-6-1-搜索字符串的结尾" class="headerlink" title="13.6.1    搜索字符串的结尾"></a>13.6.1    搜索字符串的结尾</h3><p><strong>相关惯用法：</strong></p>
<ol>
<li><code>while(*s){s++;}</code></li>
<li><code>while(*s++){...}
 ;</code></li>
</ol>
<h4 id="13-6-1-1-原始版本"><a href="#13-6-1-1-原始版本" class="headerlink" title="13.6.1.1    原始版本"></a>13.6.1.1    原始版本</h4><blockquote>
<p><strong>思路：</strong>从左到右扫描字符串，n自增。当s最终指向一个空字符串时，n的长度就是字符串的长度。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">size_t</span> <span class="built_in">strlen</span>(<span class="keyword">const</span> <span class="keyword">char</span> *s)&#123;</span><br><span class="line">	<span class="keyword">size_t</span> n;</span><br><span class="line">	<span class="keyword">for</span>(n = <span class="number">0</span>; *s != <span class="string">'\0'</span>; s++)&#123;</span><br><span class="line">		n++;</span><br><span class="line">	&#125;</span><br><span class="line">	n++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="13-6-1-2-优化版本"><a href="#13-6-1-2-优化版本" class="headerlink" title="13.6.1.2    优化版本"></a>13.6.1.2    优化版本</h4><blockquote>
<p><strong>思路：</strong></p>
<ol>
<li>空字符的ASCII码值为0，而0在c语言中可以代表“假”</li>
<li>字符串是被当作字符数组来处理的，而数组不同元素的存储地址之差和下标之差相同，因此可以通过地址之差计算数组长度，避免了频繁的自增操作，从而提高速度</li>
</ol>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">size_t</span> <span class="built_in">strlen</span>(<span class="keyword">const</span> chat *s)&#123;</span><br><span class="line">	<span class="keyword">const</span> <span class="keyword">char</span> *p = s;</span><br><span class="line">	<span class="keyword">while</span>(*s)&#123;</span><br><span class="line">		*s++;</span><br><span class="line">	&#125;</span><br><span class="line">	return s - p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="13-6-2-复制字符串"><a href="#13-6-2-复制字符串" class="headerlink" title="13.6.2    复制字符串"></a>13.6.2    复制字符串</h3><blockquote>
<p><strong>惯用法：</strong>字符串复制惯用法<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="keyword">while</span>(*p++ = *s2++)</span><br><span class="line">&gt; ;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h4 id="13-6-2-1-原版"><a href="#13-6-2-1-原版" class="headerlink" title="13.6.2.1    原版"></a>13.6.2.1    原版</h4><blockquote>
<p><strong>说明：</strong>自定义实现<code>strcat</code>函数<br><strong>思路：</strong></p>
<ol>
<li>查找字符串s1末尾空字符串的位置，并使指针p指向它</li>
<li>把字符串s2中的字符逐个复制到p所指向的位置</li>
</ol>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">strcat</span><span class="params">(<span class="keyword">char</span> *s1, <span class="keyword">const</span> chat *s2)</span></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> *p;</span><br><span class="line">	p = s1;</span><br><span class="line">	<span class="comment">//1. 查找字符串s1末尾空字符串的位置，并使指针p指向它</span></span><br><span class="line">	<span class="keyword">while</span>(*p != <span class="string">'\0'</span>)&#123;</span><br><span class="line">		p++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//2. 把字符串s2中的字符逐个复制到p所指向的位置</span></span><br><span class="line">	<span class="keyword">while</span>(*s2 != <span class="string">'\0'</span>)&#123;</span><br><span class="line">		*p = *s2;</span><br><span class="line">		p++;</span><br><span class="line">		s2++;</span><br><span class="line">	&#125;</span><br><span class="line">	*p = <span class="string">'\0'</span>;</span><br><span class="line">	return s1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="13-6-2-2-优化版"><a href="#13-6-2-2-优化版" class="headerlink" title="13.6.2.2    优化版"></a>13.6.2.2    优化版</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">strcat</span><span class="params">(<span class="keyword">char</span> *s1, <span class="keyword">const</span> <span class="keyword">char</span> *s2)</span></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> *p = s1;</span><br><span class="line">	<span class="comment">//1. 查找字符串s1末尾空字符串的位置，并使指针p指向它</span></span><br><span class="line">	<span class="keyword">while</span>(*p)&#123;</span><br><span class="line">		p++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//2. 把字符串s2中的字符逐个复制到p所指向的位置</span></span><br><span class="line">	<span class="keyword">while</span>(*p++ = s2++)</span><br><span class="line">		;</span><br><span class="line">	return s1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="13-7-字符串数组"><a href="#13-7-字符串数组" class="headerlink" title="13.7    字符串数组"></a>13.7    字符串数组</h2><blockquote>
<p><strong>两种方式：</strong><code>二维字符数组</code>和<code>一维指针数组</code><br><strong>技巧：</strong>得益于指针和数组之间的紧密联系，访问一维指针数组中的元素的方式和访问而为字符数组中元素的方式相同。</p>
</blockquote>
<h4 id="二维字符数组"><a href="#二维字符数组" class="headerlink" title="二维字符数组"></a>二维字符数组</h4><blockquote>
<p><strong>缺点</strong></p>
<ol>
<li>需要知道所有字符串的长度，以最长的字符串的长度来确定二位数组每一行的长度。</li>
<li>不能填满数组的一整行的字符会用空字符填补，浪费空间。</li>
</ol>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> planets[][<span class="number">8</span>] = &#123;<span class="string">"Mercury"</span>, <span class="string">"Venus"</span>, <span class="string">"Earth"</span>, <span class="string">"Mars"</span>, <span class="string">"Jupiter"</span>, <span class="string">"Saturn"</span>, <span class="string">"Uranus"</span>, <span class="string">"Neptune"</span>, <span class="string">"Pluto"</span>&#125;;</span><br></pre></td></tr></table></figure>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-07-31%20%E4%B8%8A%E5%8D%888.16.44.png" alt="Alt text"></p>
<h4 id="一维字符指针数组"><a href="#一维字符指针数组" class="headerlink" title="一维字符指针数组"></a>一维字符指针数组</h4><blockquote>
<p><strong>说明：</strong>大部分字符串集都是长短字符串的混合，c语言本身不提供“参次不齐的数组”，但可以通过字符数组指针的数组模拟。<br><strong>参次不齐的数组(ragged array)：</strong>数组的每一行有不同的长度。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">m</span><br><span class="line"></span><br><span class="line"><span class="title">for</span><span class="params">(i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(planets[i][<span class="number">0</span>] == <span class="string">'M'</span>)&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%s begins with M\n"</span>, planets[i]);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-07-31%20%E4%B8%8A%E5%8D%888.23.02.png" alt="Alt text"></p>
<h3 id="13-7-1-命令行参数"><a href="#13-7-1-命令行参数" class="headerlink" title="13.7.1    命令行参数"></a>13.7.1    命令行参数</h3><p><strong>程序参数（command-line atgument）：</strong>不仅是操作系统命令，所有程序都有命令行信息。<code>Q&amp;A</code>为了能够访问这些命令行参数，必须为<code>main</code>函数定义为含有两个参数的函数，这两个参数通常命名为<code>argc</code>和<code>argv</code>。<br><strong>空指针：</strong>是一种不指向任何内容的特殊指针。宏<code>NULL</code>代表空指针。<br><strong>参数向量（argv）和参数计数（argc）：</strong></p>
<ul>
<li>argv[0]：指向程序名的字符串</li>
<li>argv[1]~argv[argc-1]：余下的命令行参数</li>
<li>argv[argc]：指向空指针。</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">*argc：参数计数，命令行参数的数量（包括程序名本身）</span><br><span class="line">*argv: 参数向量，指向命令行参数的指针数组（以字符串的行书存储）</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span>&#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-07-31%20%E4%B8%8A%E5%8D%888.56.34.png" alt="Alt text"></p>
<p><em>命令行输入参数案例</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ls -l remind.c</span><br></pre></td></tr></table></figure>
<p><em>获取参数代码（利用数组）</em></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">1</span>; i&lt;argc; i++)&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%s\n"</span>, argv[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>获取参数代码（利用指针）</em></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> **p;<span class="comment">//p用来指向argv中的字符串，因为argv本身作为数组就是指针，而其中的字符串（字符数组）也是指针，所以声明p为指针的指针</span></span><br><span class="line"><span class="keyword">for</span>(p = &amp;argv[<span class="number">1</span>]; *p != <span class="literal">NULL</span>; p++)&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%s\n"</span>, *p);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="13-7-2-程序：核对行星的名字"><a href="#13-7-2-程序：核对行星的名字" class="headerlink" title="13.7.2    程序：核对行星的名字"></a>13.7.2    程序：核对行星的名字</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NUM_PLANETS 9<span class="comment">//行星的数量</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="comment">//9大行星</span></span><br><span class="line">	<span class="keyword">char</span> *planets[] = &#123;<span class="string">"Mercury"</span>, <span class="string">"Venus"</span>, <span class="string">"Eath"</span>, <span class="string">"Mars"</span>, <span class="string">"Jupiter"</span>,  <span class="string">"Saturn"</span>, <span class="string">"Uranus"</span>, <span class="string">"Nepture"</span>, <span class="string">"Pluto"</span>&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//以此访问每个参数，并遍历9大行星寻找匹配的目标</span></span><br><span class="line">	<span class="keyword">int</span> i, j;</span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">1</span>; i &lt; argc; i++)&#123;</span><br><span class="line">		<span class="keyword">for</span>(j = <span class="number">0</span>; j &lt; NUM_PLANETS; j++)&#123;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">strcmp</span>(argv[i], planets[j]) == <span class="number">0</span>)&#123;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">"%s is planets %d\n"</span>, argv[i], j+<span class="number">1</span>);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(j == NUM_PLANETS)&#123;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">"%s is not a planet\n"</span>, argv[i]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ./planet Pluto  </span><br><span class="line"> Pluto is planets 9</span><br></pre></td></tr></table></figure>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/c语言程序设计－现代方法/" rel="tag">#c语言程序设计－现代方法</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/05/09/12 指针和数组/" rel="next" title="12 指针和数组">
                <i class="fa fa-chevron-left"></i> 12 指针和数组
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/05/10/14 预处理器/" rel="prev" title="14 预处理器">
                14 预处理器 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2016/05/10/13 字符串/"
           data-title="13 字符串" data-url="http://laputa-er.github.io/2016/05/10/13 字符串/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Sean" />
          <p class="site-author-name" itemprop="name">Sean</p>
          <p class="site-description motion-element" itemprop="description">整理了一批过去一段时间ios相关的笔记，其它的笔记也整理下？源码分享出来？再说吧...反正也只有自己会看吧...</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">94</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">11</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#13-1-字符串字面量"><span class="nav-number">1.</span> <span class="nav-text">13.1    字符串字面量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#13-1-1-字符串字面量中的转义序列"><span class="nav-number">1.1.</span> <span class="nav-text">13.1.1    字符串字面量中的转义序列</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-1-2-延续字符串字面量"><span class="nav-number">1.2.</span> <span class="nav-text">13.1.2    延续字符串字面量</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#方式一：用字符-结尾"><span class="nav-number">1.2.1.</span> <span class="nav-text">方式一：用字符\结尾</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#方式二：字面量自动合并（c标准）"><span class="nav-number">1.2.2.</span> <span class="nav-text">方式二：字面量自动合并（c标准）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-1-3-如何存储字符串字面量"><span class="nav-number">1.3.</span> <span class="nav-text">13.1.3    如何存储字符串字面量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-1-4-字符串字面量的操作"><span class="nav-number">1.4.</span> <span class="nav-text">13.1.4    字符串字面量的操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-1-5-字符串字面量与字符常量"><span class="nav-number">1.5.</span> <span class="nav-text">13.1.5    字符串字面量与字符常量</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-2-字符串变量"><span class="nav-number">2.</span> <span class="nav-text">13.2    字符串变量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#13-2-1-初始化字符串变量"><span class="nav-number">2.1.</span> <span class="nav-text">13.2.1    初始化字符串变量</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#字符串"><span class="nav-number">2.1.1.</span> <span class="nav-text">字符串</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#数组"><span class="nav-number">2.1.2.</span> <span class="nav-text">数组</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-2-2-字符数组和字符指针"><span class="nav-number">2.2.</span> <span class="nav-text">13.2.2    字符数组和字符指针</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-3-字符串的读／写"><span class="nav-number">3.</span> <span class="nav-text">13.3    字符串的读／写</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#13-3-1-用printf函数和puts函数写字符串"><span class="nav-number">3.1.</span> <span class="nav-text">13.3.1    用printf函数和puts函数写字符串</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#13-3-1-1-printf函数"><span class="nav-number">3.1.1.</span> <span class="nav-text">13.3.1.1    printf函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#13-3-1-2-put函数"><span class="nav-number">3.1.2.</span> <span class="nav-text">13.3.1.2    put函数</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-3-2-用scanf函数和gets函数读字符串"><span class="nav-number">3.2.</span> <span class="nav-text">13.3.2    用scanf函数和gets函数读字符串</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#13-3-2-1-scanf函数"><span class="nav-number">3.2.1.</span> <span class="nav-text">13.3.2.1    scanf函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#13-3-2-2-gets函数"><span class="nav-number">3.2.2.</span> <span class="nav-text">13.3.2.2    gets函数</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-3-3-逐个字符读字符串"><span class="nav-number">3.3.</span> <span class="nav-text">13.3.3    逐个字符读字符串</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-4-访问字符串中的字符"><span class="nav-number">4.</span> <span class="nav-text">13.4    访问字符串中的字符</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#13-4-1-用数组下标"><span class="nav-number">4.1.</span> <span class="nav-text">13.4.1    用数组下标</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-4-2-用指针"><span class="nav-number">4.2.</span> <span class="nav-text">13.4.2    用指针</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-5-使用c语言的字符串库"><span class="nav-number">5.</span> <span class="nav-text">13.5    使用c语言的字符串库</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#13-5-1-strcpy函数"><span class="nav-number">5.1.</span> <span class="nav-text">13.5.1    strcpy函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-5-2-strcat函数"><span class="nav-number">5.2.</span> <span class="nav-text">13.5.2    strcat函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-5-3-strcmp函数"><span class="nav-number">5.3.</span> <span class="nav-text">13.5.3    strcmp函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-5-4-strlen函数"><span class="nav-number">5.4.</span> <span class="nav-text">13.5.4    strlen函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-5-5-程序：显示一个月的提示列表"><span class="nav-number">5.5.</span> <span class="nav-text">13.5.5    程序：显示一个月的提示列表</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-6-字符串惯用法"><span class="nav-number">6.</span> <span class="nav-text">13.6    字符串惯用法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#13-6-1-搜索字符串的结尾"><span class="nav-number">6.1.</span> <span class="nav-text">13.6.1    搜索字符串的结尾</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#13-6-1-1-原始版本"><span class="nav-number">6.1.1.</span> <span class="nav-text">13.6.1.1    原始版本</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#13-6-1-2-优化版本"><span class="nav-number">6.1.2.</span> <span class="nav-text">13.6.1.2    优化版本</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-6-2-复制字符串"><span class="nav-number">6.2.</span> <span class="nav-text">13.6.2    复制字符串</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#13-6-2-1-原版"><span class="nav-number">6.2.1.</span> <span class="nav-text">13.6.2.1    原版</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#13-6-2-2-优化版"><span class="nav-number">6.2.2.</span> <span class="nav-text">13.6.2.2    优化版</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-7-字符串数组"><span class="nav-number">7.</span> <span class="nav-text">13.7    字符串数组</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#二维字符数组"><span class="nav-number">7.0.1.</span> <span class="nav-text">二维字符数组</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#一维字符指针数组"><span class="nav-number">7.0.2.</span> <span class="nav-text">一维字符指针数组</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-7-1-命令行参数"><span class="nav-number">7.1.</span> <span class="nav-text">13.7.1    命令行参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-7-2-程序：核对行星的名字"><span class="nav-number">7.2.</span> <span class="nav-text">13.7.2    程序：核对行星的名字</span></a></li></ol></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Sean</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"lapuda-er"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  

  

  

  

</body>
</html>
