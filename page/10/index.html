<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="整理了一批过去一段时间ios相关的笔记，其它的笔记也整理下？源码分享出来？再说吧...反正也只有自己会看吧...">
<meta property="og:type" content="website">
<meta property="og:title" content="Sean">
<meta property="og:url" content="http://laputa-er.github.io/page/10/index.html">
<meta property="og:site_name" content="Sean">
<meta property="og:description" content="整理了一批过去一段时间ios相关的笔记，其它的笔记也整理下？源码分享出来？再说吧...反正也只有自己会看吧...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Sean">
<meta name="twitter:description" content="整理了一批过去一段时间ios相关的笔记，其它的笔记也整理下？源码分享出来？再说吧...反正也只有自己会看吧...">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://laputa-er.github.io/page/10/"/>

  <title> Sean </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Sean</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">笔记分享</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/09/10 程序结构/" itemprop="url">
                  10 程序结构
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-05-09T22:53:52+08:00" content="2016-05-09">
              2016-05-09
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/09/10 程序结构/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/09/10 程序结构/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="10-1-局部变量"><a href="#10-1-局部变量" class="headerlink" title="10.1    局部变量"></a>10.1    局部变量</h2><p><strong>局部：</strong>在函数体内声明的变量称为相对于函数的局部。<br><strong>存储期限（storage duration）：</strong>调用闭合函数时“自动”分配局部变量的存储单元，函数返回时收回分配。<br><strong>特点：</strong></p>
<ul>
<li><strong>自动存储期限：</strong>调用闭合函数时“自动”分配局部变量的存储单元，函数返回时收回分配。在闭合函数返回时收回分配。</li>
<li><strong>程序快作用域：</strong>变量的作用域是可以参考变量的程序文本的部分。从变量声明的点开始一直到闭合函数的末尾。局部变量拥有程序块作用域。</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">log2</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">   <span class="keyword">int</span> <span class="built_in">log</span> = <span class="number">0</span>;<span class="comment">/*局部变量*/</span></span><br><span class="line">   <span class="keyword">while</span>(n &gt; <span class="number">1</span>)&#123;</span><br><span class="line">     n /= <span class="number">2</span>;</span><br><span class="line">     <span class="built_in">log</span>++;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="10-1-1-静态存储期限：static"><a href="#10-1-1-静态存储期限：static" class="headerlink" title="10.1.1 静态存储期限：static"></a>10.1.1 静态存储期限：<code>static</code></h3><p><strong>特点：</strong>具有静态存储期限的变量拥有永久的存储单元，所以会在整个程序执行期间会保留变量的值。</p>
<ol>
<li>静态局部变量始终有程序块作用域，它对其他函数而言是不可见的</li>
<li>静态变量是隐藏来自其他函数的数据的地方，但是它会为将来同一个函数的调用保留这些数据。</li>
</ol>
<p><strong>声明方式：</strong>在局部变量声明中放置单词<code>static</code>可以使用变量从自动存储期限变为静态存储期限。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">  <span class="comment">/*因为局部变量i已经声明为static，所以在程序执行期间它占有同样的存储单元。在f返回时，变量i不会丢失自身的值。*/</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">int</span> i;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="10-1-2-形式参数"><a href="#10-1-2-形式参数" class="headerlink" title="10.1.2 形式参数"></a>10.1.2 形式参数</h3><p><strong>和局部变量比较</strong></p>
<ul>
<li><strong>相同点：</strong>自动存储期限、块级作用域</li>
<li><strong>不同点：</strong>在每次函数调用时对形式参数自动进行初始化（调用中通过赋值获得实际参数的值）</li>
</ul>
<h2 id="10-2-外部变量"><a href="#10-2-外部变量" class="headerlink" title="10.2    外部变量"></a>10.2    外部变量</h2><blockquote>
<p><strong>又名：</strong>全局变量<br><strong>声明位置：</strong>外部变量是声明在任何函数体外的。<br><strong>性质：</strong></p>
<ul>
<li>静态存储期限：同声明的static的局部变量一样，外部变量拥有静态存储期限。存储在外部变量中的值将永久保留下来。</li>
<li>文件作用域：从变量声明的点开始一直到闭合文件的末尾。跟随在外部变量声明后的所有函数都可以访问它。</li>
</ul>
</blockquote>
<h3 id="10-2-1-程序：用外部变量实现栈"><a href="#10-2-1-程序：用外部变量实现栈" class="headerlink" title="10.2.1    程序：用外部变量实现栈"></a>10.2.1    程序：用外部变量实现栈</h3><blockquote>
<p><strong>栈（stack）：</strong>像数组一样，栈可以存储具有相同数据类型的多个数据项。<br><strong>操作方式：</strong>LIFO(后进先出)，占中数据项的操作是十分受限制的，可以忘栈中压入数据，或者从栈中弹出数据项。禁止测试或修改不在栈顶的数据项。<br><strong>c语言实现：</strong>把元素存储在数组中，称为<code>constents</code>,命名为top的一个整型变量用来标记栈栈顶的位置。栈为空时，top值为0。为了往栈中压入数据项，可以把数据项简单存储在contents中标记为top的位置上，然后自增top。弹出数据项则要求自减top，然后用它作为<code>contents</code>中标记为top的位置上，谈后自增top。弹出数据项则要求自减top，然后用它作为<code>contents</code>的索引取回弹出的数据项。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> STACK_SIZE 100</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TRUE 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FALSE 0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> Bool;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> contents[STACK_SIZE];</span><br><span class="line"><span class="keyword">int</span> top = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * 清空栈</span><br><span class="line"> * 将top指针指向数组的第一项</span><br><span class="line"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">make_empty</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">	top = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * 检查栈是否为空</span><br><span class="line"> * @return  true:空；false:非空</span><br><span class="line"> */</span></span><br><span class="line"><span class="function">Bool <span class="title">is_empty</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">	return top == <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * 检查栈是否已满</span><br><span class="line"> * @return  true:已满；false:未满</span><br><span class="line"> */</span></span><br><span class="line"><span class="function">Bool <span class="title">is_full</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">	return top == STACK_SIZE;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * 向栈中压入数据</span><br><span class="line"> * @param i 要压入的数据项</span><br><span class="line"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(is_full())&#123;</span><br><span class="line">		stace_overflow();</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		contents[top++] = i;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * 从栈中弹出数据项</span><br><span class="line"> * @return  数据项</span><br><span class="line"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pop</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(is_empty())&#123;</span><br><span class="line">		stack_underflow();</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		return contents[--top];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="10-2-2-外部变量的利与弊"><a href="#10-2-2-外部变量的利与弊" class="headerlink" title="10.2.2 外部变量的利与弊"></a>10.2.2 外部变量的利与弊</h3><blockquote>
<p><strong>利：</strong>有利于多个函数必须共享一个变量或者上述几个函数共享大量变量。<br><strong>蔽：</strong></p>
<ol>
<li>可维护性差：如果改变外部变量，那么需要检查同一个文件中的每个函数，确认该改变对函数的影响。</li>
<li>可读性差：如果外部变量出现问题，难以确定导致这个值发生错误的函数。</li>
<li>可复用性差：很难再其他城程序中复用依赖于外部变量的函数。因为以来外部变量的函数不是“独立的”。</li>
</ol>
<p><strong>技巧：</strong>为了提高可阅读性和可能的错误，使用外部变量时，确保它们都拥有有意义的名字。</p>
</blockquote>
<h3 id="10-2-3-程序：猜数（略）"><a href="#10-2-3-程序：猜数（略）" class="headerlink" title="10.2.3 程序：猜数（略）"></a>10.2.3 程序：猜数（略）</h3><h2 id="10-3-程序块"><a href="#10-3-程序块" class="headerlink" title="10.3    程序块"></a>10.3    程序块</h2><blockquote>
<p><strong>语法：</strong></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    多条声明</span><br><span class="line">    多条语句</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>作用域：</strong>程序块中的变量具有进入程序块时为存储变量分配单元，而在退出程序块时解除分配。<br><strong>函数体（也是程序块）放置临时变量的优点：</strong></p>
<ol>
<li>避免函数体起始位置的声明与只是临时使用的变量相混淆</li>
<li>减少了名字冲突</li>
</ol>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(i &gt; j)&#123;</span><br><span class="line">	<span class="keyword">int</span> temp;</span><br><span class="line">	temp = i;</span><br><span class="line">	i = j;</span><br><span class="line">	j = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="10-4-作用域"><a href="#10-4-作用域" class="headerlink" title="10.4    作用域"></a>10.4    作用域</h2><blockquote>
<p><strong>规则：</strong></p>
<ol>
<li>标识符拥有文件作用域，即在所声明的闭合程序块内有效</li>
<li>新的声明临时会“隐藏”旧的声明</li>
<li>在程序块结束后后面，被“隐藏”的标识符重新获得旧的含义</li>
</ol>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*第1个*/</span></span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*第2个*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">	i = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">g</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">	<span class="comment">/*第3个*/</span></span><br><span class="line">	<span class="keyword">int</span> i = <span class="number">2</span>;</span><br><span class="line">	<span class="keyword">if</span>(i &gt; <span class="number">0</span>)&#123;</span><br><span class="line">		<span class="comment">/*第4个*/</span></span><br><span class="line">		<span class="keyword">int</span> i;</span><br><span class="line">		i = <span class="number">3</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	i = <span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">h</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">	i = <span class="number">5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="10-5-构建c-程序"><a href="#10-5-构建c-程序" class="headerlink" title="10.5    构建c 程序"></a>10.5    构建c 程序</h2><p><strong>程序构成要素：</strong></p>
<ul>
<li>预处理指令：诸如<code>#include</code>和<code>#define</code></li>
<li>类型定义</li>
<li>函数声明和外部变量声明</li>
<li>函数定义</li>
</ul>
<p><strong>建议编排顺序：</strong></p>
<ol>
<li>#include指令</li>
<li>define指令</li>
<li>类型定义（typedef）</li>
<li>外部变量声明</li>
<li>除main函数之外的函数原型</li>
<li>main函数的定义</li>
<li>其他函数的定义</li>
</ol>
<p><strong>建议函数注释：</strong>盒形注释</p>
<ul>
<li>函数名</li>
<li>描述函数的目的</li>
<li>讨论每个参数的含义</li>
<li>描述返回值</li>
<li>罗列任何的副作用</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/09/9 函数/" itemprop="url">
                  9 函数
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-05-09T19:06:38+08:00" content="2016-05-09">
              2016-05-09
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/09/9 函数/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/09/9 函数/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="9-1-函数的定义和调用"><a href="#9-1-函数的定义和调用" class="headerlink" title="9.1    函数的定义和调用"></a>9.1    函数的定义和调用</h2><blockquote>
<p><strong>语法</strong></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">返回类型 函数名(形式参数)&#123;</span><br><span class="line">  函数体</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>简析</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>组成</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>返回类型（return type）</td>
<td>每次调用函数返回数据的类型，当不需要返回值时使用<code>void</code></td>
</tr>
<tr>
<td>形式参数（parameter）</td>
<td>每一个参数都必须有类型，没有行参使用<code>void</code></td>
</tr>
<tr>
<td>函数体（body）</td>
<td>用<code>{}</code>括起来的执行部分</td>
</tr>
<tr>
<td>实际参数（argument）</td>
<td>为了激活（即调用（call））函数，需要写出函数名及跟随其后的实际参数列表</td>
</tr>
</tbody>
</table>
<h3 id="9-1-1-程序：计算平均值"><a href="#9-1-1-程序：计算平均值" class="headerlink" title="9.1.1    程序：计算平均值"></a>9.1.1    程序：计算平均值</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Computes pairwise averages of three numbers</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">float</span> <span class="title">average</span><span class="params">(<span class="keyword">float</span> a, <span class="keyword">float</span> b)</span></span>&#123;</span><br><span class="line"> 	return (a+b) / <span class="number">2</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">float</span> x, y, z;</span><br><span class="line"></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter three numbers:"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%f%f%f"</span>, &amp;x, &amp;y, &amp;z);</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Average of %g and %g: %g\n"</span>, x, y, average(x,y));</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Average of %g and %g: %g\n"</span>, y, z, average(y,z));</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Average of %g and %g: %g\n"</span>, x, z, average(x,z));</span><br><span class="line"></span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ ./average</span><br><span class="line"> Enter three numbers:1 2 3</span><br><span class="line"> Average of 1 and 2: 1.5</span><br><span class="line"> Average of 2 and 3: 2.5</span><br><span class="line"> Average of 1 and 3: 2</span><br></pre></td></tr></table></figure>
<h3 id="9-1-2-程序：显示倒数计时"><a href="#9-1-2-程序：显示倒数计时" class="headerlink" title="9.1.2    程序：显示倒数计时"></a>9.1.2    程序：显示倒数计时</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Prints a countdown</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">print_count</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"T minus %d and counting\n"</span>, n);</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> i;</span><br><span class="line"> 	<span class="keyword">for</span>(i = <span class="number">10</span>; i &gt; <span class="number">0</span>; --i)&#123;</span><br><span class="line"> 		print_count(i);</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">./countdwn </span><br><span class="line">T minus 10 and counting</span><br><span class="line">T minus 9 and counting</span><br><span class="line">T minus 8 and counting</span><br><span class="line">T minus 7 and counting</span><br><span class="line">T minus 6 and counting</span><br><span class="line">T minus 5 and counting</span><br><span class="line">T minus 4 and counting</span><br><span class="line">T minus 3 and counting</span><br><span class="line">T minus 2 and counting</span><br><span class="line">T minus 1 and counting</span><br></pre></td></tr></table></figure>
<h3 id="9-1-3-程序：显示双关语"><a href="#9-1-3-程序：显示双关语" class="headerlink" title="9.1.3    程序：显示双关语"></a>9.1.3    程序：显示双关语</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Prints a bad pun</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">print_pun</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"To c, or not to c:that is the question.\n"</span>);</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	print_pun();</span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ./pun2</span><br><span class="line"> To c, or not to c:that is the question.</span><br></pre></td></tr></table></figure>
<h3 id="9-1-4-函数定义"><a href="#9-1-4-函数定义" class="headerlink" title="9.1.4    函数定义"></a>9.1.4    函数定义</h3><blockquote>
<p><strong>函数定义：</strong></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">返回类型 函数名(形式参数)&#123;</span><br><span class="line">  声明</span><br><span class="line">  语句</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h4><blockquote>
<p><strong>规则：</strong></p>
<ul>
<li>函数无法返回数组，但是没有其它关于返回类型的限制</li>
<li>如果忽略返回类型，那么会假定函数返回值的类型时<code>int</code>型</li>
<li>制定返回类型是<code>void</code>型说明函数没有返回值</li>
</ul>
<p><strong>技巧：</strong></p>
<ul>
<li>为每个函数指定一个明显的返回类型是一个很好的方法（<code>void</code>也可以省略，毕竟经典c没有<code>void</code>概念，但不推荐这样）</li>
<li>如果返回值很冗长，比如<code>unsigned long int</code>，那么把返回类型单独放一行是非常有用的</li>
</ul>
</blockquote>
<h4 id="参数列表"><a href="#参数列表" class="headerlink" title="参数列表"></a>参数列表</h4><blockquote>
<p><strong>规则：</strong></p>
<ul>
<li>需要在每个形式参数的前面说明其类型</li>
<li>形式参数间用逗号进行分隔</li>
<li>如果函数没有形式参数，那么在圆口哈没应该出现<code>void</code></li>
<li>即使有些行参具有相同数据类型，也必须对每个形式参数分别进行类型说明</li>
</ul>
</blockquote>
<h4 id="函数体"><a href="#函数体" class="headerlink" title="函数体"></a>函数体</h4><blockquote>
<p><strong>规则：</strong></p>
<ul>
<li>函数体内声明的变量专属于此函数，其它函数不能对这些变量进行检查或修改</li>
<li>函数体可以为空，以后可以回来编写它的函数体</li>
</ul>
</blockquote>
<h3 id="9-1-5-函数调用"><a href="#9-1-5-函数调用" class="headerlink" title="9.1.5    函数调用"></a>9.1.5    函数调用</h3><blockquote>
<p><strong>语法：</strong><code>[强制转换返回类型] 函数名(实参1, 实参2 ...);</code><br><strong>有无返回值的函数调用的区别：</strong>void型的函数调用是语句，所以调用后边始终跟着分号；非void型的函数调用是表达式。<br><strong>注意：</strong>丢掉圆括号仍然是合法的表达式，但不起任何作用，有些编译器会给出警告。</p>
</blockquote>
<h4 id="强制转换返回类型"><a href="#强制转换返回类型" class="headerlink" title="[强制转换返回类型]"></a>[强制转换返回类型]</h4><blockquote>
<p><strong>说明：</strong>很少用到，可以省略<br><strong>技巧：</strong>可以将返回值强制类型转换成<code>void</code>，使别人清楚编写者使故意扔掉返回值的。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">void</span>) <span class="built_in">printf</span>(<span class="string">"Hi, Mom!\n"</span>);</span><br></pre></td></tr></table></figure>
<h3 id="9-1-6-程序：判定素数"><a href="#9-1-6-程序：判定素数" class="headerlink" title="9.1.6    程序：判定素数"></a>9.1.6    程序：判定素数</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Tests whether a number is prime</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="meta">#<span class="meta-keyword">define</span> TRUE 1</span></span><br><span class="line"> <span class="meta">#<span class="meta-keyword">define</span> FALSE 0</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">typedef</span> <span class="keyword">int</span> Bool;</span><br><span class="line"> <span class="function">Bool <span class="title">is_prime</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> divisor;</span><br><span class="line"></span><br><span class="line"> 	<span class="keyword">if</span>(n &lt;= <span class="number">1</span>)&#123;</span><br><span class="line"> 		return FALSE;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="keyword">for</span>(divisor = <span class="number">2</span>; divisor * divisor &lt;= n; divisor++)&#123;</span><br><span class="line"> 		<span class="keyword">if</span>(n % divisor == <span class="number">0</span>)&#123;</span><br><span class="line"> 			return FALSE;</span><br><span class="line"> 		&#125;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	return TRUE;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> n;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter a number:"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line"> 	<span class="keyword">if</span>(is_prime(n))&#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"'Prime'\n"</span>);</span><br><span class="line"> 	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"Not prime\n"</span>);</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ./prime </span><br><span class="line"> Enter a number:34</span><br><span class="line"> Not prime</span><br></pre></td></tr></table></figure>
<h2 id="9-2-函数声明"><a href="#9-2-函数声明" class="headerlink" title="9.2    函数声明"></a>9.2    函数声明</h2><blockquote>
<p><strong>背景：</strong>c语言没有要求函数的定义必须放置在<code>main</code>函数的定义之后。如果函数的定义在调用之后，那么编译器会为被调用的函数的函数做一些假设。如果假设错误，则程序无法正常工作。<br><strong>说明：</strong>在调用前声明（declare）每个函数，函数声明是的编译器对函数进行概要浏览，而函数的完整定义稍后再出现。</p>
<blockquote>
<p><strong>函数原型（function prototype）：</strong><code>Q&amp;A</code>中将这种函数声明称为函数原型。原型为如何调用函数提供了一个完整的描述：提供了多少实际参数，这些参数应该是什么类型，以及返回的结果是什么类型。<br><strong>行参规则：</strong>可以不写形式参数的名字，只要显示类型就可以，<code>float average(float float)</code>，但不建议，为了代码的可阅读性和可维护性。</p>
</blockquote>
<p><strong>语法：</strong><code>返回类型 函数名（形式参数）;</code><br><strong>注意：</strong>函数的声明必须和函数的定义一致。</p>
</blockquote>
<h2 id="9-3-实际参数"><a href="#9-3-实际参数" class="headerlink" title="9.3    实际参数"></a>9.3    实际参数</h2><blockquote>
<p><strong>实参和形参：</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>分类</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>形式参数(parameter)</td>
<td>出现在函数定义中，它们以假名字来表示函数调用时提供的值</td>
</tr>
<tr>
<td>实际参数(argument)</td>
<td>出现在函数调用中的表达式</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>通过值传递：</strong>调用函数时，计算出每个实际参数的值并且把它赋值给相应的形式参数。</p>
<blockquote>
<p><strong>特点：</strong>在函数的执行过程中，对形式参数的改变不会影响实际参数的值。</p>
</blockquote>
</blockquote>
<h3 id="9-3-1-实际参数的转换"><a href="#9-3-1-实际参数的转换" class="headerlink" title="9.3.1    实际参数的转换"></a>9.3.1    实际参数的转换</h3><blockquote>
<p><strong>说明：</strong>c语言允许在实际参数的类型和形式参数的类型不匹配的情况下进行函数调用。<br><strong>实参转换规则：</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>编译器在调用前是否遇到原型</th>
<th>转换方式</th>
</tr>
</thead>
<tbody>
<tr>
<td>是</td>
<td>实参的值被隐式转换成相应形式参数的类型。</td>
</tr>
<tr>
<td>否</td>
<td>编译器执行默认的实际参数提升</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>默认的实际参数提升</strong></p>
<ol>
<li>把<code>float</code>型的实际参数转换成<code>double</code>类型</li>
<li>执行整数的提升（即把<code>char</code>型和<code>short</code>型的实际参数转换成<code>int</code>型）<br><strong>注意：</strong>默认的实际参数提升不总会获得期望的效果<br><strong>技巧：</strong>始终在调用函数前声明函数非常必要。</li>
</ol>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Enter number to be squard:"</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;i);</span><br><span class="line">	<span class="comment">//把变量i强制转换为正确的类型的方法</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"The answer if %g\n"</span>, square((double)i));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="9-3-2-数组型实际参数"><a href="#9-3-2-数组型实际参数" class="headerlink" title="9.3.2    数组型实际参数"></a>9.3.2    数组型实际参数</h3><p><strong>语法：</strong><code>数组类型 数组实参名[数组长度]</code><br><strong>特点：</strong></p>
<ul>
<li>其中<code>数组长度</code>通常省略不写。即便写了在函数中仍然无法判断数组的长度。</li>
<li>多维数组形式参数只能忽略第一位的长度</li>
</ul>
<p><strong>获取实参数组长度：</strong>c语言没有提供任何简便的方法来确定传递给它的数组的长度。但是如果函数需要，必须把长度作为额外的实际参数提供给函数。<br><strong>注意：</strong>在函数内部通过<code>sizeof(a) / sizeof(a[0])</code>的方式并不能正确计算出传递进来的数组的长度。<br><strong>技巧：</strong>通过传递比数组实际长度小的整数参数，来部分操作数组。<br><strong>延伸：</strong>不能传递令人困扰的具有任意列数的多维数组。幸运的是，我们经常可以通过使用指针数组的方式处理。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LEN 100</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*函数原型*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sun_array</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> n)</span></span>;<span class="comment">//如果愿意可以省略形式参数的名字</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> b[LEN], total;</span><br><span class="line">	total = sun_array(b, LEN);<span class="comment">//在数组名传递给函数时，不要在数组名的后边放置方括号</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line">* params&#123;int Array&#125; a 数组</span><br><span class="line">* params&#123;int&#125; n 数组长度</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sun_array</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i, sun = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">		sun += a[i];</span><br><span class="line">	&#125;</span><br><span class="line">	return sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="9-4-return语句"><a href="#9-4-return语句" class="headerlink" title="9.4    return语句"></a>9.4    return语句</h2><blockquote>
<p><strong>return语句：</strong><code>return 表达式;</code><br><strong>隐式转换：</strong>如果<code>return</code>语句中表达式的类型和函数的返回类型不匹配，那么系统将会把表达式的类型隐式转换为返回类型<br><strong>立即返回：</strong>在返回类型为<code>void</code>的函数中可以使用<code>return;</code>，会导致函数立即返回，后面不能包含表达式</p>
</blockquote>
<p><strong><code>void</code>和非<code>void</code></strong></p>
<table>
<thead>
<tr>
<th>返回值类型是否为<code>void</code></th>
<th>是否必须<code>return</code></th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>否</td>
<td>是</td>
<td>必须使用<code>return 表达式</code>返回值，否则某些编译器会报错</td>
</tr>
<tr>
<td>是</td>
<td>否</td>
<td><code>return</code>并不是必须的，因为在执行最后一条语句后函数将会自动跳转。</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print_pun</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"To c, or not to C :that is the qyestion.\n"</span>)</span><br><span class="line">	return;<span class="comment">/*可以省略*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="9-5-程序终止"><a href="#9-5-程序终止" class="headerlink" title="9.5    程序终止"></a>9.5    程序终止</h2><blockquote>
<p><strong>状态码：</strong>即<code>main</code>函数的返回值，默认为<code>int</code>类型；或者<code>exit</code>函数的实参。</p>
<blockquote>
<p><strong>用途：</strong>在某些操作系统中程序终止时可以检测到状态码。</p>
</blockquote>
</blockquote>
<table>
<thead>
<tr>
<th>状态</th>
<th>状态码</th>
</tr>
</thead>
<tbody>
<tr>
<td>正常终止</td>
<td>0</td>
</tr>
<tr>
<td>异常终止</td>
<td>非0</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>技巧：</strong>即使不打算用状态码，确信每个c程序都返回状态码也是一个很好的实践，因为某些运行程序的人可能稍后再决定测试状态码。</p>
<h3 id="exit函数"><a href="#exit函数" class="headerlink" title="exit函数"></a>exit函数</h3><p><strong>功能：</strong>终止程序，相当于在<code>main</code>函数中使用<code>return</code>。<br><strong>实参：</strong>传递给<code>exit</code>函数的实际参数和<code>main</code>函数的返回值具有相同的含义，两者都说明程序终止时的状态。<br><strong>所在库：</strong><code>&lt;stdlib.h&gt;</code><br><strong>相关宏定义：</strong><code>EXIT_SUCCESS</code>和<code>EXIT_FAILURE</code>,值由实现定义，典型的值是0和1<br><strong>区别于<code>return</code>：</strong><code>return</code>和<code>exit</code>都可以在任何函数中调用，但<code>return</code>只有在<code>main</code>函数中调用才会终止程序；<code>exit</code>在任何函数中调用都会终止程序。<br><strong>技巧：</strong>一些程序员专门使用<code>exit</code>函数以便于模式匹配程序可以很容易地定位程序中全部的退出点。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exit</span>(EXIT_SUCCESS);</span><br></pre></td></tr></table></figure>
<h2 id="9-6-递归函数"><a href="#9-6-递归函数" class="headerlink" title="9.6    递归函数"></a>9.6    递归函数</h2><blockquote>
<p><strong>说明：</strong>如果函数调用它本身，那么此函数就是递归的（recursice）。<br><strong>技巧：</strong>为了防止无限递归，所有递归函数都需要某些类型的终止条件。<br><strong>注意：</strong>c语言允许递归，但大多数c程序员并不经常使用递归。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* 计算n的阶乘</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">face</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(n &lt;= <span class="number">1</span>)&#123;</span><br><span class="line">		return <span class="number">1</span>;</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		return n * fact(n<span class="number">-1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line">* 计算x^n</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">power</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">	return n == <span class="number">0</span> ? <span class="number">1</span> : x * power(x, n - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="9-6-1-快速排序算法"><a href="#9-6-1-快速排序算法" class="headerlink" title="9.6.1    快速排序算法"></a>9.6.1    快速排序算法</h3><blockquote>
<p><strong>分治法(divide-and-conquer)：</strong>把一个大问题划分成多个较小的问题，然后采用相同的算法分别解决这些小问题。比如排序算法。<br><strong>算法操作：</strong></p>
<ol>
<li>选择数组元素e（作为“分割元素”），然后重新排列数组使得元素从1一直到i-1都是小雨或等于元素e的，元素i包含e，而元素从i-1一直到n都是大于或等于e的。</li>
<li>通过递归地采用快速排序算法，对从1到i-1的元素进行排序。</li>
<li>通过递归地采用快速排序方法，对从i+1到n的元素进行排序。</li>
</ol>
</blockquote>
<h4 id="自己实现"><a href="#自己实现" class="headerlink" title="自己实现"></a>自己实现</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Sorts an array of integers using Quicksort algorthm</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"> <span class="meta">#<span class="meta-keyword">define</span> N 12</span></span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">quicksort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span></span>;</span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">printArr</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> flag)</span></span>;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> a[N] = &#123;<span class="number">5</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">7</span>,<span class="number">1</span>,<span class="number">9</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">6</span>&#125;;</span><br><span class="line"> 			  </span><br><span class="line"> 	quicksort(a, <span class="number">0</span>, N<span class="number">-1</span>);</span><br><span class="line"> 	printArr(a, <span class="number">3</span>);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * 打印数组</span><br><span class="line"> * @param &#123;int&#125; a 需要打印的数组</span><br><span class="line"> * @param &#123;int&#125; flag 表示打印时排序处在的状态</span><br><span class="line"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printArr</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> flag)</span></span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, flag);</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, a[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * 自己实现的快排程序：快速排序</span><br><span class="line"> * @param &#123;int&#125; a[] 被排序的数组</span><br><span class="line"> * @param &#123;int&#125; low 起点</span><br><span class="line"> * @param &#123;int&#125; high 终点</span><br><span class="line"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">myquicksort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span></span>&#123;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"%d****%d\n"</span>, low, high);</span><br><span class="line"> 	<span class="keyword">if</span>(low &gt;= high)&#123;</span><br><span class="line"> 		return ;</span><br><span class="line"> 	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"> 		<span class="keyword">int</span> middleValue = a[low];</span><br><span class="line"> 		<span class="keyword">int</span> emptyPoint = low;</span><br><span class="line"> 		<span class="keyword">int</span> newLow = low, </span><br><span class="line"> 			newHigh = high;</span><br><span class="line"> 		</span><br><span class="line"> 		<span class="comment">/**</span><br><span class="line"> 		 * 只要low指针和high指针没有最后相遇，就交替往中间靠拢。并在在这个过程中完成位置的交换。</span><br><span class="line"> 		 * 原理是：有点像拆东墙补西墙，把中间数字两边的数字看作东墙和西墙的话，</span><br><span class="line"> 		 * 其实就是在东墙上找西墙上的砖补到西墙上，东墙被拿走砖的位置且只能是这个位置需要西墙去补。一来二去就完成了砖的交换过程。</span><br><span class="line"> 		 */</span></span><br><span class="line"> 		<span class="keyword">while</span>(newLow &lt; newHigh)&#123;</span><br><span class="line"> 			<span class="keyword">if</span>(newLow == emptyPoint)&#123;</span><br><span class="line"> 				<span class="comment">//待定的位置为低位：高位指针向左移动寻找比中间值小的数</span></span><br><span class="line"> 				<span class="keyword">while</span>(a[newHigh] &gt;= middleValue)&#123;</span><br><span class="line"> 					<span class="keyword">if</span>(newHigh &gt; newLow)&#123;</span><br><span class="line"> 						newHigh--;	</span><br><span class="line"> 					&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"> 						<span class="keyword">goto</span> done;</span><br><span class="line"> 					&#125;</span><br><span class="line"> 				&#125;</span><br><span class="line"> 				a[emptyPoint] = a[newHigh];</span><br><span class="line"> 				emptyPoint = newHigh;</span><br><span class="line"> 			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"> 				<span class="comment">//待定的位置为高位：低位指针向右移动寻找比中间值大的数</span></span><br><span class="line"> 				<span class="keyword">while</span>(a[newLow] &lt;= middleValue)&#123;</span><br><span class="line"> 					<span class="keyword">if</span>(newHigh &gt; newLow)&#123;</span><br><span class="line"> 						newLow++;</span><br><span class="line"> 					&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"> 						<span class="keyword">goto</span> done;</span><br><span class="line"> 					&#125;</span><br><span class="line"> 				&#125;</span><br><span class="line"> 				a[emptyPoint] = a[newLow];</span><br><span class="line"> 				emptyPoint = newLow;</span><br><span class="line"> 			&#125;</span><br><span class="line"> 			printArr(a, <span class="number">1</span>);</span><br><span class="line"> 		&#125;</span><br><span class="line"> 		<span class="comment">//标记</span></span><br><span class="line"> 		done:</span><br><span class="line"> 		a[emptyPoint] = middleValue;</span><br><span class="line"> 		printArr(a, <span class="number">0</span>);</span><br><span class="line"> 		<span class="keyword">if</span>(newLow &gt; low)&#123;</span><br><span class="line"> 			quicksort(a, low, newLow - <span class="number">1</span>);	</span><br><span class="line"> 		&#125;</span><br><span class="line"> 		<span class="keyword">if</span>(newHigh &lt; high)&#123;</span><br><span class="line"> 			quicksort(a, newHigh + <span class="number">1</span>, high);	</span><br><span class="line"> 		&#125;</span><br><span class="line"> 	&#125;	</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h3 id="9-6-2-程序：快速排序"><a href="#9-6-2-程序：快速排序" class="headerlink" title="9.6.2 程序：快速排序"></a>9.6.2 程序：快速排序</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Sorts an array of intergers using Quicksort algorithm</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="meta">#<span class="meta-keyword">define</span> N 10</span></span><br><span class="line"> <span class="comment">/*声明函数*/</span></span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">quicksort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span></span>;</span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">split</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span></span>;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> a[N], i;</span><br><span class="line"></span><br><span class="line"> 	<span class="comment">/*输入需要排队的数组*/</span></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter %d numbers to be sorted :"</span>, N);</span><br><span class="line"> 	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; N; i++)&#123;</span><br><span class="line"> 		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[i]);</span><br><span class="line"> 	&#125;</span><br><span class="line"></span><br><span class="line"> 	<span class="comment">/*调用排序函数进行排序*/</span></span><br><span class="line"> 	quicksort(a, <span class="number">0</span>, N - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"> 	<span class="comment">/*打印排序好的数组*/</span></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"In sorted order:"</span>);</span><br><span class="line"> 	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; N; i++)&#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"%d "</span>, a[i]);</span><br><span class="line"> 	&#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * 快排程序</span><br><span class="line"> * @param &#123;Array&#125; a 数组</span><br><span class="line"> * @param &#123;int&#125; low 开始下标 </span><br><span class="line"> * @param &#123;int&#125; high 结束下标</span><br><span class="line"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">quicksort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> low, high)</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> middle;</span><br><span class="line"> 	<span class="keyword">if</span>(low &gt;= high)&#123;</span><br><span class="line"> 		return;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="comment">//获得分段的中间位置</span></span><br><span class="line"> 	middle = split(a, low, high);</span><br><span class="line"> 	quicksort(a, low, middle <span class="number">-1</span>);</span><br><span class="line"> 	quicksort(a, middle + <span class="number">1</span>, high);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">split</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> part_element = a[low];</span><br><span class="line"> 	<span class="keyword">for</span>(;;)&#123;</span><br><span class="line"> 		<span class="comment">/*high指针向左移动寻找比part_element小的数，直到找到或low和high指针重合*/</span></span><br><span class="line"> 		<span class="keyword">while</span>(low &lt; high &amp;&amp; part_element &lt;= a[high])&#123;</span><br><span class="line"> 			high--;</span><br><span class="line"> 		&#125;</span><br><span class="line"> 		<span class="comment">//如果重合了，说明没有找到</span></span><br><span class="line"> 		<span class="keyword">if</span>(low &gt;= high)&#123;</span><br><span class="line"> 			<span class="keyword">break</span>;</span><br><span class="line"> 		&#125;</span><br><span class="line"> 		<span class="comment">//如果找到了，将找到的比中间值小的数放到当前low指针指向的位置，并将指针向右移动</span></span><br><span class="line"> 		a[low++] = a[high];</span><br><span class="line"></span><br><span class="line"> 		<span class="comment">/*low指针向右移动，寻找比part_element大的数，直到找到一个或low和high重合*/</span></span><br><span class="line"> 		<span class="keyword">while</span>(low &lt; high &amp;&amp; a[low] &lt;= part_element)&#123;</span><br><span class="line"> 			low++;</span><br><span class="line"> 		&#125;</span><br><span class="line"> 		<span class="comment">//重合了就停止循环</span></span><br><span class="line"> 		<span class="keyword">if</span>(low &gt;= high)&#123;</span><br><span class="line"> 			<span class="keyword">break</span>;</span><br><span class="line"> 		&#125;</span><br><span class="line"> 		<span class="comment">//如果没重合，就讲找到的数移动到high指针指向的位置，并将high的指针向左移动一下</span></span><br><span class="line"> 		a[high--] = a[low];</span><br><span class="line"> 		return high;</span><br><span class="line"> 	&#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h3 id="9-6-3-改进"><a href="#9-6-3-改进" class="headerlink" title="9.6.3    改进"></a>9.6.3    改进</h3><ol>
<li><p>改进分割算法</p>
<blockquote>
<p>上面介绍的方法不是最有效的。我们不再选择数组中的第一个元素作为分割元素，较好的方法是取第一个元素、中间元素和最后一个元素的中间值。分个过程本身也可以加速。特别是，在两个while循环中避免测试low&lt;high是可能的。</p>
</blockquote>
</li>
<li><p>采用不同的方法进行小数组排序</p>
</li>
<li><p>使得快速排序非递归</p>
<blockquote>
<p>虽然快速排序本质上是使用递归算法，并且递归格式的快速排序是最容易理解的，但是实际上若去掉递归会更有效率。</p>
</blockquote>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/09/8 数组/" itemprop="url">
                  8 数组
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-05-09T18:48:30+08:00" content="2016-05-09">
              2016-05-09
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/09/8 数组/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/09/8 数组/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>变量：</strong>变量分为两种</p>
</blockquote>
<table>
<thead>
<tr>
<th>分类</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>标量（scalar）</td>
<td>标亮具有保存单一数据项的能力</td>
</tr>
<tr>
<td>聚合（aggregate）</td>
<td>存储数值的集合（数组(array)和结构(structure)）</td>
</tr>
</tbody>
</table>
<h2 id="8-1-一维数组"><a href="#8-1-一维数组" class="headerlink" title="8.1    一维数组"></a>8.1    一维数组</h2><blockquote>
<p><strong>说明：</strong>数组是含有多个数据值的数据结构，并且每个数据之具有相同的数据类型。这些数据类型的值被称为元素（element）。<br><strong>声明数组：</strong>需要说明数组元素的<code>类型</code>(任何类型)和<code>数量</code>（任何整数常量表达式）。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>];</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>技巧：</strong>因为程序后面变化时可能需要调整数组的长度，所以较好的方法是用宏来定义数组的长度。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 10</span></span><br><span class="line"><span class="keyword">int</span> a[N];</span><br></pre></td></tr></table></figure>
<h3 id="8-1-1-数组下标"><a href="#8-1-1-数组下标" class="headerlink" title="8.1.1    数组下标"></a>8.1.1    数组下标</h3><blockquote>
<p><strong>说明：</strong>为了存取特定的数组元素，可以在写数组名的同时在后迷呐加上一个用方括号围绕的整数值（称这是对数组进行下标（subsvripting）或索引（indexing））。<br><strong>注意：</strong></p>
<ul>
<li><code>a[i]</code>的表达式格式是左值，所以数组元素可以和普通变量一样使用</li>
<li>在调用scanf函数读取数组元素时，就像对待普通变量一样，必须使用取地址符号<code>&amp;</code>。</li>
<li>c语言不要求检查下标的范围，当下标超出范围时，程序可能执行不可预知的行为。</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>], i;</span><br><span class="line"><span class="comment">//对某些编译器来说，这个表面上正确的for语句却产生了一个无限循环</span></span><br><span class="line"><span class="comment">//如果i在内存中的位置在a[9]后面，那么修改a[10]其实是修改了i，使i变为0</span></span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">		a[i] = <span class="number">0</span>;	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>技巧：</strong>避免数组下标的副作用。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//不确定的做法</span></span><br><span class="line"><span class="keyword">while</span>(i &lt; N)&#123;</span><br><span class="line">	a[i] = b[i++];<span class="comment">//i有可能会在复制发生之前就进行自增，导致两个数组错位</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//安全的做法</span></span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; N; i++)&#123;</span><br><span class="line">	a[i] = b[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">a[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>, a[<span class="number">5</span>]);</span><br><span class="line">++a[i];</span><br><span class="line"></span><br><span class="line"><span class="comment">//清空数组</span></span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; N; i++)&#123;</span><br><span class="line">	a[i] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//读取数组元素</span></span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; N; i++)&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//求和</span></span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; N; i++)&#123;</span><br><span class="line">	sun += a[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="8-1-2-程序：数列反向"><a href="#8-1-2-程序：数列反向" class="headerlink" title="8.1.2    程序：数列反向"></a>8.1.2    程序：数列反向</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Reverse a series of numbers</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="meta">#<span class="meta-keyword">define</span> N 10</span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> a[N], i;</span><br><span class="line"></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter %d numbers:"</span>, N);</span><br><span class="line"> 	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; N; ++i)&#123;</span><br><span class="line"> 		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[i]);</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"In reverse order:"</span>);</span><br><span class="line"> 	<span class="keyword">for</span>(i = N<span class="number">-1</span>; i &gt;= <span class="number">0</span>; --i)&#123;</span><br><span class="line"></span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">" %d"</span>, a[i]);</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ ./reverse</span><br><span class="line"> Enter 10 numbers:10</span><br><span class="line"> 9</span><br><span class="line"> 8</span><br><span class="line"> 7</span><br><span class="line"> 6</span><br><span class="line"> 5</span><br><span class="line"> 4</span><br><span class="line"> 3</span><br><span class="line"> 2</span><br><span class="line"> 1</span><br><span class="line"> In reverse order: 1 2 3 4 5 6 7 8 9 10</span><br></pre></td></tr></table></figure>
<h3 id="8-1-3-数组初始化"><a href="#8-1-3-数组初始化" class="headerlink" title="8.1.3    数组初始化"></a>8.1.3    数组初始化</h3><blockquote>
<p><strong>常量表达式列表规则：</strong></p>
<ul>
<li>列表用<code>{}</code>括起来，内部数值用<code>,</code>分隔</li>
<li>初始化式完全为空或比数组长度长是非法的，但可以比数组短，此时数组中生育的元素赋值为0</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//完整的格式</span></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//省略数组的长度，此时编译器会利用初始化式的长度确定数组的大小</span></span><br><span class="line"><span class="keyword">int</span> a[] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化式比数组长度短</span></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;;<span class="comment">//&#123;1,2,3,4,5,6,0,0,0,0&#125;;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//全部数组元素初始化为0</span></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>] = &#123;<span class="number">0</span>&#125;;<span class="comment">//&#123;0,0,0,0,0,0,0,0,0,0&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="8-1-4-程序：检查数中重复出现的数字"><a href="#8-1-4-程序：检查数中重复出现的数字" class="headerlink" title="8.1.4    程序：检查数中重复出现的数字"></a>8.1.4    程序：检查数中重复出现的数字</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Checks numbers for repeated digits</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="meta">#<span class="meta-keyword">define</span> TRUE 1</span></span><br><span class="line"> <span class="meta">#<span class="meta-keyword">define</span> FALSE 0</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">typedef</span> <span class="keyword">int</span> Bool;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	Bool digit_seen[<span class="number">10</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"> 	<span class="keyword">int</span> digit;</span><br><span class="line"> 	<span class="keyword">long</span> <span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter a number:"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%ld"</span>, &amp;n);</span><br><span class="line"></span><br><span class="line"> 	<span class="keyword">while</span>(n &gt; <span class="number">0</span>)&#123;</span><br><span class="line"> 		<span class="comment">//取个位数</span></span><br><span class="line"> 		digit  = n % <span class="number">10</span>;</span><br><span class="line"> 		<span class="comment">//检查个位数是不是已经有过一个了，是的话终止循环</span></span><br><span class="line"> 		<span class="keyword">if</span>(digit_seen[digit])&#123;</span><br><span class="line"> 			<span class="keyword">break</span>;</span><br><span class="line"> 		&#125;</span><br><span class="line"> 		<span class="comment">//以当前个位数作为索引将对应数字元素的值改为TRUE</span></span><br><span class="line"> 		digit_seen[digit] = TRUE;</span><br><span class="line"> 		n /= <span class="number">10</span>;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="keyword">if</span>(n&gt;<span class="number">0</span>)&#123;</span><br><span class="line"> 		<span class="comment">//n&gt;0说明至少有一个数字发生了重复</span></span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"Repeated digit\n\n"</span>);</span><br><span class="line"> 	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"No repeated digit\n\n"</span>);</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">./repdigit </span><br><span class="line">Enter a number:12345677</span><br><span class="line">Repeated digit</span><br></pre></td></tr></table></figure>
<h3 id="8-1-5-对数组使用sizeof运算符"><a href="#8-1-5-对数组使用sizeof运算符" class="headerlink" title="8.1.5    对数组使用sizeof运算符"></a>8.1.5    对数组使用sizeof运算符</h3><blockquote>
<p><strong>用途：</strong></p>
<ul>
<li>计算数组的字节数</li>
<li>计算数组中每个元素的字节数</li>
<li>利用上面的结果计算数组的长度</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="keyword">sizeof</span>(a) / <span class="keyword">sizeof</span>(a[<span class="number">10</span>]); i++)&#123;</span><br><span class="line">  a[i] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>利用宏：</strong>简化用sizeof计算数组长度。更加有效的方式是使用带参数的宏。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SIZE (sizeof(a) / sizeof(a[0]))</span></span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; SIZE; i++)&#123;</span><br><span class="line">  a[i] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="8-1-6-程序：计算利息"><a href="#8-1-6-程序：计算利息" class="headerlink" title="8.1.6    程序：计算利息"></a>8.1.6    程序：计算利息</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Prints a table of compound interest</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="meta">#<span class="meta-keyword">define</span> NUM_RATES (sizeof(value) / sizeof(value[0]))</span></span><br><span class="line"> <span class="meta">#<span class="meta-keyword">define</span> INITIAL_BALANCE 100.00</span></span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> i, low_rate, num_years, year;</span><br><span class="line"> 	<span class="keyword">float</span> value[<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter interest rate:"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;low_rate);</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter number of years:"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;num_years);</span><br><span class="line"></span><br><span class="line"> 	<span class="comment">//表格标题行</span></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"\nYears"</span>);</span><br><span class="line"> 	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; NUM_RATES; i++)&#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"%6d%%"</span>, low_rate + i);<span class="comment">//两个%%代表要显示%字符串</span></span><br><span class="line"> 		value[i] = INITIAL_BALANCE;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"> 	<span class="comment">//各个利率下逐年100美金的价值</span></span><br><span class="line"> 	<span class="keyword">for</span>(year = <span class="number">1</span>; year &lt;= num_years; year++)&#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"%3d    "</span>, year);</span><br><span class="line"> 		<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; NUM_RATES; i++)&#123;</span><br><span class="line"> 			value[i] += (low_rate+i) / <span class="number">100.0</span> * value[i];</span><br><span class="line"> 			<span class="built_in">printf</span>(<span class="string">"%7.2f"</span>, value[i]);</span><br><span class="line"> 		&#125;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"\n"</span>);	</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ ./interest                            </span><br><span class="line"> Enter interest rate:5</span><br><span class="line"> Enter number of years:6</span><br><span class="line"></span><br><span class="line"> Years     5%     6%     7%     8%     9%</span><br><span class="line">  1     105.00 106.00 107.00 108.00 109.00</span><br><span class="line">  2     110.25 112.36 114.49 116.64 118.81</span><br><span class="line">  3     115.76 119.10 122.50 125.97 129.50</span><br><span class="line">  4     121.55 126.25 131.08 136.05 141.16</span><br><span class="line">  5     127.63 133.82 140.26 146.93 153.86</span><br><span class="line">  6     134.01 141.85 150.07 158.69 167.71</span><br></pre></td></tr></table></figure>
<h2 id="8-2-多维数组"><a href="#8-2-多维数组" class="headerlink" title="8.2    多维数组"></a>8.2    多维数组</h2><blockquote>
<p><strong>语法：</strong><code>m[i][j]</code><br><strong>注意：</strong>不能把<code>m[i][j]</code>写为<code>m[i, j]</code>。c语言把逗号看成是逗号运算符，所以<code>m[i,j]</code>等同于<code>m[j]</code>。<br><strong>地位：</strong>和其它编程语言中的多位数组相比， c语言中的多位数组扮演的角色相对较弱，这主要是因为c语言为存储多维数组提供了更加灵活的方法：指针数组。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 10</span></span><br><span class="line"><span class="keyword">float</span> ident[N][N];</span><br><span class="line"><span class="keyword">int</span> row, col;</span><br><span class="line"><span class="keyword">for</span>(row = <span class="number">0</span>; row &lt; N; row++)&#123;</span><br><span class="line">	<span class="keyword">for</span>(col = <span class="number">0</span>; col &lt; N; col++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(row == col)&#123;</span><br><span class="line">			ident[row][col] = <span class="number">1.0</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			ident[row][col] = <span class="number">0.0</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="8-2-1-多为数组的初始化"><a href="#8-2-1-多为数组的初始化" class="headerlink" title="8.2.1    多为数组的初始化"></a>8.2.1    多为数组的初始化</h3><blockquote>
<p><strong>说明：</strong>通过嵌套一维初始化式的方式可以产生二维数组的初始化式。<br><strong>规则：</strong>c 语言提供了多种方法来缩写初始化式。</p>
<ul>
<li>如果初始化式不大到足以填满整个多位数组，那么数组中剩余的元素会被赋值为0。</li>
<li>如果内层的列表不大到足以填满数组的一行，那么慈航的剩余元素会被初始化为0。</li>
<li>可以忽略掉内层的大括号<br><strong>注意：</strong>在多维数组中忽略掉内层的大括号可能很危险，此外省略括号会引起某些编译器产生警告信息。</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//行数不足</span></span><br><span class="line"><span class="keyword">int</span> m[<span class="number">5</span>][<span class="number">9</span>] = &#123;&#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>&#125;,</span><br><span class="line">			   &#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>&#125;,</span><br><span class="line">			   &#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>&#125;,</span><br><span class="line">			   &#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>&#125;&#125;;</span><br><span class="line"><span class="comment">//列数不足</span></span><br><span class="line"><span class="keyword">int</span> m[<span class="number">5</span>][<span class="number">9</span>] = &#123;&#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>&#125;,</span><br><span class="line">			   &#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>&#125;,</span><br><span class="line">			   &#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>&#125;,</span><br><span class="line">			   &#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>&#125;,</span><br><span class="line">			   &#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>&#125;&#125;;</span><br><span class="line"><span class="comment">//忽略内层的大括号</span></span><br><span class="line"><span class="keyword">int</span> m[<span class="number">5</span>][<span class="number">9</span>] = &#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,</span><br><span class="line">			   <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,</span><br><span class="line">			   <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,</span><br><span class="line">			   <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,</span><br><span class="line">			   <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="8-2-2-常量数组"><a href="#8-2-2-常量数组" class="headerlink" title="8.2.2    常量数组"></a>8.2.2    常量数组</h3><blockquote>
<p><strong>语法：</strong><code>const 类型 数组名[]</code><br><strong>说明：</strong>程序不应对声明为<code>const</code>的数组进行修改。</p>
<ul>
<li>表明程序不会修改数组</li>
<li>告知不打算修改数组对编译器发现错误是很有帮助的</li>
</ul>
</blockquote>
<h3 id="8-2-3-发牌"><a href="#8-2-3-发牌" class="headerlink" title="8.2.3    发牌"></a>8.2.3    发牌</h3><blockquote>
<p><strong>相关函数：</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>函数</th>
<th>所属库</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>time</td>
<td>time.h</td>
<td>返回当前的时间，且这个时间是被编码成单独的数。</td>
</tr>
<tr>
<td>srand</td>
<td>stdlib.h</td>
<td>初始化c语言的随机数生成器</td>
</tr>
<tr>
<td>rand</td>
<td>stdlib.h</td>
<td>在每次调用时会产生一个显然随机的数</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Deals a random hand of cards</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NUM_SUITS 4</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NUM_RANKS 13</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TRUE 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>	FALSE 0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> Bool;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	Bool in_hand[NUM_SUITS][NUM_RANKS] = &#123;&#123;<span class="number">0</span>&#125;&#125;;</span><br><span class="line">	<span class="keyword">int</span> num_cards, rank, suit;</span><br><span class="line">	<span class="keyword">const</span> <span class="keyword">char</span> rank_code[] = &#123;<span class="string">'2'</span>,<span class="string">'3'</span>,<span class="string">'4'</span>,<span class="string">'5'</span>,<span class="string">'6'</span>,<span class="string">'7'</span>,<span class="string">'8'</span>,<span class="string">'9'</span>,<span class="string">'t'</span>,<span class="string">'j'</span>,<span class="string">'q'</span>,<span class="string">'k'</span>,<span class="string">'a'</span>&#125;;</span><br><span class="line">	<span class="keyword">const</span> <span class="keyword">char</span> suit_code[] = &#123;<span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'s'</span>, <span class="string">'h'</span>&#125;;</span><br><span class="line">	srand((unsigned)time(NULL));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Enter number of cards in hand:"</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;num_cards);</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Your hand:"</span>);</span><br><span class="line">	<span class="keyword">while</span>(num_cards &gt; <span class="number">0</span>)&#123;</span><br><span class="line">		suit = rand() % NUM_SUITS;<span class="comment">//检出随机的花面</span></span><br><span class="line">		rank = rand() % NUM_RANKS;<span class="comment">//检出随机的纸牌等级</span></span><br><span class="line">		<span class="comment">//如果某张牌已经发出去过，则不能再发同样的牌，应当重新发</span></span><br><span class="line">		<span class="keyword">if</span>(!in_hand[suit][rank] == TRUE)&#123;</span><br><span class="line">			in_hand[suit][rank] = TRUE;</span><br><span class="line">			num_cards--;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">" %c%c"</span>, rank_code[rank], suit_code[suit]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ./deal                        </span><br><span class="line"> Enter number of cards <span class="keyword">in</span> hand:10</span><br><span class="line"> Your hand: 5s 6d th 9c 6s qs 7c 9d kh 2d</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/09/7 基本类型/" itemprop="url">
                  7 基本类型
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-05-09T18:39:48+08:00" content="2016-05-09">
              2016-05-09
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/09/7 基本类型/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/09/7 基本类型/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="7-1-整型"><a href="#7-1-整型" class="headerlink" title="7.1    整型"></a>7.1    整型</h2><blockquote>
<p><strong>可移植性技巧：</strong>对不超过32767的整数采用int或shaort int，其它情况下使用long int。<br><strong>注意：</strong>不要部分差别地使用长整型，因为长整型操作比较耗时。</p>
</blockquote>
<table>
<thead>
<tr>
<th>整数类型</th>
<th>说明</th>
<th>bit（16位机器）</th>
<th>bit(32位机器)</th>
<th>数值范围(16位机器)</th>
<th>数值范围(32位机器)</th>
<th>有无符号</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>short [signed] int</code></td>
<td>短整型</td>
<td>16</td>
<td>16</td>
<td>-2^15~2^15-1</td>
<td>-2^15~2^15-1</td>
<td>有</td>
</tr>
<tr>
<td><code>short usigned int</code></td>
<td>无符号短整型</td>
<td>16</td>
<td>16</td>
<td>0~2^16-1</td>
<td>0~2^16-1</td>
<td>无</td>
</tr>
<tr>
<td><code>int [signed]</code></td>
<td>整型</td>
<td>16</td>
<td>32</td>
<td>-2^15~2^15-1</td>
<td>-2^31~2^31-1</td>
<td>有</td>
</tr>
<tr>
<td><code>int unsigned</code></td>
<td>无符号整型</td>
<td>16</td>
<td>32</td>
<td>0~2^16-1</td>
<td>0~2^32-1</td>
<td>无</td>
</tr>
<tr>
<td><code>long [signed]</code></td>
<td>长整型</td>
<td>32</td>
<td>32</td>
<td>-2^31~2^31-1</td>
<td>-2^31~2^31-1</td>
<td>有</td>
</tr>
<tr>
<td><code>long unsigned int</code></td>
<td>无符号长整型</td>
<td>32</td>
<td>32</td>
<td>0~2^32-1</td>
<td>0~2^32-1</td>
<td>无</td>
</tr>
</tbody>
</table>
<h3 id="7-1-1-整型常量"><a href="#7-1-1-整型常量" class="headerlink" title="7.1.1    整型常量"></a>7.1.1    整型常量</h3><h4 id="进制"><a href="#进制" class="headerlink" title="进制"></a>进制</h4><blockquote>
<p><strong>注意：</strong></p>
<ol>
<li>整数都是以二进制形式存储的，不会考虑实际的书写方式</li>
<li>任何时候都可以从一种书写方式切换到另一种，甚至可以混合使用</li>
</ol>
</blockquote>
<table>
<thead>
<tr>
<th>进制</th>
<th>包含数字</th>
<th>写法</th>
<th>举例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>十进制</td>
<td>0~9</td>
<td>不能以0开头</td>
<td>15 255</td>
<td></td>
</tr>
<tr>
<td>八进制</td>
<td>0~7</td>
<td>必须以0开头</td>
<td>017 0377</td>
<td></td>
</tr>
<tr>
<td>十六进制</td>
<td>0~9和字母a~f</td>
<td>字母部分大小写均可</td>
<td>0xf</td>
</tr>
</tbody>
</table>
<h4 id="长整型和无符号整型"><a href="#长整型和无符号整型" class="headerlink" title="长整型和无符号整型"></a>长整型和无符号整型</h4><blockquote>
<p><strong>注意：</strong>默认情况下编译器对处于int类型取值范围内的整数使用int类型，否则使用long int。</p>
</blockquote>
<table>
<thead>
<tr>
<th>后缀</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>U(u)</td>
<td>指定常量为无符号整型</td>
</tr>
<tr>
<td>L(l)</td>
<td>指定常量为长整型</td>
</tr>
</tbody>
</table>
<h3 id="7-1-2-读／写整数"><a href="#7-1-2-读／写整数" class="headerlink" title="7.1.2    读／写整数"></a>7.1.2    读／写整数</h3><blockquote>
<p><strong>溢出：</strong>当程序付给变量的值太大以至于无法存储在int类型中时，这时值会被处理为不符合预期的值。</p>
</blockquote>
<h4 id="printf函数和scanf函数"><a href="#printf函数和scanf函数" class="headerlink" title="printf函数和scanf函数"></a><code>printf</code>函数和<code>scanf</code>函数</h4><p><strong>有符号整数</strong></p>
<table>
<thead>
<tr>
<th>转换说明符</th>
<th>类型</th>
<th>进制</th>
</tr>
</thead>
<tbody>
<tr>
<td>%d</td>
<td>int</td>
<td>十进制</td>
</tr>
<tr>
<td>%hd</td>
<td>short signed int</td>
<td>十进制</td>
</tr>
<tr>
<td>%ld</td>
<td>long signed int</td>
<td>十进制</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">short</span> <span class="keyword">int</span> s;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">int</span> l;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%hd"</span>, &amp;s);<span class="comment">//写：短整型</span></span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%ld"</span>, &amp;l);<span class="comment">//写：长整型</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%hd"</span>, s);<span class="comment">//读：短整型</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%ld"</span>, l);<span class="comment">//读：长整型</span></span><br></pre></td></tr></table></figure>
<p><strong>无符号整数</strong></p>
<table>
<thead>
<tr>
<th>转换说明符</th>
<th>类型</th>
<th>进制</th>
</tr>
</thead>
<tbody>
<tr>
<td>%u</td>
<td>unsigned int</td>
<td>十进制数字</td>
</tr>
<tr>
<td>%o</td>
<td>unsigned int</td>
<td>八进制</td>
</tr>
<tr>
<td>%x</td>
<td>unsigned int</td>
<td>十六进制</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> u;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%u"</span>, %u);<span class="comment">//写：无符号十进制</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%u"</span>, u);<span class="comment">//读：无符号十进制</span></span><br></pre></td></tr></table></figure>
<h3 id="7-1-3-程序：数列求和（改进版）"><a href="#7-1-3-程序：数列求和（改进版）" class="headerlink" title="7.1.3    程序：数列求和（改进版）"></a>7.1.3    程序：数列求和（改进版）</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Sums a series of numbers</span><br><span class="line"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n, sum = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"This program sums a series of intergers.\n"</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Enter intergers (0 to terminate:)"</span>);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">	<span class="keyword">while</span>(n != <span class="number">0</span>)&#123;</span><br><span class="line">		sum += n;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"The sun is:%d\n"</span>, sum);</span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="7-2-浮点数"><a href="#7-2-浮点数" class="headerlink" title="7.2    浮点数"></a>7.2    浮点数</h2><blockquote>
<p><strong>IEEE浮点标准：</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>类型</th>
<th>bit</th>
<th>最小正数</th>
<th>最大值</th>
<th>精度</th>
</tr>
</thead>
<tbody>
<tr>
<td>float</td>
<td>32</td>
<td>1.17x10^-38</td>
<td>3.40x10^38</td>
<td>6个数字</td>
</tr>
<tr>
<td>double</td>
<td>64</td>
<td>2.22x0^-308</td>
<td>1.79x10^308</td>
<td>15个数字</td>
</tr>
<tr>
<td>long float</td>
<td>>=43</td>
<td>未说明</td>
<td>未说明</td>
<td>未说明</td>
</tr>
<tr>
<td>long double</td>
<td>>=79</td>
<td>未说明</td>
<td>未说明</td>
<td>未说明</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>c语言浮点数：</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>浮点数</th>
<th>说明</th>
<th>适用</th>
</tr>
</thead>
<tbody>
<tr>
<td>float</td>
<td>单精度浮点数</td>
<td>当精度要求不严格时，float类型是很适合的类型</td>
</tr>
<tr>
<td>double</td>
<td>双精度浮点数</td>
<td>提供更高的精度，适合绝大多数</td>
</tr>
<tr>
<td>long double</td>
<td>扩展双精度浮点数</td>
<td>支持极高精度的要求，很少会用到</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>注意：</strong></p>
<ol>
<li>long double类型没有出现在IEEE标准中，其长度随机器的不同而变化，最常通用的尺寸是80位和128位</li>
</ol>
</blockquote>
<h3 id="7-2-1-浮点常量"><a href="#7-2-1-浮点常量" class="headerlink" title="7.2.1    浮点常量"></a>7.2.1    浮点常量</h3><blockquote>
<p><strong>语法：</strong>必须包含小数点或指数<br><strong>举个栗子：</strong>57.0的多种写法</p>
</blockquote>
<p><code>57.0</code> <code>57.</code> <code>57.0e0</code> <code>57E0</code> <code>5.7e1</code> <code>5.7e+1</code> <code>.57e2</code> <code>570.e-1</code></p>
<blockquote>
<p><strong>存储方式：</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>情景</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>默认情况</td>
<td><code>double</code></td>
</tr>
<tr>
<td><code>浮点常量F(f)</code></td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>浮点常量L(l)</code></td>
<td><code>long double</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>注意：</strong><code>double</code>类型的值在使用时，如果需要会自动转换为<code>float</code>类型的值。</p>
</blockquote>
<h3 id="7-2-2-读-些浮点数"><a href="#7-2-2-读-些浮点数" class="headerlink" title="7.2.2    读/些浮点数"></a>7.2.2    读/些浮点数</h3><table>
<thead>
<tr>
<th>浮点类型</th>
<th>读</th>
<th>写</th>
</tr>
</thead>
<tbody>
<tr>
<td>float</td>
<td><code>%e</code> <code>%f</code> <code>%g</code></td>
<td><code>%e</code> <code>%f</code> <code>%g</code></td>
</tr>
<tr>
<td>double</td>
<td><code>%e</code> <code>%f</code> <code>%g</code></td>
<td><code>%le</code> <code>%lf</code> <code>%lg</code></td>
</tr>
<tr>
<td>long double</td>
<td><code>%Le</code> <code>%Lf</code> <code>%Lg</code></td>
<td><code>%Le</code> <code>%Lf</code> <code>%Lg</code></td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> d;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%lf"</span>, &amp;d);</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">double</span> ld;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%Lf"</span>, &amp;ld);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%Lf"</span>, ld);</span><br></pre></td></tr></table></figure>
<h2 id="7-3-字符型"><a href="#7-3-字符型" class="headerlink" title="7.3    字符型"></a>7.3    字符型</h2><blockquote>
<p><strong>char：</strong><code>Q&amp;A</code> <code>char</code>类型的值可以根据计算机的不同而不同，因为不同的机器可能会有不同的字符集。<br><strong>ASCII字符集：</strong>用7位代码表示128个字符，一些计算机把ASCII码扩展为8位代码以便可以表示256个字符。<br><strong>字符常量：</strong>字符常量需要用单引号括起来，而不是双引号。<br><strong>将<code>char</code>当作整数：</strong>c语言会按小整数的方式处理字符，毕竟所有字符都是以二进制的形式进行编码的。在ASCII码中，字符的取值范围是0000000(0)~1111111(127)。</p>
<blockquote>
<p><strong>优点：</strong>利用字符和数相同的属性灵活处理字符，例如<code>for(ch = &#39;A&#39;; ch &lt;= &#39;Z&#39;; ch++) ...</code><br><strong>缺点：</strong></p>
<ol>
<li>导致编译器无法检查出的多种编程错误</li>
<li>编写出诸如<code>&#39;a&#39; * &#39;b&#39; / &#39;c&#39;</code>这类无意义的表达式</li>
<li>妨碍程序的可移植性（因为程序可能会基于一些对字符集的假设）</li>
</ol>
</blockquote>
<p><strong>有符号和无符号</strong></p>
<blockquote>
<p><strong>编译器行为：</strong>一些编译器按照有符号数据(-128~127)处理<code>char</code>，另一些则为无符号(0~255)<code>char</code>。设置有些编译器允许程序员通过编译器选项选择<code>char</code>时有符号型还是无符号型<br><strong>可移植性技巧：</strong>用<code>signed char</code>或<code>unsigned char</code>代替<code>char</code>。</p>
</blockquote>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> ch;</span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line">i = <span class="string">'a'</span>;<span class="comment">//i is now 97</span></span><br><span class="line">ch = <span class="number">65</span>;<span class="comment">//ch is now 'A'</span></span><br><span class="line">ch = ch + <span class="number">1</span>;<span class="comment">//ch is now 'B'</span></span><br><span class="line">ch++;<span class="comment">//ch is now 'C'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//如果ch时小写字母，转为大写字母</span></span><br><span class="line"><span class="keyword">if</span>(<span class="string">'a'</span> &lt;= ch &amp;&amp; ch &lt;= <span class="string">'z'</span>)&#123;</span><br><span class="line">	ch = ch - <span class="string">'a'</span> + <span class="string">'A'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-3-1-转义序列"><a href="#7-3-1-转义序列" class="headerlink" title="7.3.1    转义序列"></a>7.3.1    转义序列</h3><blockquote>
<p><strong>用途：</strong>c语言为了处理字符集中的每一个字符，提供了<code>转义字符</code>用来表示一些不可见或无法从键盘输入的字符。<br><strong>字符转义字符：</strong>没有包含所有无法打印的ASCII字符，只包含了最常用的字符。</p>
</blockquote>
<table>
<thead>
<tr>
<th>名称</th>
<th>转移序列</th>
</tr>
</thead>
<tbody>
<tr>
<td>警报（响铃）符</td>
<td>\a</td>
</tr>
<tr>
<td>回退符</td>
<td><code>\b</code></td>
</tr>
<tr>
<td>换页符</td>
<td><code>\f</code></td>
</tr>
<tr>
<td>换行符</td>
<td><code>\n</code></td>
</tr>
<tr>
<td>回车符</td>
<td><code>\r</code></td>
</tr>
<tr>
<td>横向制表符</td>
<td><code>\t</code></td>
</tr>
<tr>
<td>纵向制表符</td>
<td><code>\v</code></td>
</tr>
<tr>
<td>反斜杠</td>
<td><code>\\</code></td>
</tr>
<tr>
<td>问号</td>
<td><code>\?</code></td>
</tr>
<tr>
<td>单引号</td>
<td><code>\&#39;</code></td>
</tr>
<tr>
<td>双引号</td>
<td><code>\&quot;</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>数字转义字符：</strong>可以表示任何字符，突破<code>字符转义字符</code>的限制。<br><strong>转义字符常量：</strong>有8进制和16进制两种书写方式，需要用一对单引号括起来。</p>
</blockquote>
<table>
<thead>
<tr>
<th>进制</th>
<th>书写方式</th>
<th>特点</th>
</tr>
</thead>
<tbody>
<tr>
<td>八进制转义序列</td>
<td><code>\最多含有三位数字的八进制数</code></td>
<td>必须表示为无符号字符型</td>
</tr>
<tr>
<td>十六进制转义序列</td>
<td><code>\x十六进制数</code></td>
<td>标准c对于数字个数没有限制，<code>x</code>必须为小写，十六进制数无限制</td>
</tr>
</tbody>
</table>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># define ESC '\33'	//用宏的方式定义数字转义字符常量</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>补充：</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>其它序列</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>三字符序列（trigraph sequence）</td>
<td>一些特殊的ASCII字符的代码</td>
</tr>
<tr>
<td>多字节字符（multibyte character）</td>
<td></td>
</tr>
<tr>
<td>宽字符（nultibyte character）</td>
</tr>
</tbody>
</table>
<h3 id="7-3-2-字符处理函数"><a href="#7-3-2-字符处理函数" class="headerlink" title="7.3.2    字符处理函数"></a>7.3.2    字符处理函数</h3><blockquote>
<p><strong>toupper：</strong>c语言的toupper库函数，用来检测自身的参数是否是小写字母，如果是则将其转换成相应的大写字母。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;ctype.h&gt;</span></span></span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">toupper</span>(ch)) == <span class="string">'A'</span>) ...</span><br></pre></td></tr></table></figure>
<h3 id="7-3-3-读-写字符"><a href="#7-3-3-读-写字符" class="headerlink" title="7.3.3    读/写字符"></a>7.3.3    读/写字符</h3><blockquote>
<p><strong>两种方式：</strong><code>printf</code>/<code>scanf</code>和<code>getChar</code>/<code>putchar</code></p>
</blockquote>
<h4 id="7-3-3-1-printf-和-scanf"><a href="#7-3-3-1-printf-和-scanf" class="headerlink" title="7.3.3.1    printf 和 scanf"></a>7.3.3.1    printf 和 scanf</h4><blockquote>
<p><strong>转换说明：</strong><code>%c</code><br><strong>技巧：</strong></p>
<ul>
<li>在格式串转换说明<code>%c</code>前面加一个空格，强制<code>scanf</code>函数在读入字符前跳过空白字符。</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">scanf</span>(<span class="string">" %c"</span>, &amp;ch);<span class="comment">//会跳过零个或多个空白字符</span></span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>通常情况下scanf函数不会跳过空白，所以很容易检查到输入行的结尾</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%c"</span>, &amp;ch);</span><br><span class="line">&#125;<span class="keyword">while</span>(ch != <span class="string">'\n'</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> ch;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%c"</span>, &amp;hc);<span class="comment">//reads a single character</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%c"</span>, ch);<span class="comment">//writes a single character</span></span><br></pre></td></tr></table></figure>
<h4 id="7-3-3-2-getchar-和-putchar"><a href="#7-3-3-2-getchar-和-putchar" class="headerlink" title="7.3.3.2    getchar 和 putchar"></a>7.3.3.2    getchar 和 putchar</h4><blockquote>
<p><strong>说明：</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>库方法</th>
<th>说明</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>getchar</td>
<td>读入一个字符并返回这个字符</td>
<td>不会跳过空白字符</td>
</tr>
<tr>
<td>putchar</td>
<td>用来单独写一个字符</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>执行速度快：</strong>比 scanf 和 printf 节约时间。</p>
<ol>
<li>这两个函数比scanf和prinf简单，因为scanf和prinf是设计用来读/写多种不同格式类型数据的</li>
<li>为了额外的速度提升，通常getchar函数和puchar函数是作为宏来实现的</li>
</ol>
<p><strong>可以应用多种不同的c语言惯用法：</strong>包括用循环搜索字符或跳过所有出现的统一字符。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//循环搜索字符</span></span><br><span class="line"><span class="keyword">while</span>(getchar != <span class="string">'\n'</span>)</span><br><span class="line">;</span><br><span class="line"><span class="comment">//跳过所有出现的统一字符</span></span><br><span class="line"><span class="keyword">while</span>((ch = getchar()) == <span class="string">' '</span>)</span><br><span class="line">;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>避免混合使用<code>scanf</code>和<code>getchar</code>：</strong>scanf函数有一种留下后边字符的趋势，也就是说对于输入后面的字符只是看了一下，并没有读入。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">"Enter an interger:"</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;i);<span class="comment">//读入i的同时，scanf函数调用将会留下后面没有消耗掉的人一字符，包括换行符</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"Enter a command:"</span>);</span><br><span class="line">command = getchar();<span class="comment">//getchar会取回第一个声誉字符</span></span><br></pre></td></tr></table></figure>
<h3 id="7-3-4-程序：确定消息的长度"><a href="#7-3-4-程序：确定消息的长度" class="headerlink" title="7.3.4    程序：确定消息的长度"></a>7.3.4    程序：确定消息的长度</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Determines the length a message</span><br><span class="line"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter a message:"</span>);</span><br><span class="line"> 	<span class="keyword">while</span>(getchar() != <span class="string">'\n'</span>)&#123;</span><br><span class="line"> 		len ++;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Your message was %d character(s) long.\n"</span>, len);</span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">./length2 </span><br><span class="line"> Enter a message:1234567</span><br><span class="line"> Your message was 7 character(s) long.</span><br></pre></td></tr></table></figure>
<h2 id="7-4-sizeof运算符"><a href="#7-4-sizeof运算符" class="headerlink" title="7.4    sizeof运算符"></a>7.4    sizeof运算符</h2><blockquote>
<p><strong>说明：</strong>编译器本身就可以计算sizeof表达式的值，所以sizeof 是一种特殊的运算符（一元运算符）<br><strong>用途：</strong>用来计算制定类型值所需空间的大小。<br><strong>sizeof表达式：</strong><code>sizeof(类型名)</code><br><strong>参数：</strong>常量、变量或表达式<br><strong>优先级：</strong>高于二元运算符（比如+）<br><strong>返回值：</strong>字节数，类型由实现定义，通常是无符号整数<br><strong>圆括号：</strong>当应用于表示式时不需要圆括号，比如<code>sizeof i</code>，但是由于运算符优先级的问题，建议始终在sizeof表达式中采用圆括号。<br><strong>以<code>int</code>为例：</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>处理器架构</th>
<th>字节数</th>
</tr>
</thead>
<tbody>
<tr>
<td>16</td>
<td>2(通常)</td>
</tr>
<tr>
<td>32</td>
<td>4(通常)</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//把sizeof表达式转换成`unsigned long`(最大的无符号类型)</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"Size of int:%lu\n"</span>, (unsigned long)<span class="keyword">sizeof</span>(int));</span><br></pre></td></tr></table></figure>
<h2 id="7-5-类型转换"><a href="#7-5-类型转换" class="headerlink" title="7.5    类型转换"></a>7.5    类型转换</h2><blockquote>
<p><strong>计算机执行算术运算的限制：</strong>要求操作数大小相同，存储方式也相同。</p>
</blockquote>
<h2 id="7-5-1-隐式转换（implicit-conversion"><a href="#7-5-1-隐式转换（implicit-conversion" class="headerlink" title="7.5.1    隐式转换（implicit conversion)"></a>7.5.1    隐式转换（implicit conversion)</h2><blockquote>
<p><strong>说明：</strong>c语言允许在表达式中混合使用基本数据类型（整数、浮点数甚至是字符）。此时c语言编译器需要生成一些指令将某些操作数转换成不同类型，是的硬件可以对表达式进行计算。<br><strong>隐式转换情景：</strong></p>
<ul>
<li>当算术表达式或逻辑表达式中操作数的类型不相同时（常用算数转换）</li>
<li>当赋值运算符右侧表达式的类型和左侧变量的类型不匹配时</li>
<li>当函数调用中使用的参数类型与其对应的参数的类型不匹配时</li>
<li>当 return语句中表达式的类型和函数返回值的类型不匹配时</li>
</ul>
</blockquote>
<h3 id="7-5-1-常用算数转换"><a href="#7-5-1-常用算数转换" class="headerlink" title="7.5.1    常用算数转换"></a>7.5.1    常用算数转换</h3><blockquote>
<p><strong>原理：</strong>为了统一操作数的类型，通常可以将相对狭小的操作数转换成另一个操作数的类型来实现（即提升）。<br><strong>整型提升（integral promition）：</strong>把<code>char</code>或<code>short int</code>转换成<code>int</code>（或<code>unsigned int</code>）。</p>
<p><strong>两种情况：</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>情况</th>
<th>提升方式</th>
</tr>
</thead>
<tbody>
<tr>
<td>任一操作数的类型时浮点型的情况</td>
<td><code>long double&lt;-double&lt;-float</code></td>
</tr>
<tr>
<td>两个操作数都不是浮点型的情况</td>
<td><code>unsigned long int&lt;-long int&lt;-usigned int&lt;-int</code></td>
</tr>
<tr>
<td><code>long int</code>和<code>unsigned int</code></td>
<td>两个操作数都会转换成<code>usigned long int</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>注意：</strong>尽量避免使用<code>unsigned int</code>，特别不要把它和有符号整数混合使用。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i ,u;</span><br><span class="line">i = <span class="number">-10</span>;</span><br><span class="line">u = <span class="number">10</span>;</span><br><span class="line"><span class="comment">//int转换为usigned int时最高位的符号位不再是符号位</span></span><br><span class="line">i &lt; u;<span class="comment">//0，因为会进行隐式转换导致讲-10当作unsigned int</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> c;</span><br><span class="line"><span class="keyword">short</span> <span class="keyword">int</span> s;</span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> u;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">int</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">int</span> ul;</span><br><span class="line"><span class="keyword">float</span> f;</span><br><span class="line"><span class="keyword">double</span> d;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">double</span> ld;</span><br><span class="line"></span><br><span class="line">i = i + c;<span class="comment">//c被转为int</span></span><br><span class="line">i = i + s;<span class="comment">//s被转为int</span></span><br><span class="line">u = u + i;<span class="comment">//i被转为unsigned int</span></span><br><span class="line">l = l + u;<span class="comment">//l被转为long int</span></span><br><span class="line">ul = ul + <span class="number">1</span>;<span class="comment">//l被转为unsigned long int</span></span><br><span class="line">f = f + ul;<span class="comment">//f被转为double</span></span><br><span class="line">d = d + f;<span class="comment">//f被转为double</span></span><br><span class="line">ld = ld + d;<span class="comment">//d被转为long double</span></span><br></pre></td></tr></table></figure>
<h3 id="7-5-2-赋值中的转换"><a href="#7-5-2-赋值中的转换" class="headerlink" title="7.5.2    赋值中的转换"></a>7.5.2    赋值中的转换</h3><blockquote>
<p><strong>转化规则：</strong>把赋值运算右边的表达式转换成左边变量的类型。</p>
</blockquote>
<h4 id="7-5-2-1-两边类型一样“宽”"><a href="#7-5-2-1-两边类型一样“宽”" class="headerlink" title="7.5.2.1    两边类型一样“宽”"></a>7.5.2.1    两边类型一样“宽”</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> c;</span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">float</span> f;</span><br><span class="line"><span class="keyword">double</span> d;</span><br><span class="line"></span><br><span class="line">i = c;<span class="comment">//c被转为int</span></span><br><span class="line">f = i;<span class="comment">//i被转为float</span></span><br><span class="line">d = f;<span class="comment">//f被转为double</span></span><br></pre></td></tr></table></figure>
<h4 id="7-5-2-2-浮点数赋值给整型"><a href="#7-5-2-2-浮点数赋值给整型" class="headerlink" title="7.5.2.2    浮点数赋值给整型"></a>7.5.2.2    浮点数赋值给整型</h4><blockquote>
<p><strong>规则：</strong>去掉小数部分。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i;</span><br><span class="line">i = <span class="number">842.97</span>;<span class="comment">//i为842</span></span><br><span class="line">i = <span class="number">-842.87</span>;<span class="comment">//i为-842</span></span><br></pre></td></tr></table></figure>
<h4 id="7-5-2-3-溢出"><a href="#7-5-2-3-溢出" class="headerlink" title="7.5.2.3    溢出"></a>7.5.2.3    溢出</h4><blockquote>
<p><strong>说明：</strong><code>Q&amp;A</code>如果取值在变量类型范围之外，那么把值赋给一个狭小类型的变量将会得到无意义的结果（设置更糟）。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">c = <span class="number">10000</span>;</span><br><span class="line">i = <span class="number">1.0e20</span>;</span><br><span class="line">f = <span class="number">1.0e100</span>;</span><br></pre></td></tr></table></figure>
<h3 id="7-5-3-强制类型转换"><a href="#7-5-3-强制类型转换" class="headerlink" title="7.5.3    强制类型转换"></a>7.5.3    强制类型转换</h3><blockquote>
<p><strong>强制转换表达式：</strong><code>（类型名）表达式</code><br><strong>优先级：</strong>被当作一元运算符，因此高于二元运算符</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">float</span> f, frac_part;</span><br><span class="line">frac_part = f - (int)f;<span class="comment">//获得浮点数f的小数部分</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">float</span> quotient;</span><br><span class="line"><span class="keyword">int</span> divided, divisor;</span><br><span class="line">quotient = (float)dividend / divisor;<span class="comment">//divisor会被迫使编译器把divisor也转换成为float类型。</span></span><br></pre></td></tr></table></figure>
<h2 id="7-6-类型定义"><a href="#7-6-类型定义" class="headerlink" title="7.6    类型定义"></a>7.6    类型定义</h2><blockquote>
<p><strong>语法：</strong><code>typedef 原本类型名 类型别名;</code><br><strong>说明：</strong>采用typedef定义类型别名会导致编译器将其加入到类型列表中。<br><strong>用途：</strong></p>
<ol>
<li>如果程序员使用有意义的类型名，会使程序更加易于理解</li>
<li>使程序更加易于维护</li>
<li>是编写可移植程序的一种重要工具</li>
</ol>
<p><strong>可移植性技巧：</strong>为了更大的可移植性，可以考虑使用<code>typedef</code>定义新的整型名。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在16位机器上</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> Quantity;</span><br><span class="line">Quantity q;</span><br><span class="line"></span><br><span class="line"><span class="comment">//在32位机器上</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">int</span> Quantity;</span><br><span class="line">Quantity q;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>编译器库中（可能）自带的类型定义：</strong></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> <span class="keyword">ptrdiff_t</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">size_t</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> <span class="keyword">wchar_t</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">float</span> Dollars;</span><br><span class="line">Dollars cash_in, cash_out;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/09/6 循环/" itemprop="url">
                  6 循环
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-05-09T18:09:39+08:00" content="2016-05-09">
              2016-05-09
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/09/6 循环/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/09/6 循环/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="6-1-while语句"><a href="#6-1-while语句" class="headerlink" title="6.1    while语句"></a>6.1    while语句</h2><blockquote>
<p><strong>语法：</strong><code>while(表达式)语句</code></p>
<ul>
<li>圆括号强制要求，循环体外面的大括号不强制要求使用（多个语句除外）</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">while</span>(i &gt; <span class="number">0</span>)&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"T minus %d and counting\n"</span>, i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-1-1-无限循环"><a href="#6-1-1-无限循环" class="headerlink" title="6.1.1    无限循环"></a>6.1.1    无限循环</h3><blockquote>
<p><strong>说明：</strong>如果控制表达式的值始终是非零值的话，while语句将无法终止。<br><strong>技巧：</strong>c语言程序员有时故意用非零常量作为控制表达式来构造无限循环。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(<span class="number">1</span>) ...</span><br></pre></td></tr></table></figure>
<h3 id="6-1-2-程序：显示平方值的表格"><a href="#6-1-2-程序：显示平方值的表格" class="headerlink" title="6.1.2    程序：显示平方值的表格"></a>6.1.2    程序：显示平方值的表格</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Prints a table of squares using a while statement</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> i, n;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"This program prints a table of ssquares.\n"</span>);</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter number of entries in table :"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line"> 	i = <span class="number">1</span>;</span><br><span class="line"> 	<span class="keyword">while</span>(i &lt;= n)&#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"%10d%10d\n"</span>, i, i*i);</span><br><span class="line"> 		i++;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ ./square                          </span><br><span class="line"> This program prints a table of ssquares.</span><br><span class="line"> Enter number of entries <span class="keyword">in</span> table :5</span><br><span class="line">         1         1</span><br><span class="line">         2         4</span><br><span class="line">         3         9</span><br><span class="line">         4        16</span><br><span class="line">         5        25</span><br></pre></td></tr></table></figure>
<h3 id="6-1-3-程序：数列求和"><a href="#6-1-3-程序：数列求和" class="headerlink" title="6.1.3    程序：数列求和"></a>6.1.3    程序：数列求和</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Sums a series of numbers</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n, sum = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"This program sums a series of intergers.\n"</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Enter intergers (0 to terminate:)"</span>);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">	<span class="keyword">while</span>(n != <span class="number">0</span>)&#123;</span><br><span class="line">		sum += n;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"The sun is:%d\n"</span>, sum);</span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ ./sum </span><br><span class="line"> This program sums a series of intergers.</span><br><span class="line"> Enter intergers (0 to terminate:)1 2 3 4 0</span><br><span class="line"> The sun is:10</span><br></pre></td></tr></table></figure>
<h2 id="6-2-do语句"><a href="#6-2-do语句" class="headerlink" title="6.2    do语句"></a>6.2    do语句</h2><blockquote>
<p><strong>语法：</strong><code>do 语句 while(表达式);</code><br><strong>语句说明：</strong>do语句的本质就是while语句，只不过do语句是在每次执行循环体之后对控制表达式进行判定的。<br><strong>适用场景：</strong>至少要执行一次的循环体<br><strong>注意：</strong>最好所有的do语句都适用大括号，因为没有大括号的do语句很容易被误认为while语句。</p>
</blockquote>
<h3 id="程序：计算整数中数字的位数"><a href="#程序：计算整数中数字的位数" class="headerlink" title="程序：计算整数中数字的位数"></a>程序：计算整数中数字的位数</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Calculates the number od digits in an interger</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> digits = <span class="number">0</span>, n;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter a nonnegative interger:"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line"> 	<span class="comment">//如果使用while循环，输入0将导致判断错误（认为0为0位数字）</span></span><br><span class="line"> 	<span class="keyword">do</span>&#123;</span><br><span class="line"> 		n /= <span class="number">10</span>;</span><br><span class="line"> 		digits++;</span><br><span class="line"> 	&#125;<span class="keyword">while</span>(n &gt; <span class="number">0</span>);</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"The number has %d digit(s).\n"</span>, digits);</span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ./numdigit </span><br><span class="line"> Enter a nonnegative interger:20150621</span><br><span class="line"> The number has 8 digit(s).</span><br></pre></td></tr></table></figure>
<h2 id="6-3-for语句"><a href="#6-3-for语句" class="headerlink" title="6.3    for语句"></a>6.3    for语句</h2><blockquote>
<p><strong>语法：</strong><code>for (表达式1;表达式2;表达式3) 语句</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(i = <span class="number">10</span>;  i &gt; <span class="number">0</span>; i--)&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"T minus %d and counting\n"</span>, i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>while模拟for：</strong></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">表达式<span class="number">1</span>；</span><br><span class="line"><span class="keyword">while</span>(表达式<span class="number">2</span>)&#123;</span><br><span class="line">    语句</span><br><span class="line">    表达式<span class="number">3</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-3-1-for语句的惯用法"><a href="#6-3-1-for语句的惯用法" class="headerlink" title="6.3.1    for语句的惯用法"></a>6.3.1    for语句的惯用法</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//从0向上加到n-1</span></span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line"><span class="comment">//从1向上加到n</span></span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">1</span>; i &lt;= n ; n++)</span><br><span class="line"><span class="comment">//从n-1减到0</span></span><br><span class="line"><span class="keyword">for</span>(i = n<span class="number">-1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line"><span class="comment">//从n减到1</span></span><br><span class="line"><span class="keyword">for</span>(i = n; i &gt; <span class="number">0</span>; i--)</span><br></pre></td></tr></table></figure>
<h3 id="6-3-2-在-for语句中省略表达式"><a href="#6-3-2-在-for语句中省略表达式" class="headerlink" title="6.3.2 在 for语句中省略表达式"></a>6.3.2 在 for语句中省略表达式</h3><table>
<thead>
<tr>
<th>省略</th>
<th>语法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>表达式1</td>
<td><code>for(; 表达式2; 表达式3)</code></td>
<td>执行循环前没有初始化的操作</td>
</tr>
<tr>
<td>表达式2</td>
<td><code>for(表达式1; ; 表达式3)</code></td>
<td>表达式2默认为真值，无限循环</td>
</tr>
<tr>
<td>表达式3</td>
<td><code>for(表达式1; 表达式2;)</code></td>
<td>循环体有责任确认第二个表达式的值最终回变为假</td>
</tr>
<tr>
<td>表达式1、3</td>
<td><code>for(;表达式2;)</code></td>
<td>同<code>while</code></td>
</tr>
<tr>
<td>表达式1、2、3</td>
<td><code>for(;;)</code></td>
<td>简单的无限循环</td>
</tr>
</tbody>
</table>
<h3 id="6-3-3-逗号运算符"><a href="#6-3-3-逗号运算符" class="headerlink" title="6.3.3    逗号运算符"></a>6.3.3    逗号运算符</h3><blockquote>
<p><strong>语法：</strong><code>表达式1,表达式2</code><br><strong>用途：</strong>为了在c语言要求单独一个表达式的情况下使用两个或多个表达式。<br><strong>使用场景：</strong>宏、<code>for</code>循环<br><strong>优先级：</strong>低于所有其它运算符。<br><strong>计算过程：</strong></p>
<ol>
<li>计算表达式1并且仍低哦计算出的值</li>
<li>计算表达式2，把这个值作为整个表达式的值</li>
</ol>
<p><strong>注意：</strong>计算表达式1始终会有副作用；如果没有，那么表达式1就没有了存在的意义。</p>
</blockquote>
<h3 id="6-2-4-程序：显示平方值的表格（改进版）"><a href="#6-2-4-程序：显示平方值的表格（改进版）" class="headerlink" title="6.2.4    程序：显示平方值的表格（改进版）"></a>6.2.4    程序：显示平方值的表格（改进版）</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Prints a table of squares using a for statement</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> i, n;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"This program prints a table of squares."</span>);</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter number of entries in table:"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line"></span><br><span class="line"> 	<span class="keyword">for</span>(i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"%10d%10d\n"</span>, i, i * i);</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h2 id="6-4-退出循环"><a href="#6-4-退出循环" class="headerlink" title="6.4    退出循环"></a>6.4    退出循环</h2><h3 id="6-4-1-break语句"><a href="#6-4-1-break语句" class="headerlink" title="6.4.1    break语句"></a>6.4.1    break语句</h3><blockquote>
<p><strong>作用：</strong>把程序从<code>switch</code>语句中转移出来；跳出<code>while</code>、<code>do</code>、<code>for</code>循环。<br><strong>注意：</strong>break只能跳出一层循环</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(;;)&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Enter a number (enter 0 to stop):"</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">	<span class="keyword">if</span>(n == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d cubed is %d\n"</span>, n, n*n*n);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-4-2-continue-语句"><a href="#6-4-2-continue-语句" class="headerlink" title="6.4.2    continue 语句"></a>6.4.2    continue 语句</h3><blockquote>
<p><strong>作用：</strong>把程序控制正号转移到循环结束之前的一点；只能用于循环。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">n = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(n &lt; <span class="number">10</span>)&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;i);</span><br><span class="line">	<span class="keyword">if</span>(i == <span class="number">0</span>)<span class="keyword">continue</span>;</span><br><span class="line">	sun += i;</span><br><span class="line">	n ++;</span><br><span class="line">	<span class="comment">/*continue jumps to here*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-4-3-goto语句"><a href="#6-4-3-goto语句" class="headerlink" title="6.4.3    goto语句"></a>6.4.3    goto语句</h3><blockquote>
<p><strong>语法：</strong></p>
<ul>
<li>标号语句：<code>标识符 : 语句</code></li>
<li>goto语句：<code>goto 标识符</code></li>
</ul>
<p><strong>注意：</strong><code>break</code> <code>continue</code> <code>return</code>本质上都是受限制的goto语句，它们和<code>exit</code>函数配合可以应对大多数需要goto语句的情况。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(d = <span class="number">2</span>; d &lt; n; d++)&#123;</span><br><span class="line">	<span class="keyword">if</span>(n % d == <span class="number">0</span>)&#123;</span><br><span class="line">		<span class="comment">//goto语句</span></span><br><span class="line">		<span class="keyword">goto</span> done;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//标号语句</span></span><br><span class="line">done:</span><br><span class="line"><span class="keyword">if</span>(d &lt; n)&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d is divisible by %d\n"</span>, n, d);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d is prime\n"</span>, n);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-4-4-程序：账目簿结算"><a href="#6-4-4-程序：账目簿结算" class="headerlink" title="6.4.4    程序：账目簿结算"></a>6.4.4    程序：账目簿结算</h3><h2 id="6-5-空语句"><a href="#6-5-空语句" class="headerlink" title="6.5    空语句"></a>6.5    空语句</h2><blockquote>
<p><strong>语法：</strong><code>;</code><br><strong>用途：</strong></p>
<ul>
<li>编写空循环体（在某些情况下帮助省略循环体）</li>
<li><code>goto</code>语句的标号不能独立存在，后面必须有语句，可以使用空语句</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(d =<span class="number">2</span>; d &lt; n &amp;&amp; n % d != <span class="number">0</span>; d++)</span><br><span class="line">;<span class="comment">/*empty body*/</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>注意：</strong>建议将空语句单独放在一行，便于代码阅读。</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/09/5 选择语句/" itemprop="url">
                  5 选择语句
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-05-09T17:51:28+08:00" content="2016-05-09">
              2016-05-09
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/09/5 选择语句/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/09/5 选择语句/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>c语言语句：</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>分类</th>
<th>语句</th>
</tr>
</thead>
<tbody>
<tr>
<td>return语句</td>
<td><code>return</code></td>
</tr>
<tr>
<td>表达式语句</td>
<td><code>表达式;</code></td>
</tr>
<tr>
<td>选择语句</td>
<td><code>if</code> <code>switch</code></td>
</tr>
<tr>
<td>循环语句</td>
<td><code>while</code> <code>do</code> <code>for</code></td>
</tr>
<tr>
<td>跳转语句</td>
<td><code>break</code> <code>continue</code> <code>goto</code></td>
</tr>
<tr>
<td>复合语句</td>
<td>几条语句组合成一个</td>
</tr>
<tr>
<td>空语句</td>
<td>不执行任何操作</td>
</tr>
</tbody>
</table>
<h2 id="5-1-逻辑表达式"><a href="#5-1-逻辑表达式" class="headerlink" title="5.1    逻辑表达式"></a>5.1    逻辑表达式</h2><blockquote>
<p><strong>注意：</strong>c语言没有<code>Boolean</code>类型，表达式的<code>真假</code>依赖于其结果是<code>0</code>或<code>非0</code>。</p>
</blockquote>
<h3 id="5-1-1-关系运算符"><a href="#5-1-1-关系运算符" class="headerlink" title="5.1.1    关系运算符"></a>5.1.1    关系运算符</h3><p><code>&gt;</code> <code>&lt;</code> <code>&gt;=</code> <code>&lt;=</code></p>
<blockquote>
<p><strong>操作数类型：</strong>可以用关系运算符比较整数和浮点数，以及混合类型的操作数。<br><strong>返回值：</strong>c语言的表达式中产生的结果是<code>0或1</code><br><strong>优先级于结合性：</strong>关系运算符的优先级低于算术运算符。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i &lt; j &lt; k;<span class="comment">//(i &lt; j) &lt; k</span></span><br></pre></td></tr></table></figure>
<h3 id="5-1-2-判等运算符"><a href="#5-1-2-判等运算符" class="headerlink" title="5.1.2    判等运算符"></a>5.1.2    判等运算符</h3><p><code>==</code> <code>!=</code></p>
<blockquote>
<p><strong>操作数类型：</strong>同关系运算符<br><strong>返回值：</strong>同关系运算符<br><strong>优先级于结合性：</strong>优先级低于关系运算符，左结合<br><strong>技巧：</strong>利用关系运算符和判等运算符返回整数值这一事实</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(i &gt;= j) + (i == j);<span class="comment">//0(大于),1(等于),2(小于)</span></span><br></pre></td></tr></table></figure>
<h3 id="5-1-3-逻辑运算符"><a href="#5-1-3-逻辑运算符" class="headerlink" title="5.1.3    逻辑运算符"></a>5.1.3    逻辑运算符</h3><p><code>&amp;&amp;</code> <code>\|\|</code> <code>!</code></p>
<blockquote>
<p><strong>操作数类型：</strong>真（任何非零值操作数），假（零值）。<br><strong>返回值：</strong>0（假）或1（真）。<br><strong>优先级于结合性：</strong><code>&amp;&amp;</code>和<code>||</code>优先级低于关系运算符和判等运算符，左结合；<code>!</code>优先级同<code>+(正)、-(负)</code>。<br><strong>注意：</strong><code>&amp;&amp;</code>和<code>||</code>都对运算符进行<code>短路</code>计算，也就是说，计算机先计算左侧的值，如果通过左侧的值推导出表达式的值就不需要运行计算右侧的值（操作数的副作用也不会发生）。</p>
</blockquote>
<h2 id="5-2-if语句"><a href="#5-2-if语句" class="headerlink" title="5.2    if语句"></a>5.2    if语句</h2><blockquote>
<p><strong>语法：</strong><code>if (表达式) 语句（单独一条）</code><br><strong>注意：</strong>为语句增加大括号或表达式使用圆括号有时并不是必需的，但会使程序更易读，使编译器更容易理解。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(lent_num == MAX_LINES)&#123;</span><br><span class="line">	line_num = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-2-1-复合语句"><a href="#5-2-1-复合语句" class="headerlink" title="5.2.1    复合语句"></a>5.2.1    复合语句</h3><blockquote>
<p><strong>语法：</strong><code>if(表达式){语句1;语句2;...}</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(lent_num == MAX_LINES)&#123;</span><br><span class="line">	line_num = <span class="number">0</span>;</span><br><span class="line">	page_num ++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-2-2-else语句"><a href="#5-2-2-else语句" class="headerlink" title="5.2.2 else语句"></a>5.2.2 else语句</h3><blockquote>
<p><strong>语法：</strong><code>if(表达式) 语句 else 语句</code></p>
<h3 id="5-2-3-级联if语句"><a href="#5-2-3-级联if语句" class="headerlink" title="5.2.3    级联if语句"></a>5.2.3    级联if语句</h3><p><strong>语法：</strong></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(表达式)</span><br><span class="line">	语句</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(表达式)</span><br><span class="line">	语句</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(表达式)</span><br><span class="line">	语句</span><br><span class="line"><span class="keyword">else</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(n &lt; <span class="number">0</span>)&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"n is less than 0\n"</span>)</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(n == <span class="number">0</span>)&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"n is equal to 0\n"</span>)</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"n is greter than 0\n"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-2-4-程序：计算股票经纪人的佣金"><a href="#5-2-4-程序：计算股票经纪人的佣金" class="headerlink" title="5.2.4    程序：计算股票经纪人的佣金"></a>5.2.4    程序：计算股票经纪人的佣金</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Calculate a broker's commission</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">float</span> commission, value;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter value of trade:"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%f"</span>, &amp;value);</span><br><span class="line"></span><br><span class="line"> 	<span class="keyword">if</span> (value &lt; <span class="number">2500.00</span>)&#123;</span><br><span class="line"> 		commission = <span class="number">30.00</span> + <span class="number">.017</span> * value;</span><br><span class="line"> 	&#125;<span class="keyword">else</span> <span class="keyword">if</span> (value &lt; <span class="number">6250.00</span>)&#123;</span><br><span class="line"> 		commission = <span class="number">56.00</span> + <span class="number">.0066</span> * value;</span><br><span class="line"> 	&#125;<span class="keyword">else</span> <span class="keyword">if</span> (value &lt; <span class="number">20000.00</span>)&#123;</span><br><span class="line"> 		commission = <span class="number">76.00</span> + <span class="number">.0034</span> * value;</span><br><span class="line"> 	&#125;<span class="keyword">else</span> <span class="keyword">if</span> (value &lt; <span class="number">50000.00</span>)&#123;</span><br><span class="line"> 		commission = <span class="number">100.00</span> + <span class="number">.0022</span> * value;</span><br><span class="line"> 	&#125;<span class="keyword">else</span> <span class="keyword">if</span> (value &lt; <span class="number">500000.00</span>)&#123;</span><br><span class="line"> 		commission = <span class="number">155.00</span> + <span class="number">.0011</span> * value;</span><br><span class="line"> 	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"> 		commission = <span class="number">255.00</span> + <span class="number">.0009</span> * value;</span><br><span class="line"> 	&#125;</span><br><span class="line"></span><br><span class="line"> 	<span class="keyword">if</span>(commission &lt; <span class="number">39.00</span>)&#123;</span><br><span class="line"> 		commission = <span class="number">39.00</span>;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"commission:$%.2f\n\n"</span>, commission);</span><br><span class="line"></span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ./broker </span><br><span class="line"> Enter value of trade:6000</span><br><span class="line"> commission:<span class="variable">$95</span>.60</span><br></pre></td></tr></table></figure>
<h3 id="5-2-5-“悬空else”的问题"><a href="#5-2-5-“悬空else”的问题" class="headerlink" title="5.2.5    “悬空else”的问题"></a>5.2.5    “悬空else”的问题</h3><blockquote>
<p><strong>规则：</strong>c语言遵循的规则是else字句应该属于离它最近的且还未和其他else匹配的if语句。<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(y != <span class="number">0</span>)</span><br><span class="line">	<span class="keyword">if</span>(x != <span class="number">0</span>)</span><br><span class="line">		result = x / y;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Error:y is equal to 0\n"</span>);</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h3 id="5-2-6-条件表达式"><a href="#5-2-6-条件表达式" class="headerlink" title="5.2.6    条件表达式"></a>5.2.6    条件表达式</h3><blockquote>
<p><strong>又名：</strong>三元运算符<br><strong>语法：</strong><code>表达式1 ? 表达式2 : 表达式3</code><br><strong>优先级：</strong>低于所有其它运算符<br><strong>使用场景：</strong>return语句、printf函数中、某些类型的宏定义<br><strong>注意：</strong>条件表达式使程序更加短小也更难以阅读，所以最好避免使用<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i, j, k;</span><br><span class="line">i = <span class="number">1</span>;</span><br><span class="line">j = <span class="number">2</span>;</span><br><span class="line">k = i &gt; (j ? i : j) + j;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h3 id="5-2-7-模拟布尔值"><a href="#5-2-7-模拟布尔值" class="headerlink" title="5.2.7    模拟布尔值"></a>5.2.7    模拟布尔值</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TRUE 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FALSE 0</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BOOL int</span></span><br><span class="line">...</span><br><span class="line"><span class="keyword">if</span>(flag == TRUE) ...</span><br><span class="line"><span class="keyword">if</span>(flag == FALSE) ...</span><br><span class="line"><span class="keyword">if</span>(!flag) ...</span><br></pre></td></tr></table></figure>
<h2 id="5-3-switch语句"><a href="#5-3-switch语句" class="headerlink" title="5.3    switch语句"></a>5.3    switch语句</h2><blockquote>
<p><strong>语法：</strong><br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(表达式)&#123;</span><br><span class="line">	<span class="keyword">case</span> 常量表达式 : 多条语句</span><br><span class="line">	...</span><br><span class="line">	<span class="keyword">case</span> 常量表达式 : 多条语句</span><br><span class="line">	<span class="keyword">default</span> : 多条语句</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>特点：</strong></p>
<ol>
<li>不允许由重复的情况标号</li>
<li>对情况的顺序没有要求（default）不一定要放置在最后</li>
<li>不要求一定要有default，如果不匹配任何情况又没有default，则什么也不做</li>
</ol>
</blockquote>
<table>
<thead>
<tr>
<th>组成</th>
<th>说明</th>
<th>特点</th>
</tr>
</thead>
<tbody>
<tr>
<td>控制表达式</td>
<td>switch <code>控制表达式</code></td>
<td>整数或字符（也会被当作整数）</td>
</tr>
<tr>
<td>情况标号</td>
<td><code>case 常量表达式</code></td>
<td>常量表达式中只能存在常量（包括宏）</td>
</tr>
<tr>
<td>语句</td>
<td>每个情况标号后边任意数量的语句</td>
<td>c语言中少数几个不需要大括号的地方之一</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(grade)&#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">4</span>: <span class="keyword">case</span> <span class="number">3</span>: <span class="keyword">case</span> <span class="number">2</span>: <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Passing"</span>);</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">0</span>: <span class="built_in">printf</span>(<span class="string">"Failing"</span>);</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">default</span>: <span class="built_in">printf</span>(<span class="string">"Illegal grade"</span>);</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-3-1-break语句的作用"><a href="#5-3-1-break语句的作用" class="headerlink" title="5.3.1    break语句的作用"></a>5.3.1    break语句的作用</h3><blockquote>
<p><strong>说明：</strong>switch语句实际上是一种基于计算的跳转，如果没有break或其它跳转语句，程序控制将会从一种情况继续到下面一种情况。<br><strong>注意：</strong>break的故意省略需要明确指出以防某些人尝试修正“错误”。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(grade)&#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">4</span>: <span class="keyword">case</span> <span class="number">3</span>: <span class="keyword">case</span> <span class="number">2</span>: <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">		num_passing++;</span><br><span class="line">		<span class="comment">/*FALL THROUGH*/</span></span><br><span class="line">	<span class="keyword">case</span> <span class="number">0</span>: total grades++;</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-3-2-程序：显示法定格式的日期"><a href="#5-3-2-程序：显示法定格式的日期" class="headerlink" title="5.3.2    程序：显示法定格式的日期"></a>5.3.2    程序：显示法定格式的日期</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Prints a date in legal form</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> month, day, year;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter date (mm/dd/yy):"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%d /%d /%d"</span>, &amp;month, &amp;day, &amp;year);</span><br><span class="line"></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Dated this %d"</span>, day);</span><br><span class="line"> 	<span class="keyword">switch</span>(day)&#123;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">1</span>:<span class="keyword">case</span> <span class="number">21</span>:<span class="keyword">case</span> <span class="number">31</span>:</span><br><span class="line"> 			<span class="built_in">printf</span>(<span class="string">"st"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">2</span>:<span class="keyword">case</span> <span class="number">22</span>:</span><br><span class="line"> 			<span class="built_in">printf</span>(<span class="string">"nd"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">3</span>:<span class="keyword">case</span> <span class="number">23</span>:</span><br><span class="line"> 			<span class="built_in">printf</span>(<span class="string">"th"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">" day of "</span>);</span><br><span class="line"> 	<span class="keyword">switch</span>(month)&#123;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">1</span>: <span class="built_in">printf</span>(<span class="string">"January"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">2</span>: <span class="built_in">printf</span>(<span class="string">"February"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">3</span>: <span class="built_in">printf</span>(<span class="string">"Marth"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">4</span>: <span class="built_in">printf</span>(<span class="string">"April"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">5</span>: <span class="built_in">printf</span>(<span class="string">"May"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">6</span>: <span class="built_in">printf</span>(<span class="string">"June"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">7</span>: <span class="built_in">printf</span>(<span class="string">"July"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">8</span>: <span class="built_in">printf</span>(<span class="string">"August"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">9</span>: <span class="built_in">printf</span>(<span class="string">"September"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">10</span>: <span class="built_in">printf</span>(<span class="string">"October"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">11</span>: <span class="built_in">printf</span>(<span class="string">"November"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">12</span>: <span class="built_in">printf</span>(<span class="string">"December"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">",20%.2d\n"</span>, year);</span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ./date                        </span><br><span class="line"> Enter date (mm/dd/yy):6/21/15          </span><br><span class="line"> Dated this 21st day of June,2015</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/09/4 表达式/" itemprop="url">
                  4	表达式
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-05-09T16:41:12+08:00" content="2016-05-09">
              2016-05-09
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/09/4 表达式/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/09/4 表达式/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="4-1-算数运算符"><a href="#4-1-算数运算符" class="headerlink" title="4.1    算数运算符"></a>4.1    算数运算符</h2><h3 id="一元运算符"><a href="#一元运算符" class="headerlink" title="一元运算符"></a>一元运算符</h3><table>
<thead>
<tr>
<th>运算符</th>
<th>说明</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>一元正号运算符</td>
<td>在<code>经典c</code>中不存在这种运算符，它主要用于强调某数值常量是正数</td>
</tr>
<tr>
<td>-</td>
<td>一元负号号运算符</td>
</tr>
</tbody>
</table>
<h3 id="二元运算符"><a href="#二元运算符" class="headerlink" title="二元运算符"></a>二元运算符</h3><blockquote>
<p><strong>注意：</strong></p>
<ol>
<li>除<code>%</code>外，二元运算符允许操作数既可以是整数也可以是浮点数，或者是两者混合</li>
<li><code>int</code>类型的操作数和<code>float</code>型操作数混合在一起时，运算结果为<code>float</code>型</li>
<li>当<code>/</code>和<code>%</code>用于负操作数时，其结果与具体实现有关</li>
</ol>
<p><strong>由实现定义(implementtion-defined)：</strong>软件在特定的平台上编译、链接和执行，行为可能会稍有差异。这是c语言为了和硬件平台匹配追求高效率的结果。</p>
</blockquote>
<table>
<thead>
<tr>
<th>运算符</th>
<th>说明</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>加法运算符</td>
<td></td>
</tr>
<tr>
<td>-</td>
<td>减法运算符</td>
<td></td>
</tr>
<tr>
<td>*</td>
<td>乘法运算符</td>
<td></td>
</tr>
<tr>
<td>/</td>
<td>除法运算符</td>
<td>当两个操作数都是整数时，运算结果会向下取整</td>
</tr>
<tr>
<td>%</td>
<td>取余运算符</td>
<td>操作数要求都是整数，否则无法编译通过</td>
</tr>
</tbody>
</table>
<h3 id="4-1-1-运算符的优先级与结合性"><a href="#4-1-1-运算符的优先级与结合性" class="headerlink" title="4.1.1    运算符的优先级与结合性"></a>4.1.1    运算符的优先级与结合性</h3><blockquote>
<p><strong>注意：</strong>很少有程序员会费心记住优先级和结合性规则，而是在需要时参考运算符表或添加足够多的<code>()</code>。<br><strong>运算符优先级：</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>优先级</th>
<th>运算符</th>
</tr>
</thead>
<tbody>
<tr>
<td>最高优先级</td>
<td><code>+(负)</code> <code>-（正）</code>  <code>*</code> <code>/</code> <code>%</code></td>
</tr>
<tr>
<td>最低优先级</td>
<td><code>+(加)</code> <code>-(减)</code></td>
</tr>
</tbody>
</table>
<p><strong>结合性：</strong></p>
<ul>
<li>一元运算符都是右结合<code>(right assoiative)</code>的,即从右向左结合</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-+i;<span class="comment">//-(+i)</span></span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>二元运算符都是左结合<code>(left assoiative)</code>的，即从左向右结合</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">i-j-k;<span class="comment">//(i-j)-k</span></span><br><span class="line">+i+jk/;<span class="comment">//(+i)+(j/k)</span></span><br></pre></td></tr></table></figure>
<h3 id="4-1-2-程序：计算通用产品代码的校验位"><a href="#4-1-2-程序：计算通用产品代码的校验位" class="headerlink" title="4.1.2    程序：计算通用产品代码的校验位"></a>4.1.2    程序：计算通用产品代码的校验位</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Compaer a Universal Prouct Code check digit</span><br><span class="line"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> d, i1, i2, i3, i4, i5, j1, j2, j3, j4, j5, first_sum, second_sum, total;</span><br><span class="line"> 	<span class="comment">/*输入左边第一位数字*/</span></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter the first (single) digit:"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;d);</span><br><span class="line"> 	<span class="comment">/*输入2-6位数字*/</span></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter first groun of value digits:"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%1d%1d%1d%1d%1d"</span>, &amp;i1, &amp;i2, &amp;i3, &amp;i4, &amp;i5);</span><br><span class="line"> 	<span class="comment">/*输入7-11位数字*/</span></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter second group of five digits:"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%1d%1d%1d%1d%1d"</span>, &amp;j1, &amp;j2, &amp;j3, &amp;j4, &amp;j5);</span><br><span class="line"> 	first_sum = d + i2 + i4 + j1 + j3 + j5;</span><br><span class="line"> 	second_sum = i1 + i3 + i5 + j2 + j4;</span><br><span class="line"> 	total = <span class="number">3</span> * first_sum + second_sum;</span><br><span class="line"></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Check digit:%d\n"</span>, <span class="number">9</span> - ((total - <span class="number">1</span>) % <span class="number">10</span>));</span><br><span class="line"></span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ ./upc </span><br><span class="line"> Enter the first (single) digit:2</span><br><span class="line"> Enter first groun of value digits:23456</span><br><span class="line"> Enter second group of five digits:78954</span><br><span class="line"> Check digit:5</span><br></pre></td></tr></table></figure>
<h2 id="4-2-赋值运算符"><a href="#4-2-赋值运算符" class="headerlink" title="4.2    赋值运算符"></a>4.2    赋值运算符</h2><blockquote>
<p><strong>注意：</strong>c语言的<code>=</code>不是<code>语句</code>，而是<code>运算符</code>。赋值表达式<code>v=e</code>的结果是v的值。</p>
</blockquote>
<h3 id="4-2-1-简单赋值"><a href="#4-2-1-简单赋值" class="headerlink" title="4.2.1    简单赋值"></a>4.2.1    简单赋值</h3><blockquote>
<p><strong>语法：</strong><code>v=e</code>，<code>e</code>可以是常量、变量或表达式。<br><strong>副作用：</strong>简单赋值运算符是已知的第一个有副作用的运算符，因为它会改变操作数的值。<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i = j = k = <span class="number">0</span>;<span class="comment">//i = (j = k = 0)</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<h3 id="4-2-2-左值"><a href="#4-2-2-左值" class="headerlink" title="4.2.2    左值"></a>4.2.2    左值</h3><blockquote>
<p><strong>定义：</strong><code>Q&amp;A</code>左值表示存储在计算机内存中的对象，而不是常量和计算结果。例如变量。<br><strong>注意：</strong>赋值运算符要求左边的操作数必须是左值。</p>
</blockquote>
<h3 id="4-2-3-复合赋值"><a href="#4-2-3-复合赋值" class="headerlink" title="4.2.3    复合赋值"></a>4.2.3    复合赋值</h3><blockquote>
<p><strong>用途：</strong>简化利用变量原有值计算出新值，并重新赋值给这个变量的操作。<br><strong>列举：</strong>共10种</p>
</blockquote>
<table>
<thead>
<tr>
<th>+=</th>
<th>-=</th>
<th>*=</th>
<th>/=</th>
<th>%=</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>注意：</strong></p>
<ol>
<li><code>v += e</code>并不完全等同于<code>v = v + e</code>(优先级问题)</li>
</ol>
</blockquote>
<h2 id="4-3-自增运算符和自减运算符"><a href="#4-3-自增运算符和自减运算符" class="headerlink" title="4.3    自增运算符和自减运算符"></a>4.3    自增运算符和自减运算符</h2><blockquote>
<p><strong>和<code>i+=1</code>或<code>i-=1</code>的区别</strong>：</p>
<ol>
<li><code>++</code>和<code>--</code>既可以是前缀运算符，也可以是后缀运算符</li>
<li>和赋值运算符一样，<code>++</code>和<code>--</code>也有副作用：它会改变操作数的值</li>
</ol>
</blockquote>
<p><strong>前缀使用和后缀使用的区别：</strong></p>
<table>
<thead>
<tr>
<th>方式</th>
<th>语法</th>
<th>执行时机</th>
<th>优先级</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>前缀方式</td>
<td><code>++i</code>或<code>--i</code></td>
<td>立即执行</td>
<td>和<code>一元正负号</code>优先级相同，右结合方式</td>
</tr>
<tr>
<td>后缀方式</td>
<td><code>i++</code>或<code>++i</code></td>
<td>稍后再执行</td>
<td>高于<code>一元正负号</code>，左结合方式</td>
<td><code>Q&amp;A</code>没有给出明确的时间，当会是下一条语句执行之前</td>
</tr>
</tbody>
</table>
<h2 id="4-4-表达式求值"><a href="#4-4-表达式求值" class="headerlink" title="4.4    表达式求值"></a>4.4    表达式求值</h2><h3 id="4-4-1-部分c语言运算符表"><a href="#4-4-1-部分c语言运算符表" class="headerlink" title="4.4.1    部分c语言运算符表"></a>4.4.1    部分c语言运算符表</h3><p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-19%20%E4%B8%8B%E5%8D%888.44.42.png" alt="Alt text"></p>
<h3 id="4-4-2-为表达式添加圆括号"><a href="#4-4-2-为表达式添加圆括号" class="headerlink" title="4.4.2    为表达式添加圆括号"></a>4.4.2    为表达式添加圆括号</h3><blockquote>
<p><strong>过程：</strong>检查表达式，找到最高优先级地运算符后，用圆括号把运算符合相应的操作数括起来，圆括号的内容将被看成一个单独的操作数。然后重复此类操作指导表达式被完全加上圆括号。 </p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">s=&gt;start: start</span><br><span class="line">e=&gt;end: end</span><br><span class="line">op1=&gt;operation: a = b += c++ - d + --e / -f</span><br><span class="line">op2=&gt;operation: a = b += (c++) - d + (--e) / (-f)</span><br><span class="line">op3=&gt;operation: a = b += (c++) - d + ((--e) / (-f))</span><br><span class="line">op4=&gt;operation: a = b += ((c++) - d + (((--e) / (-f))))</span><br><span class="line">op5=&gt;operation: (a = b += ((c++) - d + (((--e) / (-f)))))</span><br><span class="line"></span><br><span class="line">s-&gt;op1-&gt;op2-&gt;op3-&gt;op4-&gt;op5-&gt;e</span><br></pre></td></tr></table></figure>
<h3 id="4-4-3-子表达式的求值顺序"><a href="#4-4-3-子表达式的求值顺序" class="headerlink" title="4.4.3    子表达式的求值顺序"></a>4.4.3    子表达式的求值顺序</h3><blockquote>
<p><strong>注意：</strong>c语言并没有定义子表达式的求值顺序（<code>&amp;&amp;</code> <code>||</code> <code>条件运算符</code> <code>逗号运算符</code>除外）</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">5</span>;</span><br><span class="line">c = (b = a + <span class="number">2</span>) - (a = <span class="number">1</span>)<span class="comment">//c可能是6也可能是2</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>建议：</strong>不在表达式种使用赋值运算符，而是采用一串分离的赋值表达式。</p>
</blockquote>
<h2 id="4-5-表达式语句"><a href="#4-5-表达式语句" class="headerlink" title="4.5    表达式语句"></a>4.5    表达式语句</h2><blockquote>
<p><strong>表达式转换为语句：</strong>任何表达式都可以通过添加分号转换为语句。<br><strong>注意：</strong>除非表达式有副作用，否则将表达式用作语句并没有任何意义。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line">i --;<span class="comment">//因为副作用的关系起到了作用</span></span><br><span class="line"></span><br><span class="line">i * j - <span class="number">1</span>;<span class="comment">//因为没有副作用，将该表达式作为语句使用没有任何意义</span></span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/08/3 格式化输入／输出/" itemprop="url">
                  3 格式化输入／输出
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-05-08T22:48:34+08:00" content="2016-05-08">
              2016-05-08
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/08/3 格式化输入／输出/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/08/3 格式化输入／输出/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="3-1-printf函数"><a href="#3-1-printf函数" class="headerlink" title="3.1    printf函数"></a>3.1    printf函数</h2><blockquote>
<p><strong>语法：</strong><code>printf(格式串,表达式1,表达式2,...)</code><br><strong>转换说明（conversion specification）：</strong>以字符<code>%</code>开头，用来表示打印过程中填充了值的占位符。<code>%</code>后面的信息指定了把数值从内部（二进制）形式转换成打印（字符）形式的方法。<br><strong>注意：</strong></p>
<ol>
<li>单独调用一次prinf函数时可以打印的值的个数没有限制</li>
<li>c语言编译器不会检测格式串中转换说明的数据是否和输出项的数量相匹配</li>
<li>也不检测转换说明是否适合要显示项的数据类型</li>
</ol>
</blockquote>
<h3 id="3-1-1-转换说明"><a href="#3-1-1-转换说明" class="headerlink" title="3.1.1    转换说明"></a>3.1.1    转换说明</h3><blockquote>
<p><strong>格式：</strong><code>%m.pX</code>或<code>%-m.pX</code></p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:center">组件</th>
<th style="text-align:center">含义</th>
<th style="text-align:left">必选</th>
<th>用途</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-</td>
<td style="text-align:center">左对齐</td>
<td style="text-align:left">否</td>
<td>左对齐（默认右对齐）</td>
<td></td>
</tr>
<tr>
<td style="text-align:center">m</td>
<td style="text-align:center">minimum field width</td>
<td style="text-align:left">否</td>
<td>最小字段宽度</td>
<td>当<code>打印字符数&lt;m</code>时会根据对齐方式在前或后放置额外的空格；<code>打印字符数&gt;m</code>时字段宽度会自动扩展为需要的尺寸。</td>
</tr>
<tr>
<td style="text-align:center">.</td>
<td style="text-align:center">分隔</td>
<td style="text-align:left">否</td>
<td>分隔m和p，p存在时才存在</td>
<td></td>
</tr>
<tr>
<td style="text-align:center">p</td>
<td style="text-align:center">precision</td>
<td style="text-align:left">否</td>
<td>含义依赖于<code>X</code>的选择</td>
<td><code>d</code>(数字的最少个数，不够用0补够，默认1)；<code>e</code>(小数点后数字个数，默认6) ;<code>f</code>(同e); <code>g</code>(有效数字的最大数量)</td>
</tr>
<tr>
<td style="text-align:center">X</td>
<td style="text-align:center">conversion specifier</td>
<td style="text-align:left">是</td>
<td>在显示数值前对其进行那种转换</td>
<td><code>d</code>(十进制)；<code>e</code>(指数)；<code>f</code>(浮点数)<code>g</code>(根据数的大小决定指数形式还是浮点数形式)</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>注意：</strong>以上只就部分转换说明符进行了说明。</p>
</blockquote>
<h3 id="3-1-2-程序：用printf函数格式化数"><a href="#3-1-2-程序：用printf函数格式化数" class="headerlink" title="3.1.2    程序：用printf函数格式化数"></a>3.1.2    程序：用printf函数格式化数</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Prints int and float values in various formats</span><br><span class="line"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> i;</span><br><span class="line"> 	<span class="keyword">float</span> x;</span><br><span class="line"></span><br><span class="line"> 	i = <span class="number">40</span>;</span><br><span class="line"> 	x = <span class="number">839.21</span>;</span><br><span class="line"></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"|%d|%5d|%-5d|%5.3d|\n"</span>, i, i, i, i);</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"|%10.3f|%10.3e|%-10g|\n"</span>, x, x, x);</span><br><span class="line"></span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ./tprintf </span><br><span class="line"> |40|   40|40   |  040|</span><br><span class="line"> |   839.210| 8.392e+02|839.21    |</span><br></pre></td></tr></table></figure>
<h3 id="3-1-3-转义序列"><a href="#3-1-3-转义序列" class="headerlink" title="3.1.3    转义序列"></a>3.1.3    转义序列</h3><blockquote>
<p><strong>简介：</strong>通过使用<code>\</code>组合其它字符实现对字符的转义，转义字符使字符串包含一些特殊字符而又不会使编译器引发问题，包括非打印的控制字符和对编译器有特殊含义的字符（比如<code>&quot;</code>）。</p>
</blockquote>
<p><code>只提供部分</code></p>
<table>
<thead>
<tr>
<th>转义字符</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>\a</td>
<td>警报（响铃）</td>
</tr>
<tr>
<td>\b</td>
<td>回退符</td>
</tr>
<tr>
<td>\n</td>
<td>换行符</td>
</tr>
<tr>
<td>\t</td>
<td>横向制表符</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">"Item\tUnit\tPurpose\n\tPrice\tDate\n"</span>)</span><br></pre></td></tr></table></figure>
<h2 id="3-2-scanf函数"><a href="#3-2-scanf函数" class="headerlink" title="3.2    scanf函数"></a>3.2    scanf函数</h2><blockquote>
<p><strong>语法：</strong><code>scanf(格式串, 表达式1, 表达式2, ...)</code><br><strong>注意：</strong></p>
<ul>
<li>编译器不会检查转换说明的数量与输入变量是否相匹配</li>
<li>编译器不会检查转换说明和对应输入变量格式是否合适</li>
<li>忘记在变量前放置符号<code>&amp;</code>将会产生不可预知的结果（比如变量没有初始化）</li>
</ul>
</blockquote>
<h3 id="3-2-1-scanf函数的工作方法"><a href="#3-2-1-scanf函数的工作方法" class="headerlink" title="3.2.1    scanf函数的工作方法"></a>3.2.1    scanf函数的工作方法</h3><blockquote>
<p><strong>简述：</strong>scanf函数本质上是一种“模式匹配”函数，也就是试图把输入的字符组与转换说明匹配成功。<br><strong>空白字符(white-space)：</strong>空格、横向（纵向）制表符、换页符、换行符。<br><strong>匹配规则：</strong></p>
<ol>
<li>从左边开始处理输入的字符串的信息</li>
<li>对格式串中的每一个转换说明，scanf函数努力从输入的数据中定位适当类型的项，并且跳过必要的空白符</li>
<li>遇到不可能属于当前转换说明的字符时结束对当前转换字符的匹配，并将已经匹配的字符赋值给对应变量</li>
<li>如果用户输入的字符都和当前转换说明不匹配，则不再查看格式串的剩余部分</li>
</ol>
</blockquote>
<h3 id="3-2-2-格式串中的普通字符"><a href="#3-2-2-格式串中的普通字符" class="headerlink" title="3.2.2    格式串中的普通字符"></a>3.2.2    格式串中的普通字符</h3><blockquote>
<p><strong>空白字符</strong>：当再格式串中遇到一个或多个连续的空白字符时，scanf函数从输入中重复读空白字符直到遇到一个非空白字符。<br><strong>其他字符：</strong>当格式串中国年遇到一个非空白字符时，scanf会把它与下一个输入字符进行比较。如果匹配则丢掉匹配的部分，并针对后面的输入及对应的格式串进行处理；否则异常退出。</p>
</blockquote>
<h3 id="3-2-3-混淆printf函数和scanf函数"><a href="#3-2-3-混淆printf函数和scanf函数" class="headerlink" title="3.2.3    混淆printf函数和scanf函数"></a>3.2.3    混淆printf函数和scanf函数</h3><p><strong>常见问题</strong></p>
<ul>
<li>在printf函数调用时在变量前面放置<code>&amp;</code></li>
<li>scanf中格式串中出现不必要的<code>\n</code>，导致交互程序会一直匹配用户输入的空白符</li>
</ul>
<h3 id="3-2-4-程序：计算持有的股票的价值"><a href="#3-2-4-程序：计算持有的股票的价值" class="headerlink" title="3.2.4    程序：计算持有的股票的价值"></a>3.2.4    程序：计算持有的股票的价值</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Computes the value of stock holdings</span><br><span class="line"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> price, shares;</span><br><span class="line"> 	<span class="keyword">float</span> num, denom, value;</span><br><span class="line"></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter share price (must inclide a fraction):\n"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%d%f/%f"</span>, &amp;price, &amp;num, &amp;denom);</span><br><span class="line"></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter number of shares:"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;shares);</span><br><span class="line"></span><br><span class="line"> 	value = (price + num / denom) * shares;</span><br><span class="line"></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Value of holdings:$%.2f\n"</span>, value);</span><br><span class="line"></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ ./stocks </span><br><span class="line"> Enter share price (must inclide a fraction):</span><br><span class="line"> 64 18/40</span><br><span class="line"> Enter number of shares:100</span><br><span class="line"> Value of holdings:<span class="variable">$6445</span>.00</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/08/2 c语言基本概念/" itemprop="url">
                  2 c语言基本概念
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-05-08T22:24:08+08:00" content="2016-05-08">
              2016-05-08
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/08/2 c语言基本概念/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/08/2 c语言基本概念/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>2    c语言基本概念</p>
<h2 id="2-1-编写一个简单地c程序"><a href="#2-1-编写一个简单地c程序" class="headerlink" title="2.1    编写一个简单地c程序"></a>2.1    编写一个简单地c程序</h2><h3 id="2-1-1-程序：显示双关语"><a href="#2-1-1-程序：显示双关语" class="headerlink" title="2.1.1    程序：显示双关语"></a>2.1.1    程序：显示双关语</h3><blockquote>
<p><strong>注意：</strong>编译器往往要求文件的扩展名为<code>.c</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"To c, or not to c:that is the question.\n"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-1-2-编译和链接"><a href="#2-1-2-编译和链接" class="headerlink" title="2.1.2    编译和链接"></a>2.1.2    编译和链接</h3><blockquote>
<p><strong>预处理器（processor）：</strong>优点类似编辑器，它可以给程序添加内容，也可以对程序进行修改。<br><strong>指令（directive）：</strong>以<code>#</code>开头的命令，由预处理器执行为程序文件添加内容。<br><strong>目标代码（object code）：</strong>编译生成的机器指令（需要链接才能运行）<br><strong>编译器（complier）：</strong>在编译阶段将程序翻译成目标代码。比如UNIX下的<code>cc</code><br><strong>连接器（linker）：</strong>把编译产生的目标代码和任何其它附加代码整合在一起，生成可执行文件。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">st=&gt;start: 编写程序</span><br><span class="line">e=&gt;end: 执行</span><br><span class="line"></span><br><span class="line">op1=&gt;operation: 预处理：执行指令，引入相关代码</span><br><span class="line">op2=&gt;operation: 编译：将预处理后的代码翻译为目标代码</span><br><span class="line">op3=&gt;operation: 链接：整合目标代码和附加代码（包括库函数），生成完全可执行的程序</span><br><span class="line"></span><br><span class="line">st-&gt;op1-&gt;op2-&gt;op3-&gt;e</span><br></pre></td></tr></table></figure>
<h4 id="cc"><a href="#cc" class="headerlink" title="cc"></a>cc</h4><table>
<thead>
<tr>
<th>-o</th>
<th>允许为含有可执行程序的文件命名</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>使用技巧</strong></p>
<ul>
<li><strong>自动链接：</strong>使用<code>cc</code>进行编译时，系统会自动进行链接操作，不需要单独的链接命令</li>
<li><strong>可执行文件命名：</strong>默认为<code>文件名.out</code></li>
</ul>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cc -o pun pun.c<span class="comment"># 可执行文件名为pun</span></span><br></pre></td></tr></table></figure>
<h4 id="gcc-GNU-C-Complier）"><a href="#gcc-GNU-C-Complier）" class="headerlink" title="gcc(GNU C Complier）"></a>gcc(GNU C Complier）</h4><table>
<thead>
<tr>
<th>-Wall</th>
<th>使gcc比平常更彻底地检查程序并警告可能发生的问题</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>简介：</strong>UNIX系统中最常用的编译器之一。<br><strong>自由软件基金会（Free Software Foundation, FSF）：</strong>由<code>Richard M.Stallman</code>创建，旨在对抗UNIX正版软件的使用限制和高额费用。重写了大量UNIX软件并免费发布。</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gcc -Wall -o pun pun.c</span><br></pre></td></tr></table></figure>
<h2 id="2-2-简单程序的通用形式"><a href="#2-2-简单程序的通用形式" class="headerlink" title="2.2    简单程序的通用形式"></a>2.2    简单程序的通用形式</h2><blockquote>
<p><strong>一般形式：</strong><br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">指令</span><br><span class="line">main()&#123;</span><br><span class="line">    语句</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>3个关键语言特性：</strong><code>指令</code> <code>函数</code> <code>语句</code></p>
</blockquote>
<h3 id="2-2-1-指令"><a href="#2-2-1-指令" class="headerlink" title="2.2.1    指令"></a>2.2.1    指令</h3><blockquote>
<p><strong>头文件：</strong>都包含一些标准库的内容<br><strong>语法：</strong></p>
<ol>
<li>所有的指令都以<code>#</code>开始，用以和c程序的其它代码进行区分</li>
<li>默认情况下指令是一行</li>
<li>在每条指令的结尾既没有分号也没有其它特殊标记</li>
</ol>
</blockquote>
<h3 id="2-2-2-函数"><a href="#2-2-2-函数" class="headerlink" title="2.2.2    函数"></a>2.2.2    函数</h3><blockquote>
<p><strong>定义：</strong>一系列组合在一起并且赋予了名字的语句<br><strong>分2类：</strong></p>
<ul>
<li>程序员编写的函数</li>
<li>编译器提供的库函数(<code>library function</code>)</li>
</ul>
</blockquote>
<h4 id="main函数"><a href="#main函数" class="headerlink" title="main函数"></a><code>main</code>函数</h4><blockquote>
<p><strong>简介：</strong>c程序可以包含多个函数，但前置规定必须有一个<code>main</code>函数<br><strong>特点：</strong></p>
<ul>
<li>在执行程序时系统会自动调用main函数</li>
<li>名字<code>main</code>是至关重要的，不能改写为<code>begin</code> <code>start</code>，甚至<code>MAIN</code></li>
</ul>
<p><strong>注意：</strong>建议在<code>main</code>函数末尾用一条<code>return</code>结束语句，<code>Q&amp;A</code>如果不这样做，某些编译器可能会产生一条警告信息。</p>
</blockquote>
<h3 id="2-2-3-语句"><a href="#2-2-3-语句" class="headerlink" title="2.2.3    语句"></a>2.2.3    语句</h3><blockquote>
<p><strong>定义：</strong>程序运行时执行的命令<br><strong>语法：</strong></p>
<ul>
<li>除复合语句和指令除外，每条语句都要用<code>;</code>结尾</li>
</ul>
</blockquote>
<h3 id="2-2-4-显示字符串"><a href="#2-2-4-显示字符串" class="headerlink" title="2.2.4    显示字符串"></a>2.2.4    显示字符串</h3><blockquote>
<p><strong>字符串字面量：</strong>用一对双引号保卫的一系列字符<br><code>printf</code>：不会自动跳转到下一行（除非在末尾添加<code>\n</code>）</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">"To, or not to c:"</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"that is the question.\n:"</span>);</span><br></pre></td></tr></table></figure>
<h2 id="2-3-注释"><a href="#2-3-注释" class="headerlink" title="2.3    注释"></a>2.3    注释</h2><blockquote>
<p><strong>语法：</strong><code>/**/</code>，可以出现在程序的任何位置，单独占行或和其它程序放在同一行。</p>
</blockquote>
<h3 id="2-3-1-文档说明"><a href="#2-3-1-文档说明" class="headerlink" title="2.3.1    文档说明"></a>2.3.1    文档说明</h3><h4 id="2-3-1-1-举个栗子"><a href="#2-3-1-1-举个栗子" class="headerlink" title="2.3.1.1    举个栗子"></a>2.3.1.1    举个栗子</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Name:	pun.c 			 */</span></span><br><span class="line"><span class="comment">/* Purpose:	Prints a bad pun */</span></span><br><span class="line"><span class="comment">/* Author:	K. N. King		 */</span></span><br><span class="line"><span class="comment">/* Date written:	5/21/95	 */</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"To c, or not to c:that is the question.\n"</span>);</span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-3-1-2-其它形式"><a href="#2-3-1-2-其它形式" class="headerlink" title="2.3.1.2    其它形式"></a>2.3.1.2    其它形式</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/******************************</span><br><span class="line"> * Name:	pun.c 			  *</span><br><span class="line"> * Purpose:	Prints a bad pun  *</span><br><span class="line"> * Author:	K. N. King		  *</span><br><span class="line"> * Date written:	5/21/95	  *</span><br><span class="line"> * ****************************/</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span><br><span class="line">* Name:	pun.c 	</span><br><span class="line">* Purpose:	Prints a bad pun </span><br><span class="line">* Author:	K. N. King	</span><br><span class="line">* Date written:	5/21/95	 </span><br><span class="line">*/</span></span><br></pre></td></tr></table></figure>
<h3 id="2-3-2-翼型注释"><a href="#2-3-2-翼型注释" class="headerlink" title="2.3.2    翼型注释"></a>2.3.2    翼型注释</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">main()<span class="comment">/* Beginning of main program */</span></span><br></pre></td></tr></table></figure>
<h2 id="2-4-变量和赋值"><a href="#2-4-变量和赋值" class="headerlink" title="2.4    变量和赋值"></a>2.4    变量和赋值</h2><h3 id="2-4-1-类型"><a href="#2-4-1-类型" class="headerlink" title="2.4.1    类型"></a>2.4.1    类型</h3><blockquote>
<p><strong>简介：</strong>类型用来寿命变量所存储的数据的种类。类型会影响变量的存储方式，所以选择合适的类型非常关键。</p>
<h4 id="int和float"><a href="#int和float" class="headerlink" title="int和float"></a><code>int</code>和<code>float</code></h4><table>
<thead>
<tr>
<th>类型</th>
<th>说明</th>
<th>速度</th>
<th>存储</th>
<th>取值特点</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>int</td>
<td>整数</td>
<td>较快</td>
<td>占用少</td>
<td>取值范围小</td>
<td></td>
</tr>
<tr>
<td>float</td>
<td>浮点数</td>
<td>较慢</td>
<td>占用多</td>
<td>取值范围大</td>
<td>存储的数值往往只是数值的近似值，存在摄入误差</td>
</tr>
</tbody>
</table>
<h3 id="2-4-2-声明"><a href="#2-4-2-声明" class="headerlink" title="2.4.2    声明"></a>2.4.2    声明</h3><p><strong>语法：</strong></p>
<ul>
<li>每条声明都要以<code>;</code>结尾</li>
<li>声明多个相同类型的变量时，中间用<code>,</code>隔开</li>
</ul>
<p><strong>建议：</strong>在声明和语句之间留出空白。<br><strong>注意：</strong><code>main</code> 函数包含声明时，必须把声明放置在语句之前。<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">main()&#123;</span><br><span class="line">  声明</span><br><span class="line">  语句</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h3 id="2-4-3-赋值"><a href="#2-4-3-赋值" class="headerlink" title="2.4.3    赋值"></a>2.4.3    赋值</h3><blockquote>
<p><strong>语法：</strong><code>变量 = 表达式</code><br><strong>表达式：</strong>赋值运算的右侧的包含常量、变量和运算符的公式。</p>
</blockquote>
<h3 id="2-4-4-显示变量的值"><a href="#2-4-4-显示变量的值" class="headerlink" title="2.4.4    显示变量的值"></a>2.4.4    显示变量的值</h3><blockquote>
<p><strong>方式：</strong>通过<code>printf</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">"Height: %d Length: %d\n"</span>, height, length);</span><br></pre></td></tr></table></figure>
<h3 id="2-4-5-程序：计算箱子的空间重量"><a href="#2-4-5-程序：计算箱子的空间重量" class="headerlink" title="2.4.5    程序：计算箱子的空间重量"></a>2.4.5    程序：计算箱子的空间重量</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Name:	pun.c 			 */</span></span><br><span class="line"><span class="comment">/* Purpose:	Prints a bad pun */</span></span><br><span class="line"><span class="comment">/* Author:	K. N. King		 */</span></span><br><span class="line"><span class="comment">/* Date written:	5/21/95	 */</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> height, length, width, volume, weight;</span><br><span class="line">	</span><br><span class="line">	height = <span class="number">8</span>;</span><br><span class="line">	length = <span class="number">12</span>;</span><br><span class="line">	width = <span class="number">10</span>;</span><br><span class="line">	volume = height * length * width;</span><br><span class="line">	weight = (volume + <span class="number">165</span>) / <span class="number">166</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Dimensions: %dx%dx%d\n"</span>, length, width, height);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"volume(cubic inches):%d\n"</span>, volume);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Dimensional weight (pounds):%d\n"</span>, weight);</span><br><span class="line"></span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ gcc -Wall -o pun pun.c</span><br><span class="line">$ ./pun</span><br><span class="line"> Dimensions: 12x10x8</span><br><span class="line"> volume(cubic inches):960</span><br><span class="line"> Dimensional weight (pounds):6</span><br></pre></td></tr></table></figure>
<h3 id="2-4-6-初始化"><a href="#2-4-6-初始化" class="headerlink" title="2.4.6    初始化"></a>2.4.6    初始化</h3><blockquote>
<p><strong>初始化式（initializer）：</strong>在变量声明中加入初始值。<br><strong>注意：</strong>程序开始执行时，默契热情况下某些变量会自动设置为零，而大多数变量则不会。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> height, length = <span class="number">12</span>, width = <span class="number">12</span>;<span class="comment">/*其中第一个个变量的值未知*/</span></span><br></pre></td></tr></table></figure>
<h3 id="2-4-7-显示表达式的值"><a href="#2-4-7-显示表达式的值" class="headerlink" title="2.4.7    显示表达式的值"></a>2.4.7    显示表达式的值</h3><p><code>在任何需要数值的地方，都可以使用具有相同类型的表达式。</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">prinf(<span class="string">"%d\n"</span>, height * length * width);</span><br></pre></td></tr></table></figure>
<h2 id="2-5-读入输入"><a href="#2-5-读入输入" class="headerlink" title="2.5    读入输入"></a>2.5    读入输入</h2><blockquote>
<p><code>scanf</code>:和<code>printf</code>相对应的c库函数。<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;i);<span class="comment">/*读入一个整数给i*/</span></span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%f"</span>, &amp;x);<span class="comment">/*读入一个float数值给x*/</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<h3 id="程序：计算箱子的空间重量（改进版）"><a href="#程序：计算箱子的空间重量（改进版）" class="headerlink" title="程序：计算箱子的空间重量（改进版）"></a>程序：计算箱子的空间重量（改进版）</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span><br><span class="line"> * Computes the dimensioal weight of a box</span><br><span class="line"> * from input provided by the user</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> height, length, width, volume, weight;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Enter height of box:"</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;height);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Enter length of box:"</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;length);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Enter width of box:"</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;width);</span><br><span class="line"></span><br><span class="line">	volume = height * length * width;</span><br><span class="line">	weight = (volume + <span class="number">165</span>) / <span class="number">166</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"volume(cubic inches):%d\n"</span>, volume);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Dimensional weight (pounds):%d\n"</span>, weight);</span><br><span class="line"></span><br><span class="line">	return <span class="number">0</span>;	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ ./dweight2 </span><br><span class="line"> Enter height of box:2</span><br><span class="line"> Enter length of box:3</span><br><span class="line"> Enter width of box:4</span><br><span class="line"> volume(cubic inches):24</span><br><span class="line"> Dimensional weight (pounds):1</span><br></pre></td></tr></table></figure>
<h2 id="2-6-定义常量"><a href="#2-6-定义常量" class="headerlink" title="2.6    定义常量"></a>2.6    定义常量</h2><blockquote>
<p><strong>宏定义（macro definition）：</strong>对程序进行预处理时，预处理器会把每一个宏用其表示的值替换回来。<br><strong>语法：</strong><code># define 宏变量名 字面量或表达式</code><br><strong>注意：</strong></p>
<ul>
<li>常量的名字使用大写字母（沿用了10几年的规范）</li>
<li>当宏包含运算符时，必须使用括号把表达式括起来</li>
</ul>
</blockquote>
<h3 id="程序：华氏温度转换为摄氏温度"><a href="#程序：华氏温度转换为摄氏温度" class="headerlink" title="程序：华氏温度转换为摄氏温度"></a>程序：华氏温度转换为摄氏温度</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/************************************************</span><br><span class="line"> * Converts a Fahrenheit temperature to Celsius *</span><br><span class="line"> * **********************************************/</span></span><br><span class="line"></span><br><span class="line"> <span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"> <span class="meta"># <span class="meta-keyword">define</span> FREEZING_PT  32.0</span></span><br><span class="line"> <span class="meta"># <span class="meta-keyword">define</span> SCALE_FACTOR (5.0 / 9.0)<span class="comment">/*如果是(5/9)结果为0*/</span></span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">float</span> fahrenheit, celsius;</span><br><span class="line"></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter Fahrenheit temperature:"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%f"</span>, &amp;fahrenheit);</span><br><span class="line"></span><br><span class="line"> 	celsius = (fahrenheit - FREEZING_PT) * SCALE_FACTOR;<span class="comment">/*温度转换*/</span></span><br><span class="line"></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Celsius equivalent:%.1f\n"</span>, celsius);<span class="comment">/*保留小数点后一位*/</span></span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ./celsius </span><br><span class="line"> Enter Fahrenheit temperature:32</span><br><span class="line"> Celsius equivalent:0.0</span><br></pre></td></tr></table></figure>
<h2 id="2-7-标识符"><a href="#2-7-标识符" class="headerlink" title="2.7    标识符"></a>2.7    标识符</h2><blockquote>
<p><strong>定义：</strong>变量、函数］宏和其他尸体的名字成为标识符(identifier)。<br><strong>规则：</strong></p>
<ol>
<li>可以包含字母、数字和下划线</li>
<li>必须以字母或者下划线开头</li>
<li>区分大小写</li>
<li><code>Q&amp;A</code>标准C对标识符的最大长度没有限制</li>
<li>不能使用<code>关键字</code>作为标识符<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-16%20%E4%B8%8B%E5%8D%882.54.55.png" alt="Alt text"></li>
</ol>
</blockquote>
<h2 id="2-8-c语言程序的布局"><a href="#2-8-c语言程序的布局" class="headerlink" title="2.8    c语言程序的布局"></a>2.8    c语言程序的布局</h2><h3 id="原则"><a href="#原则" class="headerlink" title="原则"></a>原则</h3><ul>
<li>语句可以划分在任意多行内</li>
<li>记号间的空格应该便于肉眼区别记号。因此通常在每个运算符的前后都放上一个空格。</li>
<li>缩进有助于轻松识别程序嵌套</li>
<li>空行可以把程序划分成逻辑单元，从而使读者更容易辨别程序的结构。</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/08/1 c语言概述/" itemprop="url">
                  1 c语言概述
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-05-08T21:47:27+08:00" content="2016-05-08">
              2016-05-08
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/08/1 c语言概述/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/08/1 c语言概述/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-1-c语言的历史"><a href="#1-1-c语言的历史" class="headerlink" title="1.1    c语言的历史"></a>1.1    c语言的历史</h2><h3 id="1-1-1-起源"><a href="#1-1-1-起源" class="headerlink" title="1.1.1    起源"></a>1.1.1    起源</h3><blockquote>
<p><strong>简介：</strong>c语言是在贝尔实验室由<code>Ken Thompson</code> <code>Dennis Ritchie</code>及其同事在开发UNIX操作系统的过程中的副产品。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">st=&gt;start: 1969</span><br><span class="line">e=&gt;end: 1973</span><br><span class="line"></span><br><span class="line">op1=&gt;operation: Thompson独自动手使用汇编语言编写了UNIX操作系统的最初版本</span><br><span class="line">op2=&gt;operation: Thompson在BCPL语言（基于ALGOL 60）的基础上开发B语言</span><br><span class="line">op3=&gt;operation: 1970年，B语言经过改进运行在PDP-11上</span><br><span class="line">op4=&gt;operation: 1971年，B语言暴露出不适合PDP-11的问题</span><br><span class="line">op5=&gt;operation: Ritchie开始开发B语言的升级版，NB</span><br><span class="line">op6=&gt;operation: NB越来越脱离B,改名C语言</span><br><span class="line"></span><br><span class="line">st-&gt;op1-&gt;op2-&gt;op3-&gt;op4-&gt;op5-&gt;op6-&gt;e</span><br></pre></td></tr></table></figure>
<h3 id="1-1-2-标准化"><a href="#1-1-2-标准化" class="headerlink" title="1.1.2    标准化"></a>1.1.2    标准化</h3><blockquote>
<p><strong>注意：</strong>c语言目前最新标准是1999年修订的<code>C99</code>(ISO 9899:1999)，但目前没有得到广发应用。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">st=&gt;start: 1978</span><br><span class="line">e=&gt;end: 1990</span><br><span class="line">op1=&gt;operation: 1978年，《The C Programming Language》第一版出版，成为事实标准，即经典C(K&amp;R C)</span><br><span class="line">op2=&gt;operation: 1983年，ANSI开始编制C语言标准</span><br><span class="line">op3=&gt;operation: 1988年，经过多次修订，C语言标准完成</span><br><span class="line">op4=&gt;operation: 1989年12月通过，成为ANSI标准X3.159-1989</span><br><span class="line">op5=&gt;operation: 1990年，ISO通过此项标准，成为ISO/IEC 9899-1990国际标准，即标准C(ANSI C或ANSI/ISO C)</span><br><span class="line"></span><br><span class="line">st-&gt;op1-&gt;op2-&gt;op3-&gt;op4-&gt;op5-&gt;e</span><br></pre></td></tr></table></figure>
<h3 id="1-1-3-C-语言"><a href="#1-1-3-C-语言" class="headerlink" title="1.1.3    C++语言"></a>1.1.3    C++语言</h3><blockquote>
<p><strong>相关：</strong><code>Concurrent C</code> <code>Object C</code> <code>C++</code><br><strong>C++简介：</strong>贝尔实验室的<code>Bjarne Stroustrup</code>设计，在许多方面对C语言进行扩展，支持面向对象。<br><strong>为什么不直接学习c++：</strong></p>
<ul>
<li>+c++语言比c语言更加难学，最好先精通c</li>
<li>存在大量c语言代码需要维护</li>
<li>并不是所有场景都适合c++</li>
</ul>
</blockquote>
<h2 id="1-2-C语言的优缺点"><a href="#1-2-C语言的优缺点" class="headerlink" title="1.2    C语言的优缺点"></a>1.2    C语言的优缺点</h2><blockquote>
<ul>
<li>c语言是一种低级语言</li>
<li>c语言是一种小型语言</li>
<li>c语言是一种包容性语言</li>
</ul>
</blockquote>
<h3 id="1-2-1-优点"><a href="#1-2-1-优点" class="headerlink" title="1.2.1    优点"></a>1.2.1    优点</h3><ul>
<li>高效性</li>
<li>可移植</li>
<li>功能强大</li>
<li>灵活性</li>
<li>标准库</li>
<li>与UNIX系统的集成</li>
</ul>
<h3 id="1-2-2-缺点"><a href="#1-2-2-缺点" class="headerlink" title="1.2.2 缺点"></a>1.2.2 缺点</h3><ul>
<li>c语言可能会漏洞百出</li>
<li>c程序可能会难以理解</li>
<li>c程序可能会难以修改</li>
</ul>
<h3 id="1-2-3-高效地使用c语言"><a href="#1-2-3-高效地使用c语言" class="headerlink" title="1.2.3    高效地使用c语言"></a>1.2.3    高效地使用c语言</h3><ul>
<li>学习如何规避c语言地缺陷</li>
<li>使用软件工具使程序更加可靠</li>
<li>利用现有地代码库</li>
<li>采用一套切合实际地编码规范</li>
<li>避免“投机取巧”和极度复杂地代码</li>
<li>避免不可移植性</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/9/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><span class="page-number current">10</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Sean" />
          <p class="site-author-name" itemprop="name">Sean</p>
          <p class="site-description motion-element" itemprop="description">整理了一批过去一段时间ios相关的笔记，其它的笔记也整理下？源码分享出来？再说吧...反正也只有自己会看吧...</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">100</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">14</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Sean</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"lapuda-er"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  

  

  

  

</body>
</html>
