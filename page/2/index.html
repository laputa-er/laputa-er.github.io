<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="æ•´ç†äº†ä¸€æ‰¹è¿‡å»ä¸€æ®µæ—¶é—´iosç›¸å…³çš„ç¬”è®°ï¼Œå…¶å®ƒçš„ç¬”è®°ä¹Ÿæ•´ç†ä¸‹ï¼Ÿæºç åˆ†äº«å‡ºæ¥ï¼Ÿå†è¯´å§...åæ­£ä¹Ÿåªæœ‰è‡ªå·±ä¼šçœ‹å§...">
<meta property="og:type" content="website">
<meta property="og:title" content="Sean">
<meta property="og:url" content="http://laputa-er.github.io/page/2/index.html">
<meta property="og:site_name" content="Sean">
<meta property="og:description" content="æ•´ç†äº†ä¸€æ‰¹è¿‡å»ä¸€æ®µæ—¶é—´iosç›¸å…³çš„ç¬”è®°ï¼Œå…¶å®ƒçš„ç¬”è®°ä¹Ÿæ•´ç†ä¸‹ï¼Ÿæºç åˆ†äº«å‡ºæ¥ï¼Ÿå†è¯´å§...åæ­£ä¹Ÿåªæœ‰è‡ªå·±ä¼šçœ‹å§...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Sean">
<meta name="twitter:description" content="æ•´ç†äº†ä¸€æ‰¹è¿‡å»ä¸€æ®µæ—¶é—´iosç›¸å…³çš„ç¬”è®°ï¼Œå…¶å®ƒçš„ç¬”è®°ä¹Ÿæ•´ç†ä¸‹ï¼Ÿæºç åˆ†äº«å‡ºæ¥ï¼Ÿå†è¯´å§...åæ­£ä¹Ÿåªæœ‰è‡ªå·±ä¼šçœ‹å§...">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'åšä¸»'
    }
  };
</script>




  <link rel="canonical" href="http://laputa-er.github.io/page/2/"/>

  <title> Sean </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Sean</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">ç¬”è®°åˆ†äº«</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/TSPL2_03  å­—ç¬¦ä¸²å’Œå­—ç¬¦/" itemprop="url">
                  3 å­—ç¬¦ä¸²å’Œå­—ç¬¦
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T19:32:42+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/TSPL2_03  å­—ç¬¦ä¸²å’Œå­—ç¬¦/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/TSPL2_03  å­—ç¬¦ä¸²å’Œå­—ç¬¦/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æœ‰åºçš„<code>Character</code>ç±»å‹çš„å€¼çš„é›†åˆï¼Œé€šè¿‡<code>Stringç±»</code>æ¥è¡¨ç¤ºã€‚</p>
<ul>
<li>æ¯ä¸€ä¸ªå­—ç¬¦ä¸²éƒ½æ˜¯ç”±ç¼–ç æ— å…³çš„<code>Unicide</code>å­—ç¬¦ç»„æˆ</li>
<li>å¯ä»¥é€šè¿‡å…§æ’çš„æ–¹å¼å°†å­—ç¬¦ä¸²æ’å…¥åˆ°å¸¸é‡ã€å˜é‡ã€å­—é¢é‡è¡¨è¾¾å¼ä¸­</li>
</ul>
<p><strong>æ‰©å±•ï¼š</strong>å’ŒCocoaä¸­çš„Foundationæ¡†æ¶ä¸­çš„<code>NSStringç±»</code>è¿›è¡Œäº†æ— ç¼å¯¹æ¥</p>
<ul>
<li>å¯ä»¥å°†åˆ›å»ºçš„ä»»ä½•å­—ç¬¦ä¸²çš„å€¼è½¬æ¢æˆ<code>NSString</code></li>
<li>å¯ä»¥è°ƒç”¨ä»»æ„çš„<code>NSString</code>API</li>
<li>å¯ä»¥åœ¨ä»»æ„è¦æ±‚ä¼ å…¥<code>NSString</code>å®ä¾‹ä½œä¸ºå‚æ•°çš„APIä¸­ç”¨<code>Stringç±»</code>çš„å€¼ä»£æ›¿</li>
</ul>
</blockquote>
<p>##3.1    å­—ç¬¦ä¸²å­—é¢é‡</p>
<blockquote>
<p><strong>æ ¼å¼ï¼š</strong><code>&quot;å›ºå®šé¡ºåºçš„æ–‡æœ¬å­—ç¬¦é›†&quot;</code><br><strong>åº”ç”¨ï¼š</strong>ä¸ºå¸¸é‡æˆ–å˜é‡æä¾›åˆå§‹å€¼</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> someString = <span class="string">"Some string literal value"</span></span><br></pre></td></tr></table></figure>
<p>##3.2    åˆå§‹åŒ–ç©ºå­—ç¬¦ä¸²</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>2ç§å½¢å¼</p>
<ol>
<li>å°†ç©ºçš„å­—ç¬¦ä¸²å­—é¢é‡èµ‹å€¼ç»™å˜é‡</li>
<li>åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„<code>String</code>å®ä¾‹</li>
</ol>
<p><strong>åˆ¤ç©ºï¼š</strong>å¯ä»¥é€šè¿‡å­—ç¬¦ä¸²å®ä¾‹çš„<code>isEmpty</code>å±æ€§(Boolean)æ¥åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å½¢å¼1</span></span><br><span class="line"><span class="keyword">var</span> emptyString = <span class="string">""</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å½¢å¼2</span></span><br><span class="line"><span class="keyword">var</span> anotherEmptyString = <span class="type">String</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ¤ç©º</span></span><br><span class="line"><span class="keyword">if</span> emptyString.isEmpty &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Nothing to see here"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>##3.3    å­—ç¬¦ä¸²å¯å˜æ€§</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å’ŒSwiftä¸­å…¶å®ƒå€¼ç±»å‹ä¸€æ ·ï¼Œå¯å˜æ€§å–å†³äºå®šä¹‰ä¸ºå¸¸é‡è¿˜æ˜¯å˜é‡</p>
<ul>
<li>å¸¸é‡ï¼šä¸å¯æ”¹å˜</li>
<li>å˜é‡ï¼šå¯ä»¥æ”¹å˜</li>
</ul>
<p><strong>æ‰©å±•ï¼š</strong>åœ¨O-Cå’ŒCocoaä¸­ï¼Œå­—ç¬¦ä¸²çš„å¯å˜æ€§å–å†³äºä½¿ç”¨<code>NSStringç±»</code>è¿˜æ˜¯<code>NSMutableStringç±»</code>ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ä¸ºå˜é‡</span></span><br><span class="line"><span class="keyword">var</span> variableString = <span class="string">"Hourse"</span></span><br><span class="line"><span class="comment">// æ‰€ä»¥å¯ä»¥ä¿®æ”¹</span></span><br><span class="line">variableString += <span class="string">" add carriage"</span></span><br></pre></td></tr></table></figure>
<p>##3.4    å­—ç¬¦ä¸²æ˜¯å€¼ç±»å‹</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ„å‘³ç€åœ¨ä»¥ä¸‹æ“ä½œä¸­é€šè¿‡æ‹·è´æ¥ä¼ é€’å€¼</p>
<ul>
<li>å¸¸é‡ã€å˜é‡èµ‹å€¼æ“ä½œ</li>
<li>åœ¨å‡½æ•°ã€æ–¹æ³•ä¸­ä¼ å‚</li>
</ul>
<p><strong>æ„ä¹‰ï¼š</strong>ç¡®ä¿ä¼ é€’çš„å­—ç¬¦ä¸²ä¸ä¼šè¢«æ„å¤–ä¿®æ”¹ã€‚<br><strong>æ‰©å±•ï¼š</strong>ä¸ºäº†ä¿è¯æ€§èƒ½ï¼ŒSwiftç¼–è¯‘å™¨åªä¼šåœ¨ç»å¯¹å¿…è¦çš„æƒ…å†µä¸‹æ‰è¿›è¡Œå¤åˆ¶ã€‚</p>
<p>##3.5    ä½¿ç”¨å­—ç¬¦<br><strong>è¯´æ˜ï¼š</strong><code>Character</code></p>
<ul>
<li>å­—ç¬¦ç±»å‹çš„å¸¸é‡å’Œå­—ç¬¦ä¸²ç›¸ä¼¼ï¼Œä¸åŒç‚¹åœ¨äºè‡ªèƒ½åŒ…å«ä¸€ä¸ªå­—ç¬¦ã€‚</li>
<li>ç”¨å­—ç¬¦å¸¸é‡åˆå§‹åŒ–å­—ç¬¦ç±»å‹å¿…é¡»æŒ‡å®šå¸¸é‡æˆ–å˜é‡ä¸º<code>Character</code>ï¼Œå¦åˆ™é»˜è®¤ä¸ºå­—ç¬¦ä¸²ç±»å‹ã€‚</li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> exclamatuinMark: <span class="type">Character</span> = <span class="string">"!"</span></span><br></pre></td></tr></table></figure>
<p>###3.5.1    å­—ç¬¦ä¸²çš„Chracterså±æ€§</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯ä»¥é€šè¿‡è¯¥å±æ€§éå†å­—ç¬¦ä¸²å¯¹åº”çš„å­—ç¬¦æ•°ç»„ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éå†å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦</span></span><br><span class="line"><span class="keyword">for</span> character <span class="keyword">in</span> <span class="string">"Dog"</span>.characters &#123;</span><br><span class="line">    <span class="built_in">print</span>(character)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>###3.5.2    å­—ç¬¦æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜å­—ç¬¦æ•°ç»„</span></span><br><span class="line"><span class="keyword">let</span> catCharacters: [<span class="type">Character</span>] = [<span class="string">"C"</span>, <span class="string">"a"</span>, <span class="string">"t"</span>]</span><br><span class="line"><span class="comment">// å°†å­—ç¬¦æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">let</span> catString = <span class="type">String</span>(catCharacters)</span><br><span class="line"><span class="built_in">print</span>(catString)<span class="comment">// "Cat"</span></span><br></pre></td></tr></table></figure>
<p>##3.6    è¿æ¥å­—ç¬¦ä¸²å’Œå­—ç¬¦</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸¤ç§æ–¹å¼</p>
<ul>
<li><code>+</code>ã€<code>+=</code>ï¼šå­—ç¬¦ä¸²æ‹¼æ¥</li>
<li><code>appendæ–¹æ³•</code><br>###appendæ–¹æ³•<br><strong>è¯´æ˜ï¼š</strong>å°†ä¸€ä¸ªå­—ç¬¦é™„åŠ åˆ°å­—ç¬¦ä¸²å˜é‡çš„å°¾éƒ¨<br><strong>åŸå‹ï¼š</strong><code>Stringç±»å®ä¾‹æ–¹æ³•</code></li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">/**</span><br><span class="line">&gt;* @param &#123;Character&#125; c å­—ç¬¦</span><br><span class="line">&gt;*/</span></span><br><span class="line">&gt;void append(<span class="built_in">c</span>: <span class="type">Character</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong>å‚æ•°åªèƒ½æ˜¯<code>Character</code>å¸¸é‡æˆ–å˜é‡ï¼Œä¸èƒ½æ˜¯å­—é¢é‡(å› ä¸ºå­˜åœ¨æ­§ä¹‰)</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str1 = <span class="string">"hello"</span></span><br><span class="line"><span class="keyword">let</span> str2 = <span class="string">" there"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//+</span></span><br><span class="line"><span class="keyword">var</span> welcome = str1 + str2<span class="comment">// hello there</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//+=</span></span><br><span class="line"><span class="keyword">var</span> instruction = <span class="string">"look over"</span></span><br><span class="line">instruction += str2<span class="comment">// look over there</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//append</span></span><br><span class="line"><span class="keyword">let</span> exclamationMark: <span class="type">Character</span> = <span class="string">"!"</span></span><br><span class="line">instruction.append(exclamationMark)</span><br></pre></td></tr></table></figure>
<p>##3.7    å­—ç¬¦ä¸²æ’å€¼</p>
<blockquote>
<p><strong>ç”¨é€”ï¼š</strong>æ„å»ºæ–°çš„å­—ç¬¦ä¸²ã€‚<br><strong>è¯­æ³•ï¼š</strong><code>\(è¡¨è¾¾å¼)</code></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> multiplier = <span class="number">3</span></span><br><span class="line"><span class="comment">// é€šè¿‡æ’å€¼æ„å»ºæ–°çš„å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">let</span> message = <span class="string">"\(multiplier) times 2.5 is \(Double(multiplier) * 2.5)"</span></span><br></pre></td></tr></table></figure>
<p>##3.8    Unicode</p>
<p>###3.8.1    Unicodeæ ‡é‡</p>
<blockquote>
<p><strong>Unicodeç ä½ï¼š</strong>æ ¼å¼ä¸º<code>U+[1åˆ°8ä½16è¿›åˆ¶æ•°å­—]</code></p>
<ul>
<li><strong>Unicodeæ ‡é‡ç ä½ï¼š</strong>æ˜¯å¯¹åº”å­—ç¬¦æˆ–è€…ä¿®é¥°ç¬¦çš„å”¯ä¸€çš„21ä½æ•°å­—ï¼Œæ¯ä¸ª<code>Unicodeæ ‡é‡</code>éƒ½å¯¹åº”ç€ä¸€ä¸ª<code>Unicodeç ä½</code>ï¼Œä½†åè¿‡æ¥ä¸æˆç«‹ã€‚</li>
<li><strong>Unicodeä»£ç†é¡¹ç ä½ï¼š</strong>Unicodeç ä½ä¸­ä¸å±äºUnicodeæ ‡é‡çš„éƒ¨åˆ†ã€‚</li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th>U+0000~U+D7FF</th>
<th>U+D800~U+DFFF</th>
<th>U+E000~U+10FFF</th>
</tr>
</thead>
<tbody>
<tr>
<td>Unicodeæ ‡é‡</td>
<td>unicodeä»£ç†é¡¹</td>
<td>Unicodeæ ‡é‡</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>åº”ç”¨ï¼š</strong>Swiftçš„<code>String</code>ç±»å‹æ˜¯åŸºäºUnicodeæ ‡é‡å»ºç«‹çš„ã€‚</p>
</blockquote>
<p>###3.8.2    å­—ç¬¦ä¸²å­—é¢é‡çš„ç‰¹æ®Šå­—ç¬¦</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ†ä¸¤ç±»</p>
<ul>
<li>è½¬ä¹‰å­—ç¬¦</li>
<li>Unicodeæ ‡é‡</li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th>ç‰¹æ®Šå­—ç¬¦</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>\0</code></td>
<td>ç©ºå­—ç¬¦</td>
</tr>
<tr>
<td><code>\\</code></td>
<td>åæ–œçº¿</td>
</tr>
<tr>
<td><code>\t</code></td>
<td>æ°´å¹³åˆ¶è¡¨ç¬¦</td>
</tr>
<tr>
<td><code>\n</code></td>
<td>æ¢è¡Œç¬¦</td>
</tr>
<tr>
<td><code>\r</code></td>
<td>å›è½¦ç¬¦</td>
</tr>
<tr>
<td><code>\&quot;</code></td>
<td>åŒå¼•å·</td>
</tr>
<tr>
<td><code>\&#39;</code></td>
<td>å•å¼•å·</td>
</tr>
<tr>
<td><code>\u{1åˆ°8ä½16è¿›åˆ¶æ•°}</code></td>
<td>Unicodeæ ‡é‡</td>
</tr>
</tbody>
</table>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// \"</span></span><br><span class="line"><span class="keyword">let</span> wiseWords = <span class="string">"\"Imagination is more importent than knowledge\" - Einstein"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Unocodeæ ‡é‡</span></span><br><span class="line"><span class="keyword">let</span> dollarSign = <span class="string">"\u&#123;24&#125;"</span></span><br></pre></td></tr></table></figure>
<p>###3.8.3    å¯æ‰©å±•çš„å­—å½¢ç¾¤é›†</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æœ‰äº›å­—ç¬¦ç”±å¤šä¸ªéƒ¨åˆ†ç»„æˆï¼Œæ¯ä¸ªéƒ¨åˆ†éƒ½å¯ä»¥ç”¨ä¸€ä¸ªUnicodeæ ‡é‡è¡¨ç¤ºã€‚ç»„åˆèµ·æ¥å°±å½¢æˆäº†ä¸€ä¸ªæ–°å­—ç¬¦ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Ã©</span></span><br><span class="line"><span class="keyword">let</span> eAcute: <span class="type">Character</span> = <span class="string">"\u&#123;E9&#125;"</span><span class="comment">// Ã©</span></span><br><span class="line"><span class="keyword">let</span> combinedEAcute: <span class="type">Character</span> = <span class="string">"\u&#123;65&#125;\u&#123;301&#125;"</span><span class="comment">// Ã©</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// í•œ</span></span><br><span class="line"><span class="keyword">let</span> precomposed: <span class="type">Character</span> = <span class="string">"\u&#123;D55C&#125;"</span><span class="comment">// í•œ</span></span><br><span class="line"><span class="keyword">let</span> decomposed: <span class="type">Character</span> = <span class="string">"\u&#123;1112&#125;\u&#123;1161&#125;\u&#123;11AB&#125;"</span><span class="comment">// í•œ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Ã©âƒ</span></span><br><span class="line"><span class="keyword">let</span> encosedEAcute: <span class="type">Character</span> = <span class="string">"\u&#123;E9&#125;\u&#123;20DD&#125;"</span><span class="comment">// Ã©âƒ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ğŸ‡ºğŸ‡¸</span></span><br><span class="line"><span class="keyword">let</span> regionalIndicatorForUS: <span class="type">Character</span> = <span class="string">"\u&#123;1F1FA&#125;\u&#123;1F1F8&#125;"</span><span class="comment">// ğŸ‡ºğŸ‡¸</span></span><br></pre></td></tr></table></figure>
<p>##3.9    è®¡ç®—å­—ç¬¦æ•°é‡</p>
<p>###characters.countå±æ€§</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>String</code>ç±»å®ä¾‹æˆå‘˜<code>characters</code>æä¾›çš„è®°å½•å­—ç¬¦æ€»æ•°çš„å±æ€§ã€‚<br><strong>æ€§èƒ½é—®é¢˜ï¼š</strong>å­—ç¬¦ä¸²ä¸­å¯èƒ½åŒ…å«å¯æ‰©å±•å­—ç¬¦ç¾¤ï¼Œåªæœ‰éå†<code>Unicode</code>æ ‡é‡ç¡®å®šå­—ç¬¦ç¾¤è¡¨ç¤ºçš„å­—ç¬¦åæ‰èƒ½ç¡®å®šå­—ç¬¦ä¸²çš„é•¿åº¦<br><strong>æ‰©å±•ï¼š</strong><code>NSString</code>çš„<code>length</code>å±æ€§ä¸åŒäºswiftçš„<code>String</code>çš„<code>count</code>å±æ€§ã€‚å‰è€…åˆ©ç”¨<code>UTF-16</code>è¡¨ç¤ºçš„16ä½ä»£ç å•å…ƒæ•°å­—ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> unusualMenagerie = <span class="string">"Koala, Snail, Penguin, Dromedary"</span></span><br><span class="line"><span class="comment">// è·å¾—å­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„æ•°é‡</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"unusualMenagerie has \(unusualMenagerie.characters.count)"</span>)<span class="comment">// 32</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨å¯æ‰©å±•çš„ç¾¤ç»„ä½œä¸ºCharacteræ‹¼æ¥åˆ°å­—ç¬¦ä¸²æ—¶ï¼Œå­—ç¬¦ä¸²çš„å­—ç¬¦æ•°é‡å¹¶ä¸ä¸€å®šä¼šæ”¹å˜</span></span><br><span class="line"><span class="keyword">var</span> word = <span class="string">"cafe"</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"the number of characters in \(word) is \(word.characters.count)"</span>)<span class="comment">// 4</span></span><br><span class="line"></span><br><span class="line">word += <span class="string">"\u&#123;301&#125;"</span><span class="comment">// cafÃ©</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"the number of characters in \(word) is \(word.characters.count)"</span>)<span class="comment">// 4</span></span><br></pre></td></tr></table></figure>
<p>##3.10    è®¿é—®å’Œä¿®æ”¹å­—ç¬¦ä¸²</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸¤ç§æ–¹å¼</p>
<ul>
<li>å­—ç¬¦ä¸²çš„å±æ€§å’Œæ–¹æ³•</li>
<li>ä¸‹æ ‡è¯­æ³•<br>###3.10.1    å­—ç¬¦ä¸²ç´¢å¼•<br>####ç›¸å…³å±æ€§(2ä¸ª)</li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th>å­—ç¬¦ä¸²å®ä¾‹å±æ€§</th>
<th>è¯´æ˜</th>
<th>ç©ºå­—ç¬¦ä¸²ç›¸åº”å±æ€§å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td>startIndex</td>
<td>ç¬¬ä¸€ä¸ª<code>Character</code>çš„ä¸‹æ ‡</td>
<td>0</td>
</tr>
<tr>
<td>endIndex</td>
<td>æœ€åä¸€ä¸ª<code>Character</code>çš„ä¸‹æ ‡ + 1</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>####predecessoræ–¹æ³•</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šè¿‡å½“å‰ä¸‹æ ‡è·å¾—å‰ä¸€ä¸ªä¸‹æ ‡<br><strong>åŸå‹ï¼š</strong><code>Indexç±»å‹çš„æˆå‘˜æ–¹æ³•</code></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">/**</span><br><span class="line">&gt;* @return  &#123;String.CharacterView.Index&#125; ä¸‹æ ‡ç´¢å¼•</span><br><span class="line">&gt;*/</span></span><br><span class="line">&gt;<span class="function"><span class="keyword">func</span> <span class="title">predecessor</span> -&gt; <span class="title">String</span>.<span class="title">CharacterView</span>.<span class="title">Index</span></span></span><br></pre></td></tr></table></figure>
<p>####successoræ–¹æ³•</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šè¿‡å½“å‰ç´¢å¼•è·å¾—åé¢ä¸€ä¸ªç´¢å¼•ã€‚<br><strong>åŸå‹ï¼š</strong><code>Indexç±»å‹çš„æˆå‘˜æ–¹æ³•</code></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">/**</span><br><span class="line">&gt;* @return  &#123;String.CharacterView.Index&#125; ä¸‹æ ‡ç´¢å¼•</span><br><span class="line">&gt;*/</span></span><br><span class="line">&gt;<span class="function"><span class="keyword">func</span> <span class="title">successor</span> -&gt; <span class="title">String</span>.<span class="title">CharacterView</span>.<span class="title">Index</span></span></span><br></pre></td></tr></table></figure>
<p>####indiceså±æ€§</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åŒ…å«å…¨éƒ¨ç´¢å¼•çš„<code>Range</code><br><strong>ç±»å‹ï¼š</strong><code>Range &lt;Index&gt;</code><br><strong>åŸå‹ï¼š</strong><code>String&gt;charactersçš„æˆå‘˜å±æ€§</code></p>
</blockquote>
<p>####advancedByæ–¹æ³•</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä»¥å½“å‰ä½ç½®ä¸ºå‚ç…§ï¼Œè·å¾—ç›¸éš”æŒ‡å®šæ•°é‡ä¸ªä¸‹æ ‡çš„ä½ç½®å¤„çš„ä¸‹æ ‡ã€‚<br><strong>åŸå‹ï¼š</strong><code>String.CharacterView.Indexç±»å‹çš„æˆå‘˜æ–¹æ³•</code></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">/**</span><br><span class="line">&gt;* @param &#123;Int&#125; n è·ç¦»ï¼ˆæ­£æ•°ä»£è¡¨å‘å³ç§»åŠ¨ï¼Œè´Ÿæ•°ä»£è¡¨å‘å·¦ç§»åŠ¨ï¼‰</span><br><span class="line">&gt;* @return &#123;Index&#125; ä¸‹æ ‡</span><br><span class="line">&gt;*/</span></span><br><span class="line">&gt;<span class="function"><span class="keyword">func</span> <span class="title">advancedBy</span><span class="params">(n: Int)</span></span> -&gt; <span class="type">String</span>.<span class="type">CharacterView</span>.<span class="type">Index</span></span><br></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> greeting = <span class="string">"Gunten Tag!"</span></span><br><span class="line"><span class="comment">// è®¿é—®ç¬¬ä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line">greeting[greeting.startIndex]<span class="comment">// G</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¿é—®æœ€åä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line">greeting[greeting.endIndex.predecessor()]<span class="comment">// !</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¿é—®ç¬¬äºŒä¸ªå­—ç¬¦</span></span><br><span class="line">greeting[greeting.startIndex.successor()]<span class="comment">// u</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¿é—®æœ€åä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line">greeting[greeting.endIndex.advancedBy(-<span class="number">1</span>)] <span class="comment">// !</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// indiceså±æ€§</span></span><br><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> greeting.characters.<span class="built_in">indices</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"\(greeting[index])"</span>, terminator: <span class="string">""</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>###3.10.2    æ’å…¥å’Œåˆ é™¤</p>
<p>####insertå‡½æ•°</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²çš„æŒ‡å®šç´¢å¼•æ’å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚<br><strong>åŸå‹ï¼š</strong><code>Stringç±»å‹çš„å®ä¾‹æ–¹æ³•</code></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">/**</span><br><span class="line">&gt;* @param &#123;Character&#125; newElement è¦æ’å…¥çš„å­—ç¬¦</span><br><span class="line">&gt;* @param &#123;Index&#125; atIndex æ’å…¥çš„ä½ç½®</span><br><span class="line">&gt;*/</span></span><br><span class="line">&gt;<span class="function"><span class="keyword">func</span> <span class="title">insert</span><span class="params">(newElement: Character, atIndex: Index)</span></span> -&gt; void</span><br></pre></td></tr></table></figure>
<p>####insertContentsOfå‡½æ•°</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²çš„æŒ‡å®šç´¢å¼•æ’å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚<br><strong>åŸå‹ï¼š</strong><code>Stringç±»å‹çš„å®ä¾‹æ–¹æ³•</code></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">/**</span><br><span class="line">&gt;* @param &#123;CollectionType&#125; newElements æ’å…¥çš„é›†åˆ</span><br><span class="line">&gt;* @param &#123;Index&#125; at æ’å…¥ä½ç½®</span><br><span class="line">&gt;*/</span></span><br><span class="line">&gt;<span class="function"><span class="keyword">func</span> <span class="title">insertContentsOf</span><span class="params">(newElements: CollectionType, at: Index)</span></span> -&gt; void</span><br></pre></td></tr></table></figure>
<p>####removeAtIndexå‡½æ•°</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„æŒ‡å®šç´¢å¼•åˆ é™¤ä¸€ä¸ªå­—ç¬¦<br><strong>åŸå‹ï¼š</strong><code>Stringç±»å‹çš„å®ä¾‹æ–¹æ³•</code></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">/**</span><br><span class="line">&gt;* @param  &#123;Index&#125; i è¦åˆ é™¤çš„å­—ç¬¦å¯¹åº”çš„ç´¢å¼•</span><br><span class="line">&gt;* @return &#123;Character&#125; åˆ é™¤çš„å­—ç¬¦</span><br><span class="line">&gt;*/</span></span><br><span class="line">&gt;<span class="function"><span class="keyword">func</span> <span class="title">removeAtIndex</span><span class="params">(i: Index)</span></span> -&gt; <span class="type">Character</span></span><br></pre></td></tr></table></figure>
<p>####removeRangeå‡½æ•°</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²çš„æŒ‡å®šç´¢å¼•åˆ é™¤ä¸€ä¸ªå­—ä¸²<br><strong>åŸå‹ï¼š</strong><code>Stringç±»å‹çš„å®ä¾‹æ–¹æ³•</code></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="function"><span class="keyword">func</span> <span class="title">removeRange</span><span class="params">(subRange: Range&lt;Index&gt;)</span></span> -&gt; void</span><br></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> welcome = <span class="string">"hello"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨å­—ç¬¦ä¸²å°¾éƒ¨æ’å…¥ä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line">welcome.insert(<span class="string">"!"</span>, atIndex: welcome.endIndex)<span class="comment">// hello</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨å­—ç¬¦ä¸²å€’æ•°ç¬¬äºŒä¸ªä½ç½®æ’å…¥å¦ä¸€ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line">welcome.insertContentsOf(<span class="string">" there"</span>.characters, at: welcome.endIndex.predecessor())<span class="comment">// hello!</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤æŒ‡å®šç´¢å¼•å¤„çš„å­—ç¬¦</span></span><br><span class="line">welcome.removeAtIndex(welcome.endIndex.predecessor())<span class="comment">// hello there!</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤å­ä¸²</span></span><br><span class="line"><span class="keyword">let</span> range = welcome.endIndex.advancedBy(-<span class="number">6</span>)..&lt;welcome.endIndex<span class="comment">// 5..&lt;11</span></span><br><span class="line">welcome.removeRange(range)<span class="comment">// hello</span></span><br></pre></td></tr></table></figure>
<p>##3.11    æ¯”è¾ƒå­—ç¬¦ä¸²</p>
<p>###3.11.1    å­—ç¬¦ä¸²/å­—ç¬¦ç›¸ç­‰</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä½¿ç”¨<code>!=</code>å’Œ<code>==</code></p>
<ul>
<li>å¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²ï¼ˆæˆ–å­—ç¬¦ï¼‰çš„å¯æ‰©å±•å­—å½¢ç¾¤é›†æ˜¯æ ‡å‡†ç›¸ç­‰ï¼ˆUnicodeæ ‡é‡ä¸åŒï¼Œè¯­è¨€å¤–è§‚ç›¸åŒï¼‰çš„ï¼Œé‚£å°±è®¤ä¸ºå®ƒä»¬æ˜¯ç›¸ç­‰çš„</li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ¯”è¾ƒæ™®é€šä¸¤ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">let</span> quotation = <span class="string">"we're a lot alike, you and I."</span></span><br><span class="line"><span class="keyword">let</span> sameQuotation = <span class="string">"we're a lot alike, you and I."</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> quotation == sameQuotation &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"There two strings are considered equal"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¯”è¾ƒä¸¤ä¸ªUnicodeæ ‡é‡ä¸åŒä½†å¤–è§‚ç›¸åŒçš„å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">let</span> eAcuteQuestion = <span class="string">"Voulez-vous un caf\u&#123;E9&#125;?"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> combinedEAcuteQuestion = <span class="string">"Voulez-vous uncaf\u&#123;65&#125;\u&#123;301&#125;?"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> eAcuteQuestion == combinedEAcuteQuestion &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"These twostrings are considered equal"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>###33.11.2        å‰ç¼€/åç¼€ç›¸ç­‰</p>
<p>####hasPrefixå‡½æ•°</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«æŸç§å‰ç¼€ã€‚<br><strong>åŸå‹ï¼š</strong><code>Stringç±»å‹çš„å®ä¾‹æ–¹æ³•</code></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">/**</span><br><span class="line">&gt;* @param &#123;String&#125; prefix å‰ç¼€</span><br><span class="line">&gt;* @return &#123;Boolean&#125; true : åŒ…å«å‰ç¼€ï¼›false : ä¸åŒ…å«å‰ç¼€</span><br><span class="line">&gt;*/</span></span><br><span class="line">&gt;<span class="function"><span class="keyword">func</span> <span class="title">hasPrefix</span><span class="params">(<span class="keyword">prefix</span>: String)</span></span> -&gt; <span class="type">Boolean</span></span><br></pre></td></tr></table></figure>
<p>####hasSuffixå‡½æ•°</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«æŸç§åç¼€ã€‚<br><strong>åŸå‹ï¼š</strong><code>Stringç±»å‹çš„å®ä¾‹æ–¹æ³•</code></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">/**</span><br><span class="line">&gt;* @param &#123;String&#125; suffix å‰ç¼€</span><br><span class="line">&gt;* @return &#123;Boolean&#125; true : åŒ…å«åç¼€ï¼›false : ä¸åŒ…å«åç¼€</span><br><span class="line">&gt;*/</span></span><br><span class="line">&gt;<span class="function"><span class="keyword">func</span> <span class="title">hasSuffix</span><span class="params">(<span class="keyword">prefix</span>: String)</span></span> -&gt; <span class="type">Boolean</span></span><br></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœºæ™¯ä½ç½®</span></span><br><span class="line"><span class="keyword">let</span> romeoAndJuliet = [</span><br><span class="line">    <span class="string">"Act 1 Scene 1: Verona, A public place"</span>,</span><br><span class="line">    <span class="string">"Act 1 Scene 2: Capulet's mansion"</span>,</span><br><span class="line">    <span class="string">"Act 1 Scene 3: A room in Capulet's room"</span>,</span><br><span class="line">    <span class="string">"Act 2 Scene 1: Outside Capulet's mansion"</span>,</span><br><span class="line">    <span class="string">"Act 2 Scene 2: Capulet's orchard"</span>,</span><br><span class="line">    <span class="string">"Act 2 Scene 3: Ouside Friar Lawrence's cell"</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> act1SceneCount = <span class="number">0</span><span class="comment">// åœºæ™¯ä¸€æ•°é‡</span></span><br><span class="line"><span class="comment">// æ ¹æ®å‰ç¼€åˆ é€‰æ•°æ®é¡¹</span></span><br><span class="line"><span class="keyword">for</span> scene <span class="keyword">in</span> romeoAndJuliet &#123;</span><br><span class="line">    <span class="keyword">if</span> scene.hasPrefix(<span class="string">"Act 1 "</span>) &#123;</span><br><span class="line">        ++act1SceneCount</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"There are \(act1SceneCount) scenes in Act 1"</span>)</span><br></pre></td></tr></table></figure>
<p>##3.12    å­—ç¬¦ä¸²çš„Unicodeè¡¨ç¤ºå½¢å¼</p>
<blockquote>
<p><strong>ç¼–ç æ–¹å¼å’Œå­—ç¬¦é›†ï¼š</strong>äº‹å®ä¸Šï¼Œè®¡ç®—æœºå­˜å‚¨ä»»ä½•æ•°æ®ï¼ˆåŒ…æ‹¬æ–‡æœ¬æ–‡ä»¶ï¼‰éƒ½æ˜¯ä»¥<code>äºŒè¿›åˆ¶æ–¹å¼</code>å­˜å‚¨çš„ï¼Œä½†å­—ç¬¦å¦‚ä½•å¯¹åº”åˆ°äºŒè¿›åˆ¶æ•°æ®ï¼Œæˆ–è€…è¯´äºŒè¿›åˆ¶æ•°æ®å¦‚ä½•è§£è¯»æˆå­—ç¬¦æ˜¯ç”±<code>ç¼–ç æ–¹å¼</code>å’Œ<code>å­—ç¬¦é›†</code>å†³å®šçš„ã€‚æ¯ç§<code>å­—ç¬¦é›†</code>éƒ½å¯¹åº”ä¸€ç§æˆ–å¤šç§<code>ç¼–ç æ–¹å¼</code>ã€‚<br><strong>è¯´æ˜ï¼š</strong>å½“å­—ç¬¦ä¸²è¢«ä¿å­˜åˆ°æ–‡æœ¬æ–‡ä»¶æ—¶ï¼Œä¼šæŒ‰ç…§æŸç§ç¼–ç æ–¹å¼å­˜å‚¨ã€‚è€ŒUnicodeæ ‡é‡å¯¹åº”çš„ç¼–ç æ–¹å¼åŒ…æ‹¬ä»¥ä¸‹ä¸‰ç§ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>Unicodeå­—ç¬¦é›†å¯¹åº”çš„ç¼–ç æ–¹å¼</th>
<th>ä»£ç å•å…ƒå¤§å°ï¼ˆbitï¼‰</th>
<th>å¯¹åº”çš„Stringçš„æˆå‘˜å±æ€§</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>UTF-8</strong></td>
<td>8</td>
<td>utf8</td>
</tr>
<tr>
<td><strong>UTF-16</strong></td>
<td>16</td>
<td>utf16</td>
</tr>
<tr>
<td><strong>UTF-32(Unicodeæ ‡é‡é›†åˆ)</strong></td>
<td>32</td>
<td>unicodeScalars</td>
</tr>
</tbody>
</table>
<p>###ä¸¾ä¸ªä¾‹å­ï¼š<code>Dogâ€¼ğŸ¶</code></p>
<table>
<thead>
<tr>
<th>code unit(åè¿›åˆ¶)</th>
<th>D</th>
<th>o</th>
<th>g</th>
<th>!!</th>
<th>ğŸ¶</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>UTF-8ç¼–ç </strong></td>
<td>68</td>
<td>111</td>
<td>103</td>
<td>226 128 188</td>
<td>240 159 144 182</td>
</tr>
<tr>
<td><strong>UTF-16ç¼–ç </strong></td>
<td>68</td>
<td>111</td>
<td>103</td>
<td>8252</td>
<td>55357 56374</td>
</tr>
<tr>
<td><strong>UTF-32(Unicodeæ ‡é‡)</strong></td>
<td>68</td>
<td>111</td>
<td>103</td>
<td>8252</td>
<td>128054</td>
</tr>
</tbody>
</table>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/TSPL2_02  åŸºæœ¬è¿ç®—ç¬¦/" itemprop="url">
                  2 åŸºæœ¬è¿ç®—ç¬¦
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T19:32:24+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/TSPL2_02  åŸºæœ¬è¿ç®—ç¬¦/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/TSPL2_02  åŸºæœ¬è¿ç®—ç¬¦/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <table>
<thead>
<tr>
<th>åŸºæœ¬è¿ç®—</th>
<th>æ­£è´Ÿ</th>
<th>è‡ªåŠ /å‡</th>
<th>è‡ªè¿”è¿ç®—</th>
</tr>
</thead>
<tbody>
<tr>
<td>a+b</td>
<td>+a</td>
<td>a++/++a</td>
<td>a+=b</td>
</tr>
<tr>
<td>a-b</td>
<td>-b</td>
<td><code>b--/--b</code></td>
<td>a-=b</td>
</tr>
<tr>
<td>a*b</td>
<td></td>
<td></td>
<td>a*=b</td>
</tr>
<tr>
<td>a/b</td>
<td></td>
<td></td>
<td>a/=b</td>
</tr>
<tr>
<td>a%b</td>
<td></td>
<td></td>
<td>a%=b</td>
</tr>
</tbody>
</table>
<p>[toc]</p>
<h2 id="2-1-æœ¯è¯­"><a href="#2-1-æœ¯è¯­" class="headerlink" title="2.1    æœ¯è¯­"></a>2.1    æœ¯è¯­</h2><ul>
<li>è¿ç®—ç¬¦</li>
</ul>
<table>
<thead>
<tr>
<th>æŒ‰ç…§æ“ä½œæ•°æ•°é‡åˆ†ç±»</th>
<th>è¯´æ˜</th>
<th>ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>ä¸€å…ƒè¿ç®—ç¬¦</td>
<td>åˆ†ä¸ºå‰å€¼è¿ç®—ç¬¦å’Œåå€¼è¿ç®—ç¬¦</td>
<td><code>!</code>ã€<code>++</code>ã€<code>--</code>ç­‰</td>
</tr>
<tr>
<td>äºŒå…ƒè¿ç®—ç¬¦</td>
<td>åœ¨ä¸¤ä¸ªæ“ä½œæ•°ä¹‹é—´</td>
<td>å¤§éƒ¨åˆ†è¿ç®—ç¬¦éƒ½å±äºäºŒå…ƒè¿ç®—ç¬¦</td>
</tr>
<tr>
<td>ä¸‰å…ƒè¿ç®—ç¬¦</td>
<td>å’ŒCè¯­è¨€ä¸€æ ·åªæœ‰ä¸€ä¸ªä¸‰ç›®è¿ç®—ç¬¦</td>
<td><code>a ? b : c</code></td>
</tr>
</tbody>
</table>
<ul>
<li>æ“ä½œæ•°ï¼šå—è¿ç®—å½±å“çš„å€¼å«åšæ“ä½œæ•°</li>
</ul>
<h2 id="2-2-èµ‹å€¼è¿ç®—ç¬¦"><a href="#2-2-èµ‹å€¼è¿ç®—ç¬¦" class="headerlink" title="2.2    èµ‹å€¼è¿ç®—ç¬¦"></a>2.2    èµ‹å€¼è¿ç®—ç¬¦</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç”¨æ¥è·Ÿæ–°æˆ–åˆå§‹åŒ–å˜é‡æˆ–å¸¸é‡ã€‚</p>
<ul>
<li>å³è¾¹å¦‚æœæ˜¯å…ƒç»„ï¼Œä¼šè¢«åˆ†è§£æˆå¤šä¸ªå¸¸é‡æˆ–å˜é‡</li>
<li>ä¸è¿”å›å€¼ï¼ˆä¸åŒäºcå’Œo-cï¼‰</li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> (x, y) = (<span class="number">1</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<h2 id="2-3-ç®—æœ¯è¿ç®—ç¬¦"><a href="#2-3-ç®—æœ¯è¿ç®—ç¬¦" class="headerlink" title="2.3    ç®—æœ¯è¿ç®—ç¬¦"></a>2.3    ç®—æœ¯è¿ç®—ç¬¦</h2><h3 id="2-3-1-å››åˆ™è¿ç®—"><a href="#2-3-1-å››åˆ™è¿ç®—" class="headerlink" title="2.3.1    å››åˆ™è¿ç®—"></a>2.3.1    å››åˆ™è¿ç®—</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å…¶ä¸­<code>+</code>å…è®¸æ“ä½œæ•°ä¸ºå­—ç¬¦ä¸²ï¼Œæ­¤æ—¶ä¸å†æ˜¯å››åˆ™è¿ç®—ä¸­çš„åŠ æ³•è¿ç®—ï¼Œè€Œæ˜¯ç”¨æ¥æ‹¼æ¥å­—ç¬¦ä¸²ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>å››åˆ™è¿ç®—ç¬¦</th>
<th>è¯´æ˜</th>
<th>æ“ä½œæ•°ç±»å‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>åŠ æ³•æˆ–è¿æ¥ç¬¦</td>
<td>æ•°å€¼ç±»å‹æˆ–å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>-</td>
<td>å‡æ³•</td>
<td>æ•°å€¼ç±»å‹</td>
</tr>
<tr>
<td>*</td>
<td>ä¹˜æ³•</td>
<td>æ•°å€¼ç±»å‹</td>
</tr>
<tr>
<td>/</td>
<td>é™¤æ³•</td>
<td>æ•°å€¼ç±»å‹ï¼ˆä¸¤ä¸ªæ“ä½œæ•°éƒ½æ˜¯æ•´æ•°åˆ™ç»“æœå–æ•´(<code>Int</code>)ï¼Œå¦åˆ™ä¸º<code>Double</code>ï¼‰</td>
</tr>
</tbody>
</table>
<h3 id="2-3-2-æ±‚ä½™è¿ç®—ç¬¦"><a href="#2-3-2-æ±‚ä½™è¿ç®—ç¬¦" class="headerlink" title="2.3.2    æ±‚ä½™è¿ç®—ç¬¦"></a>2.3.2    æ±‚ä½™è¿ç®—ç¬¦</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨å…¶å®ƒè¯­è¨€ä¸­ä¹Ÿå«åšå–è†œè¿ç®—ã€‚<br><strong>è§„åˆ™ï¼š</strong><code>ä½™æ•° = a % b</code>ï¼Œå…¶ä¸­<code>a = (|b| x å€æ•°) + ä½™æ•°</code></p>
<ul>
<li><code>b</code>çš„ç¬¦å·å°†ä¼šè¢«å¿½ç•¥ï¼Œä¹Ÿå°±æ˜¯è¯´ <code>a % b</code>å’Œ<code>a % -b</code>ç›¸åŒ</li>
</ul>
</blockquote>
<h3 id="2-3-3-æµ®ç‚¹æ•°æ±‚ä½™è¿ç®—"><a href="#2-3-3-æµ®ç‚¹æ•°æ±‚ä½™è¿ç®—" class="headerlink" title="2.3.3    æµ®ç‚¹æ•°æ±‚ä½™è¿ç®—"></a>2.3.3    æµ®ç‚¹æ•°æ±‚ä½™è¿ç®—</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸åŒäº<code>c</code>å’Œ<code>o-c</code>ï¼Œ<code>Swift</code>ä¸­å¯ä»¥å¯¹æµ®ç‚¹æ•°è¿›è¡Œæ±‚ä½™ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">8</span> % <span class="number">2.5</span><span class="comment">// 0.5</span></span><br></pre></td></tr></table></figure>
<h3 id="2-3-4-è‡ªå¢å’Œè‡ªå‡è¿ç®—"><a href="#2-3-4-è‡ªå¢å’Œè‡ªå‡è¿ç®—" class="headerlink" title="2.3.4    è‡ªå¢å’Œè‡ªå‡è¿ç®—"></a>2.3.4    è‡ªå¢å’Œè‡ªå‡è¿ç®—</h3><blockquote>
<p><strong>æ“ä½œå¯¹è±¡ï¼š</strong>æ•´å‹å’Œæµ®ç‚¹å‹<br><strong>æŠ€å·§ï¼š</strong>å…ˆä¿®æ”¹åè¿”å›æ›´ç¬¦åˆæˆ‘ä»¬çš„é€»è¾‘ï¼Œå› æ­¤é™¤ééœ€è¦<code>i++ï¼ˆi--ï¼‰</code>çš„ç‰¹æ€§ï¼Œå¦åˆ™æ¨èä½¿ç”¨<code>++i(--i)</code></p>
</blockquote>
<table>
<thead>
<tr>
<th>ç›¸å¯¹æ“ä½œæ•°çš„ä½ç½®</th>
<th>è‡ªå¢</th>
<th>è‡ªå‡</th>
<th>è¿”å›å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td>å‰ç½®</td>
<td><code>++i</code></td>
<td><code>--i</code></td>
<td>å…ˆè‡ªå¢ï¼Œåè¿”å›</td>
</tr>
<tr>
<td>åç½®</td>
<td><code>i++</code></td>
<td><code>i++</code></td>
<td>å…ˆè¿”å›ï¼Œåè‡ªå¢</td>
</tr>
</tbody>
</table>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">0</span></span><br><span class="line"><span class="keyword">let</span> b = ++a<span class="comment">// a 1, b 1</span></span><br><span class="line"><span class="keyword">let</span> <span class="built_in">c</span> = a++<span class="comment">// a 2, c 1</span></span><br></pre></td></tr></table></figure>
<h3 id="2-3-5-ä¸€å…ƒè´Ÿå·è¿ç®—ç¬¦"><a href="#2-3-5-ä¸€å…ƒè´Ÿå·è¿ç®—ç¬¦" class="headerlink" title="2.3.5    ä¸€å…ƒè´Ÿå·è¿ç®—ç¬¦"></a>2.3.5    ä¸€å…ƒè´Ÿå·è¿ç®—ç¬¦</h3><blockquote>
<p><strong>ç¬¦å·ï¼š</strong><code>-</code><br><strong>è¯´æ˜ï¼š</strong>å†™åœ¨æ“ä½œæ•°ä¹‹å‰ï¼Œä¸­é—´æ²¡æœ‰ç©ºæ ¼</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> three = <span class="number">3</span></span><br><span class="line"><span class="keyword">let</span> minusThree = -three</span><br><span class="line"><span class="keyword">let</span> plusThree = -minusThree</span><br></pre></td></tr></table></figure>
<h3 id="2-3-6-ä¸€å…ƒæ­£å·è¿ç®—ç¬¦"><a href="#2-3-6-ä¸€å…ƒæ­£å·è¿ç®—ç¬¦" class="headerlink" title="2.3.6    ä¸€å…ƒæ­£å·è¿ç®—ç¬¦"></a>2.3.6    ä¸€å…ƒæ­£å·è¿ç®—ç¬¦</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸åšä»»ä½•æ”¹å˜åœ°è¿”å›æ“ä½œæ•°çš„å€¼<br><strong>ç”¨é€”ï¼š</strong>å’Œè´Ÿæ•°ä¸€èµ·ä½¿ç”¨æ—¶ä¸ºæ•´æ•°æ·»åŠ <code>+</code>ç¬¦å·ä½¿ä»£ç çœ‹èµ·æ¥æ›´åŠ å¯¹ç§°ã€‚</p>
</blockquote>
<h2 id="2-4-å¤åˆèµ‹å€¼"><a href="#2-4-å¤åˆèµ‹å€¼" class="headerlink" title="2.4    å¤åˆèµ‹å€¼"></a>2.4    å¤åˆèµ‹å€¼</h2><table>
<thead>
<tr>
<th>è‡ªè¿”è¿ç®—(å¤åˆèµ‹å€¼)</th>
</tr>
</thead>
<tbody>
<tr>
<td>a+=2</td>
</tr>
<tr>
<td>a-=2</td>
</tr>
<tr>
<td>a*=2</td>
</tr>
<tr>
<td>a/=2</td>
</tr>
<tr>
<td>a%=2</td>
</tr>
</tbody>
</table>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span></span><br><span class="line">a += <span class="number">2</span><span class="comment">// a 3</span></span><br></pre></td></tr></table></figure>
<h2 id="2-5-æ¯”è¾ƒè¿ç®—ç¬¦"><a href="#2-5-æ¯”è¾ƒè¿ç®—ç¬¦" class="headerlink" title="2.5    æ¯”è¾ƒè¿ç®—ç¬¦"></a>2.5    æ¯”è¾ƒè¿ç®—ç¬¦</h2><blockquote>
<p><strong>åº”ç”¨ï¼š</strong>å¤šç”¨äº<code>if</code>è¯­å¥</p>
</blockquote>
<table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>a == b</td>
<td>ç­‰äº</td>
</tr>
<tr>
<td>a != b</td>
<td>ä¸ç­‰äº</td>
</tr>
<tr>
<td>a &gt; b</td>
<td>å¤§äº</td>
</tr>
<tr>
<td>a &lt; b</td>
<td>å°äº</td>
</tr>
<tr>
<td>a === b</td>
<td>ä¸¤ä¸ªå¼•ç”¨æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡å®ä¾‹</td>
</tr>
<tr>
<td>a !== b</td>
<td>ä¸¤ä¸ªå¼•ç”¨ä¸æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡å®ä¾‹</td>
</tr>
</tbody>
</table>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">"word"</span></span><br><span class="line"><span class="keyword">if</span> name == <span class="string">"wword"</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"hello world"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"I'm sorry \(name), but I don't recognize you"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-6-ä¸‰ç›®è¿ç®—ç¬¦"><a href="#2-6-ä¸‰ç›®è¿ç®—ç¬¦" class="headerlink" title="2.6    ä¸‰ç›®è¿ç®—ç¬¦"></a>2.6    ä¸‰ç›®è¿ç®—ç¬¦</h2><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>é—®é¢˜ ? ç­”æ¡ˆ1 : ç­”æ¡ˆ2</code><br><strong>æŠ€å·§ï¼š</strong>è¿‡åº¦ä½¿ç”¨ä¸‰ç›®è¿ç®—ç¬¦ä¼šä½¿ç®€æ´çš„ä»£ç å˜å¾—éš¾æ‡‚ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> contentHeight = <span class="number">40</span></span><br><span class="line"><span class="keyword">let</span> hasHeader = <span class="literal">true</span></span><br><span class="line"><span class="keyword">let</span> rowHeight = contentHeight + (hasHeader ? <span class="number">50</span> : <span class="number">20</span>)</span><br></pre></td></tr></table></figure>
<h2 id="2-7-ç©ºåˆè¿ç®—ç¬¦"><a href="#2-7-ç©ºåˆè¿ç®—ç¬¦" class="headerlink" title="2.7    ç©ºåˆè¿ç®—ç¬¦"></a>2.7    ç©ºåˆè¿ç®—ç¬¦</h2><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>a ?? b</code><br><strong>è¯´æ˜ï¼š</strong>å¯¹å¯é€‰ç±»å‹<code>a</code>è¿›è¡Œç©ºåˆ¤æ–­ï¼Œå¦‚æœ<code>a</code>åŒ…å«ä¸€ä¸ªå€¼å°±è¿›è¡Œè§£å°ï¼Œå¦åˆ™å°±è¿”å›ä¸€ä¸ªé»˜è®¤å€¼<code>b</code>ã€‚</p>
<ul>
<li><code>a ?? b</code>ç­‰ä»·äº<code>a != nil ? a! : b</code></li>
<li>è¡¨è¾¾å¼<code>a</code>å¿…é¡»æ˜¯<code>Optional</code>ç±»å‹</li>
<li>é»˜è®¤å€¼<code>b</code>çš„ç±»å‹å¿…é¡»è¦å’Œ<code>a</code>å­˜å‚¨çš„ç±»å‹ä¿æŒä¸€è‡´</li>
<li>çŸ­è·¯æ±‚å€¼ï¼šå¦‚æœ<code>a</code>ä¸æ˜¯<code>nil</code>ï¼Œåˆ™<code>b</code>ä¸ä¼šè¢«ä¼°å€¼</li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> defaultColorName = <span class="string">"red"</span></span><br><span class="line"><span class="keyword">var</span> userDefinedColorName: <span class="type">String</span>?<span class="comment">// nil</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> colorNameToUse = userDefinedColorName ?? defaultColorName<span class="comment">// red</span></span><br></pre></td></tr></table></figure>
<h2 id="2-8-åŒºé—´è¿ç®—ç¬¦"><a href="#2-8-åŒºé—´è¿ç®—ç¬¦" class="headerlink" title="2.8    åŒºé—´è¿ç®—ç¬¦"></a>2.8    åŒºé—´è¿ç®—ç¬¦</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ†ä¸¤ç§</p>
<ul>
<li>é—­åŒºé—´è¿ç®—ç¬¦ï¼ˆ<code>a...b</code>ï¼‰ï¼šåŒ…å«aå’Œb</li>
<li>åŠå¼€åŒºé—´è¿ç®—ç¬¦ï¼ˆ<code>a..&lt;b</code>ï¼‰ï¼šåŒ…å«aä¸åŒ…å«b</li>
</ul>
<p><strong>åº”ç”¨ï¼š</strong>åœ¨è¿­ä»£ä¸€ä¸ªåŒºé—´çš„æ‰€æœ‰å€¼æ—¶éå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚åœ¨<code>for-in</code>å¾ªç¯ä¸­ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> names = [<span class="string">"Anna"</span>, <span class="string">"Alex"</span>, <span class="string">"Brain"</span>, <span class="string">"Jack"</span>]</span><br><span class="line"><span class="keyword">let</span> <span class="built_in">count</span> = names.<span class="built_in">count</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;<span class="built_in">count</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"ç¬¬ \(i + 1) ä¸ªäººå« \(names[i])"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-9-é€»è¾‘è¿ç®—ç¬¦"><a href="#2-9-é€»è¾‘è¿ç®—ç¬¦" class="headerlink" title="2.9    é€»è¾‘è¿ç®—ç¬¦"></a>2.9    é€»è¾‘è¿ç®—ç¬¦</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸€å…±3ä¸ª</p>
</blockquote>
<table>
<thead>
<tr>
<th>é€»è¾‘è¿ç®—ç¬¦</th>
<th>è¯´æ˜</th>
<th>æ˜¯å¦çŸ­è·¯</th>
<th>ç»“åˆæ€§</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>!a</code></td>
<td>é€»è¾‘é</td>
<td></td>
</tr>
<tr>
<td><code>a &amp;&amp; b</code></td>
<td>é€»è¾‘ä¸</td>
<td>æ˜¯</td>
<td>å·¦ç»“åˆ</td>
</tr>
<tr>
<td><code>aï½œï½œb</code></td>
<td>é€»è¾‘æˆ–</td>
<td>æ˜¯</td>
<td>å·¦ç»“åˆ</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æé«˜å¯è¯»æ€§ï¼š</strong></p>
<ul>
<li>å¤šä¸ªé€»è¾‘è¿ç®—ç¬¦ç»„åˆè¿ç®—æ—¶ä½¿ç”¨æ‹¬å·æ¥æ˜ç¡®ä¼˜å…ˆçº§</li>
<li>å°å¿ƒåœ°é€‰æ‹©å¸ƒå°”å¸¸é‡æˆ–å˜é‡</li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (enteredDoorCode &amp;&amp; passedRetinaScan) || hasDoorKey || knowsOverridePassword &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Welcome!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"ACCESS DENIED"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/TSPL2_01  åŸºç¡€éƒ¨åˆ†/" itemprop="url">
                  1 åŸºç¡€éƒ¨åˆ†
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T19:31:53+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/TSPL2_01  åŸºç¡€éƒ¨åˆ†/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/TSPL2_01  åŸºç¡€éƒ¨åˆ†/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-1-å¸¸é‡å’Œå˜é‡"><a href="#1-1-å¸¸é‡å’Œå˜é‡" class="headerlink" title="1.1    å¸¸é‡å’Œå˜é‡"></a>1.1    å¸¸é‡å’Œå˜é‡</h2><blockquote>
<p><strong>æè¿°ï¼š</strong>å¸¸é‡å’Œå˜é‡æŠŠä¸€ä¸ªåå­—å’Œä¸€ä¸ªæŒ‡å®šç±»å‹çš„å€¼å…³è‰¯èµ·æ¥ã€‚<br><strong>è¯´æ˜ï¼š</strong>ä¸¤è€…çš„åŒºåˆ«åœ¨äºè®¾å®šåæ˜¯å¦è¿˜èƒ½ä¿®æ”¹</p>
<ul>
<li>å¸¸é‡ï¼šè®¾å®šåä¸å¯èƒ½ä¿®æ”¹</li>
<li>å˜é‡ï¼šå¯ä»¥éšæ„æ›´æ”¹</li>
</ul>
</blockquote>
<h3 id="1-1-1-å£°æ˜å¸¸é‡å’Œå˜é‡"><a href="#1-1-1-å£°æ˜å¸¸é‡å’Œå˜é‡" class="headerlink" title="1.1.1    å£°æ˜å¸¸é‡å’Œå˜é‡"></a>1.1.1    å£°æ˜å¸¸é‡å’Œå˜é‡</h3><blockquote>
<p><strong>å…±åŒè§„åˆ™ï¼š</strong></p>
<ul>
<li>å¯ä»¥åœ¨ä¸€è¡Œä¸­å£°æ˜å¤šä¸ªï¼Œç”¨<code>,</code>åˆ†éš”</li>
</ul>
<p><strong>å…³é”®å­—ï¼š</strong></p>
<ul>
<li><code>let</code>ï¼šå¸¸é‡</li>
<li><code>var</code>ï¼šå˜é‡</li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¸¸é‡å£°æ˜</span></span><br><span class="line"><span class="keyword">let</span> maximunNumberOfLoginAttemts = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å˜é‡å£°æ˜</span></span><br><span class="line"><span class="keyword">var</span> currentLoginAttempts = <span class="number">0</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">0.0</span>, y = <span class="number">0.0</span>, z = <span class="number">0.0</span></span><br></pre></td></tr></table></figure>
<h3 id="1-1-2-ç±»å‹æ ‡æ³¨"><a href="#1-1-2-ç±»å‹æ ‡æ³¨" class="headerlink" title="1.1.2    ç±»å‹æ ‡æ³¨"></a>1.1.2    ç±»å‹æ ‡æ³¨</h3><blockquote>
<p><strong>ç”¨é€”ï¼š</strong>è¯´æ˜å¸¸é‡æˆ–è€…å˜é‡ä¸­è¦å­˜å‚¨çš„å€¼çš„ç±»å‹<br><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>å¦‚æœæ²¡æœ‰ç±»å‹æ ‡æ³¨ï¼Œå£°æ˜æ—¶éƒ½å¿…é¡»è®¾ç½®ä¸€ä¸ªå€¼ä½œä¸ºåˆå§‹å€¼ï¼Œå¦åˆ™æŠ¥é”™</li>
<li>ç±»å‹æ ‡æ³¨å¯ä»¥çœç•¥ï¼Œæ­¤æ—¶Swiftå¯ä»¥é€šè¿‡èµ‹çš„åˆå§‹å€¼æ¨æ–­å…¶ç±»å‹</li>
</ul>
<p><strong>è¯­æ³•ï¼š</strong><code>var welcomeMessage: String</code></p>
</blockquote>
<table>
<thead>
<tr>
<th>var</th>
<th>welcomeMessage:</th>
<th></th>
<th>String</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>let(var)</code></td>
<td>å¸¸é‡(å˜é‡)å</td>
<td><code>:</code></td>
<td><code>ç©ºæ ¼</code></td>
<td>ç±»å‹åç§°</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯ä»¥åœ¨ä¸€è¡Œä¸­å®šä¹‰å¤šä¸ªåŒæ ·ç±»å‹çš„å˜é‡ï¼Œ<code>,</code>åˆ†éš”ï¼Œå¹¶åœ¨æœ€åä¸€ä¸ªæ¯”å˜é‡åä¹‹åæ·»åŠ <code>ç±»å‹æ ‡æ³¨</code></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜</span></span><br><span class="line"><span class="keyword">var</span> welcomeMessage: <span class="type">String</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// èµ‹å€¼</span></span><br><span class="line">welcomeMessage = <span class="string">"Hello"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å£°æ˜å¤šä¸ªå…·æœ‰ç›¸åŒç±»å‹æ ‡æ³¨çš„å˜é‡çš„ç•¥å†™æ–¹å¼</span></span><br><span class="line"><span class="keyword">var</span> red, green, blue:<span class="type">Double</span></span><br></pre></td></tr></table></figure>
<h3 id="1-1-3-å¸¸é‡å’Œå˜é‡çš„å‘½å"><a href="#1-1-3-å¸¸é‡å’Œå˜é‡çš„å‘½å" class="headerlink" title="1.1.3    å¸¸é‡å’Œå˜é‡çš„å‘½å"></a>1.1.3    å¸¸é‡å’Œå˜é‡çš„å‘½å</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å£°æ˜å®Œæˆåï¼Œä¸€äº›ç‰¹æ€§å°†ä¸èƒ½å†æ¬¡ä¿®æ”¹</p>
<ul>
<li>å·²ç»å£°æ˜çš„åå­—ä¸èƒ½å†æ¬¡ç”¨æ¥å£°æ˜</li>
<li>å£°æ˜æ—¶ç¡®å®šçš„ç±»å‹ä¸èƒ½æ›´æ”¹</li>
<li>å¸¸é‡ä¸å˜é‡ä¸èƒ½ç›¸äº’è½¬æ¢</li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th>ä¸å…è®¸çš„å­—ç¬¦</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ•°å­¦ç¬¦å·</td>
</tr>
<tr>
<td>ç®­å¤´</td>
</tr>
<tr>
<td>ä¿ç•™çš„ï¼ˆéæ³•çš„ï¼‰<code>Univode</code>ç ä½</td>
</tr>
<tr>
<td>è¿çº¿</td>
</tr>
<tr>
<td>åˆ¶è¡¨ç¬¦</td>
</tr>
<tr>
<td>æ•°å­—ï¼ˆä»…å¼€å¤´ä¸èƒ½ä½¿ç”¨ï¼‰</td>
</tr>
</tbody>
</table>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¸¸é‡å’Œå˜é‡çš„å‘½å</span></span><br><span class="line"><span class="keyword">let</span> Ï€ = <span class="number">3.141592654</span></span><br><span class="line"><span class="keyword">let</span> ä½ å¥½ = <span class="string">"Hello"</span></span><br><span class="line"><span class="keyword">let</span> ï¼Ÿï¼Ÿ = <span class="string">"dog"</span><span class="comment">// ä¸­æ–‡å…¨è§’çš„</span></span><br></pre></td></tr></table></figure>
<h3 id="1-1-4-è¾“å‡ºå¸¸é‡å’Œå˜é‡"><a href="#1-1-4-è¾“å‡ºå¸¸é‡å’Œå˜é‡" class="headerlink" title="1.1.4    è¾“å‡ºå¸¸é‡å’Œå˜é‡"></a>1.1.4    è¾“å‡ºå¸¸é‡å’Œå˜é‡</h3><h4 id="printå‡½æ•°"><a href="#printå‡½æ•°" class="headerlink" title="printå‡½æ•°"></a>printå‡½æ•°</h4><blockquote>
<p><strong>æè¿°ï¼š</strong>ä¸€ä¸ªç”¨æ¥è¾“å‡ºä¸€ä¸ªæˆ–å¤šä¸ªå€¼åˆ°é€‚å½“è¾“å‡ºåŒºçš„å…¨å±€å‡½æ•°ã€‚<br><strong>è¯´æ˜ï¼š</strong>å¯ä»¥ç›´æ¥é€šè¿‡<code>\(è¡¨è¾¾å¼)</code>çš„æ–¹å¼åœ¨å­—ç¬¦ä¸²ä¸­æ’å€¼ï¼ˆ<code>String interprolation</code>ï¼‰<br><strong>åŸå‹ï¼š</strong><code>å…¨å±€å‡½æ•°</code></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">/**</span><br><span class="line">&gt;* @param &#123;Any...&#125; items å¯å˜ä¸ªä»»æ„ç±»å‹çš„å‚æ•°</span><br><span class="line">&gt;* @param &#123;String=&#125; separator è¿æ¥ç¬¦ï¼ˆé»˜è®¤ä¸ºç©ºæ ¼ï¼Œå¯çœç•¥ï¼‰</span><br><span class="line">&gt;* @param &#123;String=&#125; terminator è‡ªåŠ¨è¿½åŠ å†æœ«å°¾çš„å­—ä¸²ï¼ˆé»˜è®¤ä¸ºæ¢è¡Œç¬¦ï¼Œå¯çœç•¥ï¼‰</span><br><span class="line">&gt;* @param &#123;&amp;Target=&#125; toStream è¾“å‡ºæµï¼ˆé»˜è®¤ä¸ºæ ‡å‡†è¾“å‡ºæµï¼Œå¯çœç•¥ï¼‰</span><br><span class="line">&gt;*/</span></span><br><span class="line">&gt;void <span class="built_in">print</span>(items: <span class="type">Any</span>..., separator: <span class="type">String</span>, terminator: <span class="type">String</span>, toStream: &amp;<span class="type">Target</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str1 = <span class="string">"hello"</span></span><br><span class="line"><span class="keyword">var</span> str2 = <span class="string">"world"</span></span><br><span class="line"><span class="comment">// hello,world!</span></span><br><span class="line"><span class="built_in">print</span>(str1, str2, separator:<span class="string">","</span>, terminator:<span class="string">"!"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// hello world\n</span></span><br><span class="line"><span class="built_in">print</span>(str1, str2)</span><br></pre></td></tr></table></figure>
<h2 id="1-2-æ³¨é‡Š"><a href="#1-2-æ³¨é‡Š" class="headerlink" title="1.2    æ³¨é‡Š"></a>1.2    æ³¨é‡Š</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å’ŒCè¯­è¨€çš„æ³¨é‡Šéå¸¸ç›¸ä¼¼</p>
<ul>
<li>å•è¡Œæ³¨é‡Šï¼š<code>// è¿™æ˜¯ä¸€ä¸ªæ³¨é‡Š</code></li>
<li>å¤šè¡Œæ³¨é‡Šï¼š<code>/* å¤šè¡Œæ³¨é‡Š */</code></li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong>å’ŒCè¯­è¨€ä¸åŒçš„æ˜¯ï¼Œswiftæ”¯æŒå‰å¥—çš„å¤šè¡Œæ³¨é‡Šã€‚ä¾¿äºåœ¨åŸå…ˆå¤šè¡Œæ³¨é‡Šçš„åŸºç¡€ä¸Šæ‰©å¤§æ³¨é‡ŠèŒƒå›´ã€‚</p>
</blockquote>
<h2 id="1-3-åˆ†å·"><a href="#1-3-åˆ†å·" class="headerlink" title="1.3    åˆ†å·"></a>1.3    åˆ†å·</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å’Œå¤§éƒ¨åˆ†è¯­å¥æœ‰æ‰€ä¸åŒ</p>
<ul>
<li>å•ç‹¬å ä¸€è¡Œçš„è¯­å¥çš„ç»“å°¾å¤„çš„åˆ†å·å¯ä»¥çœç•¥</li>
<li>ä¸€è¡Œä»£ç å­˜åœ¨å¤šä¸ªè¯­å¥ï¼Œåˆ™è¯­å¥ä¹‹é—´çš„<code>;</code>ä¸èƒ½çœç•¥</li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> cat = <span class="string">"?"</span>; <span class="built_in">print</span>(cat)</span><br></pre></td></tr></table></figure>
<h2 id="1-3-æ•´æ•°"><a href="#1-3-æ•´æ•°" class="headerlink" title="1.3    æ•´æ•°"></a>1.3    æ•´æ•°</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸€å…±æœ‰<code>10</code>ç§æ•´æ•°ç±»å‹ï¼ˆ<code>(U)Int(4ç§å®½åº¦)</code>ï¼‰<br><strong>æ³¨æ„ï¼š</strong>å…¶ä¸­8ç§ç±»å‹æ˜¯æŒ‡å®šçš„å®½åº¦çš„ï¼Œ<code>Int</code>å’Œ<code>UInt</code>ç±»å‹æ¯”è¾ƒç‰¹æ®Šï¼Œå…¶å®½åº¦ä¾èµ–äºå¤„ç†å™¨æ¶æ„ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>é•¿åº¦(bit)</th>
<th>æœ‰ç¬¦å·</th>
<th>æ— ç¬¦å·</th>
</tr>
</thead>
<tbody>
<tr>
<td>8</td>
<td>Int8</td>
<td>UInt8</td>
</tr>
<tr>
<td>16</td>
<td>Int16</td>
<td>UInt16</td>
</tr>
<tr>
<td>32</td>
<td>Int32</td>
<td>UInt32</td>
</tr>
<tr>
<td>64</td>
<td>Int64</td>
<td>UInt64</td>
</tr>
<tr>
<td>ä¾èµ–å¹³å°</td>
<td>Int</td>
<td>UInt</td>
</tr>
</tbody>
</table>
<h3 id="1-3-1-æ•´æ•°èŒƒå›´"><a href="#1-3-1-æ•´æ•°èŒƒå›´" class="headerlink" title="1.3.1    æ•´æ•°èŒƒå›´"></a>1.3.1    æ•´æ•°èŒƒå›´</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯ä»¥é€šè¿‡<code>mix</code>å’Œ<code>max</code>å±æ€§è·å¾—ç›¸åº”ç±»å‹çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> minValue = <span class="type">UInt8</span>.<span class="built_in">min</span><span class="comment">// 0</span></span><br><span class="line"><span class="keyword">let</span> maxValue = <span class="type">UInt8</span>.<span class="built_in">max</span><span class="comment">// 255</span></span><br></pre></td></tr></table></figure>
<h3 id="1-3-2-Int"><a href="#1-3-2-Int" class="headerlink" title="1.3.2    Int"></a>1.3.2    Int</h3><blockquote>
<p><strong>æŠ€å·§ï¼š</strong>å¤§å¤šæ•°æ—¶å€™ä½¿ç”¨<code>Int</code>ç±»å‹</p>
<ul>
<li>å¯ä»¥æé«˜ä»£ç çš„ä¸€è‡´æ€§å’Œå¯å¤ç”¨æ€§</li>
<li>å³ä½¿åœ¨32ä½æœºå™¨ä¸Šï¼Œä¹Ÿè¶³å¤Ÿå¤§äº†ï¼ˆ<code>-2,147,483,648~2,147,483,647</code>ï¼‰</li>
</ul>
</blockquote>
<h3 id="1-3-3-UInt"><a href="#1-3-3-UInt" class="headerlink" title="1.3.3    UInt"></a>1.3.3    UInt</h3><blockquote>
<p><strong>æŠ€å·§ï¼š</strong>å°½å¯èƒ½ä½¿ç”¨<code>Int</code>è€Œä¸æ˜¯<code>UInt</code>ï¼Œå³ä½¿å·²çŸ¥å€¼æ˜¯éè´Ÿçš„</p>
<ul>
<li>ä¸€è‡´å‹å’Œå¯å¤ç”¨æ€§</li>
<li>é¿å…ä¸åŒç±»å‹æ•°å­—ä¹‹é—´çš„è½¬æ¢(é»˜è®¤çš„å¯¹æ•´æ•°ç±»å‹çš„è¡¨è¾¾å¼çš„æ¨æ–­ç±»å‹ä¸º<code>Int</code>)</li>
</ul>
</blockquote>
<h2 id="1-4-æµ®ç‚¹æ•°"><a href="#1-4-æµ®ç‚¹æ•°" class="headerlink" title="1.4    æµ®ç‚¹æ•°"></a>1.4    æµ®ç‚¹æ•°</h2><blockquote>
<p><strong>å®šä¹‰ï¼š</strong>æœ‰å°æ•°éƒ¨åˆ†çš„æ•°å­—<br><strong>è¯´æ˜ï¼š</strong>æœ‰ä¸¤ç§æœ‰ç¬¦å·æµ®ç‚¹æ•°ç±»å‹</p>
</blockquote>
<table>
<thead>
<tr>
<th>æµ®ç‚¹ç±»å‹</th>
<th>è§£é‡Š</th>
<th>æœ€å¤§ç²¾åº¦ï¼ˆæ•´æ•°éƒ¨åˆ†å’Œå°æ•°éƒ¨åˆ†æ•°å­—ä½æ•°ä¹‹å’Œï¼‰</th>
<th>é€‚ç”¨</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Double</td>
<td>64ä½æµ®ç‚¹æ•°</td>
<td>7</td>
<td>éœ€è¦å­˜å‚¨å¾ˆå¤§æˆ–å¾ˆé«˜ç²¾åº¦çš„æµ®ç‚¹æ•°æ—¶</td>
</tr>
<tr>
<td>Float</td>
<td>32ä½æµ®ç‚¹æ•°</td>
<td>16</td>
<td>ç²¾åº¦è¦æ±‚ä¸é«˜æ—¶</td>
</tr>
</tbody>
</table>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> f:<span class="type">Float</span> = <span class="number">0.123456789</span><span class="comment">// 0.1234568</span></span><br><span class="line"><span class="keyword">var</span> d:<span class="type">Double</span> = <span class="number">0.12345678901234567</span><span class="comment">// 0.1234567890123457</span></span><br></pre></td></tr></table></figure>
<h2 id="1-5-ç±»å‹å®‰å…¨å’Œç±»å‹æ¨æ–­"><a href="#1-5-ç±»å‹å®‰å…¨å’Œç±»å‹æ¨æ–­" class="headerlink" title="1.5    ç±»å‹å®‰å…¨å’Œç±»å‹æ¨æ–­"></a>1.5    ç±»å‹å®‰å…¨å’Œç±»å‹æ¨æ–­</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li><strong>ç±»å‹å®‰å…¨ï¼š</strong>ç¼–è¯‘å™¨ä¼šåœ¨ç¼–è¯‘é˜¶æ®µè¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œå¹¶æŠŠä¸åŒ¹é…çš„ç±»å‹æ ‡è®°ä¸ºé”™è¯¯</li>
<li><strong>ç±»å‹æ¨æ–­ï¼š</strong>å¦‚æœåœ¨å£°æ˜é˜¶æ®µæ²¡æœ‰æ˜¾ç¤ºæŒ‡å®šç±»å‹ï¼Œç¼–è¯‘å™¨å›é€šè¿‡èµ‹çš„å€¼è‡ªåŠ¨æ¨æ–­å‡ºè¡¨è¾¾å¼çš„ç±»å‹</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>å½“æ¨æ–­æµ®ç‚¹æ•°çš„ç±»å‹æ—¶ï¼ŒSwift æ€»æ˜¯ä¼šé€‰æ‹©<code>Double</code>è€Œä¸æ˜¯<code>Float</code></li>
<li>å¦‚æœè¡¨è¾¾å¼ä¸­åŒæ—¶å‡ºç°æ•´æ•°å’Œæµ®ç‚¹æ•°ï¼Œåˆ™è®¡ç®—ç»“æœè¢«æ¨æ–­ä¸º<code>Double</code></li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// meaningOfLife ä¼šè¢«æ¨æµ‹ä¸º Int ç±»å‹</span></span><br><span class="line"><span class="keyword">let</span> meaningOfLife = <span class="number">42</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// pi ä¼šè¢«æ¨æµ‹ä¸º Double ç±»å‹</span></span><br><span class="line"><span class="keyword">let</span> pi = <span class="number">3.14159</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¡¨è¾¾å¼ç§å‡ºç°äº†ä¸€ä¸ªæµ®ç‚¹å­—é¢é‡ï¼Œæ‰€ä»¥è¡¨è¾¾å¼è¢«æ¨æ–­ä¸º Double ç±»å‹</span></span><br><span class="line"><span class="keyword">let</span> anotherPi = <span class="number">3</span> + <span class="number">0.14159</span></span><br></pre></td></tr></table></figure>
<h2 id="1-6-æ•°å€¼å‹å­—é¢é‡"><a href="#1-6-æ•°å€¼å‹å­—é¢é‡" class="headerlink" title="1.6    æ•°å€¼å‹å­—é¢é‡"></a>1.6    æ•°å€¼å‹å­—é¢é‡</h2><h3 id="æ•´æ•°å­—é¢é‡"><a href="#æ•´æ•°å­—é¢é‡" class="headerlink" title="æ•´æ•°å­—é¢é‡"></a>æ•´æ•°å­—é¢é‡</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ ¹æ®è¿›åˆ¶åˆ’åˆ†æœ‰<code>4</code>ç§</p>
</blockquote>
<table>
<thead>
<tr>
<th>è¿›åˆ¶</th>
<th>å‰ç¼€</th>
</tr>
</thead>
<tbody>
<tr>
<td>åè¿›åˆ¶</td>
<td>æ— </td>
</tr>
<tr>
<td>äºŒè¿›åˆ¶</td>
<td><code>0b</code></td>
</tr>
<tr>
<td>å…«è¿›åˆ¶</td>
<td><code>0o</code></td>
</tr>
<tr>
<td>åå…­è¿›åˆ¶</td>
<td><code>0x</code></td>
</tr>
</tbody>
</table>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 17</span></span><br><span class="line"><span class="keyword">let</span> decimalInteger = <span class="number">17</span><span class="comment">// åè¿›åˆ¶</span></span><br><span class="line"><span class="keyword">let</span> binaryInter = <span class="number">0b10001</span><span class="comment">// äºŒè¿›åˆ¶</span></span><br><span class="line"><span class="keyword">let</span> octalInteger = <span class="number">0o21</span><span class="comment">// å…«è¿›åˆ¶</span></span><br><span class="line"><span class="keyword">let</span> hexadecimalInteger = <span class="number">0x11</span><span class="comment">// åå…­è¿›åˆ¶</span></span><br></pre></td></tr></table></figure>
<h3 id="æµ®ç‚¹æ•°å­—é¢é‡"><a href="#æµ®ç‚¹æ•°å­—é¢é‡" class="headerlink" title="æµ®ç‚¹æ•°å­—é¢é‡"></a>æµ®ç‚¹æ•°å­—é¢é‡</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ ¹æ®è¿›åˆ¶åˆ’åˆ†æœ‰<code>2</code>ç§</p>
</blockquote>
<table>
<thead>
<tr>
<th>è¿›åˆ¶</th>
<th>å‰ç¼€</th>
<th>å°æ•°ç‚¹ä¸¤è¾¹</th>
<th>å¯é€‰çš„æŒ‡æ•°</th>
</tr>
</thead>
<tbody>
<tr>
<td>åè¿›åˆ¶</td>
<td>æ— </td>
<td>è‡³å°‘æœ‰ä¸€ä¸ªåè¿›åˆ¶æ•°</td>
<td><code>(E)e</code>ï¼Œ åŸºæ•°ä¸º10</td>
</tr>
<tr>
<td>åå…­è¿›åˆ¶</td>
<td><code>0x</code></td>
<td>è‡³å°‘æœ‰ä¸€ä¸ªåå…­è¿›åˆ¶æ•°</td>
<td><code>(P)p</code></td>
<td>åŸºæ•°ä¸º2</td>
</tr>
</tbody>
</table>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 10è¿›åˆ¶</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="number">1.25e2</span><span class="comment">// 1.25 x 10^2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 16è¿›åˆ¶</span></span><br><span class="line"><span class="keyword">let</span> b = 0xFp-<span class="number">2</span><span class="comment">// 15 x 2^-2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 12.1875</span></span><br><span class="line"><span class="keyword">let</span> decimalDouble = <span class="number">12.1875</span></span><br><span class="line"><span class="keyword">let</span> exponentDouble = <span class="number">1.21876e1</span></span><br><span class="line"><span class="keyword">let</span> hexadecimalDouble = <span class="number">0xC.3p0</span></span><br></pre></td></tr></table></figure>
<h3 id="å¢å¼ºå¯è¯»æ€§"><a href="#å¢å¼ºå¯è¯»æ€§" class="headerlink" title="å¢å¼ºå¯è¯»æ€§"></a>å¢å¼ºå¯è¯»æ€§</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ•´æ•°å’Œæµ®ç‚¹æ•°éƒ½å¯ä»¥æ·»åŠ é¢å¤–çš„é›¶å¹¶ä¸”åŒ…å«ä¸‹åˆ’çº¿æ¥å¢å¼ºå¯è¯»æ€§</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é¢å¤–çš„é›¶</span></span><br><span class="line"><span class="keyword">let</span> paddedDouble = <span class="number">000123.456</span></span><br><span class="line"><span class="comment">// é¢å¤–çš„ä¸‹åˆ’çº¿</span></span><br><span class="line"><span class="keyword">let</span> oneMillon = <span class="number">1_000_000</span></span><br><span class="line"><span class="keyword">let</span> justOverOneMillion = <span class="number">1_000_000.000_000_1</span></span><br></pre></td></tr></table></figure>
<h2 id="1-7-æ•°å€¼å‹ç±»å‹è½¬æ¢"><a href="#1-7-æ•°å€¼å‹ç±»å‹è½¬æ¢" class="headerlink" title="1.7    æ•°å€¼å‹ç±»å‹è½¬æ¢"></a>1.7    æ•°å€¼å‹ç±»å‹è½¬æ¢</h2><blockquote>
<p><strong>ä½¿ç”¨<code>Int</code>ï¼š</strong>å³ä½¿ä»£ç ä¸­çš„æ•´æ•°å¸¸é‡æˆ–å˜é‡å·²çŸ¥éè´Ÿï¼Œä¹Ÿå°½é‡ä½¿ç”¨<code>Int</code></p>
<ul>
<li>ä¿è¯æ•´æ•°å˜é‡æˆ–å¸¸é‡å¯ä»¥ç›´æ¥è¢«å¤ç”¨</li>
<li>å¯ä»¥åŒ¹é…æ•´æ•°ç±»å­—é¢é‡çš„ç±»å‹æ¨æ–­ï¼ˆæ•´æ•°å­—é¢é‡åªä¼šè¢«æ¨æ–­ä¸º<code>Int</code>ï¼Œèµ‹å€¼ç»™å…¶å®ƒç±»å‹çš„æ•´æ•°éœ€è¦ç±»å‹è½¬æ¢ï¼‰</li>
</ul>
<p><strong>ä½¿ç”¨å…¶å®ƒæ•´æ•°ç±»å‹ï¼š</strong></p>
<ul>
<li>å¤„ç†å¤–éƒ¨çš„é•¿åº¦æ˜ç¡®çš„æ•°æ®æ—¶ï¼Œä¸ºäº†ä¼˜åŒ–æ€§èƒ½ã€å†…å­˜å ç”¨ç­‰</li>
<li>å¯ä»¥åŠæ—¶å‘ç°æº¢å‡º</li>
<li>å¯ä»¥æš—ç¤ºæ­£åœ¨å¤„ç†ç‰¹æ®Šæ•°æ®</li>
</ul>
</blockquote>
<h3 id="1-7-1-æ•´æ•°è½¬æ¢"><a href="#1-7-1-æ•´æ•°è½¬æ¢" class="headerlink" title="1.7.1    æ•´æ•°è½¬æ¢"></a>1.7.1    æ•´æ•°è½¬æ¢</h3><h4 id="1-7-1-1-å¿…è¦æ€§"><a href="#1-7-1-1-å¿…è¦æ€§" class="headerlink" title="1.7.1.1    å¿…è¦æ€§"></a>1.7.1.1    å¿…è¦æ€§</h4><blockquote>
<ul>
<li>å¦‚æœæ•°å­—è¶…è¿‡äº†å¸¸é‡æˆ–å˜é‡å¯å­˜å‚¨çš„èŒƒå›´ï¼Œç¼–è¯‘çš„æ—¶å€™ä¼šæŠ¥é”™</li>
<li>ä¸¤ç§ç±»å‹ï¼ˆ<code>Int</code>é™¤å¤–ï¼‰çš„æ•´æ•°ä¸èƒ½ç›´æ¥ç›¸åŠ </li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¼šæŠ¥é”™ï¼Œå› ä¸º UInt8 ä¸èƒ½å­˜å‚¨è´Ÿæ•°</span></span><br><span class="line"><span class="keyword">let</span> cannotBeNegative:<span class="type">UInt8</span> = -<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¼šæŠ¥é”™ï¼Œå› ä¸ºè¶…è¿‡äº†æœ€å¤§å€¼</span></span><br><span class="line"><span class="keyword">let</span> tooBig:<span class="type">Int8</span> = <span class="type">Int8</span>.<span class="built_in">max</span> + <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h4 id="1-7-1-2-ä½¿ç”¨ç±»å‹å¯¹åº”çš„æ„é€ å™¨è¿›è¡Œè½¬æ¢"><a href="#1-7-1-2-ä½¿ç”¨ç±»å‹å¯¹åº”çš„æ„é€ å™¨è¿›è¡Œè½¬æ¢" class="headerlink" title="1.7.1.2    ä½¿ç”¨ç±»å‹å¯¹åº”çš„æ„é€ å™¨è¿›è¡Œè½¬æ¢"></a>1.7.1.2    ä½¿ç”¨ç±»å‹å¯¹åº”çš„æ„é€ å™¨è¿›è¡Œè½¬æ¢</h4><blockquote>
<p><strong>æ³¨æ„ï¼š</strong>ä¸èƒ½ä¼ å…¥ä»»æ„ç±»å‹çš„å€¼ç»™æ„é€ å™¨ï¼Œåªèƒ½æ˜¯æœ‰å¯¹åº”æ„é€ å™¨çš„å€¼<br><strong>æ‰©å±•ï¼š</strong>å¯ä»¥é€šè¿‡æ‰©å±•ç°æœ‰çš„ç±»å‹è®©å®ƒå¯ä»¥æ¥å—å…¶å®ƒç±»å‹çš„å€¼</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> twoThousand: <span class="type">UInt16</span> = <span class="number">2_000</span></span><br><span class="line"><span class="keyword">let</span> one: <span class="type">UInt8</span> = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å°† one ç”± UInt8 è½¬æ¢ä¸º UInt16ï¼Œæœ€ç»ˆ twoThousandAndOne è¢«æ¨æ–­ä¸º UInt16</span></span><br><span class="line"><span class="keyword">let</span> twoThousandAndOne = twoThousand + <span class="type">UInt16</span>(one)</span><br></pre></td></tr></table></figure>
<h3 id="1-7-2-æ•´æ•°å’Œæµ®ç‚¹æ•°è½¬æ¢"><a href="#1-7-2-æ•´æ•°å’Œæµ®ç‚¹æ•°è½¬æ¢" class="headerlink" title="1.7.2    æ•´æ•°å’Œæµ®ç‚¹æ•°è½¬æ¢"></a>1.7.2    æ•´æ•°å’Œæµ®ç‚¹æ•°è½¬æ¢</h3><h4 id="1-7-2-1-æ•´æ•°-gt-æµ®ç‚¹æ•°"><a href="#1-7-2-1-æ•´æ•°-gt-æµ®ç‚¹æ•°" class="headerlink" title="1.7.2.1    æ•´æ•°-&gt;æµ®ç‚¹æ•°"></a>1.7.2.1    æ•´æ•°-&gt;æµ®ç‚¹æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li><strong>å¼ºåˆ¶è½¬æ¢ï¼š</strong>å¯¹ä¸æ‰€æœ‰ç±»å‹çš„æ•´æ•°å¸¸é‡æˆ–å˜é‡ï¼Œå¯ä»¥å¼ºåˆ¶è½¬æ¢ä¸º<code>Double</code>æˆ–<code>Float</code></li>
<li><strong>éšå¼è½¬æ¢ï¼š</strong>å£°æ˜æ—¶æŒ‡å®š<code>Double</code>æˆ–<code>Float</code>ï¼Œåˆ™ç”¨æ¥åˆå§‹åŒ–çš„æ•´æ•°å­—é¢é‡ä¼šè¢«è‡ªåŠ¨è½¬æ¢</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong>æ•°å€¼ç±»å¸¸é‡æˆ–å˜é‡ä¸åŒäºæ•°å€¼ç±»å­—é¢é‡ï¼Œåè€…å¯ä»¥ä¸åŒç±»å‹å¯ä»¥ä¸€èµ·è¿ç®—ï¼Œå› ä¸ºå­—é¢é‡æœ¬èº«æ²¡æœ‰æ˜ç¡®çš„ç±»å‹</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éšå¼è½¬æ¢</span></span><br><span class="line"><span class="keyword">let</span> d:<span class="type">Double</span> = <span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼ºåˆ¶è½¬æ¢</span></span><br><span class="line"><span class="keyword">let</span> three = <span class="number">3</span></span><br><span class="line"><span class="keyword">let</span> pointOneFourOneFineNine = <span class="number">0.14159</span></span><br><span class="line"><span class="keyword">let</span> pi = <span class="type">Double</span>(three) + pointOneFourOneFineNine</span><br></pre></td></tr></table></figure>
<h4 id="1-7-2-2-æµ®ç‚¹æ•°-gt-æ•´æ•°"><a href="#1-7-2-2-æµ®ç‚¹æ•°-gt-æ•´æ•°" class="headerlink" title="1.7.2.2    æµ®ç‚¹æ•°-&gt;æ•´æ•°"></a>1.7.2.2    æµ®ç‚¹æ•°-&gt;æ•´æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å£°æ˜å˜é‡æˆ–å¸¸é‡æ—¶æŒ‡å®šä»»ä½•ä¸€ç§æ•´æ•°ç±»å‹ï¼Œåˆ™ç”¨æ¥åˆå§‹åŒ–å­—é¢é‡åªèƒ½æ˜¯æ•´æ•°ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼ºåˆ¶è½¬æ¢</span></span><br><span class="line"><span class="keyword">let</span> pi = <span class="number">3.14</span></span><br><span class="line"><span class="keyword">let</span> integerPi = <span class="type">Int</span>(pi)</span><br></pre></td></tr></table></figure>
<h2 id="1-8-ç±»å‹åˆ«å"><a href="#1-8-ç±»å‹åˆ«å" class="headerlink" title="1.8    ç±»å‹åˆ«å"></a>1.8    ç±»å‹åˆ«å</h2><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>typealias åˆ«å = åŸå§‹ç±»å‹å</code><br><strong>ç”¨é€”ï¼š</strong>ç»™ç°æœ‰ç±»å‹èµ·ä¸€ä¸ªæ›´æœ‰æ„ä¹‰çš„åå­—ã€‚<br><strong>è¯´æ˜ï¼š</strong>å®šä¹‰äº†ç±»å‹åˆ«åä¹‹åï¼Œå¯ä»¥åœ¨ä»»ä½•ä½¿ç”¨åŸå§‹ç±»å‹åçš„åœ°æ–¹ä½¿ç”¨ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ç±»å‹åˆ«å</span></span><br><span class="line"><span class="keyword">typealias</span> <span class="type">AudioSample</span> = <span class="type">UInt16</span></span><br><span class="line"><span class="comment">// è°ƒç”¨ç±»å‹åˆ«å</span></span><br><span class="line"><span class="keyword">var</span> maxAmolitudeFound = <span class="type">AudioSample</span>.<span class="built_in">min</span></span><br></pre></td></tr></table></figure>
<h2 id="1-9-å¸ƒå°”å€¼"><a href="#1-9-å¸ƒå°”å€¼" class="headerlink" title="1.9    å¸ƒå°”å€¼"></a>1.9    å¸ƒå°”å€¼</h2><blockquote>
<p><strong>ç±»å‹ï¼š</strong><code>Bool</code><br><strong>å­—é¢é‡ï¼š</strong></p>
<ul>
<li>true</li>
<li>false</li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ©™å­æ˜¯æ©™å­ï¼Œtrue</span></span><br><span class="line"><span class="keyword">let</span> orangesAreOrange = <span class="literal">true</span></span><br><span class="line"><span class="comment">// èåœå¾ˆå¥½åƒï¼Œfalse</span></span><br><span class="line"><span class="keyword">let</span> turnipsAreDelicious = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> turnipsAreDelicious &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Mmm, tasty turnips"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Eww, turnips are horrible."</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="1-10-å…ƒç»„"><a href="#1-10-å…ƒç»„" class="headerlink" title="1.10    å…ƒç»„"></a>1.10    å…ƒç»„</h2><blockquote>
<p><strong>ç”¨é€”ï¼š</strong>å…ƒç»„æŠŠå¤šä¸ªå€¼ç»„åˆæˆä¸€ä¸ªå¤åˆå€¼<br><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>å…ƒç»„å†…çš„å€¼å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œå¹¶ä¸è¦æ±‚æ˜¯ç›¸åŒç±»å‹ã€‚</li>
<li>å¯ä»¥ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼</li>
<li>å¯ä»¥ä¸ºå…ƒç»„ä¸­çš„æ¯ä¸ªå…ƒç´ å‘½å</li>
<li>å¯ä»¥é€šè¿‡ä¸‹æ ‡è®¿é—®å…ƒç»„ä¸­çš„æ¯ä¸ªå…ƒç´ </li>
</ul>
<p><strong>è¯­æ³•ï¼š</strong><code>(å­—é¢é‡1, å­—é¢é‡2, ...)</code></p>
<p><strong>é™åˆ¶ï¼š</strong>å…ƒç»„åœ¨ä¸´æ—¶ç»„ç»‡å€¼çš„æ—¶å€™å¾ˆæœ‰ç”¨ï¼Œä½†ä¸é€‚åˆåˆ›å»ºå¤æ‚çš„æ•°æ®ç»“æ„ã€‚<br><strong>æ‰©å±•ï¼š</strong>å¦‚æœæ•°æ®ç»“æ„ä¸æ˜¯ä¸´æ—¶ä½¿ç”¨ï¼Œè¯·ä½¿ç”¨ç±»æˆ–è€…ç»“æ„ä½“è€Œä¸æ˜¯å…ƒç»„ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜ï¼šä¸€ä¸ªç±»å‹ä¸º (Int, String) çš„å…ƒç»„</span></span><br><span class="line"><span class="keyword">let</span> http404Error = (<span class="number">404</span>, <span class="string">"Not found"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ†è§£</span></span><br><span class="line"><span class="keyword">let</span> (statusCode, statusMessage) = http404Error</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"The status code is \(statusCode)"</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"The status message is \(statusMessage)"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ†è§£æ—¶ç”¨_å¿½ç•¥</span></span><br><span class="line"><span class="keyword">let</span> (justTheStatusCode, <span class="number">_</span>) = http404Error</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡ä¸‹æ ‡è®¿é—®å…ƒç»„ä¸­çš„å…ƒç´ </span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"The status code is \(http404Error.1))"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰å…ƒç»„æ—¶ä¸ºå•ä¸ªå…ƒç´ å‘½å</span></span><br><span class="line"><span class="keyword">let</span> http200Status = (statusCode: <span class="number">200</span>, description: <span class="string">"OK"</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"The status code is \(http200Status.statusCode)"</span>)</span><br></pre></td></tr></table></figure>
<h2 id="1-11-å¯é€‰ç±»å‹"><a href="#1-11-å¯é€‰ç±»å‹" class="headerlink" title="1.11    å¯é€‰ç±»å‹"></a>1.11    å¯é€‰ç±»å‹</h2><blockquote>
<p><strong>ç”¨é€”ï¼š</strong>å€¼å¯èƒ½ç¼ºå¤±çš„æƒ…å†µ<br><strong>åº”ç”¨ï¼š</strong>ä»»ä½•ç±»å‹</p>
</blockquote>
<h3 id="1-11-1-nil"><a href="#1-11-1-nil" class="headerlink" title="1.11.1    nil"></a>1.11.1    nil</h3><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>var(let) æ ‡è¯†ç¬¦: ç±»å‹? = è¡¨è¾¾å¼</code><br><strong>ç›¸å…³å­—é¢é‡ï¼š</strong><code>nil</code></p>
<ul>
<li><code>nil</code>ä¸èƒ½ç”¨äºéå¯é€‰çš„å¸¸é‡æˆ–å˜é‡</li>
<li>å¦‚æœå£°æ˜ä¸€ä¸ªå¯é€‰å¸¸é‡æˆ–è€…å˜é‡ä½†æ˜¯æ²¡æœ‰èµ‹å€¼ï¼Œä»–ä»¬ä¼šè‡ªåŠ¨è¢«è®¾ç½®ä¸º<code>nil</code></li>
<li>ä»»ä½•ç±»å‹çš„å¯é€‰çŠ¶æ€éƒ½å¯ä»¥è¢«è®¾ç½®ä¸º<code>nil</code></li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> serverResponseCode: <span class="type">Int</span>? = <span class="number">404</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// nilæ˜¯ä¸€ç±»å¯é€‰ç±»å‹å­—é¢é‡ï¼Œè¡¨ç¤ºæ²¡æœ‰å€¼</span></span><br><span class="line">serverResponseCode = <span class="literal">nil</span></span><br></pre></td></tr></table></figure>
<h3 id="1-11-2-ifè¯­å¥ä»¥åŠå¼ºåˆ¶è§£æ"><a href="#1-11-2-ifè¯­å¥ä»¥åŠå¼ºåˆ¶è§£æ" class="headerlink" title="1.11.2        ifè¯­å¥ä»¥åŠå¼ºåˆ¶è§£æ"></a>1.11.2        ifè¯­å¥ä»¥åŠå¼ºåˆ¶è§£æ</h3><blockquote>
<ol>
<li>é€šè¿‡åˆ¤æ–­å¯é€‰å‹æ˜¯å¦<code>!= nil</code>,åˆ¤æ–­å¯é€‰å‹æ˜¯å¦å­˜åœ¨å€¼</li>
<li>å¦‚æœå­˜åœ¨(å¦åˆ™ä¼šæŠ¥é”™)é€šè¿‡<code>å¯é€‰å‹å˜é‡æˆ–å¸¸é‡!</code>å¼ºåˆ¶è§£æ</li>
</ol>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> possibleNumber = <span class="string">"123"</span></span><br><span class="line"><span class="comment">// å¼ºåˆ¶ç±»å‹è½¬æ¢è¿”å›çš„æ˜¯ä¸€ä¸ªå¯é€‰å‹</span></span><br><span class="line"><span class="keyword">let</span> convertedNumber = <span class="type">Int</span>(possibleNumber)</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡ !å¼ºåˆ¶è§£æ</span></span><br><span class="line"><span class="keyword">if</span> convertedNumber != <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"convertedNumber has an integer value of \(convertedNumber!)"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-11-3-å¯é€‰ç»‘å®š"><a href="#1-11-3-å¯é€‰ç»‘å®š" class="headerlink" title="1.11.3    å¯é€‰ç»‘å®š"></a>1.11.3    å¯é€‰ç»‘å®š</h3><blockquote>
<p><strong>ç”¨é€”ï¼š</strong>æ›´åŠ ä¾¿æ·åœ°è§£åŒ…å¯é€‰å‹å€¼ã€‚<br><strong>é™åˆ¶ï¼š</strong>åªèƒ½ç»“åˆ<code>if</code>æˆ–<code>while</code>ä½¿ç”¨<br><strong>è¯´æ˜ï¼š</strong>å¦‚æœåŒ…å«å€¼å°±æŠŠå€¼èµ‹ç»™ä¸€ä¸ªä¸´æ—¶<code>å¸¸é‡</code>æˆ–è€…<code>å˜é‡</code>ã€‚</p>
</blockquote>
<h4 id="ç»‘å®šä¸€ä¸ª"><a href="#ç»‘å®šä¸€ä¸ª" class="headerlink" title="ç»‘å®šä¸€ä¸ª"></a>ç»‘å®šä¸€ä¸ª</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> possibleNumber = <span class="string">"abc"</span>;</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> actualNumber = <span class="type">Int</span>(possibleNumber) &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœç¡®å®åŒ…å«ä¸€ä¸ªå€¼</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"\'\(possibleNumber)\' has an integer value of \(actualNumber)"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// å¯é€‰å€¼ä¸ºnil</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"\'\(possibleNumber)\' could not be converted to an integer"</span>)<span class="comment">// 'abc' could not be converted to an intege</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="æ‰¹é‡ç»‘å®š"><a href="#æ‰¹é‡ç»‘å®š" class="headerlink" title="æ‰¹é‡ç»‘å®š"></a>æ‰¹é‡ç»‘å®š</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> firstNumber = <span class="type">Int</span>(<span class="string">"4"</span>), secondNumber = <span class="type">Int</span>(<span class="string">"42"</span>) <span class="keyword">where</span> firstNumber &lt; secondNumber &#123;</span><br><span class="line">    <span class="comment">// 4 &lt; 42</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"\(firstNumber) &lt; \(secondNumber)"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-11-4-éšå¼è§£æå¯é€‰ç±»å‹"><a href="#1-11-4-éšå¼è§£æå¯é€‰ç±»å‹" class="headerlink" title="1.11.4    éšå¼è§£æå¯é€‰ç±»å‹"></a>1.11.4    éšå¼è§£æå¯é€‰ç±»å‹</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç›¸å½“äºå£°æ˜å¯é€‰å‹(<code>ç±»å‹?</code>)å’Œå¼ºåˆ¶è§£åŒ…(<code>å¯é€‰å‹!</code>)ä¸¤ä¸ªè¿‡ç¨‹çš„ç»“åˆã€‚</p>
<ul>
<li>è¢«èµ‹å€¼åï¼Œå€¼è¦ä¹ˆæ˜¯è§£åŒ…åçš„å€¼ï¼Œè¦ä¹ˆæ˜¯<code>nil</code></li>
<li>åœ¨å¯é€‰ç»‘å®šä¸­ä»ç„¶å¯ä»¥ä½œä¸ºæ™®é€šå¯é€‰ç±»å‹ä½¿ç”¨</li>
</ul>
<p><strong>é™åˆ¶ï¼š</strong>å³è¾¹è¡¨è¾¾å¼çš„è¿”å›å€¼å¿…é¡»æ˜¯å¯é€‰å‹ï¼Œå¦åˆ™å°†æŠ¥é”™ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜å¯é€‰å‹å¹¶å¼ºåˆ¶è§£æ</span></span><br><span class="line"><span class="keyword">let</span> possibleString: <span class="type">String</span>? = <span class="string">"An optional string."</span></span><br><span class="line"><span class="keyword">let</span> forcedString: <span class="type">String</span> = possibleString!</span><br><span class="line"></span><br><span class="line"><span class="comment">// éšå¼è§£æ(ä¸€æ­¥åˆ°ä½)</span></span><br><span class="line"><span class="keyword">let</span> assumedString: <span class="type">String</span>! = <span class="string">"An implicitly unwrapped optional string."</span></span><br><span class="line"><span class="keyword">if</span> assumedString != <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(assumedString)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨å¯é€‰ç»‘å®šä¸­ä½¿ç”¨éšå¼è§£æå¯é€‰ç±»å‹</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> definiteString = assumedString &#123;</span><br><span class="line">    <span class="built_in">print</span>(definiteString)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="1-12-é”™è¯¯å¤„ç†"><a href="#1-12-é”™è¯¯å¤„ç†" class="headerlink" title="1.12    é”™è¯¯å¤„ç†"></a>1.12    é”™è¯¯å¤„ç†</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ†ä½ä¸¤æ­¥</p>
<ol>
<li>å®šä¹‰å‡½æ•°æ—¶ï¼Œä½¿ç”¨<code>throws</code>æ ‡è®°å¯èƒ½æŠ›å‡ºé”™è¯¯çš„å‡½æ•°</li>
<li>ç”¨<code>do-try-catch</code>åŒ…å«å‡½æ•°çš„è°ƒç”¨è¿‡ç¨‹å’Œé”™è¯¯å¤„ç†æ–¹å¼</li>
</ol>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">makeASandwich</span><span class="params">()</span></span> <span class="keyword">throws</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="comment">// å¯èƒ½æŠ¥é”™çš„å‡½æ•°çš„è°ƒç”¨å‰å¿…é¡»åŠ å…³é”®å­— try</span></span><br><span class="line">    <span class="keyword">try</span> makeASandwich()</span><br><span class="line">    <span class="comment">// å¦‚æœæ²¡æœ‰æŠ¥é”™åˆ™æ‰§è¡Œ</span></span><br><span class="line">    eatASandwich()</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> <span class="type">Error</span>.<span class="type">OutOfCleanDishes</span> &#123;</span><br><span class="line">    <span class="comment">// æ•è·é”™è¯¯ç±»å‹1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> <span class="type">Error</span>.<span class="type">MissingIngredients</span>(<span class="keyword">let</span> ingredients) &#123;</span><br><span class="line">    <span class="comment">// æ•è·é”™è¯¯ç±»å‹2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="1-13-æ–­è¨€"><a href="#1-13-æ–­è¨€" class="headerlink" title="1.13    æ–­è¨€"></a>1.13    æ–­è¨€</h2><blockquote>
<p><strong>ç”¨é€”ï¼š</strong>å½“æ»¡è¶³ä¸€å®šæ¡ä»¶æ—¶ç»“æŸä»£ç è¿è¡Œé€šè¿‡è°ƒè¯•æ¥æ‰¾åˆ°å€¼ç¼ºå¤±çš„åŸå› ã€‚<br><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>æ•´æ•°ç±»å‹çš„ä¸‹æ ‡ç´¢å¼•è¢«ä¼ å…¥ä¸€ä¸ªè‡ªå®šä¹‰ä¸‹æ ‡è„šæœ¬å®ç°ï¼Œä½†æ˜¯ä¸‹æ ‡ç´¢å¼•å€¼å¯èƒ½å¤ªå°æˆ–è€…å¤ªå¤§</li>
<li>éœ€è¦ç»™å‡½æ•°ä¼ å…¥ä¸€ä¸ªå€¼ï¼Œä½†æ˜¯éæ³•çš„å€¼å¯èƒ½å¯¼è‡´å‡½æ•°ä¸èƒ½æ­£å¸¸æ‰§è¡Œ</li>
<li>ä¸€ä¸ªå¯é€‰å€¼ç°åœ¨æ˜¯<code>nil</code>ï¼Œä½†æ˜¯åé¢çš„ä»£ç è¿è¡Œéœ€è¦ä¸€ä¸ªé<code>nil</code>çš„å€¼</li>
</ul>
</blockquote>
<h3 id="assertå‡½æ•°"><a href="#assertå‡½æ•°" class="headerlink" title="assertå‡½æ•°"></a>assertå‡½æ•°</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä¸€ä¸ªé€»è¾‘æ¡ä»¶æ˜¯å¦ä¸º<code>true</code></p>
<ul>
<li>å¦‚æœä¸º<code>true</code>ï¼Œä»£ç ç»§ç»­è¿è¡Œ</li>
<li>å¦‚æœä¸º<code>false</code>ï¼Œä»£ç æ‰§è¡Œç»“æŸ</li>
<li>å¯ä»¥é™„åŠ ä¸€æ¡è°ƒè¯•ä¿¡æ¯</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong>åœ¨Xcode ä¸­ä½¿ç”¨<code>target Release</code>é…ç½®ä¸º<code>build</code>æ—¶ï¼Œæ–­è¨€ä¼šè¢«ç¦ç”¨ã€‚<br><strong>åŸå‹ï¼š</strong><code>å…¨å±€</code></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">/**</span><br><span class="line">&gt;* @param &#123;Bool&#125; condition ç»“æœä¸ºtrueæˆ–falseçš„è¡¨è¾¾å¼</span><br><span class="line">&gt;* @param &#123;String=&#125; message è°ƒè¯•ä¿¡æ¯</span><br><span class="line">&gt;*/</span></span><br><span class="line">&gt;<span class="type">Void</span> <span class="built_in">assert</span>(condition: <span class="type">Bool</span>,  message: <span class="type">String</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> age = -<span class="number">3</span></span><br><span class="line"><span class="built_in">assert</span>(age &gt;= <span class="number">0</span>, <span class="string">"Aperson's age cannot be less than zero"</span>);</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/TSPL2_0 ç®€ä»‹/" itemprop="url">
                  ç®€ä»‹
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T19:31:15+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/TSPL2_0 ç®€ä»‹/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/TSPL2_0 ç®€ä»‹/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="0-1-å…³äºSwift-About-Swift"><a href="#0-1-å…³äºSwift-About-Swift" class="headerlink" title="0.1    å…³äºSwift(About Swift)"></a>0.1    å…³äºSwift(About Swift)</h2><blockquote>
<p><strong>ç”¨é€”ï¼š</strong>ç¼–å†™<code>IOS</code>ã€<code>OS X</code>ã€<code>watchOS</code>åº”ç”¨ç¨‹åº<br><strong>ç‰¹ç‚¹å½’çº³ï¼š</strong></p>
<ul>
<li>åŸºäº<code>Cocoa</code>å’Œ<code>Cocoa Touch</code>æ¡†æ¶</li>
<li>è‡ªåŠ¨åƒåœ¾å›æ”¶ï¼ˆè‡ªåŠ¨å¼•ç”¨è®¡æ•°ï¼‰</li>
<li>é‡‡ç”¨äº†<code>Object-C</code>çš„å‘½åå‚æ•°å’ŒåŠ¨æ€å¯¹è±¡æ¨¡å‹ï¼Œå…¼å®¹<code>Object-C</code>ï¼Œå¯ä»¥æ— ç¼å¯¹æ¥åˆ°ç°æœ‰çš„<code>Cocoa</code>æ¡†æ¶</li>
<li>æ”¯æŒ<code>è¿‡ç¨‹å¼ç¼–ç¨‹</code>å’Œ<code>é¢å‘å¯¹è±¡ç¼–ç¨‹</code></li>
<li>æ”¯æŒä»£ç é¢„è§ˆï¼ˆåƒè„šæœ¬è¯­è¨€ä¸€æ ·ï¼Œå¯ä»¥å®æ—¶æŸ¥çœ‹ç»“æœï¼‰</li>
</ul>
</blockquote>
<h2 id="0-2-Swiftåˆè§ï¼ˆA-Swift-Tourï¼‰"><a href="#0-2-Swiftåˆè§ï¼ˆA-Swift-Tourï¼‰" class="headerlink" title="0.2    Swiftåˆè§ï¼ˆA Swift Tourï¼‰"></a>0.2    Swiftåˆè§ï¼ˆA Swift Tourï¼‰</h2><h3 id="0-2-1-ç®€å•å€¼ï¼ˆSimple-Valuesï¼‰"><a href="#0-2-1-ç®€å•å€¼ï¼ˆSimple-Valuesï¼‰" class="headerlink" title="0.2.1    ç®€å•å€¼ï¼ˆSimple Valuesï¼‰"></a>0.2.1    ç®€å•å€¼ï¼ˆSimple Valuesï¼‰</h3><h4 id="0-2-1-1-è‡ªåŠ¨æ¨æ–­ç±»å‹"><a href="#0-2-1-1-è‡ªåŠ¨æ¨æ–­ç±»å‹" class="headerlink" title="0.2.1.1    è‡ªåŠ¨æ¨æ–­ç±»å‹"></a>0.2.1.1    è‡ªåŠ¨æ¨æ–­ç±»å‹</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å£°æ˜çš„åŒæ—¶èµ‹å€¼çš„è¯ï¼Œå¦‚æœä¸æŒ‡å®šç±»å‹ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ¨æ–­å…¶ç±»å‹ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è‡ªåŠ¨æ¨æ–­ç±»å‹ä¸ºinteger</span></span><br><span class="line"><span class="keyword">let</span> implicitInteger = <span class="number">70</span></span><br><span class="line"><span class="comment">// è‡ªåŠ¨æ¨æ–­ç±»å‹ä¸ºdouble</span></span><br><span class="line"><span class="keyword">let</span> implicitDouble = <span class="number">70.0</span></span><br></pre></td></tr></table></figure>
<h4 id="0-2-1-2-æŒ‡å®šç±»å‹"><a href="#0-2-1-2-æŒ‡å®šç±»å‹" class="headerlink" title="0.2.1.2    æŒ‡å®šç±»å‹"></a>0.2.1.2    æŒ‡å®šç±»å‹</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æŒ‡å®šç±»å‹ä¼šå¯¼è‡´å¼ºåˆ¶ç±»å‹è½¬æ¢</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŒ‡å®šç±»å‹ä¸ºdouble</span></span><br><span class="line"><span class="keyword">let</span> explicitDouble:<span class="type">Double</span> = <span class="number">70</span></span><br></pre></td></tr></table></figure>
<h4 id="0-2-1-3-æ˜¾ç¤ºè½¬æ¢ï¼ˆåœ¨è¡¨è¾¾å¼ä¸­ï¼‰"><a href="#0-2-1-3-æ˜¾ç¤ºè½¬æ¢ï¼ˆåœ¨è¡¨è¾¾å¼ä¸­ï¼‰" class="headerlink" title="0.2.1.3    æ˜¾ç¤ºè½¬æ¢ï¼ˆåœ¨è¡¨è¾¾å¼ä¸­ï¼‰"></a>0.2.1.3    æ˜¾ç¤ºè½¬æ¢ï¼ˆåœ¨è¡¨è¾¾å¼ä¸­ï¼‰</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è¡¨è¾¾å¼ä¸­çš„å€¼ä»»ä½•æ—¶å€™éƒ½ä¸ä¼šå‘ç”Ÿéšå¼è½¬åŒ–ã€‚éœ€è¦è½¬æ¢ä¸ºå…¶å®ƒç±»å‹å¿…é¡»è¿›è¡Œæ˜¾ç¤ºè½¬æ¢ã€‚<br><strong>ç‰¹åˆ«ï¼š</strong><code>\(å˜é‡æˆ–è¡¨è¾¾å¼)</code>ï¼ˆè½¬æ¢æˆå­—ç¬¦ä¸²ç±»å‹ï¼‰</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// string</span></span><br><span class="line"><span class="keyword">let</span> label = <span class="string">"The width is"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// integer</span></span><br><span class="line"><span class="keyword">let</span> width = <span class="number">94</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// integeræ˜¾ç¤ºè½¬æ¢ä¸ºstring</span></span><br><span class="line"><span class="keyword">let</span> widthLabel = label + <span class="type">String</span>(width)</span><br></pre></td></tr></table></figure>
<p><em><code>\(å˜é‡æˆ–è¡¨è¾¾å¼)</code></em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> apples = <span class="number">3</span></span><br><span class="line"><span class="keyword">let</span> oranges = <span class="number">5</span></span><br><span class="line"><span class="keyword">let</span> appleSummary = <span class="string">"I have \(apples) apples."</span></span><br><span class="line"><span class="keyword">let</span> fruitSummary = <span class="string">"I have \(apples + oranges) pices of fruit."</span></span><br></pre></td></tr></table></figure>
<h4 id="0-2-1-4-æ•°ç»„å’Œå­—å…¸"><a href="#0-2-1-4-æ•°ç»„å’Œå­—å…¸" class="headerlink" title="0.2.1.4    æ•°ç»„å’Œå­—å…¸"></a>0.2.1.4    æ•°ç»„å’Œå­—å…¸</h4><p><em>å£°æ˜å¹¶åˆå§‹åŒ–ï¼ˆè‡ªåŠ¨æ¨æ–­ç±»å‹ï¼‰</em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•°ç»„</span></span><br><span class="line"><span class="keyword">var</span> shoppingList = [<span class="string">"catfish"</span>, <span class="string">"water"</span>, <span class="string">"tulips"</span>, <span class="string">"blue paint"</span>]</span><br><span class="line">shoppingList[<span class="number">1</span>] = <span class="string">"bottle of water"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å­—å…¸</span></span><br><span class="line"><span class="keyword">var</span> occupations = [</span><br><span class="line">    <span class="string">"Malcolm"</span>: <span class="string">"Caption"</span>,</span><br><span class="line">    <span class="string">"Kaylee"</span>: <span class="string">"Mechanic"</span></span><br><span class="line">]</span><br><span class="line">occupations[<span class="string">"Jayne"</span>] = <span class="string">"Public Relations"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¸…ç©ºï¼ˆç±»å‹ä¿¡æ¯å¯ä»¥è¢«æ¨æ–­å‡ºæ¥ï¼‰</span></span><br><span class="line">shoppingList = []</span><br><span class="line">occuations = [:]</span><br></pre></td></tr></table></figure>
<p><em>ç©ºæ•°ç»„å’Œç©ºå­—å…¸</em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç©ºæ•°ç»„(æŒ‡å®šæ¯ä¸ªå…ƒç´ çš„ç±»å‹)</span></span><br><span class="line"><span class="keyword">let</span> emptyArry = [<span class="type">String</span>]()</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç©ºå­—å…¸ï¼ˆæŒ‡å®šé”®çš„ç±»å‹å’Œå€¼çš„ç±»å‹ï¼‰</span></span><br><span class="line"><span class="keyword">let</span> emptyDictionary = [<span class="type">String</span>:<span class="type">Float</span>]()</span><br></pre></td></tr></table></figure>
<h3 id="0-2-2-æ§åˆ¶æµï¼ˆControl-Flowï¼‰"><a href="#0-2-2-æ§åˆ¶æµï¼ˆControl-Flowï¼‰" class="headerlink" title="0.2.2    æ§åˆ¶æµï¼ˆControl Flowï¼‰"></a>0.2.2    æ§åˆ¶æµï¼ˆControl Flowï¼‰</h3><h4 id="0-2-2-1-æ¡ä»¶åˆ¤æ–­"><a href="#0-2-2-1-æ¡ä»¶åˆ¤æ–­" class="headerlink" title="0.2.2.1    æ¡ä»¶åˆ¤æ–­"></a>0.2.2.1    æ¡ä»¶åˆ¤æ–­</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æœ‰ä¸¤ç±»</p>
<ul>
<li>if</li>
<li>switch</li>
</ul>
<p><strong>ifè¯­æ³•ï¼š</strong></p>
<ul>
<li>åŒ…è£¹æ¡ä»¶çš„<code>()</code>å¯ä»¥çœç•¥</li>
<li>è¯­å¥çš„<code>{}</code>ä¸å¯ä»¥çœç•¥</li>
<li><code>æ¡ä»¶</code>å¿…é¡»æ˜¯ä¸€ä¸ª<code>å¸ƒå°”è¡¨è¾¾å¼</code>ï¼ˆå…¶å®ƒæ•°æ®ç±»å‹ä¼šæŠ¥é”™ï¼Œå› ä¸ºä¸ä¼šéšå¼è½¬æ¢ï¼‰</li>
</ul>
<p><strong>switchè¯­æ³•ï¼š</strong></p>
<ul>
<li>æ”¯æŒä»»æ„ç±»å‹ï¼ˆä¸ä»…ä»…æ˜¯æ•´æ•°ï¼‰</li>
<li>æ”¯æŒå„ç§æ¯”è¾ƒæ“ä½œï¼ˆä¸ä»…ä»…æ˜¯æµ‹è¯•æƒ³ç­‰ï¼‰</li>
<li><code>case</code>åå¯ä»¥æœ‰å¤šä¸ªæ•°æ®</li>
<li><code>case</code>åå¯ä»¥ä½¿ç”¨<code>where</code>å­—å¥</li>
<li>åŒ¹é…å­—å¥åç¨‹åºä¼šé€€å‡º<code>switch</code>ï¼Œä¸éœ€è¦åœ¨æ¯ä¸ªå­—å¥ç»“å°¾å†™break</li>
<li>â€¦<br><strong>æŠ€å·§ï¼š</strong><code>if</code>å’Œ<code>let</code>ç»„åˆèµ·æ¥ä½¿ç”¨å¯ä»¥æ¥ä¸ºå¯é€‰å€¼è§£åŒ…</li>
</ul>
</blockquote>
<p><em>if(é…åˆletè§£åŒ…å¯é€‰å€¼)</em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> optionalString:<span class="type">String</span>? = <span class="string">"Hello"</span></span><br><span class="line"><span class="built_in">print</span>(optionalString == <span class="literal">nil</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> optionalName:<span class="type">String</span>? = <span class="string">"Join Appleseed"</span></span><br><span class="line"><span class="keyword">var</span> greeting = <span class="string">"Hello"</span></span><br><span class="line"><span class="comment">// å°†å¯é€‰å€¼optionalNameè§£åŒ…åçš„å€¼ç»™name</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> name = optionalName &#123;</span><br><span class="line">    greeting = <span class="string">"Hello, \(name)"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    greeting = <span class="string">"Hello"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>switch</em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> vegetable = <span class="string">"red pepper"</span></span><br><span class="line"><span class="keyword">switch</span> vegetable &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"celery"</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Add some raisins and make ants on a log."</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"cucumber"</span>, <span class="string">"watercress"</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"That would make a good tea sandwich."</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">let</span> x <span class="keyword">where</span> x.hasSuffix(<span class="string">"pepper"</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Is it a spicy \(x)?"</span>)</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Everything tasts good in soup."</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="0-2-2-2-å¾ªç¯"><a href="#0-2-2-2-å¾ªç¯" class="headerlink" title="0.2.2.2    å¾ªç¯"></a>0.2.2.2    å¾ªç¯</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æœ‰4ç±»</p>
<ul>
<li>for-in</li>
<li>for</li>
<li>while</li>
<li>repeat-while</li>
</ul>
</blockquote>
<p><em>for-in</em></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯»æ‰¾å­—å…¸ä¸­çš„æ‰€æœ‰æ•°ç»„ä¸­çš„æœ€å¤§å€¼</span></span><br><span class="line">let interestingNumbers = [</span><br><span class="line">    <span class="string">"Prime"</span>: [<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">13</span>],</span><br><span class="line">    <span class="string">"Fibonacci"</span>: [<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">8</span>],</span><br><span class="line">    <span class="string">"Square"</span>: [<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>]</span><br><span class="line">]</span><br><span class="line">var largest = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> (kind, numbers) in interestingNumbers &#123;</span><br><span class="line">    <span class="keyword">for</span> number in numbers &#123;</span><br><span class="line">        <span class="keyword">if</span> number &gt; largest &#123;</span><br><span class="line">            largest = number</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">print(largest)<span class="comment">// 25</span></span><br></pre></td></tr></table></figure>
<p><em>repeat-while</em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n = <span class="number">2</span></span><br><span class="line"><span class="keyword">while</span> n &lt; <span class="number">100</span> &#123;</span><br><span class="line">    n = n * <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(n)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> m = <span class="number">2</span></span><br><span class="line"><span class="keyword">repeat</span> &#123;</span><br><span class="line">    m = m * <span class="number">2</span></span><br><span class="line">&#125; <span class="keyword">while</span> m &lt; <span class="number">100</span></span><br><span class="line"><span class="built_in">print</span>(m)</span><br></pre></td></tr></table></figure>
<p><em>for</em></p>
<blockquote>
<p><strong>åŒºé—´ï¼š</strong></p>
<ul>
<li>åŒ…å«è¾¹ç•Œï¼š<code>...</code></li>
<li>ä¸åŒ…å«ä¸Šè¾¹ç•Œï¼š<code>..&lt;</code></li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŒºé—´çš„æ–¹å¼</span></span><br><span class="line"><span class="keyword">var</span> firstForLoop = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;<span class="number">4</span> &#123;</span><br><span class="line">    firstForLoop += i</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(firstForLoop)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¼ ç»Ÿçš„æ–¹å¼</span></span><br><span class="line"><span class="keyword">var</span> secondForLoop = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> <span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; ++i &#123;</span><br><span class="line">    secondForLoop += i</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(secondForLoop)</span><br></pre></td></tr></table></figure>
<h3 id="0-2-3-å‡½æ•°å’Œé—­åŒ…ï¼ˆFunctions-and-Closuresï¼‰"><a href="#0-2-3-å‡½æ•°å’Œé—­åŒ…ï¼ˆFunctions-and-Closuresï¼‰" class="headerlink" title="0.2.3    å‡½æ•°å’Œé—­åŒ…ï¼ˆFunctions and Closuresï¼‰"></a>0.2.3    å‡½æ•°å’Œé—­åŒ…ï¼ˆFunctions and Closuresï¼‰</h3><h4 id="0-2-3-1-ç®€å•å‡½æ•°"><a href="#0-2-3-1-ç®€å•å‡½æ•°" class="headerlink" title="0.2.3.1    ç®€å•å‡½æ•°"></a>0.2.3.1    ç®€å•å‡½æ•°</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">greet</span><span class="params">(name: String, day: String)</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Hello \(name), today is \(day)."</span></span><br><span class="line">&#125;</span><br><span class="line">greet(<span class="string">"Bob"</span>, day: <span class="string">"Tuesday"</span>)<span class="comment">// ç¬¬ä¸€ä¸ªå‚æ•°ä¸ç”¨è¯´æ˜label</span></span><br></pre></td></tr></table></figure>
<h4 id="0-2-3-2-è¿”å›å…ƒç»„"><a href="#0-2-3-2-è¿”å›å…ƒç»„" class="headerlink" title="0.2.3.2    è¿”å›å…ƒç»„"></a>0.2.3.2    è¿”å›å…ƒç»„</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‰¾åˆ°å…ƒç»„çš„æœ€å¤§å€¼ã€æœ€å°å€¼å’Œæ€»å’Œ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">calculateStatistics</span><span class="params">(scores: [Int])</span></span> -&gt; (<span class="built_in">min</span>: <span class="type">Int</span>, <span class="built_in">max</span>: <span class="type">Int</span>, sum: <span class="type">Int</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="built_in">min</span> = scores[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">var</span> <span class="built_in">max</span> = scores[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">var</span> sum = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> score <span class="keyword">in</span> scores &#123;</span><br><span class="line">        <span class="keyword">if</span> score &gt; <span class="built_in">max</span> &#123;</span><br><span class="line">            <span class="built_in">max</span> = score</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> score &lt; <span class="built_in">min</span> &#123;</span><br><span class="line">            <span class="built_in">min</span> = score</span><br><span class="line">        &#125;</span><br><span class="line">        sum += score</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="built_in">min</span>, <span class="built_in">max</span>, sum)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="keyword">let</span> statistics = calculateStatistics([<span class="number">5</span>, <span class="number">3</span>, <span class="number">100</span>, <span class="number">3</span>, <span class="number">9</span>])</span><br><span class="line"><span class="built_in">print</span>(statistics.sum)</span><br><span class="line"><span class="built_in">print</span>(statistics.<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<h4 id="0-2-3-3-å¯å˜å‚æ•°"><a href="#0-2-3-3-å¯å˜å‚æ•°" class="headerlink" title="0.2.3.3    å¯å˜å‚æ•°"></a>0.2.3.3    å¯å˜å‚æ•°</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯å˜å‚æ•°å‡½æ•°</span></span><br><span class="line"><span class="comment">// è®¡ç®—æ€»å’Œ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sumOf</span><span class="params">(numbers: Int...)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> sum = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> number <span class="keyword">in</span> numbers &#123;</span><br><span class="line">        sum += number</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum</span><br><span class="line">&#125;</span><br><span class="line">sumOf()</span><br><span class="line">sumOf(<span class="number">42</span>, <span class="number">597</span>, <span class="number">12</span>)</span><br></pre></td></tr></table></figure>
<h4 id="0-2-3-4-å‡½æ•°åµŒå¥—"><a href="#0-2-3-4-å‡½æ•°åµŒå¥—" class="headerlink" title="0.2.3.4    å‡½æ•°åµŒå¥—"></a>0.2.3.4    å‡½æ•°åµŒå¥—</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¦‚æœåµŒå¥—çš„å‡½æ•°è¢«è¿”å›ï¼Œè°ƒç”¨è¿”å›çš„å‡½æ•°å°±ä¼šå‡ºç°é—­åŒ…çš„æ•ˆæœã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡½æ•°åµŒå¥—</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">returnFifteen</span><span class="params">()</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> y = <span class="number">10</span></span><br><span class="line">    <span class="comment">// å‡½æ•°å†…éƒ¨çš„å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">()</span></span> &#123;</span><br><span class="line">        y += <span class="number">5</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è°ƒç”¨å‡½æ•°å†…éƒ¨çš„å‡½æ•°</span></span><br><span class="line">    add()</span><br><span class="line">    <span class="keyword">return</span> y</span><br><span class="line">&#125;</span><br><span class="line">returnFifteen()</span><br></pre></td></tr></table></figure>
<h4 id="0-2-3-5-è¿”å›å‡½æ•°"><a href="#0-2-3-5-è¿”å›å‡½æ•°" class="headerlink" title="0.2.3.5    è¿”å›å‡½æ•°"></a>0.2.3.5    è¿”å›å‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è¿”å›çš„å‡½æ•°æ˜¯é—­åŒ…çš„ä¸€ç§</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿”å›å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">makeIncrementer</span><span class="params">()</span></span> -&gt; (<span class="type">Int</span> -&gt; <span class="type">Int</span>) &#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">addOne</span><span class="params">(number: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> + number</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> addOne</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> increment = makeIncrementer()</span><br><span class="line">increment(<span class="number">7</span>)</span><br></pre></td></tr></table></figure>
<h4 id="0-2-3-6-å‡½æ•°ä½œä¸ºå‚æ•°"><a href="#0-2-3-6-å‡½æ•°ä½œä¸ºå‚æ•°" class="headerlink" title="0.2.3.6    å‡½æ•°ä½œä¸ºå‚æ•°"></a>0.2.3.6    å‡½æ•°ä½œä¸ºå‚æ•°</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨å‡½æ•°ä½œä¸ºå‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">hasAnyMatches</span><span class="params">(list: [Int], condition: Int -&gt; Bool)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> list &#123;</span><br><span class="line">        <span class="keyword">if</span> condition(item) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¢«ä½œä¸ºå‚æ•°çš„å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">lessThanThen</span><span class="params">(number: Int)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> number &lt; <span class="number">10</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="keyword">var</span> numbers = [<span class="number">20</span>, <span class="number">19</span>, <span class="number">7</span>, <span class="number">12</span>]</span><br><span class="line">hasAnyMatches(numbers, condition: lessThanThen)</span><br></pre></td></tr></table></figure>
<h4 id="0-2-3-7-åŒ¿åå‡½æ•°ï¼ˆåŒ¿åé—­åŒ…ï¼‰"><a href="#0-2-3-7-åŒ¿åå‡½æ•°ï¼ˆåŒ¿åé—­åŒ…ï¼‰" class="headerlink" title="0.2.3.7    åŒ¿åå‡½æ•°ï¼ˆåŒ¿åé—­åŒ…ï¼‰"></a>0.2.3.7    åŒ¿åå‡½æ•°ï¼ˆåŒ¿åé—­åŒ…ï¼‰</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åŒ¿åå‡½æ•°å†™æ³•éå¸¸è‡ªç”±</p>
<ul>
<li>å¦‚æœä¸€ä¸ªé—­åŒ…çš„ç±»å‹å·²çŸ¥ï¼Œæ¯”å¦‚ä½œä¸ºä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå¯ä»¥å¿½ç•¥å‚æ•°çš„ç±»å‹å’Œè¿”å›å€¼</li>
<li>å•ä¸ªè¯­å¥é—­åŒ…ä¼šæŠŠå®ƒè¯­å¥çš„å€¼å½“ä½œç»“æœè¿”å›</li>
<li>å¯ä»¥é€šè¿‡å‚æ•°ä½ç½®è€Œä¸æ˜¯å‚æ•°åå¼•ç”¨å‚æ•°</li>
<li>å½“ä¸€ä¸ªé—­åŒ…ä½œä¸ºæœ€åä¸€ä¸ªå‚æ•°ä¼ ç»™ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œå®ƒå¯ä»¥ç›´æ¥è·Ÿåœ¨æ‹¬å·åé¢</li>
<li>å½“ä¸€ä¸ªé—­åŒ…æ˜¯ä¼ ç»™å‡½æ•°çš„å”¯ä¸€å‚æ•°ï¼Œå¯ä»¥å®Œå…¨å¿½ç•¥<code>()</code></li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŒ¿åé—­åŒ…1ï¼ˆåŒ…å«å‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹ï¼‰</span></span><br><span class="line">numbers.<span class="built_in">map</span>(&#123;</span><br><span class="line">    (number:<span class="type">Int</span>) -&gt; <span class="type">Int</span> <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">let</span> result = <span class="number">3</span> * number</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// åŒ¿åé—­åŒ…2ï¼ˆå¯ä»¥æ¨å¯¼å‡ºé—­åŒ…çš„å‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹çš„è¯ï¼Œä¸¤è€…éƒ½å¯ä»¥çœç•¥ï¼‰</span></span><br><span class="line"><span class="keyword">let</span> mappedNumbers = numbers.<span class="built_in">map</span>(&#123;number <span class="keyword">in</span> <span class="number">3</span> * number&#125;)</span><br><span class="line"><span class="built_in">print</span>(mappedNumbers)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŒ¿åé—­åŒ…3ï¼ˆå‡½æ•°ä½“ä¸­é€šè¿‡å‚æ•°ä½ç½®è€Œä¸æ˜¯å‚æ•°åè®¿é—®å‚æ•°ï¼‰</span></span><br><span class="line"><span class="keyword">let</span> sortedNumbers = numbers.<span class="built_in">sort</span> &#123; $<span class="number">0</span> &gt; $<span class="number">1</span> &#125;</span><br><span class="line"><span class="built_in">print</span>(sortedNumbers)</span><br></pre></td></tr></table></figure>
<h3 id="0-2-4-å¯¹è±¡å’Œç±»ï¼ˆObject-and-Classesï¼‰"><a href="#0-2-4-å¯¹è±¡å’Œç±»ï¼ˆObject-and-Classesï¼‰" class="headerlink" title="0.2.4    å¯¹è±¡å’Œç±»ï¼ˆObject and Classesï¼‰"></a>0.2.4    å¯¹è±¡å’Œç±»ï¼ˆObject and Classesï¼‰</h3><blockquote>
<p><strong>è¯­æ³•ï¼š</strong></p>
<ul>
<li><code>class ç±»å‹å {...}</code></li>
<li>ä½¿ç”¨<code>.</code>è®¿é—®å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•</li>
<li>åœ¨æˆå‘˜æ–¹æ³•ä¸­ä½¿ç”¨<code>self</code>å¼•ç”¨å½“å‰å®ä¾‹å¯¹è±¡</li>
<li>ä½¿ç”¨æ„é€ å‡½æ•°<code>init</code>åˆå§‹åŒ–ç±»å®ä¾‹</li>
<li>ä½¿ç”¨ææ„å‡½æ•°<code>deinit</code>åœ¨åˆ é™¤å¯¹è±¡ä¹‹å‰åšä¸€äº›æ¸…ç†å·¥ä½œ</li>
<li>æ²¡æœ‰æ ‡å‡†çš„æ ¹ç±»ï¼ˆä¸åŒäº<code>java</code>ï¼‰</li>
<li>å­ç±»çš„å®šä¹‰ï¼š<code>class å­ç±»å:çˆ¶ç±»å</code></li>
<li>é‡å†™çˆ¶ç±»çš„æ–¹æ³•è®¸å¿…é¡»ç”¨<code>override</code>æ ‡è®°</li>
</ul>
</blockquote>
<p><em>ç®€å•ç±»</em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å½¢çŠ¶</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å®ä¾‹å±æ€§</span></span><br><span class="line">    <span class="keyword">var</span> numberOfSides = <span class="number">0</span></span><br><span class="line">    <span class="comment">// å®ä¾‹æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">simpleDescription</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"A shape with \(numberOfSides) sides."</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºå®ä¾‹</span></span><br><span class="line"><span class="keyword">var</span> shape = <span class="type">Shape</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ“ä½œå®ä¾‹çš„æˆå‘˜</span></span><br><span class="line">shape.numberOfSides = <span class="number">7</span></span><br><span class="line"><span class="keyword">var</span> shapeDescription = shape.simpleDescription()</span><br></pre></td></tr></table></figure>
<p><em>æ„é€ å‡½æ•°å’Œå­ç±»</em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¸¦åå­—çš„å½¢çŠ¶ï¼ˆåŸºç±»ï¼‰</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NamedShape</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> numberOfSides: <span class="type">Int</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="keyword">init</span>(name: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.name = name</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æˆå‘˜æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">simpleDescription</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"A shape with \(numberOfSides) sides."</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£æ–¹å½¢ï¼ˆå­ç±»ï¼‰</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Square</span>: <span class="title">NamedShape</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> sideLength: <span class="type">Double</span></span><br><span class="line">    <span class="keyword">init</span>(sideLength: <span class="type">Double</span>, name: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.sideLength = sideLength</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(name: name)</span><br><span class="line">        numberOfSides = <span class="number">4</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">area</span><span class="params">()</span></span> -&gt;  <span class="type">Double</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> sideLength * sideLength</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é‡å†™</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">simpleDescription</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"A square with sides of length \(sideLength)."</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> test = <span class="type">Square</span>(sideLength: <span class="number">5.2</span>, name: <span class="string">"my test square"</span>)</span><br><span class="line">test.area()</span><br><span class="line">test.simpleDescription()</span><br></pre></td></tr></table></figure>
<h4 id="0-2-4-1-è®¡ç®—å±æ€§"><a href="#0-2-4-1-è®¡ç®—å±æ€§" class="headerlink" title="0.2.4.1    è®¡ç®—å±æ€§"></a>0.2.4.1    è®¡ç®—å±æ€§</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è®¡ç®—å±æ€§æœ‰getterå’Œsetter</p>
<ul>
<li>getï¼šè¯»å–å±æ€§æ—¶è¿”å›è®¡ç®—å‡ºçš„å±æ€§å€¼</li>
<li>setï¼šå†™å…¥å€¼æ—¶è¢«è°ƒç”¨ï¼Œå…¶ä¸­å†…ç½®å˜é‡<code>newValue</code>å­˜å‚¨æ–°å€¼</li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç­‰è…°ä¸‰è§’å½¢ï¼ˆå­ç±»ï¼‰</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EquilateralTriangle</span>: <span class="title">NamedShape</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> sideLength: <span class="type">Double</span> = <span class="number">0.0</span></span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="keyword">init</span>(sideLength: <span class="type">Double</span>, name: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.sideLength = sideLength</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(name: name)</span><br><span class="line">        numberOfSides = <span class="number">3</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è®¡ç®—å±æ€§ï¼šæä¾›getå’Œset</span></span><br><span class="line">    <span class="keyword">var</span> perimeter: <span class="type">Double</span> &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">3.0</span> * sideLength</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">set</span> &#123;</span><br><span class="line">            sideLength = newValue / <span class="number">3.0</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é‡å†™</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">simpleDescription</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"An equilateral triagle with sides of length \(sideLength)."</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> triangle = <span class="type">EquilateralTriangle</span>(sideLength: <span class="number">3.1</span>, name: <span class="string">"a triangle"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¿é—®è®¡ç®—å±æ€§ï¼ˆgetè¢«è°ƒç”¨ï¼‰</span></span><br><span class="line"><span class="built_in">print</span>(triangle.perimeter)</span><br><span class="line"><span class="comment">// è®¾ç½®è®¡ç®—å±æ€§ï¼ˆsetè®¡ç®—å±æ€§ï¼‰</span></span><br><span class="line">triangle.perimeter = <span class="number">9.9</span></span><br><span class="line"><span class="comment">// è®¿é—®å­˜å‚¨å±æ€§</span></span><br><span class="line"><span class="built_in">print</span>(triangle.sideLength)</span><br></pre></td></tr></table></figure>
<h4 id="0-2-4-2-å±æ€§ç›‘æ§"><a href="#0-2-4-2-å±æ€§ç›‘æ§" class="headerlink" title="0.2.4.2    å±æ€§ç›‘æ§"></a>0.2.4.2    å±æ€§ç›‘æ§</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸éœ€è¦è®¡ç®—å±æ€§ï¼Œä½†æ˜¯ä»ç„¶éœ€è¦åœ¨è®¾ç½®ä¸€ä¸ªæ–°å€¼ä¹‹å‰æˆ–è€…ä¹‹åè¿è¡Œä»£ç ã€‚å¯ä»¥ä½¿ç”¨<code>willset</code>å’Œ<code>didSet</code>ã€‚</p>
<ul>
<li>willsetï¼šåœ¨è®¾ç½®ä¹‹å‰è°ƒç”¨</li>
<li>didSetï¼šåœ¨è®¾ç½®ååè°ƒç”¨</li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŒ…å«ä¸€ä¸ªä¸‰è§’å½¢å®ä¾‹å’Œä¸€ä¸ªæ­£æ–¹å½¢å®ä¾‹ä½œä¸ºæˆå‘˜ï¼Œå¹¶ç¡®ä¿è¾¹é•¿ç›¸ç­‰</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TriangleAndSquare</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> triangle: <span class="type">EquilateralTriangle</span> &#123;</span><br><span class="line">        <span class="comment">// è®¾ç½®æ–°å€¼å‰è°ƒç”¨</span></span><br><span class="line">        <span class="keyword">willSet</span> &#123;</span><br><span class="line">            square.sideLength = newValue.sideLength</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> square: <span class="type">Square</span> &#123;</span><br><span class="line">        <span class="comment">// è®¾ç½®æ–°å€¼ä¹‹å‰è°ƒç”¨</span></span><br><span class="line">        <span class="keyword">willSet</span> &#123;</span><br><span class="line">            triangle.sideLength = newValue.sideLength</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">init</span> (size: <span class="type">Double</span>, name: <span class="type">String</span>) &#123;</span><br><span class="line">        square = <span class="type">Square</span>(sideLength: size, name: name)</span><br><span class="line">        triangle = <span class="type">EquilateralTriangle</span>(sideLength: size, name: name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºå®ä¾‹</span></span><br><span class="line"><span class="keyword">var</span> triangleAndSquare = <span class="type">TriangleAndSquare</span>(size: <span class="number">10</span>, name: <span class="string">"another test shape"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®å‰</span></span><br><span class="line"><span class="built_in">print</span>(triangleAndSquare.square.sideLength)</span><br><span class="line"><span class="built_in">print</span>(triangleAndSquare.triangle.sideLength)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®å…¶ä¸­ä¸€ä¸ªæˆå‘˜ï¼ˆä¼šè§¦å‘willsetï¼‰</span></span><br><span class="line">triangleAndSquare.square = <span class="type">Square</span>(sideLength: <span class="number">50</span>, name: <span class="string">"larger square"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®ä¹‹å</span></span><br><span class="line"><span class="built_in">print</span>(triangleAndSquare.triangle.sideLength)</span><br></pre></td></tr></table></figure>
<h4 id="0-2-4-3-å®ä¾‹æ˜¯å¯é€‰å€¼"><a href="#0-2-4-3-å®ä¾‹æ˜¯å¯é€‰å€¼" class="headerlink" title="0.2.4.3    å®ä¾‹æ˜¯å¯é€‰å€¼"></a>0.2.4.3    å®ä¾‹æ˜¯å¯é€‰å€¼</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å½“å®ä¾‹æ˜¯nilæ˜¯ï¼Œéœ€è¦é¿å…è®¿é—®å®ä¾‹çš„æˆå‘˜å¯¼è‡´æŠ¥é”™ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜å¯é€‰å‹</span></span><br><span class="line"><span class="keyword">let</span> optionalSquare: <span class="type">Square</span>? = <span class="type">Square</span>(sideLength: <span class="number">2.5</span>, name: <span class="string">"optional square"</span>)</span><br><span class="line"><span class="comment">// åœ¨æ“ä½œï¼ˆæ–¹æ³•è°ƒç”¨ï¼å±æ€§è®¿é—®ï¼å­è„šæœ¬è®¿é—®ï¼‰å‰åŠ ?</span></span><br><span class="line"><span class="keyword">let</span> sideLength = optionalSquare?.sideLength</span><br></pre></td></tr></table></figure>
<h3 id="0-2-5-æšä¸¾å’Œç»“æ„ä½“ï¼ˆEnumerations-and-Structuresï¼‰"><a href="#0-2-5-æšä¸¾å’Œç»“æ„ä½“ï¼ˆEnumerations-and-Structuresï¼‰" class="headerlink" title="0.2.5    æšä¸¾å’Œç»“æ„ä½“ï¼ˆEnumerations and Structuresï¼‰"></a>0.2.5    æšä¸¾å’Œç»“æ„ä½“ï¼ˆEnumerations and Structuresï¼‰</h3><h4 id="0-2-5-1-æšä¸¾"><a href="#0-2-5-1-æšä¸¾" class="headerlink" title="0.2.5.1    æšä¸¾"></a>0.2.5.1    æšä¸¾</h4><blockquote>
<p><strong>å…³é”®å­—ï¼š</strong><code>enum</code><br><strong>è¯´æ˜ï¼š</strong>swiftä¸­çš„æ‰€æœ‰å‘½åç±»å‹éƒ½å¯ä»¥åŒ…å«æ–¹æ³•ï¼ˆåŒ…æ‹¬æšä¸¾ï¼‰ã€‚</p>
<ul>
<li>å¯ä»¥ä¸è®¾ç½®æšä¸¾å€¼çš„åŸå§‹å€¼ç±»å‹</li>
<li>åŒä¸€æšä¸¾ç±»å‹çš„å®ä¾‹çš„æˆå‘˜ï¼ˆæšä¸¾å€¼ï¼‰çš„åŸå§‹å€¼ï¼ˆå¯ä»¥åœ¨åˆ›å»ºå®ä¾‹çš„æ—¶å€™ä¼ å…¥å€¼ï¼‰å¯ä»¥ä¸åŒ</li>
<li>å¦‚æœåŸå§‹å€¼ç±»å‹ä¸º<code>Int</code>ï¼Œå¯ä»¥åªè®¾ç½®ç¬¬ä¸€ä¸ªåŸå§‹å€¼ï¼Œå‰©ä¸‹çš„åŸå§‹å€¼ä¼šæŒ‰ç…§é¡ºåºè‡ªåŠ¨å®Œæˆèµ‹å€¼</li>
<li>ä¹Ÿå¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²æˆ–è€…æµ®ç‚¹æ•°ä½œä¸ºæšä¸¾çš„åŸå§‹å€¼</li>
<li>ä½¿ç”¨<code>rawValue</code>å±æ€§æ¥è®¿é—®ä¸€ä¸ªæšä¸¾æˆå‘˜çš„åŸå§‹å€¼</li>
<li>å­˜åœ¨ä¸€ä¸ªé»˜è®¤çš„åˆå§‹åŒ–æ„é€ å™¨<code>init?(rawValue:)</code>ï¼Œè¿™æ„å‘³ç€å¯ä»¥é€šè¿‡åŸå§‹å€¼åˆ›å»ºå¯é€‰å‹ç¾å‰§å€¼ï¼ˆä½¿ç”¨å‰éœ€è¦è§£åŒ…ï¼‰</li>
<li>å£°æ˜æšä¸¾ç±»å‹å¸¸é‡æˆ–åœ¨<code>switch</code>ä¸­æ—¶ï¼Œå½“æŒ‡å®šäº†æšä¸¾ç±»å‹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<code>.æšä¸¾å€¼</code>çš„æ–¹å¼</li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‰‘å…‹ç‰Œçº§åˆ«</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Rank</span>: <span class="title">Int</span></span>&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="type">Ace</span> = <span class="number">1</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">Two</span>, <span class="type">Three</span>, <span class="type">Four</span>, <span class="type">Five</span>, <span class="type">Six</span>, <span class="type">Seven</span>, <span class="type">Eight</span>, <span class="type">Nine</span>, <span class="type">Ten</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">Jack</span>, <span class="type">Queen</span>, <span class="type">King</span></span><br><span class="line">    <span class="comment">// æšä¸¾ç±»å‹å¯ä»¥å£°æ˜æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">simpleDescription</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> .<span class="type">Ace</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"ace"</span></span><br><span class="line">        <span class="keyword">case</span> .<span class="type">Jack</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"jack"</span></span><br><span class="line">        <span class="keyword">case</span> .<span class="type">Queen</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"queen"</span></span><br><span class="line">        <span class="keyword">case</span> .<span class="type">King</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"king"</span></span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="type">String</span>(<span class="keyword">self</span>.rawValue)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æšä¸¾ç±»å‹å˜é‡</span></span><br><span class="line"><span class="keyword">let</span> ace = <span class="type">Rank</span>.<span class="type">Ace</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨æšä¸¾ç±»å‹å€¼çš„æ–¹æ³•</span></span><br><span class="line">ace.simpleDescription()</span><br><span class="line"></span><br><span class="line"><span class="comment">// æšä¸¾ç±»å‹å˜é‡çš„åŸå§‹å€¼</span></span><br><span class="line"><span class="keyword">let</span> aceRawValue = ace.rawValue<span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£åŒ…é€šè¿‡init?(rawValue:)åˆå§‹åŒ–æ„é€ å™¨åˆ›å»ºçš„æšä¸¾ç±»å‹å€¼</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> convertedRank = <span class="type">Rank</span>(rawValue: <span class="number">3</span>) &#123;</span><br><span class="line">	<span class="keyword">let</span> threeDescription = convertedRank.simpleDescription()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>ä¸è®¾ç½®åŸå§‹å€¼ç±»å‹</em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‰‘å…‹ç‰ŒèŠ±è‰²</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Suit</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="type">Spades</span>, <span class="type">Hearts</span>, <span class="type">Diamonds</span>, <span class="type">Clubs</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">simpleDescription</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> .<span class="type">Spades</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"spades"</span></span><br><span class="line">        <span class="keyword">case</span> .<span class="type">Hearts</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"hearts"</span></span><br><span class="line">        <span class="keyword">case</span> .<span class="type">Diamonds</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"diamonds"</span></span><br><span class="line">        <span class="keyword">case</span> .<span class="type">Clubs</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"clubs"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æšä¸¾å€¼</span></span><br><span class="line"><span class="keyword">let</span> hearts = <span class="type">Suit</span>.<span class="type">Hearts</span></span><br><span class="line"><span class="comment">// è°ƒç”¨æšä¸¾å€¼çš„æ–¹æ³•æŸ¥çœ‹æšä¸¾å€¼å¯¹åº”çš„è¯´æ˜</span></span><br><span class="line"><span class="keyword">let</span> heartsDescription = hearts.simpleDescription()</span><br></pre></td></tr></table></figure>
<p><em>æšä¸¾çš„æ¯ä¸ªcaseè¿˜å¯ä»¥åŒ…å«ä¸€äº›å€¼</em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æœåŠ¡å™¨å“åº”</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">ServerResponse</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æ­£ç¡®å“åº”</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">Result</span>(<span class="type">String</span>, <span class="type">String</span>)</span><br><span class="line">    <span class="comment">// è¯·æ±‚å¤±è´¥</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">Error</span>(<span class="type">String</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä¸ºå®ä¾‹ä¼ å€¼</span></span><br><span class="line"><span class="keyword">let</span> success = <span class="type">ServerResponse</span>.<span class="type">Result</span>(<span class="string">"6:00 am"</span>, <span class="string">"8:09 pm"</span>)</span><br><span class="line"><span class="keyword">let</span> failure = <span class="type">ServerResponse</span>.<span class="type">Error</span>(<span class="string">"Out of cheese"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> success &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="keyword">let</span> .<span class="type">Result</span>(sunrise, sunset):</span><br><span class="line">    <span class="comment">// è·å–æšä¸¾å®ä¾‹çš„å€¼</span></span><br><span class="line">    <span class="keyword">let</span> serverResponse = <span class="string">"sunset is at \(sunrise) and sunset is at \(sunset)."</span></span><br><span class="line"><span class="keyword">case</span> <span class="keyword">let</span> .<span class="type">Error</span>(error):</span><br><span class="line">    <span class="keyword">let</span> serverResponse = <span class="string">"Failure... \(error)"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="0-2-5-2-ç»“æ„ä½“"><a href="#0-2-5-2-ç»“æ„ä½“" class="headerlink" title="0.2.5.2    ç»“æ„ä½“"></a>0.2.5.2    ç»“æ„ä½“</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç»“æ„ä½“å’Œç±»æœ‰å¾ˆå¤šç›¸åŒçš„åœ°æ–¹ï¼Œæ¯”å¦‚æ–¹æ³•å’Œæ„é€ å™¨ã€‚å®ƒä»¬ä¹‹é—´æœ€å¤§çš„åŒºåˆ«å°±æ˜¯ç»“æ„ä½“æ˜¯ä¼ å€¼ï¼Œç±»æ˜¯ä¼ å¼•ç”¨ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‰‘å…‹ç‰Œ</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Card</span> </span>&#123;</span><br><span class="line">    <span class="comment">// çº§åˆ«</span></span><br><span class="line">    <span class="keyword">var</span> rank: <span class="type">Rank</span></span><br><span class="line">    <span class="comment">// èŠ±è‰²</span></span><br><span class="line">    <span class="keyword">var</span> suit: <span class="type">Suit</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">simpleDescription</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"The \(rank.simpleDescription()) of \(suit.simpleDescription())"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// é»‘æ¡ƒ3</span></span><br><span class="line"><span class="keyword">let</span> threeOfSpades = <span class="type">Card</span>(rank: .<span class="type">Three</span>, suit: .<span class="type">Spades</span>)</span><br><span class="line"><span class="keyword">let</span> threeOfSpandesDescription = threeOfSpades.simpleDescription()</span><br></pre></td></tr></table></figure>
<h3 id="0-2-6-åè®®å’Œæ‰©å±•ï¼ˆProtocols-and-Extensionsï¼‰"><a href="#0-2-6-åè®®å’Œæ‰©å±•ï¼ˆProtocols-and-Extensionsï¼‰" class="headerlink" title="0.2.6    åè®®å’Œæ‰©å±•ï¼ˆProtocols and Extensionsï¼‰"></a>0.2.6    åè®®å’Œæ‰©å±•ï¼ˆProtocols and Extensionsï¼‰</h3><h4 id="0-2-6-1-åè®®"><a href="#0-2-6-1-åè®®" class="headerlink" title="0.2.6.1    åè®®"></a>0.2.6.1    åè®®</h4><blockquote>
<p><strong>å…³é”®å­—ï¼š</strong><code>protocol</code><br><strong>è¯´æ˜ï¼š</strong>ç±»ä¼¼äºæ¥å¥ï¼Œç±»ã€æšä¸¾ã€ç»“æ„ä½“éƒ½å¯ä»¥å®ç°åè®®ã€‚<br><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>ä½¿ç”¨ç»“æ„ä½“å®ç°åè®®æ—¶ï¼Œå¦‚æœå®ç°çš„æ–¹æ³•ä¼šä¿®æ”¹ç»“æ„ä½“ï¼Œéœ€è¦ç”¨<code>mutating</code>æ ‡è®°ã€‚</li>
<li>å¯ä»¥ç›´æ¥ä½¿ç”¨åè®®å£°æ˜å˜é‡æˆ–å¸¸é‡ï¼Œä½†æ— æ³•è°ƒç”¨è¿è¡Œæ—¶ç±»å‹å®ç°çš„åè®®å€¼å®Œçš„æ–¹æ³•æˆ–å±æ€§</li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ªåè®®</span></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">ExampleProtocol</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> simpleDescription: <span class="type">String</span> &#123;<span class="keyword">get</span>&#125;</span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">adjust</span><span class="params">()</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€šè¿‡ç±»å®ç°è¿™ä¸ªåè®®</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SimpleClass</span>: <span class="title">ExampleProtocol</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> simpleDescription: <span class="type">String</span> = <span class="string">"A very simple class."</span></span><br><span class="line">    <span class="keyword">var</span> anotherProperty: <span class="type">Int</span> = <span class="number">69105</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">adjust</span><span class="params">()</span></span> &#123;</span><br><span class="line">        simpleDescription += <span class="string">" Now 100% adjust."</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åˆ›å»ºå®ä¾‹</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="type">SimpleClass</span>()</span><br><span class="line">a.adjust()</span><br><span class="line"><span class="keyword">let</span> aDescription = a.simpleDescription</span><br><span class="line"><span class="comment">// åƒä½¿ç”¨å…¶ä»–å‘½åç±»å‹ä¸€æ ·ä½¿ç”¨åè®®åï¼Œç”¨å…¶å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œå¹¶å°†å®ç°äº†è¯¥åè®®çš„ç±»çš„å®ä¾‹èµ‹å€¼ç»™å®ƒ</span></span><br><span class="line"><span class="keyword">let</span> protocolValue: <span class="type">ExampleProtocol</span> = a</span><br><span class="line"><span class="comment">// ä½¿ç”¨åè®®æœ¬èº«å£°æ˜çš„å˜é‡æˆ–å¸¸é‡ä¸èƒ½è®¿é—®åè®®å¤–å®šä¹‰æˆå‘˜</span></span><br><span class="line"><span class="comment">// print(protocolValue.anotherProperty)</span></span><br></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€šè¿‡ç»“æ„ä½“å®ç°è¿™ä¸ªåè®®</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">SimpleStructure</span>: <span class="title">ExampleProtocol</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> simpleDescription: <span class="type">String</span> = <span class="string">"A simple structure"</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">adjust</span><span class="params">()</span></span> &#123;</span><br><span class="line">        simpleDescription += <span class="string">"(adjusted)"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åˆ›å»ºå®ä¾‹</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="type">SimpleStructure</span>()</span><br><span class="line"><span class="comment">// è°ƒç”¨æ–¹æ³•</span></span><br><span class="line">b.adjust()</span><br><span class="line"><span class="keyword">let</span> bDesctiption = b.simpleDescription</span><br></pre></td></tr></table></figure>
<h4 id="0-2-6-2-æ‰©å±•"><a href="#0-2-6-2-æ‰©å±•" class="headerlink" title="0.2.6.2    æ‰©å±•"></a>0.2.6.2    æ‰©å±•</h4><blockquote>
<p><strong>å…³é”®å­—ï¼š</strong><code>extension</code><br><strong>æè¿°ï¼š</strong>ä¸ºç°æœ‰çš„ç±»å‹æ·»åŠ åŠŸèƒ½ï¼Œæ¯”å¦‚æ–°çš„æ–¹æ³•å’Œè®¡ç®—å±æ€§ã€‚<br><strong>è¯´æ˜ï¼š</strong>ä½ å¯ä»¥ä½¿ç”¨æ‰©å±•åœ¨åˆ«å¤„ä¿®æ”¹å®šä¹‰ï¼Œç”šè‡³æ˜¯ä»å¤–éƒ¨åº“æ´»ç€æ¡†æ¶å¼•å…¥çš„ä¸€ä¸ªç±»å‹ï¼Œä½¿å¾—è¿™ä¸ªç±»å‹éµå¾ªæŸä¸ªåè®®ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‰©å±•</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Int</span>: <span class="title">ExampleProtocol</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> simpleDescription: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"The number \(self)"</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">adjust</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">self</span> += <span class="number">42</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="number">7</span>.simpleDescription)</span><br></pre></td></tr></table></figure>
<h3 id="0-2-7-èŒƒå‹ï¼ˆGenericsï¼‰"><a href="#0-2-7-èŒƒå‹ï¼ˆGenericsï¼‰" class="headerlink" title="0.2.7    èŒƒå‹ï¼ˆGenericsï¼‰"></a>0.2.7    èŒƒå‹ï¼ˆGenericsï¼‰</h3><blockquote>
<p><strong>æè¿°ï¼š</strong>åœ¨<code>&lt;&gt;</code>ä¸­å†™ä¸€ä¸ªåå­—æ¥åˆ›å»ºä¸€ä¸ªèŒƒå‹å‡½æ•°æˆ–è€…ç±»å‹ã€‚<br><strong>è¯´æ˜ï¼š</strong>å¯ä»¥åº”ç”¨äº</p>
<ul>
<li>å‡½æ•°</li>
<li>æ–¹æ³•</li>
<li>ç±»</li>
<li>æšä¸¾</li>
<li>ç»“æ„ä½“</li>
</ul>
<p><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>å¯ä»¥ä½¿ç”¨<code>where</code>æ¥æŒ‡å®šå¯¹ç±»å‹çš„è¦æ±‚</li>
<li><code>&lt;T: Equatable&gt;</code>å’Œ<code>&lt;T where T: Equatable&gt;</code>ç­‰ä»·</li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">anyCommonElements</span> &lt;T: SequenceType, U: SequenceType where T.Generator.Element: Equatable, T.Generator.Element == U.Generator.Element&gt; <span class="params">(lhs: T, <span class="number">_</span> rhs: U)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> lhsItem <span class="keyword">in</span> lhs &#123;</span><br><span class="line">        <span class="keyword">for</span> rhsItem <span class="keyword">in</span> rhs &#123;</span><br><span class="line">            <span class="keyword">if</span> lhsItem == rhsItem &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line">anyCommonElements([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">3</span>])</span><br></pre></td></tr></table></figure>
<h2 id="0-3-Swiftç‰ˆæœ¬å†å²è®°å½•"><a href="#0-3-Swiftç‰ˆæœ¬å†å²è®°å½•" class="headerlink" title="0.3    Swiftç‰ˆæœ¬å†å²è®°å½•"></a>0.3    Swiftç‰ˆæœ¬å†å²è®°å½•</h2><h2 id="0-4-The-Swift-Programing-languageä¸­æ–‡ç‰ˆ"><a href="#0-4-The-Swift-Programing-languageä¸­æ–‡ç‰ˆ" class="headerlink" title="0.4    The Swift Programing languageä¸­æ–‡ç‰ˆ"></a>0.4    The Swift Programing languageä¸­æ–‡ç‰ˆ</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_20 NSPredicate/" itemprop="url">
                  20 NSpredicate
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T10:43:10+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_20 NSPredicate/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_20 NSPredicate/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>Cocoa</code>æä¾›äº†ä¸€ä¸ªåä¸º<code>NSPredicate</code>çš„ç±»ï¼Œç”¨äºæŒ‡å®šè¿‡æ»¤å™¨çš„æ¡ä»¶ã€‚<br><strong>åŸç†ï¼š</strong>å¯ä»¥åˆ›å»º<code>NSPredicate</code>å¯¹è±¡ï¼Œé€šè¿‡å®ƒå‡†ç¡®æè¿°æ‰€éœ€çš„æ¡ä»¶ï¼Œé€šè¿‡<code>è°“è¯</code>(è®¡ç®—çœŸå€¼å’Œå‡å€¼çš„å‡½æ•°)ç­›é€‰æ¯ä¸ªå¯¹è±¡ï¼Œåˆ¤æ–­å®ƒä»¬æ˜¯å¦ä¸æ¡ä»¶ç›¸åŒ¹é…ã€‚</p>
</blockquote>
<h2 id="20-1-åˆ›å»ºè°“è¯"><a href="#20-1-åˆ›å»ºè°“è¯" class="headerlink" title="20.1    åˆ›å»ºè°“è¯"></a>20.1    åˆ›å»ºè°“è¯</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä½¿ç”¨<code>è°“è¯</code>æœ‰ä¸¤ç§æ–¹å¼</p>
</blockquote>
<table>
<thead>
<tr>
<th>æ–¹å¼</th>
<th>é€‚ç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>åˆ›å»ºè®¸å¤š<code>NSPredicate</code>å¯¹è±¡ï¼Œç»„åˆä½¿ç”¨</td>
<td>æ„å»ºé€šç”¨ç”¨æˆ·ç•Œé¢æ¥æŒ‡å®šæŸ¥è¯¢çš„åœºæ™¯</td>
</tr>
<tr>
<td>è°“è¯å­—ç¬¦ä¸²</td>
<td>é€‚ç”¨äºåˆå­¦è€…ä½¿ç”¨ï¼Œæ¯”è¾ƒç®€å•</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>å»ºè®®ï¼š</strong>é€šå¸¸å°†ä»¥ä½¿ç”¨<code>é¢å‘å­—ç¬¦ä¸²</code>çš„<code>API</code>ï¼Œå°¤å…¶æ˜¯åœ¨ç¼ºå°‘ç¼–è¯‘å™¨çš„é”™è¯¯æ£€æŸ¥å’Œå¥‡æ€ªçš„è¿è¡Œæ—¶é”™è¯¯çš„æ—¶å€™ã€‚</p>
</blockquote>
<h3 id="predicateWithFormatå·¥å‚æ–¹æ³•"><a href="#predicateWithFormatå·¥å‚æ–¹æ³•" class="headerlink" title="predicateWithFormatå·¥å‚æ–¹æ³•"></a>predicateWithFormatå·¥å‚æ–¹æ³•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åŸºäº<code>è°“è¯å­—ç¬¦ä¸²</code>åœ¨åå°æ„å»º<code>å¯¹è±¡æ•°</code>ï¼Œåˆ›å»º<code>è°“è¯</code>ã€‚<br><strong>è°“è¯å­—ç¬¦ä¸²ï¼š</strong>ç”¨é€”ç±»ä¼¼<code>sql</code>ï¼Œè¯­æ³•ç±»ä¼¼æ ‡å‡†cè¯­è¨€è¡¨è¾¾å¼<br><strong>åŸå‹ï¼š</strong><code>NSPredicate</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSString *&#125; predicateFormat è°“è¯å­—ç¬¦ä¸²ï¼ˆåœ°ä½ç±»ä¼¼æ ¼å¼ä¸²ï¼‰</span><br><span class="line">* @param &#123;...&#125; å¯¹åº”ä¸ºæ­¤å­—ç¬¦ä¸²ä¸­çš„å ä½ç¬¦</span><br><span class="line">*/</span></span><br><span class="line">+ (<span class="built_in">NSPredicate</span> *)predicateWithFormat:(<span class="built_in">NSString</span> *)predicateFormat, ...;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ±½è½¦é›†åˆ</span></span><br><span class="line">Garage *garage = [[Garage alloc] init];</span><br><span class="line">garage.name = <span class="string">@"Joe's Garage"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å­˜å…¥æ±½è½¦å®ä¾‹</span></span><br><span class="line">Car *car;</span><br><span class="line">car = makeCar(<span class="string">@"Herbie"</span>, <span class="string">@"Honda"</span>, <span class="string">@"CRX"</span>, <span class="number">1984</span>, <span class="number">2</span>, <span class="number">34000</span>, <span class="number">58</span>);</span><br><span class="line">[garage addCar:car];</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºè°“è¯ï¼šè¿‡æ»¤ name å±æ€§å€¼ä¸º Herbie çš„è½¦</span></span><br><span class="line"><span class="built_in">NSPredicate</span> *predicate;</span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"name == 'Herbie'"</span>];</span><br></pre></td></tr></table></figure>
<h2 id="20-2-è®¡ç®—è°“è¯"><a href="#20-2-è®¡ç®—è°“è¯" class="headerlink" title="20.2    è®¡ç®—è°“è¯"></a>20.2    è®¡ç®—è°“è¯</h2><h3 id="evaluateWithObjectå®ä¾‹æ–¹æ³•"><a href="#evaluateWithObjectå®ä¾‹æ–¹æ³•" class="headerlink" title="evaluateWithObjectå®ä¾‹æ–¹æ³•"></a>evaluateWithObjectå®ä¾‹æ–¹æ³•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šçŸ¥æ¥æ”¶å¯¹è±¡ï¼ˆå³<code>è°“è¯</code>ï¼‰æ ¹æ®<code>æŒ‡å®šçš„å¯¹è±¡</code>è®¡ç®—è‡ªèº«çš„å€¼ã€‚<br><strong>ç”¨é€”ï¼š</strong>è®¡ç®—<code>æŸä¸ªå¯¹è±¡</code>æ˜¯å¦ç¬¦åˆæŸä¸ª<code>è°“è¯</code>ä¸­çš„åˆ¤æ–­é€»è¾‘ã€‚<br><strong>åŸå‹ï¼š</strong>``</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;id&#125; object è°“è¯çš„ä¸»è¯­</span><br><span class="line">* @return &#123;BOOL&#125; YES åˆ¤æ–­ä¸ºçœŸï¼Œ NO åˆ¤æ–­ä¸ºå‡</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)evaluateWithObject:(nullable <span class="keyword">id</span>)object;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è°“è¯1ï¼šè¿‡æ»¤ name å±æ€§å€¼ä¸º Herbie çš„è½¦</span></span><br><span class="line"><span class="built_in">NSPredicate</span> *predicate;</span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"name == 'Herbie'"</span>];</span><br><span class="line"><span class="comment">// æ­é…ä¸»è¯­è¿›è¡Œåˆ¤æ–­</span></span><br><span class="line"><span class="built_in">BOOL</span> match = [predicate evaluateWithObject:car];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%s"</span>, (match) ? <span class="string">"YES"</span> : <span class="string">"NO"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°“è¯2ï¼šå¼•æ“é©¬åŠ›å¤§äº150</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"engine.horsepower &gt; 150"</span>];</span><br><span class="line">match = [predicate evaluateWithObject:car];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%s"</span>, (match) ? <span class="string">"YES"</span> : <span class="string">"NO"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°“è¯3ï¼šå’Œè°“è¯1ç­‰ä»·</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"name == %@"</span>, <span class="string">@"Herbie"</span>];</span><br><span class="line">match = [predicate evaluateWithObject:car];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%s"</span>, (match) ? <span class="string">"YES"</span> : <span class="string">"NO"</span>);</span><br></pre></td></tr></table></figure>
<h2 id="20-3-æ•°ç»„è¿‡æ»¤å™¨"><a href="#20-3-æ•°ç»„è¿‡æ»¤å™¨" class="headerlink" title="20.3    æ•°ç»„è¿‡æ»¤å™¨"></a>20.3    æ•°ç»„è¿‡æ»¤å™¨</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æŸäº›<code>ç±»åˆ«</code>å°†<code>è°“è¯è¿‡æ»¤æ–¹æ³•</code>æ·»åŠ åˆ°äº†<code>Cocoa</code>é›†åˆç±»ï¼ˆæ¯”å¦‚<code>NSArray</code>ï¼‰ä¸­ã€‚</p>
</blockquote>
<h3 id="filteredArrayUsingPredicateå®ä¾‹æ–¹æ³•"><a href="#filteredArrayUsingPredicateå®ä¾‹æ–¹æ³•" class="headerlink" title="filteredArrayUsingPredicateå®ä¾‹æ–¹æ³•"></a>filteredArrayUsingPredicateå®ä¾‹æ–¹æ³•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¾ªç¯è¿‡æ»¤æ•°ç»„å†…å®¹ï¼Œæ ¹æ®<code>è°“è¯</code>è®¡ç®—æ¯ä¸ªå¯¹è±¡çš„å€¼ï¼Œå¹¶å°†å€¼ä¸º<code>YES</code>çš„å¯¹è±¡ç´¯è®¡åˆ°å°†è¢«æ”¾å›çš„æ–°æ•°ç»„ä¸­ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æ•°ç»„è¿‡æ»¤ */</span></span><br><span class="line"><span class="comment">// åˆ›å»ºæ±½è½¦é›†åˆ</span></span><br><span class="line">Garage *garage = [[Garage alloc] init];</span><br><span class="line">garage.name = <span class="string">@"Joe's Garage"</span>;</span><br><span class="line"><span class="comment">// æ·»åŠ æ±½è½¦å®ä¾‹</span></span><br><span class="line">car = makeCar (<span class="string">@"Badger"</span>, <span class="string">@"Acura"</span>, <span class="string">@"Integra"</span>, <span class="number">1987</span>, <span class="number">5</span>, <span class="number">217036.7</span>, <span class="number">130</span>);</span><br><span class="line">[garage addCar: car];</span><br><span class="line"></span><br><span class="line">car = makeCar (<span class="string">@"Elvis"</span>, <span class="string">@"Acura"</span>, <span class="string">@"Legend"</span>, <span class="number">1989</span>, <span class="number">4</span>, <span class="number">28123.4</span>, <span class="number">151</span>);</span><br><span class="line">[garage addCar: car];</span><br><span class="line"></span><br><span class="line">car = makeCar (<span class="string">@"Phoenix"</span>, <span class="string">@"Pontiac"</span>, <span class="string">@"Firebird"</span>, <span class="number">1969</span>, <span class="number">2</span>, <span class="number">85128.3</span>, <span class="number">345</span>);</span><br><span class="line">[garage addCar: car];</span><br><span class="line"></span><br><span class="line">car = makeCar (<span class="string">@"Streaker"</span>, <span class="string">@"Pontiac"</span>, <span class="string">@"Silver Streak"</span>, <span class="number">1950</span>, <span class="number">2</span>, <span class="number">39100.0</span>, <span class="number">36</span>);</span><br><span class="line">[garage addCar: car];</span><br><span class="line"></span><br><span class="line">car = makeCar (<span class="string">@"Judge"</span>, <span class="string">@"Pontiac"</span>, <span class="string">@"GTO"</span>, <span class="number">1969</span>, <span class="number">2</span>, <span class="number">45132.2</span>, <span class="number">370</span>);</span><br><span class="line">[garage addCar: car];</span><br><span class="line"></span><br><span class="line">car = makeCar (<span class="string">@"Paper Car"</span>, <span class="string">@"Plymouth"</span>, <span class="string">@"Valiant"</span>, <span class="number">1965</span>, <span class="number">2</span>, <span class="number">76800</span>, <span class="number">105</span>);</span><br><span class="line">[garage addCar: car];</span><br><span class="line"><span class="comment">// åˆ›å»ºè°“è¯</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"engine.horsepower &gt; 150"</span>];</span><br><span class="line"><span class="comment">// è·å–æ±½è½¦å®ä¾‹ç»„æˆçš„æ•°ç»„</span></span><br><span class="line"><span class="built_in">NSArray</span> *cars = [garage cars];</span><br><span class="line"><span class="comment">// éå†æ•°ç»„</span></span><br><span class="line"><span class="keyword">for</span> (Car *car <span class="keyword">in</span> cars) &#123;</span><br><span class="line">    <span class="keyword">if</span> ([predicate evaluateWithObject:car]) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, car.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åˆ›å»ºè°“è¯</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"engine.horsepower &gt; %d"</span>, <span class="number">50</span>];</span><br><span class="line"><span class="comment">// è¿‡æ»¤æ•°ç»„ï¼šå¼•æ“é©¬åŠ›å¤§äº50çš„</span></span><br><span class="line"><span class="built_in">NSArray</span> *results = [cars filteredArrayUsingPredicate:predicate];</span><br></pre></td></tr></table></figure>
<h3 id="filterUsingPredicateå®ä¾‹æ–¹æ³•"><a href="#filterUsingPredicateå®ä¾‹æ–¹æ³•" class="headerlink" title="filterUsingPredicateå®ä¾‹æ–¹æ³•"></a>filterUsingPredicateå®ä¾‹æ–¹æ³•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šè¿‡<code>è°“è¯</code>å‰”é™¤å¯å˜æ•°ç»„ä¸­è®¡ç®—ç»“æœä¸ä¸ºçœŸçš„å¯¹è±¡ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSMutableArray</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSPredicate *&#125; predicate è°“è¯</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="keyword">void</span>)filterUsingPredicate:(<span class="built_in">NSPredicate</span> *)predicate;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//------------------å¯å˜æ•°ç»„è¿‡æ»¤</span></span><br><span class="line"><span class="built_in">NSMutableArray</span> *carsCopy = [cars mutableCopy];</span><br><span class="line"><span class="comment">// è¿‡æ»¤ï¼ˆæœ‰å‰¯ä½œç”¨çš„è¿‡æ»¤ï¼‰</span></span><br><span class="line">[carsCopy filterUsingPredicate:predicate];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, results);</span><br></pre></td></tr></table></figure>
<h2 id="20-4-æ ¼å¼è¯´æ˜ç¬¦"><a href="#20-4-æ ¼å¼è¯´æ˜ç¬¦" class="headerlink" title="20.4    æ ¼å¼è¯´æ˜ç¬¦"></a>20.4    æ ¼å¼è¯´æ˜ç¬¦</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç¡¬ç¼–ç å¹¶éå¥½äº‹ï¼Œå¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼å°†ä¸åŒçš„å†…åŒæ”¾å…¥<code>è°“è¯æ ¼å¼å­—ç¬¦ä¸²</code>ä¸­</p>
<ul>
<li>æ ¼å¼è¯´æ˜ç¬¦ï¼š<code>%æ ¼å¼è¯´æ˜ç¬¦</code></li>
<li>å˜é‡åï¼š<code>$å˜é‡å</code></li>
</ul>
</blockquote>
<h3 id="20-4-1-æ ¼å¼è¯´æ˜ç¬¦"><a href="#20-4-1-æ ¼å¼è¯´æ˜ç¬¦" class="headerlink" title="20.4.1    æ ¼å¼è¯´æ˜ç¬¦"></a>20.4.1    æ ¼å¼è¯´æ˜ç¬¦</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ†3ç§</p>
</blockquote>
<table>
<thead>
<tr>
<th>åˆ†ç±»</th>
<th>è¯´æ˜</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>printfè¯´æ˜ç¬¦</td>
<td><code>c</code>è¯­è¨€ä½¿ç”¨çš„æ ¼å¼è¯´æ˜ç¬¦</td>
<td><code>%d</code>ã€<code>%f</code>ç­‰</td>
</tr>
<tr>
<td><code>%@</code></td>
<td>æ’å…¥<code>O-C</code>å­—ç¬¦ä¸²å€¼</td>
<td></td>
</tr>
<tr>
<td><code>%K</code></td>
<td>æ’å…¥é”®è·¯å¾„</td>
</tr>
</tbody>
</table>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨printfå¼æ ¼å¼å­—ç¬¦ä¸²</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"engine.horsepower &gt; %d"</span>, <span class="number">50</span>];</span><br><span class="line">results = [cars filteredArrayUsingPredicate:predicate];</span><br><span class="line"><span class="comment">// ä½¿ç”¨%@æ’å…¥å­—ç¬¦ä¸²å€¼</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"name == %@"</span>, <span class="string">@"Herbie"</span>];</span><br><span class="line"><span class="comment">// ä½¿ç”¨%KæŒ‡å®šé”®è·¯å¾„</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"%K == %@"</span>, <span class="string">@"name"</span>, <span class="string">@"Herbie"</span>];</span><br></pre></td></tr></table></figure>
<h3 id="20-4-2-æ’å…¥å˜é‡å"><a href="#20-4-2-æ’å…¥å˜é‡å" class="headerlink" title="20.4.2    æ’å…¥å˜é‡å"></a>20.4.2    æ’å…¥å˜é‡å</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>éœ€è¦é…åˆ<code>å­—å…¸</code>å’Œ<code>predicateWithSubstitutionVariables</code>å®ä¾‹æ–¹æ³•ä¸€èµ·ä½¿ç”¨ã€‚</p>
</blockquote>
<h4 id="predicateWithSubstitutionVariables"><a href="#predicateWithSubstitutionVariables" class="headerlink" title="predicateWithSubstitutionVariables"></a>predicateWithSubstitutionVariables</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šè¿‡å·²æœ‰çš„<code>è°“è¯</code>ï¼ˆ<code>è°“è¯å­—ç¬¦ä¸²</code>ä¸­åŒ…å«æ’å…¥çš„å˜é‡åï¼‰åˆ›å»ºæ›´åŠ å…·ä½“çš„<code>ä¸“ç”¨è°“è¯</code>ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSPredicate</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSDictionary&lt;NSString *, id&gt; *&#125; variables ç”¨äºå…·ä½“åŒ–è°“è¯çš„å­—å…¸</span><br><span class="line">* @return &#123;NSPredicate&#125; ä¸“ç”¨è°“è¯</span><br><span class="line">*/</span></span><br><span class="line">- (instancetype)predicateWithSubstitutionVariables:(<span class="built_in">NSDictionary</span>&lt;<span class="built_in">NSString</span> *, <span class="keyword">id</span>&gt; *)variables;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å°†å­—å…¸çš„é”®åæ’å…¥åˆ°è°“è¯å­—ç¬¦ä¸²ä¸­</span></span><br><span class="line"><span class="built_in">NSPredicate</span> *predicateTemplate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"name == $NAME"</span>];<span class="comment">// åˆ›å»ºè°“è¯æ¨¡ç‰ˆ</span></span><br><span class="line"><span class="built_in">NSDictionary</span> *varDict;</span><br><span class="line"><span class="comment">// å˜é‡åä¸ºNSStringç±»å‹</span></span><br><span class="line">varDict = [<span class="built_in">NSDictionary</span> dictionaryWithObjectsAndKeys:<span class="string">@"Heribie"</span>, <span class="string">@"NAME"</span>, <span class="literal">nil</span>];<span class="comment">// ç”¨æ¥ä¸ºä¸Šè¿°è°“è¯æ¨¡ç‰ˆçš„$NAMEèµ‹å€¼çš„å­—å…¸</span></span><br><span class="line">predicate = [predicateTemplate predicateWithSubstitutionVariables:varDict];<span class="comment">// é€šè¿‡è°“è¯æ¨¡ç‰ˆåˆ›å»ºè°“è¯</span></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"SNORGLEï¼š%@"</span>, predicate);</span><br><span class="line">match = [predicate evaluateWithObject:car];<span class="comment">// ä¸»è¯­ç»“åˆè°“è¯è¿›è¡Œè®¡ç®—</span></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%s"</span>, (match) ? <span class="string">"YES"</span> : <span class="string">"NO"</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">predicateTemplate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"engine.horsepower &gt; $POWER"</span>];</span><br><span class="line"><span class="comment">// å˜é‡åä¸ºNSNumberç±»å‹</span></span><br><span class="line">varDict = [<span class="built_in">NSDictionary</span> dictionaryWithObjectsAndKeys:[<span class="built_in">NSNumber</span> numberWithInt:<span class="number">150</span>], <span class="string">@"POWER"</span>, <span class="literal">nil</span>];</span><br><span class="line">predicate = [predicateTemplate predicateWithSubstitutionVariables:varDict];</span><br><span class="line">results = [cars filteredArrayUsingPredicate:predicate];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"OOP %@"</span>, results);</span><br></pre></td></tr></table></figure>
<h2 id="20-5-è¿ç®—ç¬¦"><a href="#20-5-è¿ç®—ç¬¦" class="headerlink" title="20.5    è¿ç®—ç¬¦"></a>20.5    è¿ç®—ç¬¦</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>NSPredicate</code>çš„æ ¼å¼ä¸²ä¸­åŒ…å«å¤§é‡ä¸åŒçš„è¿ç®—ç¬¦ã€‚<br><strong>æ³¨æ„ï¼š</strong>æœ¬ç« å°†ä»‹ç»å¤§å¤šæ•°è¿ç®—ç¬¦ï¼Œå…¶ä½™çš„å¯ä»¥é€šè¿‡è‹¹æœå…¬å¸çš„<code>åœ¨çº¿æ–‡æ¡£</code>è¿›è¡ŒæŸ¥è¯¢ã€‚</p>
</blockquote>
<h3 id="20-5-1-æ¯”è¾ƒå’Œé€»è¾‘è¿ç®—ç¬¦"><a href="#20-5-1-æ¯”è¾ƒå’Œé€»è¾‘è¿ç®—ç¬¦" class="headerlink" title="20.5.1    æ¯”è¾ƒå’Œé€»è¾‘è¿ç®—ç¬¦"></a>20.5.1    æ¯”è¾ƒå’Œé€»è¾‘è¿ç®—ç¬¦</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>è°“è¯å­—ç¬¦ä¸²</code>è¯­æ³•æ”¯æŒ<code>C</code>è¯­è¨€ä¸­ä¸€äº›å¸¸ç”¨çš„è¿ç®—ç¬¦</p>
<ul>
<li>ç­‰å·è¿ç®—ç¬¦ï¼š<code>==</code></li>
<li>ä¸ç­‰å·è¿ç®—ç¬¦ï¼š<code>&gt;</code>ã€<code>&lt;=</code>ã€<code>!=</code>ç­‰</li>
<li>èµ‹å€¼è¿ç®—ç¬¦ï¼š<code>=</code></li>
<li>é€»è¾‘è¿ç®—ç¬¦ï¼š<code>AND(&amp;&amp;)</code>ã€<code>OR(||)</code>ã€<code>NOT(!)</code></li>
</ul>
</blockquote>
<h4 id="20-5-1-1-æ¯”è¾ƒè¿ç®—ç¬¦"><a href="#20-5-1-1-æ¯”è¾ƒè¿ç®—ç¬¦" class="headerlink" title="20.5.1.1    æ¯”è¾ƒè¿ç®—ç¬¦"></a>20.5.1.1    æ¯”è¾ƒè¿ç®—ç¬¦</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åŒ…æ‹¬<code>ç­‰å·è¿ç®—ç¬¦</code>å’Œ<code>ä¸ç­‰å·è¿ç®—ç¬¦</code>ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>==</code>(<code>&lt;&gt;</code>)</td>
<td>ç­‰äº</td>
</tr>
<tr>
<td><code>!=</code></td>
<td>ä¸ç­‰äº</td>
</tr>
<tr>
<td><code>&lt;</code></td>
<td>å°äº</td>
</tr>
<tr>
<td><code>&gt;</code></td>
<td>å¤§äº</td>
</tr>
<tr>
<td><code>&lt;=</code>(<code>=&lt;</code>)</td>
<td>å°äºæˆ–ç­‰äº</td>
</tr>
<tr>
<td><code>&gt;=</code>(<code>=&gt;</code>)</td>
<td>å¤§äºæˆ–ç­‰äº</td>
</tr>
</tbody>
</table>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ¯”è¾ƒè¿ç®—ç¬¦ï¼šè¿‡æ»¤å‡ºæ•°ç»„ä¸­nameå±æ€§å°äº"Newton"çš„å¯¹è±¡ç»„æˆçš„æ–°æ•°ç»„</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"name &lt; 'Newton'"</span>];</span><br><span class="line">results = [cars filteredArrayUsingPredicate:predicate];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, [results valueForKey:<span class="string">@"name"</span>]);</span><br></pre></td></tr></table></figure>
<h4 id="20-5-1-2-é€»è¾‘è¿ç®—ç¬¦"><a href="#20-5-1-2-é€»è¾‘è¿ç®—ç¬¦" class="headerlink" title="20.5.1.2    é€»è¾‘è¿ç®—ç¬¦"></a>20.5.1.2    é€»è¾‘è¿ç®—ç¬¦</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å…±3ä¸ª</p>
</blockquote>
<table>
<thead>
<tr>
<th>é€»è¾‘è¿ç®—ç¬¦</th>
<th><code>O-C</code>å½¢å¼</th>
<th>cè¯­è¨€å½¢å¼</th>
</tr>
</thead>
<tbody>
<tr>
<td>ä¸</td>
<td><code>AND</code></td>
<td><code>&amp;&amp;</code></td>
</tr>
<tr>
<td>æˆ–</td>
<td><code>OR</code></td>
<td>`</td>
<td></td>
<td>`</td>
</tr>
<tr>
<td>é</td>
<td><code>NOT</code></td>
<td><code>!</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong><code>è°“è¯å­—ç¬¦ä¸²</code>ä¸­çš„è¿ç®—ç¬¦ä¸åŒºåˆ†å¤§å°å†™</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€»è¾‘è¿ç®—ç¬¦</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"(engine.horsepower &gt; 50) AND (engine.horsepower &lt; 200)"</span>];</span><br><span class="line">results = [cars filteredArrayUsingPredicate:predicate];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"oop %@"</span>, results);</span><br></pre></td></tr></table></figure>
<h3 id="20-5-2-æ•°ç»„è¿ç®—ç¬¦"><a href="#20-5-2-æ•°ç»„è¿ç®—ç¬¦" class="headerlink" title="20.5.2    æ•°ç»„è¿ç®—ç¬¦"></a>20.5.2    æ•°ç»„è¿ç®—ç¬¦</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æœ‰2ä¸ª</p>
</blockquote>
<p>|æ•°ç»„è¿ç®—ç¬¦|è¯´æ˜|<br>|<code>BETWEEN</code>|åˆ¤æ–­æ˜¯å¦ä»‹äºä¸¤ä¸ªå€¼ä¹‹é—´|<br>|<code>IN</code>|åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦åŒ…å«æŸä¸ªå€¼|</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•°ç»„è¿ç®—ç¬¦ BETWEENï¼šä½¿ç”¨æ•°ç»„å­—é¢é‡</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:</span><br><span class="line">             <span class="string">@"engine.horsepower BETWEEN &#123; 50, 200 &#125;"</span>];</span><br><span class="line">results = [cars filteredArrayUsingPredicate: predicate];</span><br><span class="line"><span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, results);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°ç»„è¿ç®—ç¬¦ BETWEENï¼šä½¿ç”¨æ•°ç»„å˜é‡</span></span><br><span class="line"><span class="built_in">NSArray</span> *betweens = [<span class="built_in">NSArray</span> arrayWithObjects:</span><br><span class="line">                     [<span class="built_in">NSNumber</span> numberWithInt: <span class="number">50</span>], [<span class="built_in">NSNumber</span> numberWithInt: <span class="number">200</span>], <span class="literal">nil</span>];</span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat: <span class="string">@"engine.horsepower BETWEEN %@"</span>, betweens];</span><br><span class="line">results = [cars filteredArrayUsingPredicate: predicate];</span><br><span class="line"><span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, results);</span><br><span class="line"><span class="comment">// æ•°ç»„è¿ç®—ç¬¦ BETWEENï¼šä½¿ç”¨æ•°ç»„å˜é‡ï¼‹è°“è¯æ¨¡ç‰ˆ</span></span><br><span class="line">predicateTemplate = [<span class="built_in">NSPredicate</span> predicateWithFormat: <span class="string">@"engine.horsepower BETWEEN $POWERS"</span>];</span><br><span class="line">varDict = [<span class="built_in">NSDictionary</span> dictionaryWithObjectsAndKeys: betweens, <span class="string">@"POWERS"</span>, <span class="literal">nil</span>];</span><br><span class="line">predicate = [predicateTemplate predicateWithSubstitutionVariables: varDict];</span><br><span class="line">results = [cars filteredArrayUsingPredicate: predicate];</span><br><span class="line"><span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, results);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°ç»„è¿ç®—ç¬¦ INï¼šä½¿ç”¨æ•°ç»„å­—é¢é‡</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat: <span class="string">@"name IN &#123; 'Herbie', 'Snugs', 'Badger', 'Flap' &#125;"</span>];</span><br><span class="line">results = [cars filteredArrayUsingPredicate: predicate];</span><br><span class="line"><span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, [results valueForKey: <span class="string">@"name"</span>]);</span><br></pre></td></tr></table></figure>
<h2 id="20-6-æœ‰-SELF-å°±è¶³å¤Ÿäº†"><a href="#20-6-æœ‰-SELF-å°±è¶³å¤Ÿäº†" class="headerlink" title="20.6    æœ‰ SELF å°±è¶³å¤Ÿäº†"></a>20.6    æœ‰ SELF å°±è¶³å¤Ÿäº†</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨è°“è¯å­—ç¬¦ä¸²çš„<code>é”®è·¯å¾„</code>éƒ¨åˆ†ï¼Œé™¤äº†å¯ä»¥ä½¿ç”¨å¯¹è±¡çš„å±æ€§åå¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡<code>SELF</code>å¼•ç”¨è‡ªèº«ã€‚<br><strong>ç”¨é€”ï¼š</strong><code>SELF</code>è¡¨ç¤ºçš„æ˜¯å“åº”è°“è¯è®¡ç®—çš„å¯¹è±¡æœ¬èº«ï¼Œé€‚ç”¨äºå°†è°“è¯åº”ç”¨äºç®€å•çš„å€¼ï¼ˆä¾‹å¦‚çº¯æ–‡æœ¬å­—ç¬¦ä¸²ï¼‰ï¼Œè€Œéå“ªäº›å¯ä»¥é€šè¿‡é”®è·¯å¾„è¿›è¡Œæ“ä½œçš„å¤æ‚å¯¹è±¡ã€‚<br><strong>æŠ€å·§ï¼š</strong>å¯ä»¥ä½¿ç”¨<code>è°“è¯</code>è®¡ç®—ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†ï¼Œå…¶ä¸­ä¸€ä¸ªæ•°ç»„ä½œä¸º<code>ä¸»è¯­</code>ï¼Œå¦ä¸€ä¸ªåœ¨<code>è°“è¯</code>ä¸­ï¼Œä½¿ç”¨<code>IN</code>è¿ç®—ç¬¦ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//------------ SELF ï¼šåº”ç”¨äºå¤æ‚å¯¹è±¡</span></span><br><span class="line"><span class="comment">// åˆ¤æ–­ name å±æ€§æ˜¯ä¸æ˜¯åœ¨æŒ‡å®š å­—ç¬¦ä¸²æ•°ç»„ä¸­</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"SELF.name IN &#123;'Herbie', 'Snugs', 'Badger', 'Flap'&#125;"</span>];</span><br><span class="line"><span class="comment">// ä½¿ç”¨è°“è¯è¿‡æ»¤æ±½è½¦æ•°ç»„ï¼Œè·å–å­æ•°ç»„</span></span><br><span class="line">results = [cars filteredArrayUsingPredicate:predicate];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, results);</span><br><span class="line"></span><br><span class="line"><span class="comment">//------------ SELFï¼šåº”ç”¨äºç®€å•å¯¹è±¡</span></span><br><span class="line"><span class="comment">// å­—ç¬¦ä¸²æ•°ç»„</span></span><br><span class="line">names = [cars valueForKey:<span class="string">@"name"</span>];</span><br><span class="line"><span class="comment">// åˆ¤æ–­å­—ç¬¦ä¸²è‡ªèº«æ˜¯ä¸æ˜¯åœ¨æŒ‡å®š å­—ç¬¦ä¸²æ•°ç»„ä¸­</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"SELF IN &#123;'Herbie', 'Snugs', 'Bager', 'Flap'&#125;"</span>];</span><br><span class="line"><span class="comment">// ä¸»è¯­ï¼‹è°“è¯</span></span><br><span class="line">results = [cars filteredArrayUsingPredicate:predicate];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, results);</span><br><span class="line"></span><br><span class="line"><span class="comment">//-------- ä½¿ç”¨ IN è¿ç®—ç¬¦è®¡ç®—ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†</span></span><br><span class="line"><span class="built_in">NSArray</span> *names1 = [<span class="built_in">NSArray</span> arrayWithObjects: <span class="string">@"Herbie"</span>, <span class="string">@"Badger"</span>, <span class="string">@"Judge"</span>, <span class="string">@"Elvis"</span>, <span class="literal">nil</span>];</span><br><span class="line"><span class="built_in">NSArray</span> *names2 = [<span class="built_in">NSArray</span> arrayWithObjects: <span class="string">@"Judge"</span>, <span class="string">@"Paper Car"</span>, <span class="string">@"Badger"</span>, <span class="string">@"Phoenix"</span>, <span class="literal">nil</span>];</span><br><span class="line"></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat: <span class="string">@"SELF IN %@"</span>, names1];</span><br><span class="line">results = [names2 filteredArrayUsingPredicate: predicate];</span><br></pre></td></tr></table></figure>
<h2 id="20-7-å­—ç¬¦ä¸²è¿ç®—ç¬¦"><a href="#20-7-å­—ç¬¦ä¸²è¿ç®—ç¬¦" class="headerlink" title="20.7    å­—ç¬¦ä¸²è¿ç®—ç¬¦"></a>20.7    å­—ç¬¦ä¸²è¿ç®—ç¬¦</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>3ä¸ªä¸“é—¨é’ˆå¯¹å­—ç¬¦ä¸²çš„è¿ç®—ç¬¦</p>
</blockquote>
<table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>BEGINSWITH</code></td>
<td>å‰ç¼€æ˜¯å¦æ˜¯æŸä¸€ä¸ªå­—ç¬¦ä¸²</td>
</tr>
<tr>
<td><code>ENDSWITH</code></td>
<td>åç¼€æ˜¯æŸä¸€ä¸ªå­—ç¬¦ä¸²</td>
</tr>
<tr>
<td><code>CONTAINS</code></td>
<td>æ˜¯å¦åŒ…å«æŸä¸€ä¸ªå­ä¸²</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>è¿ç®—ç¬¦ä¿®é¥°ç¬¦ï¼š</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>ä¿®é¥°ç¬¦</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>c</code></td>
<td>ä¸åŒºåˆ†å¤§å°å†™</td>
</tr>
<tr>
<td><code>d</code></td>
<td>ä¸åŒºåˆ†å‘éŸ³ç¬¦å·</td>
</tr>
<tr>
<td><code>cd</code></td>
<td>ä¸åŒºåˆ†å¤§å°å†™å’Œå‘éŸ³ç¬¦å·</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>å»ºè®®ï¼š</strong>å¤„åˆ†æ˜¯éœ€è¦åŒºåˆ†å¤§å°å†™æˆ–é‡éŸ³ç¬¦å·çš„ç‰¹æ®ŠåŸå› ï¼Œå¦åˆ™è¯·å°½åŠ›ä½¿ç”¨<code>cd</code>ä¿®é¥°ç¬¦ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//----------- å­—ç¬¦ä¸²è¿ç®—ç¬¦</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat: <span class="string">@"name BEGINSWITH 'Bad'"</span>];</span><br><span class="line">results = [cars filteredArrayUsingPredicate: predicate];</span><br><span class="line"><span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, results);</span><br><span class="line"></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat: <span class="string">@"name BEGINSWITH 'HERB'"</span>];</span><br><span class="line">results = [cars filteredArrayUsingPredicate: predicate];</span><br><span class="line"><span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, results);</span><br><span class="line"></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat: <span class="string">@"name BEGINSWITH[cd] 'HERB'"</span>];</span><br><span class="line">results = [cars filteredArrayUsingPredicate: predicate];</span><br><span class="line"><span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, results);</span><br></pre></td></tr></table></figure>
<h2 id="20-8-LIKE-è¿ç®—ç¬¦"><a href="#20-8-LIKE-è¿ç®—ç¬¦" class="headerlink" title="20.8    LIKE è¿ç®—ç¬¦"></a>20.8    LIKE è¿ç®—ç¬¦</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>LIKE</code>è¿ç®—ç¬¦åŒ…å«2ä¸ªé€šé…ç¬¦</p>
</blockquote>
<table>
<thead>
<tr>
<th>é€šé…ç¬¦</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>*</code></td>
<td>ä¸ä»»æ„ä¸ªä»»æ„å­—ç¬¦åŒ¹é…</td>
</tr>
<tr>
<td><code>?</code></td>
<td>ä¸ä¸€ä¸ªä»»æ„å­—ç¬¦åŒ¹é…</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æ‰©å±•ï¼š</strong>å¦‚æœçƒ­è¡·äºæ­£åˆ™è¡¨è¾¾å¼ï¼Œå¯ä»¥ä½¿ç”¨<code>MATCHES</code>è¿ç®—ç¬¦ã€‚<br><strong>æŠ€å·§ï¼š</strong>ç”±äºæ­£åˆ™è¡¨è¾¾å¼è®¡ç®—å¼€é”€æ¯”è¾ƒå¤§ï¼Œå› æ­¤å¯ä»¥åœ¨ä½¿ç”¨<code>MATCH</code>ä¹‹å‰å…ˆä½¿ç”¨å…¶å®ƒè¿ç®—ç¬¦åšåˆæ­¥è¿‡æ»¤ï¼Œä»è€Œæé«˜è¿ç®—é€Ÿåº¦ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//------------- like è¿ç®—ç¬¦</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat: <span class="string">@"name LIKE[cd] '*er*'"</span>];</span><br><span class="line">results = [cars filteredArrayUsingPredicate: predicate];</span><br><span class="line"><span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, results);</span><br><span class="line"></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat: <span class="string">@"name LIKE[cd] '???er*'"</span>];</span><br><span class="line">results = [cars filteredArrayUsingPredicate: predicate];</span><br><span class="line"><span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, results);</span><br></pre></td></tr></table></figure>
<h2 id="20-9-ç»“è¯­"><a href="#20-9-ç»“è¯­" class="headerlink" title="20.9    ç»“è¯­"></a>20.9    ç»“è¯­</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_19 ä½¿ç”¨é™æ€åˆ†æå™¨/" itemprop="url">
                  19 ä½¿ç”¨é™æ€åˆ†æå™¨
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T10:42:52+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_19 ä½¿ç”¨é™æ€åˆ†æå™¨/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_19 ä½¿ç”¨é™æ€åˆ†æå™¨/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä»<code>Xcode 3.2</code>å¼€å§‹åŠ å…¥çš„æ–°åŠŸèƒ½ï¼Œä¸éœ€è¦è¿è¡Œç¨‹åºå°±å¯ä»¥ä»é€»è¾‘ä¸Šæ£€æµ‹ä»£ç çš„å·¥å…·ï¼Œå®ƒå¯ä»¥å¯»æ‰¾ä¼šæ¼”å˜æˆbugçš„é”™è¯¯ã€‚</p>
</blockquote>
<h2 id="19-1-é™æ€å·¥ä½œ"><a href="#19-1-é™æ€å·¥ä½œ" class="headerlink" title="19.1    é™æ€å·¥ä½œ"></a>19.1    é™æ€å·¥ä½œ</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>é™æ€åˆ†æå™¨</code>å¯ä»¥è¯†åˆ«ä»¥ä¸‹å‡ ç§é”™è¯¯</p>
<ul>
<li><strong>å®‰å…¨é—®é¢˜ï¼š</strong>æ¯”å¦‚å†…å­˜æ³„æ¼å’Œç¼“å†²åŒºæº¢å‡º</li>
<li><strong>å¹¶å‘æ€§é—®é¢˜ï¼š</strong>æ¯”å¦‚é™æ€æ¡ä»¶ï¼ˆä¹Ÿå°±æ˜¯ä¾èµ–æ—¶é—´çš„ä¸¤ä¸ªæˆ–å¤šä¸ªä»»åŠ¡å¤±æ•ˆï¼‰</li>
<li><strong>é€»è¾‘é—®é¢˜ï¼š</strong>åŒ…æ‹¬åºŸä»£ç å’Œä¸å¥½çš„ç¼–ç ä¹ æƒ¯</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong><code>é™æ€åˆ†æå™¨</code>å­˜åœ¨ä»¥ä¸‹ä¸è¶³</p>
<ul>
<li>æ‹–æ…¢æ„å»ºç¨‹åºçš„è¿‡ç¨‹ï¼šå› ä¸ºéœ€è¦æ¶ˆè€—æ—¶é—´æ¥è¿›è¡Œåˆ†æ</li>
<li>æœ‰æ—¶ä¼šè¯¯æŠ¥é”™è¯¯</li>
<li>éœ€è¦é€‚åº”ï¼šå› ä¸ºæ”¹å˜äº†ç†Ÿæ‚‰çš„å·¥ä½œæµç¨‹</li>
</ul>
</blockquote>
<h3 id="19-1-1-å¼€å§‹åˆ†æ"><a href="#19-1-1-å¼€å§‹åˆ†æ" class="headerlink" title="19.1.1    å¼€å§‹åˆ†æ"></a>19.1.1    å¼€å§‹åˆ†æ</h3><blockquote>
<p><strong>è¿è¡Œé™æ€åˆ†æå™¨ï¼š</strong><code>Product(èœå•) -&gt; Analyze</code>ï¼Œåˆ†è§£å†³è¿‡åœ¨å¯¼èˆªæ <code>issue</code>ä¸­å¯ä»¥çœ‹åˆ°<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-31%20%E4%B8%8B%E5%8D%885.26.58.png" alt="Alt text"></p>
</blockquote>
<h4 id="19-1-1-1-åºŸä»£ç "><a href="#19-1-1-1-åºŸä»£ç " class="headerlink" title="19.1.1.1    åºŸä»£ç "></a>19.1.1.1    åºŸä»£ç </h4><blockquote>
<p><strong>åºŸä»£ç ï¼š</strong>åˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡<code>pool</code>ï¼Œä½†ä»æ²¡æœ‰åœ¨ä»£ç ä¸­ç›´æ¥è®¿é—®è¿‡ï¼Œæ²¡æœ‰å‘å®ƒå‘é€æ¶ˆæ¯ä¹Ÿæ²¡æœ‰æ›´æ”¹è¿‡å®ƒã€‚<br><strong>ä¼˜åŒ–æ‰‹æ®µï¼š</strong>ç§»é™¤<code>åºŸä»£ç </code><br><strong>ä¼˜åŒ–æ„ä¹‰ï¼š</strong>åºŸä»£ç å¹¶ä¸ä¸€å®šä¼šç»™ç¨‹åºå¸¦æ¥åŠŸèƒ½ä¸Šçš„é—®é¢˜ï¼Œä½†ç»ˆå½’ä¼šæµªè´¹æ€§èƒ½ï¼Œç§»é™¤åºŸä»£ç å¯ä»¥ä½¿åº”ç”¨ç¨‹åºæ›´åŠ é«˜æ•ˆã€‚</p>
</blockquote>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-31%20%E4%B8%8B%E5%8D%886.42.15.png" alt="Alt text"></p>
<h4 id="19-1-1-2-å†…å­˜æ³„æ¼ï¼šå¯¹è±¡è¢«é‡Šæ”¾ä¹‹å‰ç¨‹åºreturn"><a href="#19-1-1-2-å†…å­˜æ³„æ¼ï¼šå¯¹è±¡è¢«é‡Šæ”¾ä¹‹å‰ç¨‹åºreturn" class="headerlink" title="19.1.1.2    å†…å­˜æ³„æ¼ï¼šå¯¹è±¡è¢«é‡Šæ”¾ä¹‹å‰ç¨‹åºreturn"></a>19.1.1.2    å†…å­˜æ³„æ¼ï¼šå¯¹è±¡è¢«é‡Šæ”¾ä¹‹å‰ç¨‹åºreturn</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šå¸¸è¿˜æ²¡æœ‰é‡Šæ”¾æ‰åˆ†é…çš„å†…å­˜çš„å¯¹è±¡ï¼Œå°±è¿‡æ—©è¿”å›æ—¶ä¾¿ä¼šå‡ºç°è¿™ç§æƒ…å†µã€‚<br><strong>æ‰©å±•ï¼š</strong>å¯ä»¥é€šè¿‡ç‚¹å‡»å¸¦æœ‰<code>åˆ†æå™¨å›¾æ ‡</code>çš„ä»£ç æ¥è§‚å¯Ÿä»£ç ä»å¼€å§‹åˆ°å½“å‰è¡Œçš„è¿è¡Œæµç¨‹</p>
<ol>
<li>è§¦å‘â€œè¿è¡Œæµç¨‹â€<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-31%20%E4%B8%8B%E5%8D%886.50.10.png" alt="Alt text"></li>
<li>å®Œæ¯•<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-31%20%E4%B8%8B%E5%8D%886.55.01.png" alt="Alt text"></li>
</ol>
</blockquote>
<h4 id="19-1-1-3-å†…å­˜æ³„æ¼ï¼šå‰¯æœ¬æ²¡æœ‰é‡Šæ”¾"><a href="#19-1-1-3-å†…å­˜æ³„æ¼ï¼šå‰¯æœ¬æ²¡æœ‰é‡Šæ”¾" class="headerlink" title="19.1.1.3    å†…å­˜æ³„æ¼ï¼šå‰¯æœ¬æ²¡æœ‰é‡Šæ”¾"></a>19.1.1.3    å†…å­˜æ³„æ¼ï¼šå‰¯æœ¬æ²¡æœ‰é‡Šæ”¾</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„å‰¯æœ¬ï¼Œè¦åœ¨é€‚å½“çš„æ—¶å€™å¯¹å…¶è¿›è¡Œé‡Šæ”¾ï¼Œå¦åˆ™å¼•å‘å†…å­˜æ³„æ¼ã€‚<br><strong>ä¼˜åŒ–æ‰‹æ®µï¼š</strong>åœ¨<code>main</code>å‡½æ•°ç»“å°¾å¤„é‡Šæ”¾<code>carCopy</code>ã€‚<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-31%20%E4%B8%8B%E5%8D%887.02.18.png" alt="Alt text"></p>
</blockquote>
<h4 id="19-1-1-4-å†…å­˜æ³„æ¼ï¼šdescriptionæ–¹æ³•ä¸­çš„descåœ¨è¿”å›å‰æ²¡æœ‰é‡Šæ”¾"><a href="#19-1-1-4-å†…å­˜æ³„æ¼ï¼šdescriptionæ–¹æ³•ä¸­çš„descåœ¨è¿”å›å‰æ²¡æœ‰é‡Šæ”¾" class="headerlink" title="19.1.1.4    å†…å­˜æ³„æ¼ï¼šdescriptionæ–¹æ³•ä¸­çš„descåœ¨è¿”å›å‰æ²¡æœ‰é‡Šæ”¾"></a>19.1.1.4    å†…å­˜æ³„æ¼ï¼šdescriptionæ–¹æ³•ä¸­çš„descåœ¨è¿”å›å‰æ²¡æœ‰é‡Šæ”¾</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>AllWeatherRadialç±»</code>ä¸­çš„<code>description</code>æ–¹æ³•ä¸­åˆ†é…äº†ä¸€ä¸ªå­—ç¬¦ä¸²<code>desc</code>ï¼Œä½†æ²¡æœ‰åœ¨è¿”å›å‡½æ•°ä¹‹å‰é‡Šæ”¾å®ƒã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">NSString</span> *) description</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSString</span> *desc;</span><br><span class="line">    desc = [[<span class="built_in">NSString</span> alloc] initWithFormat:</span><br><span class="line">                   <span class="string">@"AllWeatherRadial: %.1f / %.1f / %.1f / %.1f"</span>,</span><br><span class="line">               [<span class="keyword">self</span> pressure], [<span class="keyword">self</span> treadDepth],</span><br><span class="line">               [<span class="keyword">self</span> rainHandling], </span><br><span class="line">               [<span class="keyword">self</span> snowHandling]];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> [desc autorelease];</span><br><span class="line"></span><br><span class="line">&#125; <span class="comment">// description</span></span><br></pre></td></tr></table></figure>
<h3 id="19-1-2-ååŠ©åˆ†æå™¨"><a href="#19-1-2-ååŠ©åˆ†æå™¨" class="headerlink" title="19.1.2    ååŠ©åˆ†æå™¨"></a>19.1.2    ååŠ©åˆ†æå™¨</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>é™æ€åˆ†æå™¨</code>åˆ†æå‡ºçš„â€œé—®é¢˜â€å¦‚æœæ˜¯æˆ‘ä»¬æœ‰æ„çš„ï¼Œå¯ä»¥é€šè¿‡åœ¨å£°æ˜æ–¹æ³•æ—¶ä½¿ç”¨ä¸€äº›<code>å…³é”®å­—</code>é¿å…è¯¯æŠ¥ï¼›æˆ–è€…æœ‰äº›æƒ…å†µä¸‹ï¼Œæƒ³è¦ä½¿é€šå¸¸æ²¡é—®é¢˜çš„æ–¹å¼å‘å‡ºè­¦æŠ¥ã€‚æ¯”å¦‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>å…³é”®å­—</th>
<th>ç”¨é€”</th>
<th>å¯¹åº”çš„æƒ¯ä¾‹</th>
<th>è¿”å›å¯¹è±¡ä¸º<code>Core Foundation</code>å¯¹è±¡æ—¶</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>NS_RETURNS_RETAINTED</code></td>
<td>æ ‡è®°æ–¹æ³•ï¼Œä»¥è¿”å›ä¸€ä¸ªä¿ç•™è®¡æ•°å™¨çš„å€¼ä¸æ˜¯é›¶çš„å¯¹è±¡</td>
<td>åˆ†é…å†…å­˜çš„åœ°æ–¹ä¹Ÿè¦è´Ÿè´£æ¸…ç†å†…å­˜</td>
<td><code>CF_RETURNS_RETAINTED</code></td>
</tr>
<tr>
<td><code>NS_RETURNS_NOT_RETAINED</code></td>
<td>ä½¿<code>é™æ€åˆ†æå™¨</code>åœ¨æ–¹æ³•è¯•å›¾è¿”å›ä¸€ä¸ªä¿ç•™å¯¹è±¡æ—¶å‘å‡º<code>issue</code></td>
<td>è¿”å›ä¿ç•™å¯¹è±¡é€šå¸¸ä¸éœ€è¦åšé¢å¤–å†…å­˜ç®¡ç†</td>
<td><code>NS_RETURNS_NOT_RETAINED</code></td>
</tr>
<tr>
<td><code>CLANG_ANALYZER_NORETURN</code></td>
<td>å¦‚æœæ–¹æ³•æœ‰å€¼è¿”å›ï¼Œå°±åœ¨<code>é™æ€åˆ†æ</code>æ˜¯å‘å‡ºè­¦æŠ¥</td>
<td>æ–¹æ³•è¿”å›å€¼ä¸ä¼šå‘ç”Ÿ<code>issue</code></td>
<td>æ— æ„ä¹‰</td>
</tr>
</tbody>
</table>
<h4 id="NS-RETURNS-RETAINTEDï¼šè¿”å›ä¸€ä¸ªä¿ç•™çš„å¯¹è±¡"><a href="#NS-RETURNS-RETAINTEDï¼šè¿”å›ä¸€ä¸ªä¿ç•™çš„å¯¹è±¡" class="headerlink" title="NS_RETURNS_RETAINTEDï¼šè¿”å›ä¸€ä¸ªä¿ç•™çš„å¯¹è±¡"></a>NS_RETURNS_RETAINTEDï¼šè¿”å›ä¸€ä¸ªä¿ç•™çš„å¯¹è±¡</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">NSMutableArray</span> *) superDuperArrayCreator <span class="built_in">NS_RETURNS_RETAINED</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">NSMutableArray</span> *) superDuperArrayCreator</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">NSMutableArray</span> *myArray = [[<span class="built_in">NSMutableArray</span> alloc] init];</span><br><span class="line">	<span class="comment">// ...</span></span><br><span class="line">	<span class="comment">// æ²¡å°† myArray é‡Šæ”¾å°±è¿”å›äº†</span></span><br><span class="line">	<span class="keyword">return</span> myArray;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="NS-RETURNS-NOT-RETAINEDï¼šè¿”å›ä¸€ä¸ªæœªä¿ç•™çš„å¯¹è±¡"><a href="#NS-RETURNS-NOT-RETAINEDï¼šè¿”å›ä¸€ä¸ªæœªä¿ç•™çš„å¯¹è±¡" class="headerlink" title="NS_RETURNS_NOT_RETAINEDï¼šè¿”å›ä¸€ä¸ªæœªä¿ç•™çš„å¯¹è±¡"></a>NS_RETURNS_NOT_RETAINEDï¼šè¿”å›ä¸€ä¸ªæœªä¿ç•™çš„å¯¹è±¡</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ†æå™¨ä¼šåœ¨è¯¥æ–¹æ³•è§†å›¾è¿”å›ä¸€ä¸ªä¿ç•™å¯¹è±¡æ—¶æå‡ºissue</span></span><br><span class="line">- (<span class="built_in">NSMutableArray</span> *) superDuperArrayCreator <span class="built_in">NS_RETURNS_NOT_RETAINED</span>;</span><br></pre></td></tr></table></figure>
<h3 id="19-1-3-äº†è§£æ›´å¤š"><a href="#19-1-3-äº†è§£æ›´å¤š" class="headerlink" title="19.1.3    äº†è§£æ›´å¤š"></a>19.1.3    äº†è§£æ›´å¤š</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>é™æ€åˆ†æå™¨</code>èƒ½å¤Ÿæ‰¾åˆ°çš„å…¶å®ƒé—®é¢˜</p>
</blockquote>
<table>
<thead>
<tr>
<th><code>issue</code></th>
<th>è¯´æ˜</th>
<th>è§£å†³<code>issue</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>ç­‰å·é”™è¯¯</td>
<td><code>if (myValue = expression)</code>å­˜åœ¨æ­§ä¹‰</td>
<td>èµ‹å€¼ååˆ¤ç©ºï¼š<code>if ((myValue = expression))</code>ï¼›åˆ¤ç­‰ï¼š<code>if (nil != (myValue = expression))</code></td>
</tr>
<tr>
<td>å†…å­˜æ³„æ¼</td>
<td>æ–¹æ³•ä¸­çš„è¿è¡Œæ—¶é”™è¯¯ä½¿æ–¹æ³•æå‰returnï¼Œå¯¼è‡´releaseä»£ç æ²¡æœ‰æ‰§è¡Œè€Œå‘ç”Ÿå†…å­˜æ³„æ¼</td>
<td>æ— è®ºä»€ä¹ˆæ—¶å€™é€€å‡ºäº†æ–¹æ³•ï¼Œéƒ½éœ€è¦ç¡®è®¤æœ‰æ²¡æœ‰åˆ†é…äº†å•æµ·æ²¡æœ‰é‡Šæ”¾çš„å¯¹è±¡</td>
</tr>
<tr>
<td>è¿‡åº¦é‡Šæ”¾</td>
<td>é‡å¤<code>autorelease</code></td>
<td>ç§»é™¤å¤šä½™çš„<code>autorelease</code></td>
</tr>
<tr>
<td><code>@synchronizedè¯­å¥ä¸­çš„ç©ºå€¼</code></td>
<td><code>@synchronized(object)</code>ä¸­çš„<code>object</code>å¦‚æœä¸º<code>nil</code>å°±å‘å‡º<code>issue</code></td>
<td>ç¡®ä¿<code>object</code>ä¸ä¸º<code>nil</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>å»ºè®®ï¼š</strong>æŠŠ<code>é™æ€åˆ†æå™¨</code>ä½œä¸ºä¸€ä¸ªå–„æ„ä½†çƒ¦äººçš„æœ‹å‹ï¼Œå› ä¸ºå®ƒæ‰€è¯´çš„é€šå¸¸éƒ½æ˜¯å¯¹çš„ã€‚<br><strong>æ³¨æ„ï¼š</strong>ä¸è¦å¤ªä¾èµ–<code>é™æ€åˆ†æå™¨</code>æ¥æŸ¥æ‰¾æ¯ä¸€ä¸ªå†…å­˜æ³„æ¼å’ŒåºŸä»£ç ï¼Œè‡ªå·±è¦å¯¹è‡ªå·±çš„ä»£ç è´Ÿè´£ã€‚</p>
</blockquote>
<h2 id="19-2-å°ç»“"><a href="#19-2-å°ç»“" class="headerlink" title="19.2    å°ç»“"></a>19.2    å°ç»“</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_18 é”®ï¼å€¼ç¼–ç /" itemprop="url">
                  18 é”®/å€¼ç¼–ç 
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T10:42:32+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_18 é”®ï¼å€¼ç¼–ç /#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_18 é”®ï¼å€¼ç¼–ç /" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="18-1-å…¥é—¨é¡¹ç›®"><a href="#18-1-å…¥é—¨é¡¹ç›®" class="headerlink" title="18.1    å…¥é—¨é¡¹ç›®"></a>18.1    å…¥é—¨é¡¹ç›®</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong></p>
</blockquote>
<h2 id="18-2-KVCç®€ä»‹"><a href="#18-2-KVCç®€ä»‹" class="headerlink" title="18.2    KVCç®€ä»‹"></a>18.2    KVCç®€ä»‹</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šè¿‡<code>é”®ï¼å€¼ç¼–ç ï¼ˆKVCï¼‰</code>ï¼Œæ²¡æœ‰ç›¸åº”<code>getter</code>æ–¹æ³•ä¹Ÿèƒ½è·å–å±æ€§å€¼ï¼Œæ²¡æœ‰ç›¸åº”<code>setter</code>æ–¹æ³•ä¹Ÿèƒ½è®¾ç½®å±æ€§å€¼ã€‚<br><strong>è‡ªåŠ¨å¼€ç®±å’Œè£…ç®±ï¼š</strong>ä»…<code>KVC</code>å…·æœ‰è¿™ç§åŠŸèƒ½ï¼Œå¸¸è§„æ–¹æ³•è°ƒç”¨å’Œå±æ€§è¯­æ³•ä¸å…·å¤‡è¯¥åŠŸèƒ½ã€‚</p>
</blockquote>
<h3 id="valueForKeyå®ä¾‹æ–¹æ³•"><a href="#valueForKeyå®ä¾‹æ–¹æ³•" class="headerlink" title="valueForKeyå®ä¾‹æ–¹æ³•"></a>valueForKeyå®ä¾‹æ–¹æ³•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†å±æ€§åä½œä¸º<code>é”®</code>è·å–å±æ€§çš„<code>å€¼</code>ã€‚<br><strong>åŸç†ï¼š</strong>åœ¨<code>Objective-C</code>çš„è¿è¡Œä¸­ä½¿ç”¨å…ƒæ•°æ®æ‰“å¼€å¯¹è±¡å¹¶è¿›å…¥å…¶ä¸­æŸ¥æ‰¾éœ€è¦çš„ä¿¡æ¯ï¼ŒæŸ¥æ‰¾é¡ºåºä¸º</p>
<ol>
<li>ä»¥å‚æ•°å‘½å(<code>key</code>æˆ–<code>isKey</code>)çš„<code>getter</code></li>
<li>åç§°ä¸º<code>_key</code>æˆ–<code>key</code>çš„å®ä¾‹å˜é‡</li>
</ol>
<p><strong>è‡ªåŠ¨è£…ç®±ï¼š</strong>é€šè¿‡è¯¥æ–¹æ³•è·å–å±æ€§å€¼æ—¶ï¼Œå¦‚æœå±æ€§ä¸º<code>æ ‡é‡(intã€floatã€struct)</code>ï¼Œè¯¥æ–¹æ³•ä¼šæ ¹æ®éœ€è¦å°†å±æ€§æ”¾å…¥<code>NSNumber</code>æˆ–<code>NSValue</code>ä¸­ã€‚<br><strong>å…¼å®¹æ€§ï¼š</strong>åœ¨<code>C</code>æˆ–<code>C++</code>ä¸­ä¸èƒ½æ‰§è¡Œè¿™ç§æ“ä½œã€‚<br><strong>åŸå‹ï¼š</strong><code>NSKeyValueCoding.h</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSString *&#125; key å±æ€§å</span><br><span class="line">* @return &#123;id&#125; å±æ€§å€¼ï¼ˆæ ‡é‡ä¼šè¢«è‡ªåŠ¨è£…ç®±ï¼‰</span><br><span class="line">*/</span></span><br><span class="line">- (nullable <span class="keyword">id</span>)valueForKey:(<span class="built_in">NSString</span> *)key;</span><br></pre></td></tr></table></figure>
<h3 id="setValue-forkeyå®ä¾‹æ–¹æ³•"><a href="#setValue-forkeyå®ä¾‹æ–¹æ³•" class="headerlink" title="setValue:forkeyå®ä¾‹æ–¹æ³•"></a>setValue:forkeyå®ä¾‹æ–¹æ³•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†å±æ€§åä½œä¸º<code>é”®</code>è®¾ç½®å±æ€§çš„<code>å€¼</code>ã€‚<br><strong>è‡ªåŠ¨å¼€ç®±ï¼š</strong>ä½¿ç”¨è¯¥æ–¹æ³•è®¾ç½®å±æ€§æ—¶ï¼Œå¦‚æœå±æ€§æ˜¯<code>æ ‡é‡ï¼ˆintã€floatã€structï¼‰</code>ï¼Œåˆ™ä¼šä»æ–°å€¼ï¼ˆ<code>id</code>ï¼‰ä¸­æå–å‡ºå’Œå±æ€§ç±»å‹ç›¸ç¬¦çš„<code>æ ‡é‡</code>ã€‚<br><strong>æŠ€å·§ï¼š</strong>å¦‚æœæƒ³è®¾ç½®ä¸€ä¸ª<code>æ ‡é‡</code>å€¼ï¼Œåœ¨è°ƒç”¨<code>setValue</code>æ–¹æ³•ä¹‹å‰éœ€è¦å°†å®ƒä»¬åŒ…è£…ææ¥ï¼ˆå°è£…åˆ°å¯¹è±¡ä¸­ï¼‰ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSKeyValueCoding.h</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;id&#125; value è¦è®¾ç½®çš„å€¼ï¼ˆéœ€è¦çš„è¯ä¼šè¢«å¼€ç®±ï¼‰</span><br><span class="line">* @param &#123;NSString *&#125; key å±æ€§å</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="keyword">void</span>)setValue:(nullable <span class="keyword">id</span>)value forKey:(<span class="built_in">NSString</span> *)key;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// åˆ›å»º Car å¯¹è±¡</span></span><br><span class="line">Car *car = [[Car alloc] init];</span><br><span class="line">car.name = <span class="string">@"Herbie"</span>;</span><br><span class="line">car.make = <span class="string">@"Honda"</span>;</span><br><span class="line">car.model = <span class="string">@"CRX"</span>;</span><br><span class="line">car.modelYear = <span class="number">1984</span>;</span><br><span class="line">car.numberOfDoors = <span class="number">2</span>;</span><br><span class="line">car.mileage = <span class="number">110000</span>;</span><br><span class="line"><span class="comment">// åˆå§‹åŒ–è½®èƒ</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">    AllWeatherRadial *tire;</span><br><span class="line">    tire = [[AllWeatherRadial alloc] init];</span><br><span class="line">    [car setTire: tire atIndex:i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åˆå§‹åŒ–å¼•æ“</span></span><br><span class="line">Slant6 *engine = [[Slant6 alloc] init];</span><br><span class="line">car.engine = engine;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡ KVC è®¿é—®è½¦çš„å¼•æ“çš„é©¬åŠ›</span></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"horsepower is %@"</span>, [engine valueForKey:<span class="string">@"horsepower"</span>]);</span><br><span class="line"><span class="comment">// é€šè¿‡ KVC é‡æ–°è®¾ç½®è½¦çš„å¼•æ“çš„é©¬åŠ›</span></span><br><span class="line">[engine setValue:[<span class="built_in">NSNumber</span> numberWithInt:<span class="number">150</span>] forKey:<span class="string">@"horsepower"</span>];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"horsepower is %@"</span>, [engine valueForKey:<span class="string">@"horsepower"</span>]);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"Car is %@"</span>, car);</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡ KVC è®¿é—®è½¦çš„åå­—</span></span><br><span class="line"><span class="built_in">NSString</span> *name = [car valueForKey:<span class="string">@"name"</span>];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, name);</span><br><span class="line"><span class="comment">// é€šè¿‡ KVC è®¿é—®è½¦çš„åˆ¶é€ å•†</span></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"make is %@"</span>, [car valueForKey:<span class="string">@"make"</span>]);</span><br><span class="line"><span class="comment">// é€šè¿‡ KVC è®¿é—®è½¦çš„è½¦å‹å‡ºå‚æ—¥æœŸ</span></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"model year is %@"</span>, [car valueForKey:<span class="string">@"modelYear"</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡ KVC è®¾ç½®è½¦å</span></span><br><span class="line">[car setValue:<span class="string">@"Harold"</span> forKey:<span class="string">@"name"</span>];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"new car name is %@"</span>, [car name]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡ KVC è®¾ç½®é‡Œç¨‹æ•°</span></span><br><span class="line">[car setValue:[<span class="built_in">NSNumber</span> numberWithFloat:<span class="number">25062.4</span>] forKey:<span class="string">@"mileage"</span>];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"new mileage is %.1f"</span>, [car mileage]);</span><br></pre></td></tr></table></figure>
<h2 id="18-3-é”®è·¯å¾„"><a href="#18-3-é”®è·¯å¾„" class="headerlink" title="18.3    é”®è·¯å¾„"></a>18.3    é”®è·¯å¾„</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è¿›è¡Œ<code>get</code>å’Œ<code>set</code>æ“ä½œï¼Œé™¤äº†é€šè¿‡<code>é”®</code>ï¼Œè¿˜å¯ä»¥é€šè¿‡<code>é”®è·¯å¾„</code>ã€‚<code>é”®è·¯å¾„</code>å¯ä»¥æ ¹æ®<code>å¯¹è±¡å›¾</code>è®¿é—®åˆ°ä»»æ„æ·±åº¦çš„å¯¹è±¡ï¼Œæ¯”ä½¿ç”¨ä¸€ç³»åˆ—åµŒå¥—æ–¹æ³•è°ƒç”¨æ›´å®¹æ˜“è®¿é—®åˆ°å¯¹è±¡ã€‚</p>
</blockquote>
<h3 id="valueForKeyPathå®ä¾‹æ–¹æ³•"><a href="#valueForKeyPathå®ä¾‹æ–¹æ³•" class="headerlink" title="valueForKeyPathå®ä¾‹æ–¹æ³•"></a>valueForKeyPathå®ä¾‹æ–¹æ³•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†å±æ€§åä½œä¸º<code>é”®</code>è·å–å±æ€§çš„<code>å€¼</code>ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSKeyValueCoding.h</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSString *&#125; keyPath é”®è·¯å¾„</span><br><span class="line">* @return &#123;id&#125; å±æ€§å€¼ï¼ˆæ ‡é‡ä¼šè¢«è‡ªåŠ¨è£…ç®±ï¼‰</span><br><span class="line">*/</span></span><br><span class="line">- (nullable <span class="keyword">id</span>)valueForKeyPath:(<span class="built_in">NSString</span> *)keyPath;</span><br></pre></td></tr></table></figure>
<h3 id="setValue-forKeyPathå®ä¾‹æ–¹æ³•"><a href="#setValue-forKeyPathå®ä¾‹æ–¹æ³•" class="headerlink" title="setValue:forKeyPathå®ä¾‹æ–¹æ³•"></a>setValue:forKeyPathå®ä¾‹æ–¹æ³•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†å±æ€§åä½œä¸º<code>é”®</code>è®¾ç½®å±æ€§çš„<code>å€¼</code>ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSKeyValueCoding.h</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;id&#125; value è¦è®¾ç½®çš„å€¼ï¼ˆéœ€è¦çš„è¯ä¼šè¢«å¼€ç®±ï¼‰</span><br><span class="line">* @param &#123;NSString *&#125; keyPath é”®è·¯å¾„</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="keyword">void</span>)setValue:(nullable <span class="keyword">id</span>)value forKeyPath:(<span class="built_in">NSString</span> *)keyPath;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€šè¿‡ KVC è®¾ç½®è½¦çš„å¼•æ“çš„é©¬åŠ›</span></span><br><span class="line">[car setValue:[<span class="built_in">NSNumber</span> numberWithInt:<span class="number">155</span>] forKeyPath:<span class="string">@"engine.horsepower"</span>];</span><br><span class="line"><span class="comment">// é€šè¿‡ KVC è®¿é—®è½¦çš„å¼•æ“çš„é©¬åŠ›</span></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"horsepower is %@"</span>, [car valueForKeyPath:<span class="string">@"engine.horsepower"</span>]);</span><br></pre></td></tr></table></figure>
<h2 id="18-4-æ•´ä½“æ“ä½œ"><a href="#18-4-æ•´ä½“æ“ä½œ" class="headerlink" title="18.4    æ•´ä½“æ“ä½œ"></a>18.4    æ•´ä½“æ“ä½œ</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¦‚æœä½¿ç”¨<code>é”®å€¼</code>æˆ–<code>é”®è·¯å¾„</code>è®¿é—®ä½äºå¯¹è±¡ä¸­çš„æ•°ç»„ç±»å‹çš„<code>å®ä¾‹å±æ€§</code>çš„å…ƒç´ ï¼Œå®é™…ä¸Šä¼šå¯¹æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ è¿›è¡Œæ“ä½œã€‚å¦‚æœæ˜¯æŸ¥è¯¢æ“ä½œï¼Œåˆ™è¿˜ä¼šå°†æŸ¥è¯¢ç»“æœæ‰“åŒ…åˆ°å¦ä¸€ä¸ªæ•°ç»„ä¸­å¹¶è¿”å›ã€‚<br><strong>æ³¨æ„ï¼š</strong>è¿™ç§<code>æ•´ä½“æ“ä½œ</code>æ„å‘³ç€æ— æ³•åœ¨<code>é”®è·¯å¾„</code>ä¸­å•ç‹¬ç´¢å¼•æ•°ç»„ç±»å‹çš„å±æ€§çš„å…¶ä¸­ä¸€ä¸ªå…ƒç´ ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€šè¿‡ KVC è®¿é—®è½¦çš„è½®èƒçš„èƒå‹ï¼Œä¼šä¾¿åˆ©tiresçš„æ¯ä¸ªå±æ€§ï¼Œå¹¶å°†æ‰€æœ‰tiresçš„å±æ€§çš„pressureå˜é‡å°è£…åˆ° NSNumber å¯¹è±¡ä¸­å¹¶è¿”å›</span></span><br><span class="line"><span class="built_in">NSArray</span> *pressures = [car valueForKeyPath:<span class="string">@"tires.pressure"</span>];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"pressures %@"</span>, pressures);</span><br></pre></td></tr></table></figure>
<h3 id="18-4-1-ä¼‘æ¯ä¸€ä¸‹"><a href="#18-4-1-ä¼‘æ¯ä¸€ä¸‹" class="headerlink" title="18.4.1    ä¼‘æ¯ä¸€ä¸‹"></a>18.4.1    ä¼‘æ¯ä¸€ä¸‹</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»ç”¨äºåé¢çš„å­¦ä¹ ä½¿ç”¨ã€‚</p>
</blockquote>
<p><em>Garage.h</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Cocoa/Cocoa.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@class</span> <span class="title">Car</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Garage</span> : <span class="title">NSObject</span> </span>&#123;</span><br><span class="line">	<span class="built_in">NSString</span> *name;</span><br><span class="line">	<span class="built_in">NSMutableArray</span> *cars;</span><br><span class="line">	<span class="built_in">NSMutableDictionary</span> *stuff;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readwrite</span>, <span class="keyword">copy</span>) <span class="built_in">NSString</span> *name;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) addCar: (Car *) car;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) print;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Garage</span></span><br></pre></td></tr></table></figure>
<p><em>Garage.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Garage.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Garage</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@synthesize</span> name;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) addCar: (Car *) car &#123;</span><br><span class="line">	<span class="keyword">if</span> (cars == <span class="literal">nil</span>) &#123;</span><br><span class="line">		cars = [[<span class="built_in">NSMutableArray</span> alloc] init];</span><br><span class="line">	&#125;</span><br><span class="line">	[cars addObject: car];</span><br><span class="line">	</span><br><span class="line">&#125; <span class="comment">// addCar</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) dealloc &#123;</span><br><span class="line">	[name release];</span><br><span class="line">	[cars release];</span><br><span class="line">	[stuff release];</span><br><span class="line">	[<span class="keyword">super</span> dealloc];</span><br><span class="line">&#125; <span class="comment">// dealloc</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) print &#123;</span><br><span class="line">	<span class="built_in">NSLog</span> (<span class="string">@"%@:"</span>, name);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> (Car *car <span class="keyword">in</span> cars) &#123;</span><br><span class="line">		<span class="built_in">NSLog</span> (<span class="string">@"    %@"</span>, car);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125; <span class="comment">// print</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) setValue: (<span class="keyword">id</span>) value  forUndefinedKey: (<span class="built_in">NSString</span> *) key &#123;</span><br><span class="line">	<span class="keyword">if</span> (stuff == <span class="literal">nil</span>) &#123;</span><br><span class="line">		stuff = [[<span class="built_in">NSMutableDictionary</span> alloc] init];</span><br><span class="line">	&#125;</span><br><span class="line">	[stuff setValue: value forKey: key];</span><br><span class="line">&#125; <span class="comment">// setValueForUndefinedKey</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>) valueForUndefinedKey:(<span class="built_in">NSString</span> *)key &#123;</span><br><span class="line">	<span class="keyword">id</span> value = [stuff valueForKey: key];</span><br><span class="line">	<span class="keyword">return</span> (value);</span><br><span class="line">&#125; <span class="comment">// valueForUndefinedKey</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span>  <span class="comment">// Car</span></span><br></pre></td></tr></table></figure>
<p><em>main.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ±½è½¦é›†åˆ</span></span><br><span class="line">Garage *garage = [[Garage alloc] init];</span><br><span class="line">garage.name = <span class="string">@"Joe's Garage"</span>;</span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€äº›æ±½è½¦å®ä¾‹</span></span><br><span class="line">Car *car;</span><br><span class="line">car = makeCar(<span class="string">@"Herbie"</span>, <span class="string">@"Honda"</span>, <span class="string">@"CRX"</span>, <span class="number">1984</span>, <span class="number">2</span>, <span class="number">110000</span>, <span class="number">58</span>);</span><br><span class="line">[garage addCar:car];</span><br><span class="line">car = makeCar(<span class="string">@"Badger"</span>, <span class="string">@"Acura"</span>, <span class="string">@"integra"</span>, <span class="number">1987</span>, <span class="number">5</span>, <span class="number">217036</span>, <span class="number">130</span>);</span><br><span class="line">[garage addCar:car];</span><br><span class="line">car = makeCar(<span class="string">@"Elvis"</span>, <span class="string">@"Acura"</span>, <span class="string">@"Legend"</span>, <span class="number">1989</span>, <span class="number">4</span>, <span class="number">28123.4</span>, <span class="number">151</span>);</span><br><span class="line">[garage addCar:car];</span><br><span class="line">car = makeCar(<span class="string">@"Phoenix"</span>, <span class="string">@"Pontiac"</span>, <span class="string">@"Firebird"</span>, <span class="number">1969</span>, <span class="number">2</span>, <span class="number">85128.3</span>, <span class="number">345</span>);</span><br><span class="line">[garage addCar:car];</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§‚å¯Ÿæ±½è½¦é›†åˆ</span></span><br><span class="line">[garage print];</span><br></pre></td></tr></table></figure>
<h3 id="18-4-2-å¿«é€Ÿè¿ç®—"><a href="#18-4-2-å¿«é€Ÿè¿ç®—" class="headerlink" title="18.4.2    å¿«é€Ÿè¿ç®—"></a>18.4.2    å¿«é€Ÿè¿ç®—</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>é”®è·¯å¾„</code>ä¸­å¯ä»¥ä½¿ç”¨è¿›è¡Œå¼•ç”¨ä¸€äº›è¿ç®—ç¬¦è¿›è¡Œä¸€äº›è¿ç®—ï¼Œæ¯”å¦‚</p>
<ul>
<li><strong>prevProperty.<code>@count</code>ï¼š</strong>è®¡ç®— <strong>prevProperty</strong> åŒ…å«çš„å¯¹è±¡çš„æ€»æ•°</li>
<li><strong>prevProperty.<code>@sum</code>.nextPropertyï¼š</strong>è®¡ç®—<strong>prevProperty</strong>åŒ…å«çš„æ‰€æœ‰å¯¹è±¡çš„<strong>nextProperty</strong>å±æ€§çš„æ€»å’Œ</li>
<li><strong>prevProperty.<code>@avg</code>.nextPropertyï¼š</strong>è®¡ç®—<strong>prevProperty</strong>åŒ…å«çš„æ‰€æœ‰å¯¹è±¡çš„<strong>nextProperty</strong>å±æ€§çš„å¹³å‡å€¼</li>
<li><strong>prevProperty.<code>@max</code>.nextPropertyï¼š</strong>è®¡ç®—<strong>prevProperty</strong>åŒ…å«çš„æ‰€æœ‰å¯¹è±¡çš„<strong>nextProperty</strong>å±æ€§çš„æœ€å¤§å€¼</li>
<li><strong>prevProperty.<code>@min</code>.nextPropertyï¼š</strong>è®¡ç®—<strong>prevProperty</strong>åŒ…å«çš„æ‰€æœ‰å¯¹è±¡çš„<strong>nextProperty</strong>å±æ€§çš„æœ€å°å€¼</li>
<li><strong>prevProperty.<code>@distinctUnionOfObjects</code>.nextPropertyï¼š</strong>è·å¾—ä»<strong>prevProperty</strong>åŒ…å«çš„æ‰€æœ‰å¯¹è±¡çš„<strong>nextProperty</strong>å±æ€§æ„æˆçš„é›†åˆå»é‡åçš„é›†åˆ</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong>ä¸è¦æ»¥ç”¨<code>KVC</code>é€šè¿‡<code>é”®è·¯å¾„</code>æä¾›çš„å¤„ç†é›†åˆç±»çš„<code>å¿«é€Ÿè¿ç®—</code>ç‰¹æ€§ï¼Œå› ä¸º</p>
<ul>
<li>é€Ÿåº¦æ¯”è¾ƒæ…¢</li>
<li>ç¼–è¯‘å™¨æ— æ³•å¯¹å®ƒè¿›è¡Œé”™è¯¯æ£€æŸ¥ï¼ˆå‡ºç°è¿è¡Œæ—¶é”™è¯¯æ—¶æ‰èƒ½å‘è§‰ï¼‰</li>
</ul>
<p><strong>é™åˆ¶ï¼š</strong>æ— æ³•æ·»åŠ è‡ªå®šä¹‰çš„è¿ç®—ç¬¦</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// @count</span></span><br><span class="line"><span class="built_in">NSNumber</span> *count = [garage valueForKeyPath:<span class="string">@"cars.@count"</span>];</span><br><span class="line"><span class="comment">// @sum</span></span><br><span class="line"><span class="built_in">NSNumber</span> *sum = [garage valueForKeyPath:<span class="string">@"cars.@sum.mileage"</span>];</span><br><span class="line"><span class="comment">// @avg</span></span><br><span class="line"><span class="built_in">NSNumber</span> *avgMileage = [garage valueForKeyPath:<span class="string">@"cars.@avg.mileage"</span>];</span><br><span class="line"><span class="comment">// @maxã€ @min</span></span><br><span class="line"><span class="built_in">NSNumber</span> *min, *max;</span><br><span class="line">max = [garage valueForKeyPath:<span class="string">@"cars.@max.mileage"</span>];</span><br><span class="line">min = [garage valueForKeyPath:<span class="string">@"cars.@max.mileage"</span>];</span><br><span class="line"><span class="comment">// @distinctUnionOfObjects</span></span><br><span class="line"><span class="built_in">NSArray</span> *manufacture = [garage valueForKeyPath:<span class="string">@"cars.@distinctUnionOfObjects.make"</span>];</span><br></pre></td></tr></table></figure>
<h2 id="18-5-æ‰¹å¤„ç†"><a href="#18-5-æ‰¹å¤„ç†" class="headerlink" title="18.5    æ‰¹å¤„ç†"></a>18.5    æ‰¹å¤„ç†</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>KVC</code>æä¾›äº†å¯¹å¯¹è±¡è¿›è¡Œæ‰¹é‡æ“ä½œçš„æ–¹å¼ã€‚</p>
</blockquote>
<h3 id="setValuesForKeysWithDictionaryå®ä¾‹æ–¹æ³•"><a href="#setValuesForKeysWithDictionaryå®ä¾‹æ–¹æ³•" class="headerlink" title="setValuesForKeysWithDictionaryå®ä¾‹æ–¹æ³•"></a>setValuesForKeysWithDictionaryå®ä¾‹æ–¹æ³•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šè¿‡<code>å­—å…¸</code>å¯¹å¯¹è±¡è¿›è¡Œæ‰¹é‡<code>set</code>ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSKeyValueCoding.h</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSDictionary&lt;NSString *, id&gt; *&#125; keyedValues åŒ…å«ä¸€ç³»åˆ—å±æ€§åå’Œå€¼çš„å­—å…¸</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="keyword">void</span>)setValuesForKeysWithDictionary:(<span class="built_in">NSDictionary</span>&lt;<span class="built_in">NSString</span> *, <span class="keyword">id</span>&gt; *)keyedValues;</span><br></pre></td></tr></table></figure>
<h3 id="dictionaryWithValuesForKeyså®ä¾‹æ–¹æ³•"><a href="#dictionaryWithValuesForKeyså®ä¾‹æ–¹æ³•" class="headerlink" title="dictionaryWithValuesForKeyså®ä¾‹æ–¹æ³•"></a>dictionaryWithValuesForKeyså®ä¾‹æ–¹æ³•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šè¿‡<code>æ•°ç»„</code>å¯¹å¯¹è±¡è¿›è¡Œæ‰¹é‡<code>set</code><br><strong>åŸå‹ï¼š</strong><code>NSKeyValueCoding.h</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSArray&lt;NSString *&gt; *&#125; keys åŒ…å«è¦è·å–çš„å±æ€§çš„å±æ€§å</span><br><span class="line">* @return &#123;NSDictionary&lt;NSString *, id&gt; *&#125; åŒ…å«è¦è·å–çš„å±æ€§å/å±æ€§å€¼å¯¹çš„å­—å…¸</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="built_in">NSDictionary</span>&lt;<span class="built_in">NSString</span> *, <span class="keyword">id</span>&gt; *)dictionaryWithValuesForKeys:(<span class="built_in">NSArray</span>&lt;<span class="built_in">NSString</span> *&gt; *)keys;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–æ±½è½¦é›†åˆä¸­çš„æœ€åä¸€ä¸ªæ±½è½¦å®ä¾‹</span></span><br><span class="line">car = [[garage valueForKeyPath:<span class="string">@"cars"</span>] lastObject];</span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼šåŒ…å«åˆ›å»ºå­—å…¸éœ€è¦çš„é”®é›†åˆ</span></span><br><span class="line"><span class="built_in">NSArray</span> *keys = [<span class="built_in">NSArray</span> arrayWithObjects:<span class="string">@"make"</span>, <span class="string">@"model"</span>, <span class="string">@"modelYear"</span>, <span class="literal">nil</span>];</span><br><span class="line"><span class="comment">// ä½¿ç”¨ KVC æ‰¹é‡getï¼šåˆ©ç”¨ä¸Šä¸€æ­¥åˆ›å»ºçš„åŒ…å«ä¸€ç³»åˆ—é”®çš„æ•°ç»„</span></span><br><span class="line"><span class="built_in">NSDictionary</span> *carValues = [car dictionaryWithValuesForKeys:keys];</span><br><span class="line"><span class="comment">// åˆ›å»ºå­—å…¸ï¼šç”¨äºåˆå§‹åŒ–æ±½è½¦å®ä¾‹çš„å±æ€§</span></span><br><span class="line"><span class="built_in">NSDictionary</span> *newValues = [<span class="built_in">NSDictionary</span> dictionaryWithObjectsAndKeys:</span><br><span class="line">                           <span class="string">@"Chevy"</span>, <span class="string">@"make"</span>,</span><br><span class="line">                           <span class="string">@"Nova"</span>,<span class="string">@"model"</span>,</span><br><span class="line">                           [<span class="built_in">NSNumber</span> numberWithInt:<span class="number">1964</span>], <span class="string">@"modelYear"</span>,</span><br><span class="line">                           [<span class="built_in">NSNull</span> null], <span class="string">@"mileage"</span>,</span><br><span class="line">                           <span class="literal">nil</span>];</span><br><span class="line"><span class="comment">// ä½¿ç”¨ KVC æ‰¹é‡setæ±½è½¦</span></span><br><span class="line">[car setValuesForKeysWithDictionary:newValues];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"car with new values is %@"</span>, car);</span><br></pre></td></tr></table></figure>
<h2 id="18-6-nil-ä»ç„¶å¯ç”¨"><a href="#18-6-nil-ä»ç„¶å¯ç”¨" class="headerlink" title="18.6    nil ä»ç„¶å¯ç”¨"></a>18.6    nil ä»ç„¶å¯ç”¨</h2><blockquote>
<p><strong>èƒŒæ™¯ï¼š</strong>é»˜è®¤æƒ…å†µä¸‹ï¼Œåº”ç”¨<code>KVC</code>è°ƒç”¨<code>setValue:forKey</code>è®¾ç½®æŸä¸ªå±æ€§çš„å€¼ä¸º<code>nil</code>æ—¶ï¼Œç¼–è¯‘å™¨ä¼šç»™å‡ºè­¦å‘Šã€‚<br><strong>è§£å†³ï¼š</strong>å¯ä»¥é€šè¿‡é‡å†™<code>setNilValueForKey</code>æ–¹æ³•ç»™å‡ºæœ‰æ„ä¹‰ä¸ªè¿”å›å€¼è€Œé¿å…è­¦å‘Šã€‚<br><strong>æ‰©å±•ï¼š</strong>è¿™é‡Œçš„ <code>nil</code>æ˜¯æ ‡é‡<code>nil</code>ï¼Œä¸è¦å’Œ<code>[NSNull null]</code>ç›¸æ··æ·†</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>) setNilValueForKey: (<span class="built_in">NSString</span> *) key &#123;</span><br><span class="line">	<span class="keyword">if</span> ([key isEqualToString: <span class="string">@"mileage"</span>]) &#123;</span><br><span class="line">		mileage = <span class="number">0</span>;</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		[<span class="keyword">super</span> setNilValueForKey: key];</span><br><span class="line">	&#125;</span><br><span class="line">&#125; <span class="comment">// setNilValueForKey</span></span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¼šå°† mileage è®¾ç½®ä¸º 0</span></span><br><span class="line">[car setValue: <span class="literal">nil</span> forKey: <span class="string">@"mileage"</span>];</span><br></pre></td></tr></table></figure>
<h2 id="18-7-å¤„ç†æœªå®šä¹‰é”®"><a href="#18-7-å¤„ç†æœªå®šä¹‰é”®" class="headerlink" title="18.7    å¤„ç†æœªå®šä¹‰é”®"></a>18.7    å¤„ç†æœªå®šä¹‰é”®</h2><blockquote>
<p><strong>èƒŒæ™¯ï¼š</strong>å¦‚æœ<code>KVC</code>æœºåˆ¶æ— æ³•æ‰¾åˆ°å¤„ç†æ–¹æ³•ï¼Œä¼šé€€å›å¹¶è¯¢é—®è¯¥å¦‚ä½•å¤„ç†ã€‚é»˜è®¤çš„å®ç°ä¼šå–æ¶ˆæ“ä½œã€‚<br><strong>è§£å†³ï¼š</strong>é€šè¿‡é‡å†™<code>setValue:forUndefinedKey</code>å’Œ<code>valueForUndefinedKey</code>æ›´æ”¹é»˜è®¤è¡Œä¸ºï¼Œä½¿å¯¹è±¡å¯ä»¥è®¾ç½®å’Œè·å–ä»»ä½•é”®ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> *  @override</span><br><span class="line"> *  å¤„ç†é€šè¿‡ KVC è®¾ç½®ä¸å­˜åœ¨çš„å±æ€§çš„å€¼</span><br><span class="line"> *</span><br><span class="line"> *  @param value è¦è®¾ç½®çš„å€¼</span><br><span class="line"> *  @param key   è¦è®¾ç½®çš„å±æ€§å</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>) setValue:(<span class="keyword">id</span>)value forUndefinedKey: (<span class="built_in">NSString</span> *) key</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// æƒ°æ€§åˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">if</span> (stuff == <span class="literal">nil</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        stuff = [[<span class="built_in">NSMutableDictionary</span> alloc] init];</span><br><span class="line">    &#125;</span><br><span class="line">    [stuff setValue:value forKey:key];</span><br><span class="line">&#125;<span class="comment">// setValueForUndefinedKey</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> *  @override</span><br><span class="line"> *  å¤„ç†é€šè¿‡ KVC æ–¹å¼è·å–ä¸å­˜åœ¨çš„å±æ€§çš„å€¼</span><br><span class="line"> *</span><br><span class="line"> *  @param key å±æ€§å</span><br><span class="line"> *</span><br><span class="line"> *  @return è¯•å›¾è·å–ä¸å­˜åœ¨çš„å±æ€§çš„å€¼æ—¶çš„è¿”å›å€¼</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">id</span>) valueForUndefinedKey:(<span class="built_in">NSString</span> *)key</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">id</span> value = [stuff valueForKey:key];</span><br><span class="line">    <span class="keyword">return</span> (value);</span><br><span class="line">&#125;<span class="comment">// valueForUnderfinedKey</span></span><br></pre></td></tr></table></figure>
<h2 id="18-8-å°ç»“"><a href="#18-8-å°ç»“" class="headerlink" title="18.8    å°ç»“"></a>18.8    å°ç»“</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_17 æ–‡ä»¶çš„åŠ è½½äºä¿å­˜/" itemprop="url">
                  17 æ–‡ä»¶çš„åŠ è½½ä¸ä¿å­˜
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T10:42:12+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_17 æ–‡ä»¶çš„åŠ è½½äºä¿å­˜/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_17 æ–‡ä»¶çš„åŠ è½½äºä¿å­˜/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="17-1-å±æ€§åˆ—è¡¨"><a href="#17-1-å±æ€§åˆ—è¡¨" class="headerlink" title="17.1    å±æ€§åˆ—è¡¨"></a>17.1    å±æ€§åˆ—è¡¨</h2><h3 id="17-1-1-NSDate"><a href="#17-1-1-NSDate" class="headerlink" title="17.1.1    NSDate"></a>17.1.1    NSDate</h3><h4 id="dateç±»æ–¹æ³•"><a href="#dateç±»æ–¹æ³•" class="headerlink" title="dateç±»æ–¹æ³•"></a>dateç±»æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è·å–å½“å‰æ—¥æœŸå’Œæ—¶é—´ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSDate</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @return &#123;instancetype&#125; NSDateç±»å®ä¾‹</span><br><span class="line">*/</span></span><br><span class="line">+ (instancetype)date;</span><br></pre></td></tr></table></figure>
<h4 id="dateWithTimeIntervalSinceNowç±»æ–¹æ³•"><a href="#dateWithTimeIntervalSinceNowç±»æ–¹æ³•" class="headerlink" title="dateWithTimeIntervalSinceNowç±»æ–¹æ³•"></a>dateWithTimeIntervalSinceNowç±»æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è·å–ä¸å½“å‰æ—¶é—´ç›¸éš”ä¸€å®šæ—¶å·®çš„æ—¥æœŸ<br><strong>åŸå‹ï¼š</strong><code>NSDate</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">*@return &#123;instancetype&#125; NSDateå®ä¾‹</span><br><span class="line">*/</span></span><br><span class="line">+ (instancetype)dateWithTimeIntervalSinceNow:(<span class="built_in">NSTimeInterval</span>)secs;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–å½“å‰çš„æ—¥æœŸå’Œæ—¶é—´</span></span><br><span class="line"><span class="built_in">NSDate</span> *date = [<span class="built_in">NSDate</span> date];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"today is %@"</span>, date);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–24å°æ—¶ä¹‹å‰çš„æ—¶é—´</span></span><br><span class="line"><span class="built_in">NSDate</span> *yesterday = [<span class="built_in">NSDate</span> dateWithTimeIntervalSinceNow:-(<span class="number">24</span>* <span class="number">60</span> *<span class="number">60</span>)];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"yesterday is %@"</span>, yesterday);</span><br></pre></td></tr></table></figure>
<h3 id="17-1-2-NSData"><a href="#17-1-2-NSData" class="headerlink" title="17.1.2    NSData"></a>17.1.2    NSData</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è¯¥ç±»å¯ä»¥åŒ…å«å¤§é‡çš„å­—èŠ‚ï¼Œå¯ä»¥è·å¾—æ•°æ®çš„é•¿åº¦å’ŒæŒ‡å‘å­—èŠ‚å¯ç¤ºä½ç½®çš„æŒ‡é’ˆ<br><strong>ç”¨é€”ï¼š</strong>å¦‚æœæƒ³å°†æ•°æ®å—ä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°æˆ–æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡ä¼ é€’ä¸€ä¸ª<code>NSData</code>æ¥å®ç°ã€‚<br>æ³¨æ„ï¼š<code>NSData</code>æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ”¯æŒ<code>è‡ªåŠ¨é‡Šæ”¾</code>çš„ï¼Œå¸¸è§„çš„å†…å­˜ç®¡ç†å¯¹å®ƒæ˜¯æœ‰æ•ˆçš„ï¼Œå› è€Œæ— éœ€æ‹…å¿ƒå†…å­˜æ¸…ç†çš„é—®é¢˜ã€‚</p>
</blockquote>
<h4 id="dataWithBytesç±»æ–¹æ³•"><a href="#dataWithBytesç±»æ–¹æ³•" class="headerlink" title="dataWithBytesç±»æ–¹æ³•"></a>dataWithBytesç±»æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ›å»ºä¸€ä¸ªä¿å­˜ä¸€ä¸ªæ™®é€šCå­—ç¬¦ä¸²ï¼ˆä¸€ä¸ªå­—èŠ‚åºåˆ—ï¼‰çš„<code>NSData</code>å¯¹è±¡ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSData</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;nullable const void *&#125; bytes å­—ç¬¦ä¸²</span><br><span class="line">* @param &#123;NSUInteger&#125; length å­—ç¬¦ä¸²çš„é•¿åº¦ï¼ˆåŒ…æ‹¬å°¾éƒ¨çš„`\0`ï¼‰</span><br><span class="line">* @return &#123;instancetype&#125; NSDataå®ä¾‹</span><br><span class="line">*/</span></span><br><span class="line">+ (instancetype)dataWithBytes:(nullable <span class="keyword">const</span> <span class="keyword">void</span> *)bytes length:(<span class="built_in">NSUInteger</span>)length;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>æ‰©å±•ï¼š</strong><code>NSData</code>æ˜¯ä¸å¯å˜çš„ï¼Œåˆ›å»ºåä¸èƒ½æ”¹å˜å…¶ä¸­çš„å†…å®¹æ¥ï¼›<code>NSMutableData</code>æ˜¯å¯å˜çš„ï¼Œå¯ä»¥åœ¨æ•°æ®ä¸­æ·»åŠ å’Œåˆ é™¤å­—èŠ‚ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// c è¯­è¨€å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> *string = <span class="string">"hi there, this is a C string!"</span>;</span><br><span class="line"><span class="comment">// åˆ›å»º NSData å¯¹è±¡</span></span><br><span class="line"><span class="built_in">NSData</span> *data = [<span class="built_in">NSData</span> dataWithBytes:string length:strlen(string) + <span class="number">1</span>];</span><br><span class="line"><span class="comment">// æ“ä½œ NSData å¯¹è±¡</span></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"data is %@"</span>, data);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%ld byte string is '%s'"</span>, [data length], [data bytes]);</span><br></pre></td></tr></table></figure>
<h3 id="17-1-3-å†™å…¥å’Œè¯»å–å±æ€§åˆ—è¡¨"><a href="#17-1-3-å†™å…¥å’Œè¯»å–å±æ€§åˆ—è¡¨" class="headerlink" title="17.1.3    å†™å…¥å’Œè¯»å–å±æ€§åˆ—è¡¨"></a>17.1.3    å†™å…¥å’Œè¯»å–å±æ€§åˆ—è¡¨</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å±æ€§åˆ—è¡¨ç±»å¯ä»¥å­˜å‚¨åˆ°æ–‡ä»¶ä¸­ï¼Œä¹Ÿå¯ä»¥ä»æ–‡ä»¶ä¸­è¯»å–å‡ºæ¥ã€‚æ­¤å¤–ï¼Œ<code>Xcode</code>åŒ…å«ä¸€ä¸ªå±æ€§åˆ—è¡¨ç¼–è¾‘å™¨ï¼Œå¯ä»¥ç”¨æ¥æ–¹ä¾¿åœ°æŸ¥çœ‹<code>plist</code>æ–‡ä»¶ã€‚<br><strong>æ³¨æ„ï¼š</strong>å¦‚æœå‡ºç°é—®é¢˜ï¼Œä¸‹é¢ä»‹ç»çš„å‡½æ•°éƒ½ä¸ä¼šè¿”å›å…·ä½“çš„é”™è¯¯çš„åŸå› ã€‚</p>
</blockquote>
<h4 id="writeToFileå®ä¾‹æ–¹æ³•"><a href="#writeToFileå®ä¾‹æ–¹æ³•" class="headerlink" title="writeToFileå®ä¾‹æ–¹æ³•"></a>writeToFileå®ä¾‹æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†å±æ€§åˆ—è¡¨çš„å†…å®¹å†™å…¥åˆ°æ–‡ä»¶ã€‚<br><strong>æŠ€å·§ï¼š</strong>åº”å°½é‡ä½¿ç”¨<code>atomically</code>çš„æ–¹å¼ä¿å­˜æ–‡ä»¶ï¼Œé™¤éä¿å­˜çš„æ–‡ä»¶å®¹é‡éå¸¸å¤§ï¼Œä¼šå ç”¨ç”¨æˆ·å¤§é‡çš„ç£ç›˜ç©ºé—´ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSArray</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSString *&#125; æ–‡ä»¶è·¯å¾„</span><br><span class="line">* @param &#123;BOOL&#125;useAuxiliaryFile æ˜¯å¦é¦–å…ˆå°†æ–‡ä»¶å†…å®¹ä¿å­˜åˆ°ä¸´æ—¶æ–‡ä»¶ä¸­ï¼ˆé˜²æ­¢æç«¯æƒ…å†µä¸‹åŸå§‹æ–‡ä»¶è¢«ç ´åï¼‰</span><br><span class="line">*/</span></span><br><span class="line">(<span class="built_in">BOOL</span>)writeToFile:(<span class="built_in">NSString</span> *)path atomically:(<span class="built_in">BOOL</span>)useAuxiliaryFile;</span><br></pre></td></tr></table></figure>
<h4 id="arrayWithContentsOfFileç±»æ–¹æ³•"><a href="#arrayWithContentsOfFileç±»æ–¹æ³•" class="headerlink" title="arrayWithContentsOfFileç±»æ–¹æ³•"></a>arrayWithContentsOfFileç±»æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è¯»å–æ–‡ä»¶ä¸­çš„æ•°ç»„ä¿¡æ¯å¹¶æ®æ­¤åˆ›å»ºæ•°ç»„ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSArray</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSString *&#125; path æ–‡ä»¶è·¯å¾„</span><br><span class="line">* @return &#123;NSArray&#125; æ•°ç»„å®ä¾‹</span><br><span class="line">*/</span></span><br><span class="line">+ (nullable <span class="built_in">NSArray</span>&lt;ObjectType&gt; *)arrayWithContentsOfFile:(<span class="built_in">NSString</span> *)path;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»º NSArray å®ä¾‹</span></span><br><span class="line"><span class="built_in">NSArray</span> *phrase;</span><br><span class="line">phrase = [<span class="built_in">NSArray</span> arrayWithObjects:<span class="string">@"I"</span>, <span class="string">@"seem"</span>, <span class="string">@"to"</span>, <span class="string">@"be"</span>, <span class="string">@"a"</span>, <span class="string">@"verb"</span>, <span class="literal">nil</span>];</span><br><span class="line"><span class="comment">// å°† NSArray å¯¹è±¡å†™å…¥æ–‡ä»¶</span></span><br><span class="line">[phrase writeToFile:<span class="string">@"/tmp/verbiage.txt"</span> atomically:<span class="literal">YES</span>];</span><br><span class="line"><span class="comment">// é€šè¿‡æ–‡ä»¶åˆ›å»º NSArray å®ä¾‹</span></span><br><span class="line"><span class="built_in">NSArray</span> *phrase2 = [<span class="built_in">NSArray</span> arrayWithContentsOfFile:<span class="string">@"/tmp/veribage.txt"</span>];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, phrase2);</span><br></pre></td></tr></table></figure>
<p><em>/tmp/verbiage.txt</em></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?</span>xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span><span class="meta">?&gt;</span></span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plist</span> <span class="attr">version</span>=<span class="string">"1.0"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">string</span>&gt;</span>I<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">string</span>&gt;</span>seem<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">string</span>&gt;</span>to<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">string</span>&gt;</span>be<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">string</span>&gt;</span>a<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">string</span>&gt;</span>verb<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plist</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="17-1-4-ä¿®æ”¹å¯¹è±¡ç±»å‹"><a href="#17-1-4-ä¿®æ”¹å¯¹è±¡ç±»å‹" class="headerlink" title="17.1.4    ä¿®æ”¹å¯¹è±¡ç±»å‹"></a>17.1.4    ä¿®æ”¹å¯¹è±¡ç±»å‹</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å­˜å‚¨æˆ–åŠ è½½å±æ€§åˆ—è¡¨æ—¶å¯ä»¥ä½¿ç”¨<code>NSPropertyListSerialization</code>æ·»åŠ ä¸€äº›è®¾å®šé¡¹ã€‚</p>
</blockquote>
<h4 id="dataFromPropertyListç±»æ–¹æ³•"><a href="#dataFromPropertyListç±»æ–¹æ³•" class="headerlink" title="dataFromPropertyListç±»æ–¹æ³•"></a>dataFromPropertyListç±»æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å­˜å‚¨åˆ°æ–‡ä»¶æ—¶æŒ‡å®šè®¾å®šé¡¹ã€‚å·²è¿‡æ—¶ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSPropertyListSerialization</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;id&#125; plist å±æ€§åˆ—è¡¨ç±»å‹å¯¹è±¡</span><br><span class="line">* @param &#123;NSPropertyListFormat&#125; format å­˜å‚¨å±æ€§åˆ—è¡¨çš„æ–¹å¼</span><br><span class="line">* @param &#123;NSString *&#125; errorDescription é”™è¯¯ä¿¡æ¯</span><br><span class="line">*/</span></span><br><span class="line">+ (nullable <span class="built_in">NSData</span> *)dataFromPropertyList:(<span class="keyword">id</span>)plist format:(<span class="built_in">NSPropertyListFormat</span>)format errorDescription:(<span class="keyword">out</span> __<span class="keyword">strong</span> <span class="built_in">NSString</span> * __nullable * __nullable)errorString <span class="built_in">NS_DEPRECATED</span>(<span class="number">10</span>_0, <span class="number">10</span>_10, <span class="number">2</span>_0, <span class="number">8</span>_0, <span class="string">"Use dataWithPropertyList:format:options:error: instead."</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯å˜æ•°ç»„(é¦–éƒ½é›†åˆ)</span></span><br><span class="line"><span class="built_in">NSMutableArray</span> *capitols = [<span class="built_in">NSMutableArray</span> arrayWithCapacity:<span class="number">10</span>];</span><br><span class="line"><span class="comment">// ç¬¬ä¸€ä¸ªå›½å®¶</span></span><br><span class="line"><span class="built_in">NSMutableDictionary</span> *capitol = [<span class="built_in">NSMutableDictionary</span> dictionaryWithObject:<span class="string">@"Canada"</span> forKey:<span class="string">@"country"</span>];</span><br><span class="line">[capitol setObject:<span class="string">@"Ottawa"</span> forKey:<span class="string">@"capitol"</span>];</span><br><span class="line">[capitols addObject:capitol];</span><br><span class="line"><span class="comment">// ç¬¬äºŒä¸ªå›½å®¶</span></span><br><span class="line">capitol = [<span class="built_in">NSMutableDictionary</span> dictionaryWithObject:<span class="string">@"Norway"</span> forKey:<span class="string">@"country"</span>];</span><br><span class="line">[capitol setObject:<span class="string">@"Oslo"</span> forKey:<span class="string">@"capitol"</span>];</span><br><span class="line">[capitols addObject:capitol];</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSString</span> *error = <span class="literal">nil</span>;</span><br><span class="line"><span class="comment">// å°† plist æ•°æ®å†…å®¹ä»¥äºŒè¿›åˆ¶å½¢å¼å†™å…¥æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">NSData</span> *encodeArray = [<span class="built_in">NSPropertyListSerialization</span> dataFromPropertyList:capitols format:<span class="built_in">NSPropertyListXMLFormat_v1_0</span> errorDescription:&amp;error];</span><br><span class="line">[encodeArray writeToFile:<span class="string">@"/tmp/capitols.txt"</span> atomically:<span class="literal">YES</span>];</span><br></pre></td></tr></table></figure>
<h4 id="propertyListFromDataå®ä¾‹æ–¹æ³•"><a href="#propertyListFromDataå®ä¾‹æ–¹æ³•" class="headerlink" title="propertyListFromDataå®ä¾‹æ–¹æ³•"></a>propertyListFromDataå®ä¾‹æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä»¥æŒ‡å®šå½¢å¼å°†æ–‡ä»¶è¯»å–åˆ°å†…å­˜ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSPropertyListSerialization</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSData *&#125; data ä»æ–‡ä»¶è¯»å–åŸå§‹æ•°æ®</span><br><span class="line">* @param &#123;NSPropertyListMutabilityOptions&#125; opt format è¯»å–å½¢å¼</span><br><span class="line">* @param &#123;NSString *&#125; errorString å¯èƒ½çš„é”™è¯¯ä¿¡æ¯</span><br><span class="line">*/</span></span><br><span class="line">+ (nullable <span class="keyword">id</span>)propertyListFromData:(<span class="built_in">NSData</span> *)data mutabilityOption:(<span class="built_in">NSPropertyListMutabilityOptions</span>)opt format:(nullable <span class="built_in">NSPropertyListFormat</span> *)format errorDescription:(<span class="keyword">out</span> __<span class="keyword">strong</span> <span class="built_in">NSString</span> * __nullable * __nullable)errorString <span class="built_in">NS_DEPRECATED</span>(<span class="number">10</span>_0, <span class="number">10</span>_10, <span class="number">2</span>_0, <span class="number">8</span>_0, <span class="string">"Use propertyListWithData:options:format:error: instead."</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»æ–‡ä»¶ä¸­è¯»å–å±æ€§åˆ—è¡¨æ•°æ®</span></span><br><span class="line"><span class="built_in">NSData</span> *data = [<span class="built_in">NSData</span> dataWithContentsOfFile:<span class="string">@"/tmp/capitols.txt"</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥æŒ‡å®šçš„æ ¼å¼å°†æ–‡ä»¶ä¸­çš„å†…å®¹è¯»å–åˆ°å†…å­˜</span></span><br><span class="line"><span class="built_in">NSPropertyListFormat</span> properyListFormat = <span class="built_in">NSPropertyListXMLFormat_v1_0</span>;</span><br><span class="line"><span class="built_in">NSString</span> *error = <span class="literal">nil</span>;</span><br><span class="line"><span class="built_in">NSMutableArray</span> *capitols = [<span class="built_in">NSPropertyListSerialization</span> propertyListFromData:data mutabilityOption:<span class="built_in">NSPropertyListMutableContainersAndLeaves</span> format:&amp;properyListFormat errorDescription:&amp;error];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"capitols %@"</span>, capitols);</span><br></pre></td></tr></table></figure>
<h2 id="17-2-ç¼–ç å¯¹è±¡"><a href="#17-2-ç¼–ç å¯¹è±¡" class="headerlink" title="17.2    ç¼–ç å¯¹è±¡"></a>17.2    ç¼–ç å¯¹è±¡</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>Cocoa</code>å…·å¤‡ä¸€ç§å°†ä»»æ„å¯¹è±¡è½¬æ¢æˆæŸç§æ ¼å¼å¹¶ä¿å­˜åˆ°ç£ç›˜ä¸­çš„æœºåˆ¶ã€‚</p>
<ul>
<li><strong>åºåˆ—åŒ–ï¼ˆç¼–ç ï¼‰ï¼š</strong>å°†å¯¹è±¡çš„å®ä¾‹å˜é‡å’Œå…¶ä»–æ•°æ®ç¼–ç ä¸ºæ•°æ®å—ï¼Œç„¶åä¿å­˜åˆ°ç£ç›˜</li>
<li><strong>ååºåˆ—åŒ–ï¼ˆè§£ç ï¼‰ï¼š</strong>å°†æ•°æ®å—è¯»å›å†…å­˜ï¼Œå¹¶åŸºäºä¿å­˜çš„æ•°æ®åˆ›å»ºæ–°å¯¹è±¡</li>
</ul>
</blockquote>
<h3 id="NSCodingåè®®"><a href="#NSCodingåè®®" class="headerlink" title="NSCodingåè®®"></a>NSCodingåè®®</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šè¿‡é‡‡çº³è¯¥åè®®ï¼Œå¯ä»¥ä½¿å¯¹è±¡å…·å¤‡<code>åºåˆ—åŒ–å’Œååºåˆ—åŒ–</code>çš„èƒ½åŠ›ã€‚<br><strong>åŸå‹ï¼š</strong></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@protocol</span> <span class="title">NSCoding</span></span></span><br><span class="line"><span class="comment">// åºåˆ—åŒ–</span></span><br><span class="line">- (<span class="keyword">void</span>) encodeWithCoder: (<span class="built_in">NSCoder</span> *) encoder;</span><br><span class="line"><span class="comment">// ååºåˆ—åŒ–</span></span><br><span class="line">- (<span class="keyword">id</span>) initWithCoder: (<span class="built_in">NSCoder</span> *) decoder;</span><br><span class="line">&gt;<span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h3 id="archiveDataWithRootObjectç±»æ–¹æ³•"><a href="#archiveDataWithRootObjectç±»æ–¹æ³•" class="headerlink" title="archiveDataWithRootObjectç±»æ–¹æ³•"></a>archiveDataWithRootObjectç±»æ–¹æ³•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯¹å¯¹è±¡è¿›è¡Œç¼–ç ã€‚</p>
<ol>
<li>åˆ›å»ºäº†ä¸€ä¸ª<code>KSKeyedArchier</code>å®ä¾‹</li>
<li>å°†ä¸Šä¸€æ­¥åˆ›å»ºçš„å®ä¾‹ä¼ é€’ç»™å‚æ•°æŒ‡å®šçš„å¯¹è±¡çš„<code>encodeWithCoder</code>æ–¹æ³•</li>
<li>é€’å½’ç¼–ç è‡ªèº«ä½¿ç”¨åˆ°çš„å…¶å®ƒå¯¹è±¡ï¼Œæ¯”å¦‚å­—ç¬¦ä¸²ã€æ•°ç»„åŠæ”¾å…¥æ•°ç»„ä¸­çš„ä»»ä½•å¯¹è±¡</li>
<li>æ‰€æœ‰å¯¹è±¡å®Œæˆé”®å€¼ç¼–ç åï¼Œè¢«æ”¾å…¥ä¸€ä¸ª<code>NSData</code>å¯¹è±¡å¹¶è¿”å›</li>
</ol>
<p><strong>åŸå‹ï¼š</strong><code>KSKeyedArchiver</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;id&#125; rootObject è¦è¢«åºåˆ—åŒ–çš„å¯¹è±¡</span><br><span class="line">* @return &#123;NSData *&#125; åºåˆ—åŒ–ä¸º NSData å‹æ•°æ®</span><br><span class="line">*/</span></span><br><span class="line">+ (<span class="built_in">NSData</span> *)archivedDataWithRootObject:(<span class="keyword">id</span>)rootObject;</span><br></pre></td></tr></table></figure>
<p><em>Thingie.h</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Thingie</span> : <span class="title">NSObject</span></span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSString</span> *name;</span><br><span class="line">    <span class="keyword">int</span> magicNumber;</span><br><span class="line">    <span class="keyword">float</span> shoeSize;</span><br><span class="line">    <span class="built_in">NSMutableArray</span> *subThingies;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">copy</span>) <span class="built_in">NSString</span> *name;</span><br><span class="line"><span class="keyword">@property</span> <span class="keyword">int</span> magicNumber;</span><br><span class="line"><span class="keyword">@property</span> <span class="keyword">float</span> shoeSize;</span><br><span class="line"><span class="keyword">@property</span> (retain) <span class="built_in">NSMutableArray</span> *subThingies;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>) initWithName: (<span class="built_in">NSString</span> *) n</span><br><span class="line">        magicNumber: (<span class="keyword">int</span>) mn</span><br><span class="line">           shoeSize: (<span class="keyword">float</span>) ss;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>Thingie.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Thingie.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Thingie</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@synthesize</span> name;</span><br><span class="line"><span class="keyword">@synthesize</span> magicNumber;</span><br><span class="line"><span class="keyword">@synthesize</span> shoeSize;</span><br><span class="line"><span class="keyword">@synthesize</span> subThingies;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¾¿åˆ©æ„é€ å‡½æ•°ï¼šé€šè¿‡ç”¨æˆ·å</span></span><br><span class="line">- (<span class="keyword">id</span>) initWithName:(<span class="built_in">NSString</span> *)</span><br><span class="line">        magicNumber:(<span class="keyword">int</span>)mn</span><br><span class="line">        shoeSize:(<span class="keyword">float</span>)ss</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">super</span> init])</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">self</span>.name = n;</span><br><span class="line">        <span class="keyword">self</span>.magicNumber = mn;</span><br><span class="line">        <span class="keyword">self</span>.showSize = ss;</span><br><span class="line">        <span class="keyword">self</span>.subThingies = [<span class="built_in">NSMutableArray</span> array];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">self</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é‡‡çº³åè®®:ååºåˆ—åŒ–</span></span><br><span class="line">- (<span class="keyword">id</span>) initWithCoder: (<span class="built_in">NSCoder</span> *) decoder</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">super</span> init])</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">self</span>.name = [decoder decodeObjectForKey:<span class="string">@"name"</span>];</span><br><span class="line">        <span class="keyword">self</span>.magicNumber = [decoder decodeIntForKey:<span class="string">@"magicNumber"</span>];</span><br><span class="line">        <span class="keyword">self</span>.shoeSize = [decoder decodeIntForKey:<span class="string">@"shoeSize"</span>];</span><br><span class="line">        <span class="keyword">self</span>.subThingies = [decoder decodeObjectForKey:<span class="string">@"subThingies"</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">self</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é‡‡çº³åè®®ï¼šåºåˆ—åŒ–</span></span><br><span class="line">- (<span class="keyword">void</span>) encodeWithCoder: (<span class="built_in">NSCoder</span> *) coder</span><br><span class="line">&#123;</span><br><span class="line">    [coder encodeObject:name</span><br><span class="line">                 forKey:<span class="string">@"name"</span>];</span><br><span class="line">    [coder encodeInt:magicNumber</span><br><span class="line">              forKey:<span class="string">@"magicNumber"</span>];</span><br><span class="line">    [coder encodeFloat:shoeSize</span><br><span class="line">                forKey:<span class="string">@"shoeSize"</span>];</span><br><span class="line">    [coder encodeObject:subThingies</span><br><span class="line">                 forKey:<span class="string">@"subThingies"</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSString</span> *) description&#123;</span><br><span class="line">    <span class="built_in">NSString</span> *description = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%@: %d/%.1f %@"</span>, name, magicNumber, shoeSize, subThingies];</span><br><span class="line">    <span class="keyword">return</span> (description);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) dealloc</span><br><span class="line">&#123;</span><br><span class="line">    [name release];</span><br><span class="line">    [subThingies release];</span><br><span class="line">    [<span class="keyword">super</span> dealloc];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>main.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"Thingie.h"</span></span></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    <span class="keyword">@autoreleasepool</span> &#123;</span><br><span class="line">        <span class="comment">/** ç®€å•æƒ…å½¢ **/</span></span><br><span class="line">        <span class="comment">// åˆ›å»ºå¯åºåˆ—åŒ–çš„å¯¹è±¡</span></span><br><span class="line">        Thingie *thing1;</span><br><span class="line">        thing1 = [[Thingie alloc]</span><br><span class="line">                  initWithName:<span class="string">@"thing1"</span></span><br><span class="line">                  magicNumber:<span class="number">42</span></span><br><span class="line">                  shoeSize:<span class="number">10.5</span>];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"some thing: @"</span>, thing1);</span><br><span class="line">        <span class="comment">// åºåˆ—åŒ–ä¸º NSData å¯¹è±¡</span></span><br><span class="line">        <span class="built_in">NSData</span> *freezeDried;</span><br><span class="line">        freezeDried = [<span class="built_in">NSKeyedArchiver</span> archivedDataWithRootObject:thing1];</span><br><span class="line">        [thing1 release];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ååºåˆ—åŒ–</span></span><br><span class="line">        thing1 = [<span class="built_in">NSKeyedUnarchiver</span> unarchiveObjectWithData:freezeDried];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"reconstitued thing: %@"</span>, thing1);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">/* å¤æ‚æƒ…å½¢ï¼šé€’å½’åºåˆ—åŒ– */</span></span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–thing1.subThingiesï¼ˆæ•°ç»„ï¼‰</span></span><br><span class="line">        Thingie *anotherThing;</span><br><span class="line">        anotherThing = [[[Thingle alloc]</span><br><span class="line">                         initWithName:<span class="string">@"thing2"</span></span><br><span class="line">                         magicNumber:<span class="number">23</span> shoeSize:<span class="number">13.0</span>]];</span><br><span class="line">        [thing1.subThingies addObject:anotherThing];</span><br><span class="line">        anotherThing = [[[Thingle alloc]</span><br><span class="line">                         initWithName:<span class="string">@"thing3"</span></span><br><span class="line">                         magicNumber:<span class="number">17</span> shoeSize:<span class="number">9.0</span>]];</span><br><span class="line">        [thing1.subThingies addObject:anotherThing];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"reconstitued muthing: %@"</span>, thing1);</span><br><span class="line">        <span class="comment">// åºåˆ—åŒ–</span></span><br><span class="line">        [freezeDried = [<span class="built_in">NSKeyedArchiver</span> archivedDataWithRootObject:thing1];</span><br><span class="line">        <span class="comment">// ååºåˆ—åŒ–</span></span><br><span class="line">        thing1 = [<span class="built_in">NSKeyedUnarchiver</span> unarchiveObjectWithData:freezeDried];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"reconstitued multiting: %@"</span>, thing1);</span><br><span class="line">         </span><br><span class="line">        <span class="comment">/* å¤æ‚æƒ…å½¢ï¼šè®¾ç½®ä¸€å¤„å¼•ç”¨è‡ªå·±çš„æ•°æ®ï¼Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–ä»èƒ½æ­£å¸¸å·¥ä½œ */</span></span><br><span class="line">        [thing1.subThingies addObject:thing1];</span><br><span class="line">        <span class="comment">// åºåˆ—åŒ–</span></span><br><span class="line">        freezeDried = [<span class="built_in">NSKeyedArchiver</span> archivedDataWithRootObject:thing1];</span><br><span class="line">        <span class="comment">// ååºåˆ—åŒ–</span></span><br><span class="line">        thing1 = [<span class="built_in">NSKeyedUnarchiver</span> unarchiveObjectWithData:freezeDried];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="17-3-å°ç»“"><a href="#17-3-å°ç»“" class="headerlink" title="17.3    å°ç»“"></a>17.3    å°ç»“</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_16 UIKitç®€ä»‹/" itemprop="url">
                  16 UIKitç®€ä»‹
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T10:41:48+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_16 UIKitç®€ä»‹/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_16 UIKitç®€ä»‹/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>Mac</code>åº”ç”¨ç¨‹åºä½¿ç”¨çš„æ˜¯<code>AppKit</code>æ¡†æ¶ï¼Œè€Œ<code>iOS</code>åº”ç”¨ç¨‹åºä½¿ç”¨çš„æ˜¯<code>UIKit</code>æ¡†æ¶ï¼Œå®ƒåŒ…å«äº†æ‰€æœ‰çš„<code>UI</code>ç»„ä»¶å’Œæ„æˆ<code>iOS</code>åº”ç”¨ç¨‹åºçš„èµ„æºã€‚<br><strong>æ³¨æ„ï¼š</strong><code>iOS</code>å’Œ<code>OS X</code>å­˜åœ¨ä»¥ä¸‹åŒºåˆ«</p>
<ul>
<li>æ²¡æœ‰<code>shell</code>å’Œæ§åˆ¶å°</li>
<li>åº”ç”¨ç¨‹åºåœ¨<code>Mac</code>ç”µè„‘çš„æ¨¡æ‹Ÿå™¨ä¸­è¿è¡Œ</li>
<li>æ— æ³•æ”¯æŒä¸€äº›æ— <code>UI</code>ç•Œé¢çš„<code>API</code></li>
<li>å¤§éƒ¨åˆ†ç¨‹åºå‘˜éƒ½è®¤ä¸ºå¼€å‘<code>iOS</code>åº”ç”¨æ›´åŠ è½»æ¾</li>
</ul>
<p><strong>é¡¹ç›®åˆ›å»ºï¼š</strong>æ­¥éª¤å¦‚ä¸‹</p>
<ol>
<li><code>File-&gt;New-&gt;New Project</code>(command + shift + n)</li>
<li>é€‰æ‹©åº”ç”¨ç¨‹åºæ¨¡ç‰ˆï¼šå·¦è¾¹åˆ—è¡¨é€‰æ‹©<code>iOS</code>ä¸‹çš„<code>Application</code>ï¼Œç„¶åå³è¾¹é€‰æ‹©<code>Single View Application</code></li>
</ol>
<ul>
<li><code>Master-Detail</code>ï¼šç”¨ä¸€ä¸ªå¯¼èˆªæ§åˆ¶å™¨å’Œä¸€ä¸ªè¡¨è§†å›¾æ¥æ˜¾ç¤ºé¡¹ç›®åˆ—è¡¨é—è¿¹é¡¹ç›®çš„è¯¦ç»†ä¿¡æ¯</li>
<li><code>OpenGL Game</code>ï¼šæ¸¸æˆ</li>
<li><code>Page-Based</code>ï¼šåˆ›å»ºç”µå­ä¹¦å¼çš„åº”ç”¨ï¼Œæ‹¥æœ‰ç¿»é¡µåŠ¨ç”»æ•ˆæœï¼ˆè¯¥æ•ˆæœæ”¯æŒipadï¼‰</li>
<li><code>Tabbed</code>ï¼šå¤šè§†å›¾åº”ç”¨ç¨‹åºï¼Œåº•éƒ¨åˆä¸€ä¸ªæ ‡ç­¾æ å¹¶ä¸”æ¯ä¸ªæ ‡ç­¾éƒ½æœ‰ä¸€ä¸ªè§†å›¾é¦™å…³è”çš„é‚£ç§åº”ç”¨ç¨‹åº</li>
<li><code>Utility</code>ï¼šå’Œ<code>Single View Application</code>ç›¸ä¼¼ï¼Œä½†è¿˜å¤šå¤„ä¸€ä¸ªç¿»è½¬è§†å›¾</li>
<li><code>Empty</code>ï¼šæ˜¯ä¸€ä¸ªé«˜çº§é€‰é¡¹ï¼Œå¦‚æœæ²¡æœ‰åˆé€‚çš„æ¨¡ç‰ˆï¼Œæˆ–æ˜¯ä½ éå¸¸äº†è§£å¦‚ä½•æ„å»ºä½ çš„åº”ç”¨ç¨‹åºï¼Œé‚£ä¹ˆåˆ»æ„é€‰æ‹©ä½¿ç”¨è¿™ä¸ªæ¨¡ç‰ˆ</li>
</ul>
<ol>
<li>ç‚¹å‡»<code>Next</code>æŒ‰é’®ï¼Œå¼¹å‡ºè¯¢é—®ç¨‹åºåç­‰ä¿¡æ¯çš„å¯¹è¯æ¡†</li>
</ol>
<ul>
<li>å¤é€‰æ¡†ï¼šä¸é€‰æ‹©<code>Use Storyboard</code>å’Œ<code>Include Unit Tests</code>ï¼Œé€‰ä¸­<code>Use Automatic Reference Counting</code></li>
<li><code>Device Family</code>ï¼šé€‰æ‹©<code>Universal</code>ï¼ˆæ„å‘³ç€å¯ä»¥åŒæ—¶è¿è¡Œåœ¨<code>iPhone</code>ã€<code>iPod</code>ã€<code>iPad</code>ä¸Šï¼‰</li>
</ul>
</blockquote>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-26%20%E4%B8%8B%E5%8D%8811.15.54.png" alt="Alt text"></p>
<p><em>AppDelegate.h</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;UIKit/UIKit.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">@class</span> <span class="title">ViewController</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">AppDelegate</span> : <span class="title">UIResponder</span> &lt;<span class="title">UIApplicationDelegate</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// çª—å£å¯¹è±¡</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">strong</span>, <span class="keyword">nonatomic</span>) <span class="built_in">UIWindow</span> *window;</span><br><span class="line"><span class="comment">// è§†å›¾æ§åˆ¶å™¨</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">strong</span>, <span class="keyword">nonatomic</span>) ViewController *viewController;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>AppDelegate.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"AppDelegate.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">AppDelegate</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">AppDelegate</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@synthesize</span> window = _window;</span><br><span class="line"><span class="keyword">@synthesize</span> viewController = _viewController;</span><br><span class="line"><span class="comment">// çª—å£è¢«åˆ›å»ºæ—¶å›è¢«è°ƒç”¨</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)application:(<span class="built_in">UIApplication</span> *)application didFinishLaunchingWithOptions:(<span class="built_in">NSDictionary</span> *)launchOptions &#123;</span><br><span class="line">    <span class="comment">/* åˆå§‹åŒ–çª—å£å¯¹è±¡ */</span></span><br><span class="line">    <span class="keyword">self</span>.window = [[<span class="built_in">UIWindow</span> alloc] initWithFrame:[[<span class="built_in">UIScreen</span> mainScreen] bounds]];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/* åˆå§‹è§†å›¾æ§åˆ¶å™¨ */</span></span><br><span class="line">    <span class="comment">// iPhone</span></span><br><span class="line">    <span class="keyword">if</span> ([[<span class="built_in">UIDevice</span> currentDevice] userInterfaceIdiom] == <span class="built_in">UIUserInterfaceIdiomPhone</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.viewController = [[ViewController alloc] initWithNibName:<span class="string">@"ViewController_iPhone"</span> bundle:<span class="literal">nil</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// iPad</span></span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.viewController = [[ViewController alloc] initWithNibName:<span class="string">@"ViewController_iPad"</span> bundle:<span class="literal">nil</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å°†è§†å›¾æ§åˆ¶å™¨çš„è§†å›¾æ·»åŠ åˆ°åº”ç”¨ç¨‹åºå±‚çº§</span></span><br><span class="line">    <span class="keyword">self</span>.window.rootViewController = <span class="keyword">self</span>.viewController;</span><br><span class="line">    [<span class="keyword">self</span>.window makeKeyAndVisible];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)applicationWillResignActive:(<span class="built_in">UIApplication</span> *)application &#123;</span><br><span class="line">    <span class="comment">// Sent when the application is about to move from active to inactive state. This can occur for certain types of temporary interruptions (such as an incoming phone call or SMS message) or when the user quits the application and it begins the transition to the background state.</span></span><br><span class="line">    <span class="comment">// Use this method to pause ongoing tasks, disable timers, and throttle down OpenGL ES frame rates. Games should use this method to pause the game.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)applicationDidEnterBackground:(<span class="built_in">UIApplication</span> *)application &#123;</span><br><span class="line">    <span class="comment">// Use this method to release shared resources, save user data, invalidate timers, and store enough application state information to restore your application to its current state in case it is terminated later.</span></span><br><span class="line">    <span class="comment">// If your application supports background execution, this method is called instead of applicationWillTerminate: when the user quits.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)applicationWillEnterForeground:(<span class="built_in">UIApplication</span> *)application &#123;</span><br><span class="line">    <span class="comment">// Called as part of the transition from the background to the inactive state; here you can undo many of the changes made on entering the background.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)applicationDidBecomeActive:(<span class="built_in">UIApplication</span> *)application &#123;</span><br><span class="line">    <span class="comment">// Restart any tasks that were paused (or not yet started) while the application was inactive. If the application was previously in the background, optionally refresh the user interface.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)applicationWillTerminate:(<span class="built_in">UIApplication</span> *)application &#123;</span><br><span class="line">    <span class="comment">// Called when the application is about to terminate. Save data if appropriate. See also applicationDidEnterBackground:.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h2 id="16-1-è§†å›¾æ§åˆ¶å™¨"><a href="#16-1-è§†å›¾æ§åˆ¶å™¨" class="headerlink" title="16.1    è§†å›¾æ§åˆ¶å™¨"></a>16.1    è§†å›¾æ§åˆ¶å™¨</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>Cocoa</code>ä¸»è¦ä½¿ç”¨çš„æ˜¯<code>MVC</code>æ¨¡å¼</p>
<ul>
<li><strong>è§†å›¾ï¼š</strong>ä»<code>nib</code>æ–‡ä»¶ä¸­è·å–è§†å›¾</li>
<li><strong>æ¨¡å‹ï¼š</strong>ä¸€ç»„æ•°æ®</li>
<li><strong>æ§åˆ¶å™¨ï¼š</strong><code>UIViewController</code>çš„å­ç±»</li>
</ul>
</blockquote>
<h3 id="16-1-1-åœ¨Nibæ–‡ä»¶ä¸­æ·»åŠ æ§ä»¶"><a href="#16-1-1-åœ¨Nibæ–‡ä»¶ä¸­æ·»åŠ æ§ä»¶" class="headerlink" title="16.1.1    åœ¨Nibæ–‡ä»¶ä¸­æ·»åŠ æ§ä»¶"></a>16.1.1    åœ¨Nibæ–‡ä»¶ä¸­æ·»åŠ æ§ä»¶</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å®Œæˆè§†å›¾çš„éƒ¨åˆ†</p>
<ul>
<li>æ‹–è¿›ä¸€ä¸ª<code>TextField</code>å¯¹è±¡</li>
<li>æ‹–è¿›ä¸€ä¸ª<code>Label</code></li>
<li>æ‹–è¿›ä¸¤ä¸ª<code>Button</code></li>
</ul>
</blockquote>
<p><img src="./å±å¹•å¿«ç…§ 2016-01-26 ä¸‹åˆ10.07.01.png" alt="Alt text"></p>
<h3 id="16-1-2-è§†å›¾ï¼ˆNibæ–‡ä»¶ï¼‰å’Œæ§åˆ¶å™¨å»ºç«‹è¿æ¥"><a href="#16-1-2-è§†å›¾ï¼ˆNibæ–‡ä»¶ï¼‰å’Œæ§åˆ¶å™¨å»ºç«‹è¿æ¥" class="headerlink" title="16.1.2    è§†å›¾ï¼ˆNibæ–‡ä»¶ï¼‰å’Œæ§åˆ¶å™¨å»ºç«‹è¿æ¥"></a>16.1.2    è§†å›¾ï¼ˆNibæ–‡ä»¶ï¼‰å’Œæ§åˆ¶å™¨å»ºç«‹è¿æ¥</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ‰“å¼€è¾…åŠ©çª—å£ï¼Œé€šè¿‡æ‹–æ‹½å®Œæˆ<code>è§†å›¾</code>(<code>Nib</code>æ–‡ä»¶)å’Œ<code>æ§åˆ¶å™¨</code>(<code>ViewController.h</code>)ä¹‹é—´çš„è¿æ¥ã€‚</p>
<ol>
<li>ä»£å¼€è¾…åŠ©çª—å£ï¼š<code>Command+Option+Return</code>æˆ–<code>Editor</code>ç»„ä¸­é—´çš„æŒ‰é’®</li>
<li>ä¸º<code>Text Field</code>å’Œ<code>Label</code>åˆ›å»ºè¾“å‡ºå£ï¼ˆ<code>outlet</code>ï¼‰ï¼šæŒ‰ä½<code>control</code>é”®ï¼Œå°†é¼ æ ‡ä»è§†å›¾ä¸­çš„å›¾åƒå…ƒç´ ä¸€ç›´æ‹–åˆ°<code>ViewController.h</code>ç›¸åº”ä½ç½®<br><img src="./å±å¹•å¿«ç…§ 2016-01-26 ä¸‹åˆ10.01.24 2.png" alt="Alt text"><br><img src="./å±å¹•å¿«ç…§ 2016-01-26 ä¸‹åˆ10.01.30 2.png" alt="Alt text"></li>
<li>ä¸ºä¸¤ä¸ªæŒ‰é’®åˆ›å»º<code>æ“ä½œ</code>(Action)</li>
</ol>
<ul>
<li>Nameï¼šæ“ä½œçš„åç§°</li>
<li>Typeï¼šæ“ä½œæ–¹æ³•å‚æ•°çš„ç±»å‹ï¼ˆé»˜è®¤ä¸º<code>id</code>ï¼‰</li>
<li>Eventï¼šäº‹ä»¶ç±»å‹</li>
<li>Argumentsï¼š<code>None</code>ã€<code>Sender</code>å’Œ<code>Event</code>ï¼ˆåŒ…å«ä¸€ä¸ª<code>UIEvent</code>ç±»å‹çš„å‚æ•°ï¼‰<br><img src="./å±å¹•å¿«ç…§ 2016-01-26 ä¸‹åˆ10.23.36.png" alt="Alt text"></li>
</ul>
</blockquote>
<h3 id="16-1-3-å®Œæˆä»£ç çš„æ‰‹åŠ¨ç¼–å†™éƒ¨åˆ†"><a href="#16-1-3-å®Œæˆä»£ç çš„æ‰‹åŠ¨ç¼–å†™éƒ¨åˆ†" class="headerlink" title="16.1.3    å®Œæˆä»£ç çš„æ‰‹åŠ¨ç¼–å†™éƒ¨åˆ†"></a>16.1.3    å®Œæˆä»£ç çš„æ‰‹åŠ¨ç¼–å†™éƒ¨åˆ†</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åŒ…æ‹¬ç¨‹åºæ ¸å¿ƒåŠŸèƒ½çš„å®ç°ä»¥åŠä¸€äº›äº‹ä»¶çš„å›è°ƒã€‚</p>
</blockquote>
<p><em>ViewController.h</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;UIKit/UIKit.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> : <span class="title">UIViewController</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">weak</span>, <span class="keyword">nonatomic</span>) <span class="keyword">IBOutlet</span> <span class="built_in">UITextField</span> *textField;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">weak</span>, <span class="keyword">nonatomic</span>) <span class="keyword">IBOutlet</span> <span class="built_in">UILabel</span> *resultsField;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">IBAction</span>)uppercase;</span><br><span class="line">- (<span class="keyword">IBAction</span>)lowercase;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>ViewController.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@synthesize</span> textField;</span><br><span class="line"><span class="keyword">@synthesize</span> resultsField;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> *  é‡å†™çˆ¶ç±»çš„ä¾¿åˆ©æ„é€ å™¨ï¼šå®Œæˆè§†å›¾å’Œæ§åˆ¶å™¨çš„ç»‘å®š</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">id</span>)initWithNibName:(<span class="built_in">NSString</span> *)nibNameOrNil bundle:(<span class="built_in">NSBundle</span> *)nibBundleOrNil &#123;</span><br><span class="line">    <span class="keyword">self</span> = [<span class="keyword">super</span> initWithNibName:nibNameOrNil bundle:nibBundleOrNil];</span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">nil</span> != <span class="keyword">self</span>) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"init: text %@ / result %@"</span>, textField, resultsField);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> *  ç³»ç»Ÿåœ¨nibæ–‡ä»¶åŠ è½½å’Œå¯¹è±¡åˆå§‹åŒ–å®Œæˆåè°ƒç”¨ï¼šä»ios 5 ä¸ä¼šå†è°ƒç”¨è¯¥æ–¹æ³•äº†</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>)awakeFromNib &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"awake: text %@ / result %@"</span>, textField, resultsField);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> *  ç³»ç»Ÿåœ¨nibæ–‡ä»¶åŠ è½½å’Œå¯¹è±¡åˆå§‹åŒ–å®Œæˆåè°ƒç”¨</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    <span class="comment">// Do any additional setup after loading the view, typically from a nib.</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"viewDidLoad: text %@ / results %@"</span>, textField, resultsField);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è®¾ç½®è¾“å…¥æ¡†çš„placeholder(å ä½ç¬¦)</span></span><br><span class="line">    [textField setPlaceholder:<span class="string">@"Enter text here"</span>];</span><br><span class="line">    <span class="comment">// è®¾ç½®Labelçš„é»˜è®¤å€¼</span></span><br><span class="line">    resultsField.text = <span class="string">@"Result"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> *  è§†å›¾ä»è§†å›¾å±‚çº§ä¸­ç§»é™¤åä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå¯ä»¥åœ¨è¿™é‡Œåšä¸€äº›å†…å­˜æ¸…ç†çš„äº‹æƒ…</span><br><span class="line"> *  è¯¥æ–¹æ³•å·²è¿‡æ—¶</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>)viewDidUnload &#123;</span><br><span class="line">    [<span class="keyword">self</span> setTextField:<span class="literal">nil</span>];</span><br><span class="line">    [<span class="keyword">self</span> setResultsField:<span class="literal">nil</span>];</span><br><span class="line">    [<span class="keyword">super</span> viewDidUnload];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)didReceiveMemoryWarning &#123;</span><br><span class="line">    [<span class="keyword">super</span> didReceiveMemoryWarning];</span><br><span class="line">    <span class="comment">// Dispose of any resources that can be recreated.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§†å›¾å‡ºç°å‰è°ƒç”¨</span></span><br><span class="line">- (<span class="keyword">void</span>)viewWillAppear:(<span class="built_in">BOOL</span>)animated</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">super</span> viewWillAppear:animated];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è§†å›¾å‡ºç°åè°ƒç”¨</span></span><br><span class="line">- (<span class="keyword">void</span>)viewDidAppear:(<span class="built_in">BOOL</span>)animated</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidAppear:animated];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è§†å›¾æ¶ˆå¤±å‰è°ƒç”¨</span></span><br><span class="line">- (<span class="keyword">void</span>)viewWillDisappear:(<span class="built_in">BOOL</span>)animated</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">super</span> viewWillDisappear:animated];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è§†å›¾æ¶ˆå¤±åè°ƒç”¨</span></span><br><span class="line">- (<span class="keyword">void</span>)viewDidDisappear:(<span class="built_in">BOOL</span>)animated</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidDisappear:animated];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">IBAction</span>)uppercase &#123;</span><br><span class="line">    <span class="built_in">NSString</span> *original = textField.text;</span><br><span class="line">    <span class="built_in">NSString</span> *uppercase = [original uppercaseString];</span><br><span class="line">    resultsField.text = uppercase;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">IBAction</span>)lowercase &#123;</span><br><span class="line">    <span class="built_in">NSString</span> *original = textField.text;</span><br><span class="line">    <span class="built_in">NSString</span> *lowercase = [original lowercaseString];</span><br><span class="line">    resultsField.text = lowercase;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h2 id="16-2-å°ç»“"><a href="#16-2-å°ç»“" class="headerlink" title="16.2    å°ç»“"></a>16.2    å°ç»“</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_15 AppKitç®€ä»‹/" itemprop="url">
                  15 AppKitç®€ä»‹
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T10:41:28+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_15 AppKitç®€ä»‹/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_15 AppKitç®€ä»‹/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>Application Kit</code>ä¸­åŒ…å«<code>Cocoa</code>ä¸­å…³äºç”¨æˆ·ç•Œé¢çš„å¤§é‡èµ„æºã€‚<br><strong>æ³¨æ„ï¼š</strong>å­¦ä¹ è¿™ä¸€ç« èŠ‚æ—¶ï¼Œ<code>Xcode</code>çš„æœ€æ–°ç‰ˆæœ¬æ˜¯<code>7.2</code>ï¼Œéƒ¨åˆ†çŸ¥è¯†å·²ç»è¿‡æ—¶ã€‚æ¯”å¦‚ç›®å‰<code>storyboard</code>å·²ç»åŸºæœ¬å–ä»£äº†<code>xib</code>ã€‚</p>
</blockquote>
<h2 id="15-1-æ„å»ºé¡¹ç›®"><a href="#15-1-æ„å»ºé¡¹ç›®" class="headerlink" title="15.1    æ„å»ºé¡¹ç›®"></a>15.1    æ„å»ºé¡¹ç›®</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸‹é¢æ˜¯é€šè¿‡<code>Xcode</code>æ„å»º<code>Cocoa</code>åº”ç”¨ç¨‹åºé¡¹ç›®çš„æ­¥éª¤ã€‚</p>
<ol>
<li>File-&gt;New-&gt;New Projectï¼ˆCreate a New Xcode Projectï¼‰</li>
<li>å·¦è¾¹åˆ—è¡¨<code>Mac OS X</code>ä¸‹çš„<code>Application</code>é€‰é¡¹-&gt;<code>Cocoa Application</code>-&gt;Next</li>
<li>é¡¹ç›®ä¿¡æ¯</li>
</ol>
<ul>
<li><code>Product Name</code>ï¼šåº”ç”¨åç§°</li>
<li><code>Company Identifier</code>ï¼šä¼ä¸šæ ‡è¯†ç¬¦ï¼Œç”¨æ¥åŒºåˆ†åº”ç”¨ç¨‹åº</li>
<li><code>Class Prefix</code>ï¼šä¼ªå‘½åç©ºé—´ï¼Œé¿å…æ–‡ä»¶åå†²çª</li>
</ul>
<ol>
<li>å¤é€‰æ¡†</li>
</ol>
<ul>
<li><code>Create Document-Based Application</code></li>
<li><code>Use Core Data</code></li>
<li><code>Include Unit Test</code></li>
<li><code>Use Automatic Reference Counting</code></li>
</ul>
</blockquote>
<h2 id="15-2-åˆ›å»ºå§”æ‰˜æ–‡ä»¶-interfaceéƒ¨åˆ†"><a href="#15-2-åˆ›å»ºå§”æ‰˜æ–‡ä»¶-interfaceéƒ¨åˆ†" class="headerlink" title="15.2    åˆ›å»ºå§”æ‰˜æ–‡ä»¶@interfaceéƒ¨åˆ†"></a>15.2    åˆ›å»ºå§”æ‰˜æ–‡ä»¶<code>@interface</code>éƒ¨åˆ†</h2><blockquote>
<p><strong><code>Interface Builder</code>ï¼š</strong>ç®€ç§°<code>IB</code>ï¼Œç”¨å¯è§†åŒ–çš„æ–¹å¼ä¸º<code>OS X</code>å’Œ<code>iOS</code>å¸ƒå±€çª—å£å†…å®¹ï¼Œæ„å»ºç”¨æˆ·ç•Œé¢ã€‚<br><strong><code>IBOutlet</code>å’Œ<code>IBAction</code>ï¼š</strong>è¿™ä¸¤ä¸ªå…³é”®å­—ä¼šç»å¸¸å‡ºç°åœ¨ä»£ç ä¸­ï¼Œç”¨äº</p>
<ul>
<li>ä¸º<code>Interface Builder</code>æä¾›æ ‡è®°</li>
<li>å¸®åŠ©é˜…è¯»ä»£ç </li>
</ul>
</blockquote>
<h2 id="15-3-Interface-Builder"><a href="#15-3-Interface-Builder" class="headerlink" title="15.3    Interface Builder"></a>15.3    Interface Builder</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šè¿‡<code>.xib</code>æ–‡ä»¶å°±å¯ä»¥æ‰“å¼€<code>IB</code>çš„å¯è§†åŒ–ç¼–è¾‘å™¨ã€‚</p>
<ul>
<li><strong>nibæ–‡ä»¶ï¼š</strong>ç¼–è¯‘æ—¶ï¼Œ<code>.xib</code>(<code>XML</code>æ ¼å¼)æ–‡ä»¶ä¼šè¢«ç¼–è¯‘ä¸º<code>nib(NeXT Interface Builder)</code>æ–‡ä»¶ï¼Œå®ƒæ˜¯åŒ…å«äº†å‹ç¼©å¯¹è±¡çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œ</li>
<li><strong>å¯¹è±¡åº“ï¼š</strong>åŒ…å«äº†å¤§é‡å¯ä»¥æ‹–å…¥çª—å£çš„ä¸åŒç±»å‹çš„å¯¹è±¡ã€‚</li>
</ul>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-25%20%E4%B8%8B%E5%8D%8810.17.36.png" alt="Alt text"></p>
</blockquote>
<h2 id="15-4-è®¾è®¡ç”¨æˆ·ç•Œé¢"><a href="#15-4-è®¾è®¡ç”¨æˆ·ç•Œé¢" class="headerlink" title="15.4    è®¾è®¡ç”¨æˆ·ç•Œé¢"></a>15.4    è®¾è®¡ç”¨æˆ·ç•Œé¢</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯¹ç”¨æˆ·ç•Œé¢è¿›è¡Œå¸ƒå±€</p>
<ol>
<li>æ‹–å…¥ä¸€ä¸ª<code>Text Filed</code></li>
<li>æ‹–å…¥ä¸€ä¸ª<code>Label</code></li>
<li>æ‹–å…¥ä¸€ä¸ª<code>push button</code></li>
</ol>
</blockquote>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-25%20%E4%B8%8B%E5%8D%8810.42.36.png" alt="Alt text"></p>
<h2 id="15-5-åˆ›å»ºè¿æ¥"><a href="#15-5-åˆ›å»ºè¿æ¥" class="headerlink" title="15.5    åˆ›å»ºè¿æ¥"></a>15.5    åˆ›å»ºè¿æ¥</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†<code>ä»£ç </code>ä¸åˆšåˆ›å»ºçš„<code>ç”¨æˆ·ç•Œé¢å…ƒç´ </code>ç›¸è¿æ¥ã€‚</p>
</blockquote>
<h3 id="15-5-1-è¿æ¥è¾“å‡ºå£ï¼ˆIBOutletï¼‰"><a href="#15-5-1-è¿æ¥è¾“å‡ºå£ï¼ˆIBOutletï¼‰" class="headerlink" title="15.5.1    è¿æ¥è¾“å‡ºå£ï¼ˆIBOutletï¼‰"></a>15.5.1    è¿æ¥è¾“å‡ºå£ï¼ˆIBOutletï¼‰</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šè¿‡æ‹–åŠ¨è‡ªåŠ¨ç”Ÿæˆç•Œé¢å…ƒç´ å¯¹åº”çš„ä»£ç ã€‚ä»¥å…¶ä¸­çš„<code>Text Field</code>ä¸ºä¾‹å­</p>
<ol>
<li>æ‰“å¼€è¾…åŠ©ç¼–è¾‘å™¨</li>
<li>æŒ‰ä½<code>Control</code>é”®å°†å…‰æ ‡ä»<code>æ–‡æœ¬æ¡†</code>æ‹–åŠ¨åˆ°<code>å¤´æ–‡ä»¶</code>ä¸­<code>@property</code>é‚£ä¸€è¡Œçš„ä¸‹é¢</li>
<li>å‡ºç°<code>Insert Outlet orAction</code>æç¤ºæ¶ˆæ¯æ—¶æ¾å¼€é¼ æ ‡</li>
<li>åœ¨å¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­è¾“å…¥<code>textField</code>ï¼Œç‚¹å‡»<code>Connect</code></li>
</ol>
</blockquote>
<h3 id="15-5-2-è¿æ¥æ“ä½œï¼ˆIBActionï¼‰"><a href="#15-5-2-è¿æ¥æ“ä½œï¼ˆIBActionï¼‰" class="headerlink" title="15.5.2    è¿æ¥æ“ä½œï¼ˆIBActionï¼‰"></a>15.5.2    è¿æ¥æ“ä½œï¼ˆIBActionï¼‰</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†æŒ‰é’®è¿æ¥åˆ°æ“ä½œï¼Œè¿™æ ·æŒ‰ä¸‹æŒ‰é’®å°±ä¼šè§¦å‘ä»£ç ã€‚ä»¥<code>UpperCae</code>æŒ‰é’®ä¸ºä¾‹</p>
<ol>
<li>æŒ‰ä½<code>Control</code>é”®å’Œ<code>UpperCase</code>æŒ‰é’®</li>
<li>æ‹–åŠ¨ä¸€æ¡ç›´çº¿åˆ°<code>å¤´æ–‡ä»¶</code>çš„æœ€åä¸€è¡Œ<code>@property</code>è¯­å¥ä¸‹</li>
<li>å¼¹å‡ºè¿æ¥å¯¹è¯æ¡†ï¼Œé€‰æ‹©<code>Action</code>ç±»å‹</li>
<li>åœ¨Nameæ–‡æœ¬æ¡†ä¸­è¾“å…¥<code>uppercase</code>ï¼Œå¹¶ç‚¹å‡»<code>Connect</code>(è‡ªåŠ¨åœ¨å¤´æ–‡ä»¶ä¸­åˆ›å»ºæ–¹æ³•çš„å£°æ˜ï¼Œå¹¶åœ¨å®ç°æ–‡ä»¶ä¸­åˆ›å»ºæ–¹æ³•çš„å®ç°)</li>
</ol>
</blockquote>
<h2 id="15-6-åº”ç”¨ç¨‹åºå§”æ‰˜çš„å®ç°"><a href="#15-6-åº”ç”¨ç¨‹åºå§”æ‰˜çš„å®ç°" class="headerlink" title="15.6    åº”ç”¨ç¨‹åºå§”æ‰˜çš„å®ç°"></a>15.6    åº”ç”¨ç¨‹åºå§”æ‰˜çš„å®ç°</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>IBOutlet</code>çš„å·¥ä½œæ–¹å¼</p>
<ol>
<li>åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶ï¼Œ<code>MainMenu.nib</code>è¢«è‡ªåŠ¨åŠ è½½ï¼Œç•Œé¢å¯¹è±¡è¢«åˆ›å»º</li>
<li>åˆ†é…å¹¶åˆå§‹åŒ–<code>MSCApplelegate</code>å®ä¾‹ï¼ˆ<code>IBOutlet</code>çš„å®ä¾‹å˜é‡ï¼‰</li>
<li>å»ºç«‹è¿æ¥ï¼šå°†<code>NSTextField</code>ç­‰å¯¹è±¡çš„åœ°å€æ·»åŠ åˆ°<code>MSCAppDelegate</code>å®ä¾‹å˜é‡ä¸­ï¼Œç„¶ååƒæ¯ä¸ªæ¯ä¸ª<code>ç•Œé¢å¯¹è±¡</code>å‘é€<code>awakeFromNib</code>æ¶ˆæ¯ã€‚</li>
</ol>
</blockquote>
<p><em>MSCAppDelegate.h</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Cocoa/Cocoa.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">MSCAppDelegate</span> : <span class="title">NSObject</span> &lt;<span class="title">NSApplicationDelegate</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">assign</span>) <span class="keyword">IBOutlet</span> <span class="built_in">NSWindow</span> *window;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">weak</span>) <span class="keyword">IBOutlet</span> <span class="built_in">NSTextField</span> *textField;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">weak</span>) <span class="keyword">IBOutlet</span> <span class="built_in">NSTextField</span> *resultsField;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">IBAction</span>)uppercase:(<span class="keyword">id</span>)sender;</span><br><span class="line">- (<span class="keyword">IBAction</span>)lowercase:(<span class="keyword">id</span>)sender;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>MSCAppDelegate.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"MSCAppDelegate.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">MSCAppDelegate</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@synthesize</span> window = _window;</span><br><span class="line"><span class="keyword">@synthesize</span> textField = _textField;</span><br><span class="line"><span class="keyword">@synthesize</span> resultsField = _resultsField;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>)init &#123;</span><br><span class="line">	<span class="keyword">if</span> (<span class="literal">nil</span> != (<span class="keyword">self</span> = [<span class="keyword">super</span> init])) &#123;</span><br><span class="line">        <span class="comment">// æ­¤æ—¶è¿˜æ²¡å’Œç•Œé¢å¯¹è±¡å»ºç«‹è¿æ¥ï¼Œå› æ­¤éƒ½æ˜¯ nil</span></span><br><span class="line">		<span class="built_in">NSLog</span> (<span class="string">@"init: text %@ / results %@"</span>, _textField, _resultsField);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">self</span>;	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * å¯¹ç•Œé¢å¯¹è±¡è¿›è¡Œä¸€äº›åˆå§‹åŒ–å·¥ä½œ</span><br><span class="line"> * è¿æ¥å»ºç«‹åä¼šè¢«è°ƒç”¨</span><br><span class="line"> *  @override</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>)awakeFromNib &#123;</span><br><span class="line">	<span class="built_in">NSLog</span> (<span class="string">@"awake: text %@ / results %@"</span>, _textField, _resultsField);</span><br><span class="line">	</span><br><span class="line">	[_textField setStringValue:<span class="string">@"Enter text here"</span>];</span><br><span class="line">	[_resultsField setStringValue:<span class="string">@"Results"</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)applicationDidFinishLaunching:(<span class="built_in">NSNotification</span> *)aNotification &#123;</span><br><span class="line">    <span class="comment">// Insert code here to initialize your application</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">IBAction</span>)uppercase:(<span class="keyword">id</span>)sender &#123;</span><br><span class="line">	<span class="built_in">NSString</span> *original = [_textField stringValue];</span><br><span class="line">	<span class="built_in">NSString</span> *uppercase = [original uppercaseString];</span><br><span class="line">	[_resultsField setStringValue:uppercase];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">IBAction</span>)lowercase:(<span class="keyword">id</span>)sender &#123;</span><br><span class="line">	<span class="built_in">NSString</span> *original = [_textField stringValue];</span><br><span class="line">	<span class="built_in">NSString</span> *lowercase = [original lowercaseString];</span><br><span class="line">	[_resultsField setStringValue:lowercase];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h2 id="15-7-å°ç»“"><a href="#15-7-å°ç»“" class="headerlink" title="15.7    å°ç»“"></a>15.7    å°ç»“</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_14 ä»£ç å—å’Œå¹¶å‘æ€§/" itemprop="url">
                  14 ä»£ç å—å’Œå¹¶å‘è¡Œ
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T10:41:10+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_14 ä»£ç å—å’Œå¹¶å‘æ€§/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_14 ä»£ç å—å’Œå¹¶å‘æ€§/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="14-1-ä»£ç å—"><a href="#14-1-ä»£ç å—" class="headerlink" title="14.1    ä»£ç å—"></a>14.1    ä»£ç å—</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>ä»£ç å—</code>æ˜¯ç”±Cè¯­è¨€å®ç°çš„ï¼Œæ˜¯å¯¹Cè¯­è¨€ä¸­å‡½æ•°çš„æ‰©å±•ã€‚<br><strong>æ”¯æŒçš„è¯­è¨€ï¼š</strong><code>Objective-C</code>ã€<code>C</code> ã€<code>C++</code>ã€<code>Objective-C++</code><br><strong>ç”¨é€”ï¼š</strong><code>æ›¿ä»£å‡½æ•°</code>æˆ–å®ç°<code>é—­åŒ…</code><br><strong>ç°çŠ¶ï¼š</strong><code>ä»£ç å—</code>åœ¨<code>Xcode</code>çš„<code>GCC</code>å’Œ<code>CLang</code>å·¥å…·ä¸­æ˜¯æœ‰æ•ˆçš„ï¼Œä½†å®ƒä¸å±äº<code>ANSI</code>çš„<code>C</code>è¯­è¨€æ ‡å‡†ã€‚å…³äºä»£ç å—çš„æè®®å·²ç»æäº¤ç»™Cè¯­è¨€æ ‡å‡†å›¢ä½“ã€‚</p>
</blockquote>
<h3 id="14-1-1-ä»£ç å—å’Œå‡½æ•°æŒ‡é’ˆ"><a href="#14-1-1-ä»£ç å—å’Œå‡½æ•°æŒ‡é’ˆ" class="headerlink" title="14.1.1    ä»£ç å—å’Œå‡½æ•°æŒ‡é’ˆ"></a>14.1.1    ä»£ç å—å’Œå‡½æ•°æŒ‡é’ˆ</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>ä»£ç å—</code>çš„è¯­æ³•å€Ÿé‰´äº†<code>å‡½æ•°æŒ‡é’ˆ</code></p>
<ul>
<li><strong>è¿”å›ç±»å‹</strong>å¯ä»¥æ‰‹åŠ¨å£°æ˜ä¹Ÿå¯ä»¥ç”±ç¼–è¯‘å™¨é€šè¿‡ä»£ç å—æ¨å¯¼</li>
<li>å…·æœ‰æŒ‡å®šç±»å‹çš„<strong>å‚æ•°</strong>åˆ—è¡¨</li>
<li>æ‹¥æœ‰<strong>åç§°</strong></li>
<li>ä»£ç æ”¾åœ¨<code>{}</code>ä¸­</li>
</ul>
<p><strong>è¯­æ³•ï¼š</strong><code>&lt;returntype&gt; (^blockname)(list of arguments) = ^(arguments){body;}</code><br><em>å®ç°éƒ¨åˆ†æ¨å¯¼å‡ºè¿”å›å€¼ç±»å‹</em></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®ç°éƒ¨åˆ†çœç•¥äº†è¿”å›å€¼ç±»å‹ï¼Œæ²¡æœ‰å‚æ•°åˆ—è¡¨</span></span><br><span class="line"><span class="keyword">void</span> (^theBlock)() = ^&#123;</span><br><span class="line">	printf(<span class="string">"Hello Blocks!"</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* å®šä¹‰å¹¶å®ç°ä»£ç å— square_block</span><br><span class="line">* è®¡ç®—ä¹˜æ–¹</span><br><span class="line">* @param &#123;int&#125; number æ•°å€¼</span><br><span class="line">* @return &#123;int&#125; number ä¹˜æ–¹ç»“æœ</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">int</span> (^square_block)(<span class="keyword">int</span> number) = ^(<span class="keyword">int</span> number) &#123;</span><br><span class="line">	<span class="keyword">return</span> (number * number);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// è°ƒç”¨ä»£ç å—</span></span><br><span class="line"><span class="keyword">int</span> result = square_block(<span class="number">5</span>);</span><br><span class="line">printf(<span class="string">"Result = %d\n"</span>, result);</span><br></pre></td></tr></table></figure>
<h4 id="14-1-1-1-é€šè¿‡ä»£ç å—åè°ƒç”¨ä»£ç å—"><a href="#14-1-1-1-é€šè¿‡ä»£ç å—åè°ƒç”¨ä»£ç å—" class="headerlink" title="14.1.1.1    é€šè¿‡ä»£ç å—åè°ƒç”¨ä»£ç å—"></a>14.1.1.1    é€šè¿‡ä»£ç å—åè°ƒç”¨ä»£ç å—</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯ä»¥åƒè°ƒç”¨<code>å‡½æ•°</code>ä¸€æ ·è°ƒç”¨<code>ä»£ç å—</code>ã€‚<br><strong>æ¯”å‡½æ•°å¼ºå¤§ï¼š</strong>ä»£ç å—å¯ä»¥è®¿é—®ä¸å®ƒç›¸åŒçš„æœ‰æ•ˆèŒƒå›´å†…å£°æ˜çš„å˜é‡ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜å¹¶åˆå§‹åŒ–å˜é‡ï¼šå£°æ˜æ—¶çš„ä½œç”¨åŸŸå’Œä»£ç å—ç›¸åŒ</span></span><br><span class="line"><span class="keyword">int</span> value = <span class="number">6</span>;</span><br><span class="line"><span class="comment">// å®šä¹‰å¹¶å®ç°ä»£ç å—</span></span><br><span class="line"><span class="keyword">int</span> (^multiply_block)(<span class="keyword">int</span> number) = ^(<span class="keyword">int</span> number) &#123;</span><br><span class="line">	<span class="comment">// è®¿é—®å¤–éƒ¨åŒä½œç”¨åŸŸå£°æ˜çš„å˜é‡</span></span><br><span class="line">	<span class="keyword">return</span> (value * number);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="14-1-1-2-ç›´æ¥è°ƒç”¨ä»£ç å—ï¼ˆåŒ¿åï¼‰"><a href="#14-1-1-2-ç›´æ¥è°ƒç”¨ä»£ç å—ï¼ˆåŒ¿åï¼‰" class="headerlink" title="14.1.1.2    ç›´æ¥è°ƒç”¨ä»£ç å—ï¼ˆåŒ¿åï¼‰"></a>14.1.1.2    ç›´æ¥è°ƒç”¨ä»£ç å—ï¼ˆåŒ¿åï¼‰</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä½¿ç”¨ä»£ç å—æ—¶é€šå¸¸ä¸éœ€è¦åˆ›å»ºä¸€ä¸ªä»£ç å—å˜é‡ï¼Œè€Œæ˜¯åœ¨ä»£ç ä¸­å†…è”ä»£ç å—çš„å†…å®¹ã€‚<br><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong>ä½œä¸ºå‚æ•°ä¼ é€’ç»™æ–¹æ³•æˆ–å‡½æ•°</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•°ç»„</span></span><br><span class="line"><span class="built_in">NSArray</span> *array = [<span class="built_in">NSArray</span> arrayWithObjects: <span class="string">@"Amir"</span>, <span class="string">@"Mishal"</span>, <span class="string">@"Irrum"</span>, <span class="string">@"Adam"</span>, <span class="literal">nil</span>];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"Unsorted Array %@"</span>, array);</span><br><span class="line"><span class="comment">// ä¼ é€’åŒ¿åä»£ç å—</span></span><br><span class="line"><span class="built_in">NSArray</span> *soredArray = [array sortedArrayUsingComparator: ^(<span class="built_in">NSString</span> *object1, <span class="built_in">NSString</span> *object2)] &#123;</span><br><span class="line">	<span class="keyword">return</span> [object1 compare: object2];</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"Sorted Array %@"</span>, sortedArray);</span><br></pre></td></tr></table></figure>
<h4 id="14-1-1-3-ä½¿ç”¨typedefå…³é”®å­—"><a href="#14-1-1-3-ä½¿ç”¨typedefå…³é”®å­—" class="headerlink" title="14.1.1.3    ä½¿ç”¨typedefå…³é”®å­—"></a>14.1.1.3    ä½¿ç”¨<code>typedef</code>å…³é”®å­—</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†<code>ä»£ç å—</code>å£°æ˜å®šä¹‰ä¸ºä¸€ç§ç±»å‹ï¼Œæ›´æ˜“äºä»£ç çš„ç¼–å†™ã€‚<br><strong>è¯­æ³•ï¼š</strong><code>typedef ä»£ç å—å®šä¹‰;</code><br><strong>æ³¨æ„ï¼š</strong><code>typedef</code>åé¢çš„<code>ä»£ç å—</code>å®šä¹‰ä¸­çš„ä»£ç å—åä¸å†å…·å¤‡<code>ä»£ç å—å</code>çš„åŠŸèƒ½ï¼Œè€Œæ˜¯ä¸€ç§ç±»å‹åã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å°†ä»£ç å—å®šä¹‰ä¸ºä¸€ç§ç±»å‹ï¼š MKSampleMultiply2BlockRef</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">double</span> (^<span class="built_in">MKSampleMultiply2BlockRef</span>)(<span class="keyword">double</span> c, <span class="keyword">double</span> d);</span><br><span class="line"><span class="comment">// ä½¿ç”¨æ–°ç±»å‹åˆ›å»ºä»£ç å—</span></span><br><span class="line"><span class="built_in">MKSampleMultiply2BlockRef</span> multiply2 = ^(<span class="keyword">double</span> c, <span class="keyword">double</span> d) &#123;</span><br><span class="line">	<span class="keyword">return</span> c * d;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// è°ƒç”¨ä»£ç å—</span></span><br><span class="line">printf(<span class="string">"%f, %f"</span>, multiply2(<span class="number">4</span>, <span class="number">5</span>), multiply2(<span class="number">5</span>, <span class="number">2</span>));</span><br></pre></td></tr></table></figure>
<h4 id="14-1-1-4-ä»£ç å—å’Œå˜é‡"><a href="#14-1-1-4-ä»£ç å—å’Œå˜é‡" class="headerlink" title="14.1.1.4    ä»£ç å—å’Œå˜é‡"></a>14.1.1.4    ä»£ç å—å’Œå˜é‡</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä»£ç å—è¢«å£°æ˜åä¼šæ•æ‰åˆ°åˆ›å»ºæ—¶çš„ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡æˆ–å‡½æ•°ã€‚</p>
<ul>
<li>å…¨å±€å˜é‡ï¼ˆåŒ…æ‹¬åœ¨å°é—­èŒƒå›´å†…å£°æ˜çš„æœ¬åœ°é™æ€å˜é‡ï¼‰</li>
<li>å…¨å±€å‡½æ•°</li>
<li>å°é—­èŒƒå›´å†…çš„å‚æ•°</li>
<li><code>Objective-C</code>çš„å®ä¾‹å˜é‡</li>
<li>ä»£ç å—å†…éƒ¨çš„æœ¬åœ°å˜é‡</li>
</ul>
</blockquote>
<h5 id="æœ¬åœ°å˜é‡"><a href="#æœ¬åœ°å˜é‡" class="headerlink" title="æœ¬åœ°å˜é‡"></a>æœ¬åœ°å˜é‡</h5><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸ä»£ç å—åœ¨åŒä¸€èŒƒå›´å†…å£°æ˜çš„å˜é‡ã€‚<br><strong>æ•è·æƒ…å†µï¼š</strong>ä»£ç å—ä¼šåœ¨å®šä¹‰æ—¶æŠŠæœ¬åœ°å˜é‡å½“ä½œ<code>å¸¸é‡</code>å¤åˆ¶å¹¶ä¿å­˜å®ƒä»¬çš„çŠ¶æ€ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ä»£ç å—ç±»å‹</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">double</span> (^<span class="built_in">MKSampleMultiplyBlockRef</span>)(<span class="keyword">void</span>);</span><br><span class="line"><span class="comment">// æœ¬åœ°å˜é‡</span></span><br><span class="line"><span class="keyword">double</span> a = <span class="number">10</span>, b = <span class="number">20</span>;</span><br><span class="line"><span class="comment">// å£°æ˜å¹¶å®ç°ä»£ç å—ï¼Œå¤åˆ¶å¹¶ä¿å­˜çŠ¶æ€</span></span><br><span class="line"><span class="built_in">MKSampleMultiplyBlockRef</span> multiply = ^(<span class="keyword">void</span>) &#123;</span><br><span class="line">	reutrn a * b;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// è°ƒç”¨ä»£ç å—</span></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%f"</span>, multiply());<span class="comment">// 200</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¿®æ”¹æœ¬åœ°å˜é‡</span></span><br><span class="line">a = <span class="number">20</span>;</span><br><span class="line">b = <span class="number">50</span>;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%f"</span>, multiply());<span class="comment">// 200</span></span><br></pre></td></tr></table></figure>
<h5 id="å…¨å±€å˜é‡"><a href="#å…¨å±€å˜é‡" class="headerlink" title="å…¨å±€å˜é‡"></a>å…¨å±€å˜é‡</h5><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯ä»¥æ ¹æ®éœ€è¦å°†å˜é‡æ ‡è®°ä¸º<code>é™æ€çš„ï¼ˆå…¨å±€çš„ï¼‰</code>ã€‚<br><strong>æ•è·æƒ…å†µï¼š</strong>åŒæœ¬åœ°å˜é‡ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">double</span> a = <span class="number">10</span>, b = <span class="number">20</span>;</span><br><span class="line"><span class="built_in">MKSimpleMultiplyBlockRef</span> multiply = ^(<span class="keyword">void</span>) &#123;</span><br><span class="line">	<span class="keyword">return</span> a * b;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%f"</span>, multiply());<span class="comment">// 200</span></span><br></pre></td></tr></table></figure>
<h5 id="å‚æ•°å˜é‡"><a href="#å‚æ•°å˜é‡" class="headerlink" title="å‚æ•°å˜é‡"></a>å‚æ•°å˜é‡</h5><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä»£ç å—ä¸­çš„å‚æ•°å˜é‡ä¸å‡½æ•°ä¸­çš„å‚æ•°å˜é‡å…·æœ‰ç›¸åŒçš„ä½œç”¨ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ä»£ç å—ç±»å‹</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">double</span> (^<span class="built_in">MKSampleMultiply2BlockRef</span>)(<span class="keyword">double</span> c, <span class="keyword">double</span> d);</span><br><span class="line"><span class="comment">// å£°æ˜å¹¶å®ç°ä»£ç å—</span></span><br><span class="line"><span class="built_in">MKSimpleMultiply2BlockRef</span> multiply2 = ^(<span class="keyword">double</span> c, <span class="keyword">double</span> d) &#123;</span><br><span class="line">	<span class="keyword">return</span> c * d;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// è°ƒç”¨ä»£ç å—</span></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%f, %f"</span>, multiply2(<span class="number">4</span>, <span class="number">5</span>), multiply2(<span class="number">5</span>, <span class="number">2</span>));</span><br></pre></td></tr></table></figure>
<h5 id="blockå˜é‡"><a href="#blockå˜é‡" class="headerlink" title="_blockå˜é‡"></a>_blockå˜é‡</h5><blockquote>
<p><strong>å…³é”®å­—ï¼š</strong><code>_block</code><br><strong>è¯´æ˜ï¼š</strong><code>æœ¬åœ°å˜é‡</code>ä¼šè¢«<code>ä»£ç å—</code>å½“ä½œ<code>å¸¸é‡</code>è·å–åˆ°ï¼Œå¦‚æœæƒ³è¦ä¿®æ”¹å®ƒä»¬çš„å€¼ï¼Œå¿…é¡»é€šè¿‡<code>_black</code>å°†å®ƒä»¬å£°æ˜ä¸º<code>å¯ä¿®æ”¹</code>çš„ã€‚<br><strong>é™åˆ¶ï¼š</strong>ç”±ä¸¤ç§æƒ…å†µä¸èƒ½ä½¿ç”¨<code>_block</code>ä¿®é¥°</p>
<ul>
<li>é•¿åº¦å¯å˜æ•°ç»„</li>
<li>åŒ…å«é•¿åº¦å¯å˜æ•°ç»„çš„ç»“æ„ä½“</li>
</ul>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”¨_block ä¿®é¥°ï¼Œä½¿å˜é‡ c åœ¨ä»£ç å—ä¸­çš„å‰¯æœ¬å¯ä¿®æ”¹</span></span><br><span class="line">_block <span class="keyword">double</span> c = <span class="number">3</span>;</span><br><span class="line"><span class="built_in">MKSampleMultiplyBlockRef</span> multiply = ^(<span class="keyword">double</span> a, <span class="keyword">double</span> b) &#123;</span><br><span class="line">	c = a * b;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h5 id="ä»£ç å—å†…éƒ¨çš„æœ¬åœ°å˜é‡"><a href="#ä»£ç å—å†…éƒ¨çš„æœ¬åœ°å˜é‡" class="headerlink" title="ä»£ç å—å†…éƒ¨çš„æœ¬åœ°å˜é‡"></a>ä»£ç å—å†…éƒ¨çš„æœ¬åœ°å˜é‡</h5><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯¹<code>ä»£ç å—æ¥è¯´</code>ï¼Œå’Œ<code>æœ¬åœ°å˜é‡</code>ä¸€æ ·ä½¿ç”¨ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰å¹¶å®ç°ä»£ç å—</span></span><br><span class="line"><span class="keyword">void</span> (^<span class="built_in">MKSampleBlockRef</span>)(<span class="keyword">void</span>) = ^(<span class="keyword">void</span>)&#123;</span><br><span class="line">	<span class="keyword">double</span> a = <span class="number">4</span>;</span><br><span class="line">	<span class="keyword">double</span> c = <span class="number">2</span>;</span><br><span class="line">	<span class="built_in">NSLog</span>(<span class="string">@"%f"</span>, a * c);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// è°ƒç”¨ä»£ç å—</span></span><br><span class="line"><span class="built_in">MKSimpleBlockRef</span>();</span><br></pre></td></tr></table></figure>
<h3 id="14-1-2-Objective-Cä»£ç å—å†…å­˜ç®¡ç†"><a href="#14-1-2-Objective-Cä»£ç å—å†…å­˜ç®¡ç†" class="headerlink" title="14.1.2    Objective-Cä»£ç å—å†…å­˜ç®¡ç†"></a>14.1.2    Objective-Cä»£ç å—å†…å­˜ç®¡ç†</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä»£ç å—æ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥å¯ä»¥å‘å®ƒå‘é€ä»»ä½•ä¸å†…å­˜ç®¡ç†ç”±å…³çš„ä¿¡æ¯ã€‚</p>
<ul>
<li>å¦‚æœå¼•ç”¨äº†ä¸€ä¸ª<code>Objective-C</code>å¯¹è±¡ï¼Œå¿…é¡»è¦<code>ä¿ç•™</code>å®ƒ</li>
<li>å¦‚æœç±»çš„æ–¹æ³•ä¸­çš„<code>ä»£ç å—</code>é€šè¿‡å¼•ç”¨è®¿é—®äº†ä¸€ä¸ªå®ä¾‹å˜é‡ï¼Œè¦<code>ä¿ç•™</code>ä¸€æ¬¡<code>self</code>ï¼ˆæ‰§è¡Œæ‰€åœ¨æ–¹æ³•çš„å¯¹è±¡ï¼‰</li>
<li>å¦‚æœé€šè¿‡æ•°å€¼è®¿é—®äº†ä¸€ä¸ªå®ä¾‹å˜é‡ï¼Œå˜é‡éœ€è¦<code>ä¿ç•™</code></li>
</ul>
</blockquote>
<p><em>ProcessString.hï¼šæ–¹æ³•ä¸­åŒ…å«ä»£ç å—çš„ç±»</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ProcessStrings</span> : <span class="title">NSObject</span></span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">strong</span>) <span class="built_in">NSString</span> *theString;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)testMyString;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>ProcessString.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"ProcessStrings.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ProcessStrings</span></span></span><br><span class="line"><span class="keyword">@synthesize</span> theString = _theString;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)testMyString</span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">// ä»£ç å—1</span></span><br><span class="line">    <span class="built_in">NSString</span> *string1 = ^&#123;</span><br><span class="line">    	<span class="comment">// è§„åˆ™2ï¼šç›´æ¥é€šè¿‡å¼•ç”¨ï¼ˆå®ä¾‹å˜é‡åï¼‰è®¿é—®äº†å®ä¾‹å˜é‡ï¼Œè‹¥æ²¡æœ‰ARCåˆ™åº”è¯¥ä¿ç•™self</span></span><br><span class="line">        <span class="keyword">return</span> [_theString stringByAppendingString:_theString];</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">NSString</span> *localObject = _theString;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä»£ç å—2</span></span><br><span class="line">    <span class="built_in">NSString</span> *string2 = ^&#123;</span><br><span class="line">    	<span class="comment">// è§„åˆ™3: é€šè¿‡ä¸­é—´å˜é‡é—´æ¥è®¿é—®äº†å®ä¾‹å˜é‡ï¼Œå¦‚æœæ²¡æœ‰ARCåˆ™è¦ä¿ç•™localObject</span></span><br><span class="line">        <span class="keyword">return</span> [localObject stringByAppendingString:localObject];</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>main.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ProcessStrings.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">@autoreleasepool</span></span><br><span class="line">    &#123;</span><br><span class="line">        ProcessStrings *myStringProcessor = [[ProcessStrings alloc] init];</span><br><span class="line">        myStringProcessor.theString = <span class="string">@"Hello Objective Blocks!"</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è°ƒç”¨å¯¹è±¡ä¸­åŒ…å«ä»£ç å—çš„æ–¹æ³•</span></span><br><span class="line">        [myStringProcessor testMyString];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>æ‰©å±•ï¼š</strong>åœ¨Cè¯­è¨€ä¸­ï¼Œå¿…é¡»ä½¿ç”¨<code>Block_copy()</code>å’Œ<code>Block_release()</code>å‡½æ•°æ¥é€‚å½“åœ°ç®¡ç†å†…å­˜ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">void</span> (^<span class="built_in">MKSampleVoidBlockRef</span>)(<span class="keyword">void</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">@autoreleasepool</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">MKSampleVoidBlockRef</span> block1 = ^&#123;</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"Block1"</span>);</span><br><span class="line">        &#125;;</span><br><span class="line">        block1();</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">MKSampleVoidBlockRef</span> block2 = ^&#123;</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"Block2"</span>);</span><br><span class="line">        &#125;;</span><br><span class="line">        block2();</span><br><span class="line">        Block_release(block2);</span><br><span class="line">        </span><br><span class="line">        block2 = Block_copy(block1);</span><br><span class="line">        block2();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="14-2-å¹¶å‘æ€§"><a href="#14-2-å¹¶å‘æ€§" class="headerlink" title="14.2    å¹¶å‘æ€§"></a>14.2    å¹¶å‘æ€§</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>èƒ½å¤Ÿåœ¨åŒä¸€æ—¶é—´æ‰§è¡Œå¤šä¸ªä»»åŠ¡çš„ç¨‹åºç§°ä¸º<code>å¹¶å‘çš„(concurrent)</code>ç¨‹åºã€‚è‹¹æœå…¬å¸æä¾›äº†å¤šç§å¯ä»¥åˆ©ç”¨å¤šæ ¸ç‰¹æ€§çš„<code>API</code>ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>ç›¸å…³æŠ€æœ¯é€‰æ‹©</th>
<th>è¯´æ˜</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>POSIXçº¿ç¨‹</td>
<td>åˆ©ç”¨å¹¶å‘è¡Œæœ€åŸºç¡€çš„æ–¹æ³•æ˜¯ä½¿ç”¨<code>POSIX</code>çº¿ç¨‹æ¥å¤„ç†ç¨‹åºçš„ä¸åŒéƒ¨åˆ†ä½¿å…¶èƒ½å¤Ÿç‹¬ç«‹è¿è¡Œã€‚<code>POSIXçº¿ç¨‹</code>æ‹¥æœ‰æ”¯æŒ<code>C</code>å’Œ<code>Objective-C</code>çš„APIã€‚</td>
<td>å› ä¸ºçº¿ç¨‹æ˜¯çº§åˆ«è¾ƒä½çš„APIï¼Œå¿…é¡»æ‰‹åŠ¨ç®¡ç†ï¼ŒæŒ‘æˆ˜å¾ˆå¤§</td>
</tr>
<tr>
<td>GDC(Grand Central Dipatch)</td>
<td>è¿è¡Œåœ¨ç³»ç»Ÿçº§åˆ«ï¼Œå‡å°‘äº†ä¸å°‘çº¿ç¨‹ç®¡ç†çš„éº»çƒ¦</td>
<td>å¯ä»¥å¹³è¡¡åº”ç”¨ç¨‹åºæ‰€æœ‰å†…åŒçš„å®¶åœ¨ï¼Œä»è€Œæé«˜è®¡ç®—æœºæˆ–è®¾å¤‡çš„è¿è¡Œæ•ˆç‡</td>
</tr>
</tbody>
</table>
<h3 id="14-2-1-åŒæ­¥"><a href="#14-2-1-åŒæ­¥" class="headerlink" title="14.2.1    åŒæ­¥"></a>14.2.1    åŒæ­¥</h3><blockquote>
<p><strong>å…³é”®å­—ï¼š</strong><code>@synchronized</code><br><strong>è¯´æ˜ï¼š</strong>ç”¨æ¥è®¾ç½®<code>ä¸´ç•ŒåŒº</code>ï¼Œç¡®ä¿å¤šä¸ªçº¿ç¨‹ä¸ä¼šåœ¨åŒä¸€æ—¶é—´è¿›å…¥<code>ä¸´ç•ŒåŒº</code>ã€‚<br><strong>ç›¸å…³ï¼š</strong><code>@property</code>æŒ‡ä»¤çš„<code>atomic</code>ç‰¹æ€§ä¼šè®©ç¼–è¯‘å™¨é€šè¿‡æ’å…¥<code>@synchronize(mutex, atomic)</code>ç”Ÿæˆå¼ºåˆ¶å½¼æ­¤äº’æ–¥çš„<code>getter</code>å’Œ<code>setter</code>æ–¹æ³•ï¼ˆé™ä½äº†ä»£ç æ€§èƒ½ï¼‰ï¼Œè€Œ<code>nonatomic</code>ç‰¹æ€§ï¼ˆé»˜è®¤ï¼‰åˆ™ä¸ä¼šã€‚</p>
</blockquote>
<h4 id="14-2-1-1-é€‰æ‹©æ€§èƒ½"><a href="#14-2-1-1-é€‰æ‹©æ€§èƒ½" class="headerlink" title="14.2.1.1    é€‰æ‹©æ€§èƒ½"></a>14.2.1.1    é€‰æ‹©æ€§èƒ½</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>NSObject</code>æä¾›äº†ä¸€äº›å¯ä»¥ä½¿ä»£ç åœ¨åå°ä»¥è¾ƒä½æ€§èƒ½è¿è¡Œçš„æ–¹æ³•ï¼ˆæ–¹æ³•åå¸¦æœ‰<code>performSelector</code>å‰ç¼€ï¼‰</p>
</blockquote>
<h5 id="performSelectorInBackgroundå®ä¾‹æ–¹æ³•"><a href="#performSelectorInBackgroundå®ä¾‹æ–¹æ³•" class="headerlink" title="performSelectorInBackgroundå®ä¾‹æ–¹æ³•"></a>performSelectorInBackgroundå®ä¾‹æ–¹æ³•</h5><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šè¿‡åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œåœ¨åç«¯è¿è¡Œä¸€ä¸ªæŒ‡å®šçš„æ–¹æ³•ã€‚<br><strong>é™åˆ¶ï¼š</strong>æŒ‡å®šè¿è¡Œçš„æ–¹æ³•ï¼ˆç¬¬ä¸€ä¸ªå‚æ•°ï¼‰è¦éµä»ä»¥ä¸‹é™åˆ¶</p>
<ul>
<li>æ–¹æ³•ä¸­éœ€è¦<code>@autoreleasepool</code></li>
<li>æ–¹æ³•ä¸èƒ½æœ‰è¿”å›å€¼ï¼Œå‚æ•°æœ€å¤šä¸€ä¸ªä¸”å¿…é¡»ä¸º<code>id</code>ç±»å‹</li>
</ul>
<ol>
<li><code>- (void) myMethod;</code></li>
<li><code>- (void) myMethod:(id)myObject;</code></li>
</ol>
<p><strong>åŸå‹ï¼š</strong><code>NSObject</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;SEL&#125; å¸Œæœ›åœ¨åå°è¿è¡Œçš„æ–¹æ³•</span><br><span class="line">* @param &#123;id&#125; object å¯ä»¥ä¼ é€’ä¸€ä¸ªå¯¹è±¡</span><br><span class="line">*/</span></span><br><span class="line">(<span class="keyword">void</span>) performSelectorInBackground:(nonnull SEL) withObject:(nullable <span class="keyword">id</span>)&gt;</span><br></pre></td></tr></table></figure>
<p><em>SelectorTester.h</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">SelectorTester</span> : <span class="title">NSObject</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) runSelectors;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>SelectorTester.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"SelectorTester.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">SelectorTester</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> *  å°è£…å¯¹æ€§èƒ½é€‰æ‹©å™¨çš„è°ƒç”¨</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>) runSelectors &#123;</span><br><span class="line">    <span class="comment">// åœ¨åç«¯è¿è¡Œä¸å¸¦å‚æ•°çš„æ–¹æ³•</span></span><br><span class="line">    [<span class="keyword">self</span> performSelectorInBackground:<span class="keyword">@selector</span>(myBackgroundMethod1) withObject:<span class="literal">nil</span>];</span><br><span class="line">    <span class="comment">// åœ¨åç«¯è¿è¡Œå¸¦ä¸€ä¸ªå‚æ•°çš„æ–¹æ³•</span></span><br><span class="line">    [<span class="keyword">self</span> performSelectorInBackground:<span class="keyword">@selector</span>(myBackgroundMethod2:) withObject:<span class="string">@"Hello Selector"</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"Done performing selectors"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> *  @pravite</span><br><span class="line"> *  ä¼šè¢«é€‰æ‹©å™¨è°ƒç”¨çš„æ–¹æ³•ï¼šä¸å¸¦å‚æ•°</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>) myBackgroundMethod1 &#123;</span><br><span class="line">    <span class="keyword">@autoreleasepool</span> &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"myBackgroundMethod1"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> *  @pravite</span><br><span class="line"> *  ä¼šè¢«é€‰æ‹©å™¨è°ƒç”¨çš„æ–¹æ³•ï¼šåªæœ‰ä¸€ä¸ªå‚æ•°</span><br><span class="line"> *  @param &#123;id&#125; object ä¸€ä¸ªå¯¹è±¡</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>) myBackgroundMethod2: (<span class="keyword">id</span>)object &#123;</span><br><span class="line">    <span class="keyword">@autoreleasepool</span> &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"myBackgroundMethod2 %@"</span>, object);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h4 id="14-2-1-2-è°ƒåº¦é˜Ÿåˆ—"><a href="#14-2-1-2-è°ƒåº¦é˜Ÿåˆ—" class="headerlink" title="14.2.1.2    è°ƒåº¦é˜Ÿåˆ—"></a>14.2.1.2    è°ƒåº¦é˜Ÿåˆ—</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>GDC</code>å¯ä»¥ä½¿ç”¨<code>è°ƒåº¦é˜Ÿåˆ—ï¼ˆdispatch queueï¼‰</code>ï¼Œå…±æœ‰3ç§ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>é˜Ÿåˆ—ç±»å‹</th>
<th>è¯´æ˜</th>
<th>å¹¶è¡Œï¼ä¸²è¡Œ</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>è¿ç»­é˜Ÿåˆ—</td>
<td>æ ¹æ®æŒ‡æ´¾çš„é¡ºåºæ‰§è¡Œä»»åŠ¡</td>
<td>ä¸²è¡Œï¼Œå…ˆå…¥å…ˆå‡ºï¼ˆFIFOï¼Œæ ˆï¼‰</td>
<td>å¯ä»¥åˆ›å»ºå¤šä¸ª<code>è¿ç»­</code>é˜Ÿåˆ—ï¼Œå½¼æ­¤å¹¶è¡Œ</td>
</tr>
<tr>
<td>å¹¶å‘é˜Ÿåˆ—</td>
<td>å¹¶å‘æ‰§è¡Œä¸€ä¸ªæˆ–å¤šä¸ªä»»åŠ¡</td>
<td>å¹¶è¡Œï¼Œæ ¹æ®æŒ‡æ´¾åˆ°é˜Ÿåˆ—çš„é¡ºåºå¼€å§‹æ‰§è¡Œ</td>
<td>æ— æ³•åˆ›å»ºï¼Œåªèƒ½ä»ç³»ç»Ÿæä¾›çš„å¹¶å‘é˜Ÿåˆ—ä¸­é€‰æ‹©ï¼ˆä¸€å…±3ä¸ªï¼‰</td>
</tr>
<tr>
<td>ä¸»é˜Ÿåˆ—</td>
<td>åº”ç”¨ç¨‹åºçš„æœ‰æ•ˆçš„ä¸»é˜Ÿåˆ—</td>
<td>ä¸»çº¿ç¨‹åªæœ‰ä¸€ä¸ªï¼Œæ— æ‰€è°“ä¸²/å¹¶è¡Œ</td>
<td>æ‰§è¡Œçš„åº”ç”¨ç¨‹åºçš„ä¸»çº¿ç¨‹ä»»åŠ¡</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>è°ƒåº¦é˜Ÿåˆ—æ•°æ®ç±»å‹ï¼š</strong><code>dispatch_queue_t</code></p>
</blockquote>
<h5 id="è¿ç»­é˜Ÿåˆ—"><a href="#è¿ç»­é˜Ÿåˆ—" class="headerlink" title="è¿ç»­é˜Ÿåˆ—"></a>è¿ç»­é˜Ÿåˆ—</h5><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åªè¦ä»»åŠ¡æ˜¯å¼‚æ­¥æäº¤çš„ï¼Œé˜Ÿåˆ—ä¼šç¡®ä¿ä»»åŠ¡æ ¹æ®é¢„å®šé¡ºåºæ‰§è¡Œï¼Œä¸ä¼šå‘ç”Ÿæ­»é”ã€‚<br><strong>é€‚ç”¨ï¼š</strong>ä¸€è¿ä¸²çš„ä»»åŠ¡éœ€è¦æŒ‰ç…§ä¸€å®šçš„é¡ºåºæ‰§è¡Œçš„åœºæ™¯</p>
</blockquote>
<h6 id="dispatch-queue-createå…¨å±€æ–¹æ³•"><a href="#dispatch-queue-createå…¨å±€æ–¹æ³•" class="headerlink" title="dispatch_queue_createå…¨å±€æ–¹æ³•"></a>dispatch_queue_createå…¨å±€æ–¹æ³•</h6><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ›å»ºè¿ç»­é˜Ÿåˆ—<br><strong>åŸå‹ï¼š</strong></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;const char *&#125; label é˜Ÿåˆ—çš„åç§°</span><br><span class="line">* @param &#123;dispatch_queue_attr_t&#125; attr é˜Ÿåˆ—çš„ç‰¹æ€§ï¼ˆå¯ä»¥ä¸ºNULLï¼‰</span><br><span class="line">* @return &#123;dispatch_queue_t&#125; é¡ºåºé˜Ÿåˆ—</span><br><span class="line">*/</span></span><br><span class="line"><span class="built_in">dispatch_queue_t</span> dispatch_queue_create(<span class="keyword">const</span> <span class="keyword">char</span> *label, dispatch_queue_attr_t attr);</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜è¿ç»­é˜Ÿåˆ—</span></span><br><span class="line"><span class="built_in">dispatch_queue_t</span> my_serial_queue;</span><br><span class="line"><span class="comment">// åˆ›å»ºè¿ç»­é˜Ÿåˆ—</span></span><br><span class="line">my_serial_queue = dispatch_queue_create(<span class="string">"com.apress.MySerialQueue1"</span>, <span class="literal">NULL</span>);</span><br></pre></td></tr></table></figure>
<h5 id="å¹¶å‘é˜Ÿåˆ—"><a href="#å¹¶å‘é˜Ÿåˆ—" class="headerlink" title="å¹¶å‘é˜Ÿåˆ—"></a>å¹¶å‘é˜Ÿåˆ—</h5><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¹¶å‘è°ƒåº¦é˜Ÿåˆ—é€‚ç”¨äºé‚£äº›å¯ä»¥å¹¶è¡Œè¿è¡Œçš„ä»»åŠ¡</p>
<ul>
<li>å¼€å§‹æ‰§è¡Œæ—¶é—´éµä»FIFO</li>
<li>ä»»åŠ¡å¯ä»¥åœ¨å‰ä¸€ä¸ªä»»åŠ¡ç»“æŸå‰å°±å¼€å§‹æ‰§è¡Œ</li>
<li>ä¸€æ¬¡æ‰€è¿è¡Œçš„ä»»åŠ¡æ•°é‡æ˜¯æ— æ³•é¢„æµ‹çš„ï¼ˆæ ¹æ®å…¶å®ƒè¿è¡Œçš„ä»»åŠ¡çš„çŠ¶å†µï¼‰</li>
</ul>
<p><strong>æŠ€å·§ï¼š</strong>å¦‚æœéœ€è¦ç¡®ä¿æ¯æ¬¡è¿è¡Œçš„ä»»åŠ¡çš„æ•°é‡éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå¯ä»¥é€šè¿‡çº¿ç¨‹<code>API</code>æ¥æ‰‹åŠ¨ç®¡ç†çº¿ç¨‹ã€‚</p>
</blockquote>
<h6 id="dispatch-get-global-queueå…¨å±€æ–¹æ³•"><a href="#dispatch-get-global-queueå…¨å±€æ–¹æ³•" class="headerlink" title="dispatch_get_global_queueå…¨å±€æ–¹æ³•"></a>dispatch_get_global_queueå…¨å±€æ–¹æ³•</h6><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è·å–ç³»ç»Ÿçš„å¹¶å‘é˜Ÿåˆ—ã€‚<br><strong>åŸå‹ï¼š</strong><code>/usr/include/dispatch/queue.h</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;long&#125; identifier ä¼˜å…ˆçº§é€‰é¡¹</span><br><span class="line">* @param &#123;unsigned long&#125; flags æ ‡è®°ï¼ˆå¯ä»¥ä¸º0ï¼‰</span><br><span class="line">* @return &#123;dispatch_queue_t&#125; é¡ºåºé˜Ÿåˆ—</span><br><span class="line">*/</span></span><br><span class="line"><span class="built_in">dispatch_queue_t</span> dispatch_get_global_queue(<span class="keyword">long</span> identifier, <span class="keyword">unsigned</span> <span class="keyword">long</span> flags);</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜å¹¶å‘é˜Ÿåˆ—</span></span><br><span class="line"><span class="built_in">dispatch_queue_t</span> my_global_queue;</span><br><span class="line"><span class="comment">// è·å–å¹¶å‘é˜Ÿåˆ—ï¼ˆé»˜è®¤ä¼˜å…ˆçº§ï¼‰</span></span><br><span class="line">my_global_queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, <span class="number">0</span>);</span><br></pre></td></tr></table></figure>
<h5 id="ä¸»é˜Ÿåˆ—"><a href="#ä¸»é˜Ÿåˆ—" class="headerlink" title="ä¸»é˜Ÿåˆ—"></a>ä¸»é˜Ÿåˆ—</h5><h6 id="dispatch-get-current-queueå…¨å±€æ–¹æ³•"><a href="#dispatch-get-current-queueå…¨å±€æ–¹æ³•" class="headerlink" title="dispatch_get_current_queueå…¨å±€æ–¹æ³•"></a>dispatch_get_current_queueå…¨å±€æ–¹æ³•</h6><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è·å–<code>å½“å‰è¿è¡Œçš„</code>é˜Ÿåˆ—ä»£ç å—ï¼Œå¦‚æœåœ¨ä»£ç å—çš„å¯¹è±¡ä¹‹å¤–è°ƒç”¨äº†è¿™ä¸ªå‡½æ•°ï¼Œåˆ™å®ƒä¼šè¿”å›<code>ä¸»é˜Ÿåˆ—</code>ã€‚<br><strong>æ³¨æ„ï¼š</strong>è¯¥æ–¹æ³•åœ¨ä»<code>OS X 10.9</code>å’Œ<code>ios 6</code>å¼€å§‹è¢«åºŸå¼ƒï¼Œå› ä¸ºGCDé˜Ÿåˆ—æœ¬èº«æ˜¯ä¸å¯é‡å…¥çš„ï¼ŒåŒæ­¥é˜»å¡ä¼šå¯¼è‡´æ­»é”ã€‚<br><strong>ç”¨é€”ï¼š</strong>ä»ç„¶å¯ä»¥ä½œä¸ºè°ƒè¯•æ‰‹æ®µåœ¨ä»£ç ä¸­ä½¿ç”¨ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–ä¸»çº¿ç¨‹æˆ–å½“å‰é˜Ÿåˆ—</span></span><br><span class="line"><span class="built_in">dispatch_queue_t</span> theQueue = dispatch_get_current_queue();</span><br></pre></td></tr></table></figure>
<h3 id="14-2-2-é˜Ÿåˆ—ä¹Ÿè¦å†…å­˜ç®¡ç†"><a href="#14-2-2-é˜Ÿåˆ—ä¹Ÿè¦å†…å­˜ç®¡ç†" class="headerlink" title="14.2.2    é˜Ÿåˆ—ä¹Ÿè¦å†…å­˜ç®¡ç†"></a>14.2.2    é˜Ÿåˆ—ä¹Ÿè¦å†…å­˜ç®¡ç†</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>è°ƒåº¦é˜Ÿåˆ—</code>æ˜¯å¼•ç”¨è®¡æ•°å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨<code>dispatch_retain()</code>å’Œ<code>dispatch_release()</code>æ¥ä¿®æ”¹é˜Ÿåˆ—çš„ä¿ç•™è®¡æ•°å™¨çš„å€¼ã€‚</p>
</blockquote>
<h4 id="14-2-2-1-é˜Ÿåˆ—çš„ä¸Šä¸‹æ–‡"><a href="#14-2-2-1-é˜Ÿåˆ—çš„ä¸Šä¸‹æ–‡" class="headerlink" title="14.2.2.1    é˜Ÿåˆ—çš„ä¸Šä¸‹æ–‡"></a>14.2.2.1    é˜Ÿåˆ—çš„ä¸Šä¸‹æ–‡</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯ä»¥å‘<code>è°ƒåº¦å¯¹è±¡ï¼ˆåŒ…æ‹¬è°ƒåº¦é˜Ÿåˆ—ï¼‰</code>æŒ‡æ´¾<code>å…¨å±€æ•°æ®ä¸Šä¸‹æ–‡</code>ï¼Œå¯ä»¥åœ¨ä¸Šä¸‹æ–‡ä¸­æŒ‡æ´¾ä»»æ„ç±»å‹çš„æ•°æ®ï¼Œæ¯”å¦‚<code>Objective-C</code>å¯¹è±¡æˆ–æŒ‡é’ˆã€‚<br><strong>å†…å­˜ç®¡ç†ï¼š</strong>å¿…é¡»åœ¨éœ€è¦<code>é˜Ÿåˆ—ä¸Šä¸‹æ–‡</code>çš„æ—¶å€™åˆ†é…å†…å­˜å¹¶åœ¨é˜Ÿåˆ—é”€æ¯ä¹‹å‰è¿›è¡Œæ¸…ç†ã€‚</p>
</blockquote>
<h5 id="dispatch-set-contextå…¨å±€æ–¹æ³•"><a href="#dispatch-set-contextå…¨å±€æ–¹æ³•" class="headerlink" title="dispatch_set_contextå…¨å±€æ–¹æ³•"></a>dispatch_set_contextå…¨å±€æ–¹æ³•</h5><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸ºæŒ‡å®šé˜Ÿåˆ—è®¾ç½®<code>å…¨å±€ä¸Šä¸‹æ–‡</code>ã€‚<br><strong>åŸå‹ï¼š</strong><code>/usr/include/dispatch/object.h</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;dispatch_object_t&#125; object è°ƒåº¦é˜Ÿåˆ—</span><br><span class="line">* @param &#123;void *&#125; context ä¸Šä¸‹æ–‡</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">void</span> dispatch_set_context(dispatch_object_t object, <span class="keyword">void</span> *context);</span><br></pre></td></tr></table></figure>
<h5 id="dispatch-get-contextå…¨å±€æ–¹æ³•"><a href="#dispatch-get-contextå…¨å±€æ–¹æ³•" class="headerlink" title="dispatch_get_contextå…¨å±€æ–¹æ³•"></a>dispatch_get_contextå…¨å±€æ–¹æ³•</h5><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è·å¾—<code>è°ƒåº¦é˜Ÿåˆ—</code>çš„<code>å…¨å±€æ•°æ®ä¸Šä¸‹æ–‡</code>ã€‚<br><strong>åŸå‹ï¼š</strong><code>/usr/include/dispatch/object.h</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;dispatch_object_t&#125; object è°ƒåº¦é˜Ÿåˆ—</span><br><span class="line">* @return &#123;void *&#125; å…¨å±€æ•°æ®ä¸Šä¸‹æ–‡</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">void</span> * dispatch_get_context(dispatch_object_t object);</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºå¯å˜å­—å…¸ï¼ˆä½œä¸ºå…¨å±€æ•°æ®ä¸Šä¸‹æ–‡ï¼‰</span></span><br><span class="line"><span class="built_in">NSMutableDictionary</span> *myContext = [[<span class="built_in">NSMutableDictionary</span> alloc] initWithCapacity:<span class="number">5</span>];</span><br><span class="line"><span class="comment">// ä¸ºå…¨å±€ä¸Šä¸‹æ–‡æ·»åŠ é˜Ÿåˆ—éœ€è¦çš„æ•°æ®</span></span><br><span class="line">[myContext setObject:<span class="string">@"My Context"</span> forKey:<span class="string">@"title"</span>];</span><br><span class="line">[myContext setObject:[<span class="built_in">NSNumber</span> numberWithInt:<span class="number">0</span>] forKey:<span class="string">@"value"</span>];</span><br><span class="line"><span class="comment">// ä¸ºè¿ç»­é˜Ÿåˆ— my_serial_queue è®¾ç½®å…¨å±€æ•°æ®ä¸Šä¸‹æ–‡</span></span><br><span class="line">dispatch_set_context(my_serial_queue, (__bridge_retained <span class="keyword">void</span> *)myContext);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æå–å…¨å±€æ•°æ®ä¸Šä¸‹æ–‡(æ¡¥æ¥è½¬æ¢__bridgeï¼Œå‘Šè¯‰ARCä¸æƒ³è‡ªå·±æ¥ç®¡ç†ä¸Šä¸‹æ–‡çš„å†…å­˜)</span></span><br><span class="line">myContext = (__bridge <span class="built_in">NSMutableDictionary</span> *)dispatch_get_context(my_serial_queue);</span><br></pre></td></tr></table></figure>
<h4 id="14-2-2-2-å…¨å±€æ•°æ®ä¸Šä¸‹æ–‡å†…å­˜ç®¡ç†"><a href="#14-2-2-2-å…¨å±€æ•°æ®ä¸Šä¸‹æ–‡å†…å­˜ç®¡ç†" class="headerlink" title="14.2.2.2    å…¨å±€æ•°æ®ä¸Šä¸‹æ–‡å†…å­˜ç®¡ç†"></a>14.2.2.2    å…¨å±€æ•°æ®ä¸Šä¸‹æ–‡å†…å­˜ç®¡ç†</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç¼–å†™ä¸€ä¸ª<code>ç»ˆç»“å™¨(finalizer)</code>å‡½æ•°ï¼Œåœ¨<code>dealloc</code>ä¸­è°ƒç”¨ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* ç»ˆç»“å™¨å‡½æ•°</span><br><span class="line">* @param &#123;void *&#125; context å…¨å±€æ•°æ®ä¸Šä¸‹æ–‡å¯¹è±¡</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">void</span> myFinalizerFunction(<span class="keyword">void</span> *context) &#123;</span><br><span class="line">	<span class="built_in">NSLog</span>(<span class="string">@"myFinalizerFunction"</span>);</span><br><span class="line">	<span class="comment">// æ¡¥æ¥è½¬æ¢ï¼šå°†å…¨å±€æ•°æ®ä¸Šä¸‹æ–‡å¯¹è±¡æ¡¥æ¥è½¬æ¢ä¸ºå…·ä½“ç±»å‹</span></span><br><span class="line">	<span class="comment">// å…¶ä¸­ï¼Œ__bridge_transfer å°†æ‹¥æœ‰æƒé™è½¬ç§»åˆ°äº†æœ¬å‡½æ•°ä¸­ï¼Œæ„å‘³ç€è¯¥å¯¹è±¡çš„å†…å­˜ç®¡ç†ç”±å…¨å±€é‡Šæ”¾æ± æ¢æˆäº†æˆ‘ä»¬çš„å‡½æ•°</span></span><br><span class="line">	<span class="built_in">NSMutableDictionary</span> *theData = (__bridge_transfer <span class="built_in">NSMutableDictionary</span>*)context;</span><br><span class="line">	<span class="comment">// æ¸…ç©ºä½œä¸ºå…¨å±€æ•°æ®ä¸Šä¸‹æ–‡çš„å¯¹è±¡</span></span><br><span class="line">	[theData removeAllObjects];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="14-2-2-3-å‘è°ƒåº¦é˜Ÿåˆ—æ·»åŠ ä»»åŠ¡"><a href="#14-2-2-3-å‘è°ƒåº¦é˜Ÿåˆ—æ·»åŠ ä»»åŠ¡" class="headerlink" title="14.2.2.3    å‘è°ƒåº¦é˜Ÿåˆ—æ·»åŠ ä»»åŠ¡"></a>14.2.2.3    å‘è°ƒåº¦é˜Ÿåˆ—æ·»åŠ ä»»åŠ¡</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥å‘é˜Ÿåˆ—ä¸­æ·»åŠ ä»»åŠ¡ï¼Œæ¯ç§æ–¹å¼é’ˆå¯¹<code>ä»£ç å—</code>å’Œ<code>å‡½æ•°</code>å„æœ‰ä¸€ä¸ªè°ƒåº¦å‡½æ•°ï¼ˆå…±4ä¸ªï¼‰</p>
<ul>
<li><strong>åŒæ­¥ï¼š</strong>é˜Ÿåˆ—ä¼šä¸€ç›´ç­‰å¾…å‰é¢ä»»åŠ¡ç»“æŸ</li>
<li><strong>å¼‚æ­¥ï¼š</strong>æ·»åŠ ä»»åŠ¡åï¼Œä¸å¿…ç­‰å¾…ä»»åŠ¡ï¼Œå‡½æ•°ä¼šç«‹åˆ»è¿”å›ï¼ˆæ¨èï¼Œå› ä¸ºä¸ä¼šé˜»å¡å…¶ä»–ä»£ç çš„è¿è¡Œï¼‰</li>
</ul>
</blockquote>
<p>|<em>**</em>|åŒæ­¥|å¼‚æ­¥|<br>|ä»£ç å—|<code>dispatch_sync</code>|<code>dispatch_async</code>|<br>|å‡½æ•°|<code>dispatch_sync_f</code>|<code>dispatch_async_f</code>|</p>
<h5 id="dispatch-syncå…¨å±€å‡½æ•°"><a href="#dispatch-syncå…¨å±€å‡½æ•°" class="headerlink" title="dispatch_syncå…¨å±€å‡½æ•°"></a>dispatch_syncå…¨å±€å‡½æ•°</h5><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å‘é˜Ÿåˆ—ä¸­<code>åŒæ­¥</code>æ·»åŠ <code>ä»£ç å—</code>ã€‚<br><strong>åŸå‹ï¼š</strong><code>/use/include/dispatch/queue.h</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;dispatch_queue_t&#125; queue è°ƒåº¦é˜Ÿåˆ—</span><br><span class="line">* @param &#123;dispatch_block_t&#125; block ä»£ç å—</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">void</span> <span class="built_in">dispatch_async</span>(<span class="built_in">dispatch_queue_t</span> queue, dispatch_block_t block);</span><br></pre></td></tr></table></figure>
<h5 id="dispatch-asyncå…¨å±€å‡½æ•°"><a href="#dispatch-asyncå…¨å±€å‡½æ•°" class="headerlink" title="dispatch_asyncå…¨å±€å‡½æ•°"></a>dispatch_asyncå…¨å±€å‡½æ•°</h5><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å‘é˜Ÿåˆ—ä¸­<code>å¼‚æ­¥</code>æ·»åŠ <code>ä»£ç å—</code>ã€‚<br><strong>åŸå‹ï¼š</strong><code>/use/include/dispatch/queue.h</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;dispatch_queue_t&#125; queue è°ƒåº¦é˜Ÿåˆ—</span><br><span class="line">* @param &#123;dispatch_block_t&#125; block ä»£ç å—</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">void</span> <span class="built_in">dispatch_async</span>(<span class="built_in">dispatch_queue_t</span> queue, dispatch_block_t block);</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼‚æ­¥æ·»åŠ ä»£ç å—ï¼šå†…è”æ–¹å¼</span></span><br><span class="line"><span class="built_in">dispatch_async</span>(my_serial_queue, ^&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"Serial Task 1"</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼‚æ­¥æ·»åŠ ä»£ç å—ï¼šéå†…è”</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">void</span> (^dispatch_block_t)(<span class="keyword">void</span>);</span><br><span class="line">dispatch_block_t myBlock = ^&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"My Prefined block"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">dispatch_async</span>(my_serial_queue, myBlock);</span><br></pre></td></tr></table></figure>
<h5 id="dispatch-sync-få…¨å±€å‡½æ•°"><a href="#dispatch-sync-få…¨å±€å‡½æ•°" class="headerlink" title="dispatch_sync_få…¨å±€å‡½æ•°"></a>dispatch_sync_få…¨å±€å‡½æ•°</h5><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å‘é˜Ÿåˆ—ä¸­<code>åŒæ­¥</code>æ·»åŠ <code>ä»£ç å—</code>ã€‚<br><strong>åŸå‹ï¼š</strong><code>/use/include/dispatch/queue.h</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;dispatch_queue_t&#125; queue è°ƒåº¦é˜Ÿåˆ—</span><br><span class="line">* @param &#123;void *&#125; context éœ€è¦ä¼ é€’çš„ä»»æ„ä¸Šä¸‹æ–‡</span><br><span class="line">* @param &#123;dispatch_function_t&#125; work å‡½æ•°</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">void</span> dispatch_async_f(<span class="built_in">dispatch_queue_t</span> queue,	<span class="keyword">void</span> *context,	dispatch_function_t work);</span><br></pre></td></tr></table></figure>
<h5 id="dispatch-async-få…¨å±€å‡½æ•°"><a href="#dispatch-async-få…¨å±€å‡½æ•°" class="headerlink" title="dispatch_async_få…¨å±€å‡½æ•°"></a>dispatch_async_få…¨å±€å‡½æ•°</h5><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å‘é˜Ÿåˆ—ä¸­<code>å¼‚æ­¥</code>æ·»åŠ <code>ä»£ç å—</code>ã€‚<br><strong>åŸå‹ï¼š</strong><code>/use/include/dispatch/queue.h</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;dispatch_queue_t&#125; queue è°ƒåº¦é˜Ÿåˆ—</span><br><span class="line">* @param &#123;void *&#125; context éœ€è¦ä¼ é€’çš„ä»»æ„ä¸Šä¸‹æ–‡</span><br><span class="line">* @param &#123;dispatch_function_t&#125; work å‡½æ•°</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">void</span> dispatch_async_f(<span class="built_in">dispatch_queue_t</span> queue,	<span class="keyword">void</span> *context,	dispatch_function_t work);</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰å¥½è¦æ·»åŠ åˆ°é˜Ÿåˆ—çš„å‡½æ•°</span></span><br><span class="line"><span class="keyword">void</span> myDispatchFunction (<span class="keyword">void</span> *argument) &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"Serial Task %@"</span>, (__bridge <span class="built_in">NSNumber</span> *)argument);</span><br><span class="line">    <span class="comment">// è·å¾—å½“å‰é˜Ÿåˆ—çš„å…¨å±€æ•°æ®ä¸Šä¸‹æ–‡</span></span><br><span class="line">    <span class="built_in">NSMutableDictionary</span> *context = (__bridge <span class="built_in">NSMutableDictionary</span> *)dispatch_get_context(dispatch_get_current_queue());</span><br><span class="line">    <span class="comment">// åœ¨å­—å…¸ä¸­ç´¢å¼•</span></span><br><span class="line">    <span class="built_in">NSNumber</span> *value = [context objectForKey:<span class="string">@"value"</span>];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"value = %@"</span>, value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŒæ­¥å‘é˜Ÿåˆ—ä¸­æ·»åŠ å‡½æ•°</span></span><br><span class="line">dispatch_async_f(my_serial_queue, (__bridge <span class="keyword">void</span> *)[<span class="built_in">NSNumber</span> numberWithInt:<span class="number">3</span>], (dispatch_function_t)myDispatchFunction);</span><br></pre></td></tr></table></figure>
<h4 id="14-2-2-3-è°ƒåº¦é˜Ÿåˆ—çš„æš‚åœå’Œé‡å¯"><a href="#14-2-2-3-è°ƒåº¦é˜Ÿåˆ—çš„æš‚åœå’Œé‡å¯" class="headerlink" title="14.2.2.3    è°ƒåº¦é˜Ÿåˆ—çš„æš‚åœå’Œé‡å¯"></a>14.2.2.3    è°ƒåº¦é˜Ÿåˆ—çš„æš‚åœå’Œé‡å¯</h4><h5 id="dispatch-suspendå…¨å±€æ–¹æ³•"><a href="#dispatch-suspendå…¨å±€æ–¹æ³•" class="headerlink" title="dispatch_suspendå…¨å±€æ–¹æ³•"></a>dispatch_suspendå…¨å±€æ–¹æ³•</h5><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æš‚åœé˜Ÿåˆ—<br><strong>åŸå‹ï¼š</strong><code>/use/include/dispatch/object.h</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;dispatch_object_t&#125; object è¦æš‚åœçš„é˜Ÿåˆ—</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">void</span> dispatch_suspend(dispatch_object_t object);</span><br></pre></td></tr></table></figure>
<h5 id="dispatch-resumeå…¨å±€æ–¹æ³•"><a href="#dispatch-resumeå…¨å±€æ–¹æ³•" class="headerlink" title="dispatch_resumeå…¨å±€æ–¹æ³•"></a>dispatch_resumeå…¨å±€æ–¹æ³•</h5><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é‡å¯é˜Ÿåˆ—<br><strong>åŸå‹ï¼š</strong><code>/use/include/dispatch/object.h</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;dispatch_object_t&#125; object è¦æš‚åœçš„é˜Ÿåˆ—</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">void</span> dispatch_resume(dispatch_object_t object);</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æš‚åœé˜Ÿåˆ—</span></span><br><span class="line">dispatch_suspend(my_serial_queue);</span><br><span class="line"><span class="comment">// é‡å¯é˜Ÿåˆ—</span></span><br><span class="line">dispatch_resume(my_serial_queue);</span><br></pre></td></tr></table></figure>
<h3 id="14-2-3-æ“ä½œé˜Ÿåˆ—"><a href="#14-2-3-æ“ä½œé˜Ÿåˆ—" class="headerlink" title="14.2.3    æ“ä½œé˜Ÿåˆ—"></a>14.2.3    æ“ä½œé˜Ÿåˆ—</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æœ‰ä¸€äº›ç§°ä¸º<code>æ“ä½œï¼ˆoperationï¼‰</code>çš„<code>API</code>ï¼Œå¯ä»¥è®©é˜Ÿåˆ—ä½¿ç”¨èµ·æ¥æ›´åŠ ç®€å•ã€‚</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ª<code>æ“ä½œ</code>å¯¹è±¡</li>
<li>å°†å…¶æŒ‡æ´¾ç»™<code>æ“ä½œé˜Ÿåˆ—</code></li>
<li><code>æ“ä½œ</code>è¢«é˜Ÿåˆ—æ‰§è¡Œ</li>
</ol>
</blockquote>
<h4 id="æ“ä½œçš„åˆ›å»ºæ–¹å¼"><a href="#æ“ä½œçš„åˆ›å»ºæ–¹å¼" class="headerlink" title="æ“ä½œçš„åˆ›å»ºæ–¹å¼"></a><code>æ“ä½œ</code>çš„åˆ›å»ºæ–¹å¼</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸€å…±æœ‰3ç§æ–¹å¼</p>
</blockquote>
<table>
<thead>
<tr>
<th>æ–¹å¼</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>è°ƒç”¨æ“ä½œï¼ˆ<code>NSInvocationOperation</code>ï¼‰</td>
<td>å‰ææ˜¯å·²ç»æ‹¥æœ‰ä¸€ä¸ªå¯ä»¥å®Œæˆå·¥ä½œçš„ç±»ï¼Œå¹¶ä¸”æƒ³åœ¨é˜Ÿåˆ—ä¸Šæ‰§è¡Œ</td>
</tr>
<tr>
<td>ä»£ç å—æ“ä½œï¼ˆ<code>NSBlockOperation</code>ï¼‰</td>
<td>ç±»ä¼¼åŒ…å«äº†è¦æ‰§è¡Œä»£ç å—çš„<code>dispatch_async</code>å‡½æ•°</td>
</tr>
<tr>
<td>è‡ªå®šä¹‰çš„<code>æ“ä½œ</code></td>
<td>é€šè¿‡ç»§æ‰¿<code>NSOperation</code>å®šä¹‰è‡ªå·±çš„<code>æ“ä½œ</code></td>
</tr>
</tbody>
</table>
<h5 id="æ–¹å¼ä¸€ï¼šåˆ›å»ºè°ƒç”¨æ“ä½œ"><a href="#æ–¹å¼ä¸€ï¼šåˆ›å»ºè°ƒç”¨æ“ä½œ" class="headerlink" title="æ–¹å¼ä¸€ï¼šåˆ›å»ºè°ƒç”¨æ“ä½œ"></a>æ–¹å¼ä¸€ï¼šåˆ›å»º<code>è°ƒç”¨æ“ä½œ</code></h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">MyCustomClass</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSOperation</span> *)operationWithData: (<span class="keyword">id</span>)data &#123;</span><br><span class="line">	<span class="keyword">return</span> [[<span class="built_in">NSInvocationOperation</span> alloc] initWithTarget: <span class="keyword">self</span> selectorL <span class="keyword">@selector</span>(myWorkerMethod:)object:data];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åšå…·ä½“å·¥ä½œçš„å‡½æ•°</span></span><br><span class="line">- (<span class="keyword">void</span>)myWorkerMethod: (<span class="keyword">id</span>)data &#123;</span><br><span class="line">	<span class="built_in">NSLog</span>(<span class="string">@"My Worker Method %@"</span>, data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h5 id="æ–¹å¼äºŒï¼šåˆ›å»ºä»£ç å—æ“ä½œ"><a href="#æ–¹å¼äºŒï¼šåˆ›å»ºä»£ç å—æ“ä½œ" class="headerlink" title="æ–¹å¼äºŒï¼šåˆ›å»ºä»£ç å—æ“ä½œ"></a>æ–¹å¼äºŒï¼šåˆ›å»º<code>ä»£ç å—æ“ä½œ</code></h5><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ›å»ºæ—¶ä½œä¸ºå‚æ•°çš„<code>ä»£ç å—</code>çš„ç±»å‹å’Œåœ¨<code>è°ƒåº¦é˜Ÿåˆ—</code>ä¸­ä½¿ç”¨çš„ç›¸åŒã€‚</p>
<ul>
<li>ä¸€æ—¦åˆ›å»ºäº†ç¬¬ä¸€ä¸ª<code>ä»£ç å—æ“ä½œ</code>ï¼Œä¾¿å¯ä»¥é€šè¿‡<code>addExecutionBlock</code>æ–¹æ³•ç»§ç»­æ·»åŠ æ›´å¤šçš„<code>ä»£ç å—</code></li>
<li>æ ¹æ®<code>é˜Ÿåˆ—</code>çš„ç±»å‹ï¼Œä»£ç å—ä¼šåˆ†åˆ«ä»¥è¿ç»­æˆ–å¹¶è¡Œçš„æ–¹å¼è¿è¡Œ</li>
</ul>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSBlockOperation</span> *blockOperation = [<span class="built_in">NSBlockOperation</span> blockOperationWithBlock: ^ &#123;</span><br><span class="line">	<span class="comment">// å…·ä½“å·¥ä½œå†…å®¹</span></span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡ä»£ç å—æ“ä½œï¼Œç»§ç»­æ·»åŠ ä»£ç å—</span></span><br><span class="line">[blockOperation addExecutionBlock:^&#123;</span><br><span class="line">	<span class="comment">// æ›´å¤šè¦åšå·¥ä½œ</span></span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
<h4 id="å‘é˜Ÿåˆ—ä¸­æ·»åŠ æ“ä½œ"><a href="#å‘é˜Ÿåˆ—ä¸­æ·»åŠ æ“ä½œ" class="headerlink" title="å‘é˜Ÿåˆ—ä¸­æ·»åŠ æ“ä½œ"></a>å‘é˜Ÿåˆ—ä¸­æ·»åŠ æ“ä½œ</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯ä»¥ä½¿ç”¨<code>NSOperationQueue</code>æ¥å–ä»£ä¹‹å‰ä½¿ç”¨çš„<code>dispatch_queue</code>å‡½æ•°ï¼Œç‰¹ç‚¹å¦‚ä¸‹</p>
<ul>
<li>å¹¶å‘æ‰§è¡Œ<code>æ“ä½œ</code></li>
<li>å…·æœ‰<code>ç›¸å…³æ€§</code>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæŸä¸ª<code>æ“ä½œ</code>æ˜¯åŸºäºå…¶å®ƒ<code>æ“ä½œ</code>çš„ï¼Œåˆ™ä¹Ÿä¼šå…ˆè¢«æ‰§è¡Œ</li>
</ul>
<p><strong>æŠ€å·§ï¼š</strong>å¦‚æœè¦ç¡®ä¿æ·»åŠ çš„<code>æ“ä½œ</code>æ˜¯è¿ç»­æ‰§è¡Œï¼ˆä¸²è¡Œï¼‰çš„ï¼Œå¯ä»¥è®¾ç½®æœ€å¤§å¹¶å‘æ“ä½œæ•°ä¸º1ï¼Œè¿™æ ·ä¼šæŒ‰ç…§<code>å…ˆå…¥å…ˆå‡º</code>çš„è§„èŒƒæ‰§è¡Œ</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–é˜Ÿåˆ—</span></span><br><span class="line"><span class="built_in">NSOperationQueue</span> *currentQueue = [<span class="built_in">NSOperation</span> currentQueue];</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·»åŠ æ“ä½œ</span></span><br><span class="line">[theQueue addOperation:blockOperation];</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¹Ÿå¯ä»¥æ·»åŠ ä»£ç å—æ›¿ä»£æ“ä½œå¯¹è±¡</span></span><br><span class="line">[theQueue addOperationWithBlock:^&#123;</span><br><span class="line">	<span class="built_in">NSLog</span>(<span class="string">@"my work"</span>);</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
<h2 id="14-3-å°ç»“"><a href="#14-3-å°ç»“" class="headerlink" title="14.3    å°ç»“"></a>14.3    å°ç»“</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_13 åè®®/" itemprop="url">
                  13 åè®®
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T10:40:50+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_13 åè®®/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_13 åè®®/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="13-1-æ­£å¼åè®®"><a href="#13-1-æ­£å¼åè®®" class="headerlink" title="13.1    æ­£å¼åè®®"></a>13.1    æ­£å¼åè®®</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ­£å¼åè®®ç±»ä¼¼<code>Java</code>çš„æ¥å£ã€‚</p>
<ul>
<li><strong>å£°æ˜åè®®ï¼š</strong>é€šè¿‡<code>@protocol</code>åˆ›å»ºåè®®çš„å£°æ˜ã€‚</li>
<li><strong>é‡‡ç”¨åè®®ï¼š</strong>åœ¨ç±»çš„<code>@interface</code>å£°æ˜ä¸­åˆ—å‡ºåè®®çš„åç§°ã€‚</li>
<li><strong>éµå®ˆåè®®ï¼š</strong>åœ¨ç±»çš„<code>@implementation</code>ä¸­å®ç°åè®®çš„æ‰€æœ‰æ–¹æ³•ï¼ˆå¦åˆ™ç¼–è¯‘å™¨ä¼šç”Ÿæˆè­¦å‘Šï¼‰ã€‚</li>
</ul>
</blockquote>
<h3 id="13-1-1-å£°æ˜åè®®"><a href="#13-1-1-å£°æ˜åè®®" class="headerlink" title="13.1.1    å£°æ˜åè®®"></a>13.1.1    å£°æ˜åè®®</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç±»ä¼¼ç±»æˆ–ç±»åˆ«çš„å£°æ˜</p>
<ul>
<li>å¯ä»¥ç»§æ‰¿çˆ¶åè®®ï¼Œç±»ä¼¼ç»§æ‰¿çˆ¶ç±»</li>
<li>å†…éƒ¨æ˜¯æ–¹æ³•å£°æ˜åˆ—è¡¨</li>
<li>åœ¨åè®®ä¸­ä¸ä¼šå¼•å…¥æ–°çš„å®ä¾‹å˜é‡</li>
</ul>
<p><strong>è¯­æ³•ï¼š</strong></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@protocol</span> åè®®å &lt;çˆ¶åè®®å</span></span><br><span class="line"><span class="comment">// æ–¹æ³•åˆ—è¡¨</span></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h4 id="Cocoaçš„NSCopyingåè®®"><a href="#Cocoaçš„NSCopyingåè®®" class="headerlink" title="Cocoaçš„NSCopyingåè®®"></a>Cocoaçš„<code>NSCopying</code>åè®®</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¦‚æœé‡‡ç”¨äº†è¯¥åè®®ï¼Œå¯¹è±¡å°±ä¼šçŸ¥é“å¦‚ä½•åˆ›å»ºè‡ªå·±çš„å‰¯æœ¬ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@protocol</span> <span class="title">NSCopying</span></span></span><br><span class="line">- (<span class="keyword">id</span>) copyWithZone: (<span class="built_in">NSZone</span> *) zone;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h4 id="Cocoaçš„NSCodingåè®®"><a href="#Cocoaçš„NSCodingåè®®" class="headerlink" title="Cocoaçš„NSCodingåè®®"></a>Cocoaçš„<code>NSCoding</code>åè®®</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>èƒ½å¤Ÿå¯¹è‡ªèº«è¿›è¡Œç¼–ç å’Œè§£ç </p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@protocol</span> <span class="title">NSCoding</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line">* æ¥æ”¶å¯¹è±¡çš„å®ä¾‹å˜é‡å¹¶å°†å…¶è½¬æ¢ä¸ºNSCoderç±»çš„å¯¹è±¡</span><br><span class="line">*</span><br><span class="line">* @param &#123;NSCoder *&#125; encoder</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="keyword">void</span>) encodeWithCoder: (<span class="built_in">NSCoder</span> *) encoder;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line">* ä»NSCoderå¯¹è±¡ä¸­æå–ç»è¿‡è½¬æ¢é›ªè—çš„å®ä¾‹å˜é‡ï¼Œå¹¶ä½¿ç”¨å®ƒä»¬å»åˆå§‹åŒ–æ–°çš„å¯¹è±¡</span><br><span class="line">*</span><br><span class="line">* @param &#123;NSCoder *&#125; decoder</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="keyword">id</span>) initWithCoder: (<span class="built_in">NSCoder</span> *) decoder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h3 id="13-1-2-é‡‡ç”¨åè®®"><a href="#13-1-2-é‡‡ç”¨åè®®" class="headerlink" title="13.1.2    é‡‡ç”¨åè®®"></a>13.1.2    é‡‡ç”¨åè®®</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è¦é‡‡ç”¨æŸä¸ªåè®®ï¼Œå¯ä»¥åœ¨ç±»çš„å£°æ˜ä¸­åˆ—å‡ºè¯¥åè®®çš„åç§°ï¼Œå¹¶ç”¨<code>&lt;&gt;</code>æ‹¬èµ·æ¥<br><strong>è¯­æ³•ï¼š</strong>å¯ä»¥åŒæ—¶å®ç°å¤šä¸ªåè®®ï¼Œä¸­é—´ç”¨<code>,</code>åˆ†éš”</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> ç±»å: çˆ¶ç±»æ˜ &lt;åè®®1, åè®®2, ...</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// å®ä¾‹å˜é‡</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// éµå®ˆåè®®å®ç°çš„æ–¹æ³•</span></span><br><span class="line">...</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Car</span>: <span class="title">NSObject</span> &lt;<span class="title">NSCoping</span>, <span class="title">NSCoding</span>&gt;</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">// å®ä¾‹å˜é‡</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// éµå®ˆåè®®å®ç°çš„æ–¹æ³•</span></span><br><span class="line">...</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h3 id="13-1-3-å®ç°åè®®"><a href="#13-1-3-å®ç°åè®®" class="headerlink" title="13.1.3    å®ç°åè®®"></a>13.1.3    å®ç°åè®®</h3><h2 id="13-2-å¤åˆ¶"><a href="#13-2-å¤åˆ¶" class="headerlink" title="13.2    å¤åˆ¶"></a>13.2    å¤åˆ¶</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¤åˆ¶åˆ†ä¸ºä¸¤ç±»ï¼Œ<code>æµ…å±‚å¤åˆ¶ï¼ˆshallow copyï¼‰</code>å’Œ<code>æ·±å±‚å¤åˆ¶ï¼ˆdeep copyï¼‰</code></p>
</blockquote>
<table>
<thead>
<tr>
<th>å¤åˆ¶</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>æµ…å±‚å¤åˆ¶</td>
<td>åªä¼šå¤åˆ¶æŒ‡å‘å¼•ç”¨å¯¹è±¡çš„æŒ‡é’ˆ</td>
</tr>
<tr>
<td>æ·±å±‚å¤åˆ¶</td>
<td>å°†å¤åˆ¶å¼•ç”¨çš„å¯¹è±¡</td>
</tr>
</tbody>
</table>
<h3 id="13-2-1-å¤åˆ¶-Engine"><a href="#13-2-1-å¤åˆ¶-Engine" class="headerlink" title="13.2.1    å¤åˆ¶ Engine"></a>13.2.1    å¤åˆ¶ Engine</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ²¡æœ‰å®ä¾‹å˜é‡æˆ–å±æ€§ã€‚</p>
</blockquote>
<p><em>Engine.h</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> *  é‡‡çº³ NSCopying åè®®</span><br><span class="line"> */</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Engine</span> : <span class="title">NSObject</span> &lt;<span class="title">NSCopying</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span><span class="comment">// Engine</span></span><br></pre></td></tr></table></figure>
<p><em>Engine.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Engine.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Engine</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSString</span> *) description</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="string">@"I am an engine.  Vrooom!"</span>);</span><br><span class="line">&#125; <span class="comment">// description</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> *  éµå®ˆåè®®ï¼Œå®ç°å¤åˆ¶è‡ªèº«çš„æ–¹æ³•</span><br><span class="line"> *</span><br><span class="line"> *  @param zone å†…å­˜åŒºåŸŸ</span><br><span class="line"> *</span><br><span class="line"> *  @return &#123;id&#125; å¤åˆ¶çš„å¯¹è±¡</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">id</span>) copyWithZone:(<span class="built_in">NSZone</span> *)zone &#123;</span><br><span class="line">    Engine *engineCopy;</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªå½“å‰ç±»ï¼ˆEngineæˆ–å…¶å­ç±»ï¼‰åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡</span></span><br><span class="line">    engineCopy = [[[<span class="keyword">self</span> class] allocWithZone:zone] init];</span><br><span class="line">    <span class="keyword">return</span> engineCopy;</span><br><span class="line">&#125;<span class="comment">// copyWithZone</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Engine</span></span><br></pre></td></tr></table></figure>
<h3 id="13-2-2-å¤åˆ¶-Tire"><a href="#13-2-2-å¤åˆ¶-Tire" class="headerlink" title="13.2.2    å¤åˆ¶ Tire"></a>13.2.2    å¤åˆ¶ Tire</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æœ‰å±æ€§ï¼Œè¦è€ƒè™‘å®ä¾‹å˜é‡ï¼ˆåŒ…æ‹¬å­ç±»çš„ï¼‰çš„å¤åˆ¶ï¼Œéœ€è¦é€‰æ‹©åˆé€‚çš„æ„é€ å‡½æ•°æˆ–è€…ä½¿ç”¨<code>setter</code>ä¿®æ”¹å¯¹è±¡çš„å±æ€§ã€‚<br><strong>æ‰©å±•ï¼š</strong>å¯ä»¥ä½¿ç”¨<code>C</code>è¯­è¨€é£æ ¼çš„<code>æŒ‡é’ˆè¿ç®—ç¬¦</code>ç›´æ¥è®¿é—®å®ä¾‹å˜é‡ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tireCopy-&gt;pressure = presssure;</span><br><span class="line">tireCopy-&gt;treadDepth = treadDepth;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>æŠ€å·§ï¼š</strong>ä¸€èˆ¬æ¥è¯´ï¼Œå½“è®¾ç½®å±æ€§ä¸å¤ªå¯èƒ½æ¶‰åŠé¢å¤–å·¥ä½œæ—¶ï¼Œæˆ‘ä»¬å°½é‡ä½¿ç”¨initæ–¹æ³•å’Œè®¿é—®å™¨æ–¹æ³•ã€‚</p>
</blockquote>
<p><em>Tire.h</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Tire</span> : <span class="title">NSObject</span> &lt;<span class="title">NSCopying</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> <span class="keyword">float</span> pressure;</span><br><span class="line"><span class="keyword">@property</span> <span class="keyword">float</span> treadDepth;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>)initWithPressure:(<span class="keyword">float</span>)pressure treadDepth:(<span class="keyword">float</span>)treadDepth;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>Tire.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Tire.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Tire</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> *  éµå®ˆåè®®ï¼Œå®ç°å¤åˆ¶è‡ªèº«çš„æ–¹æ³•</span><br><span class="line"> *</span><br><span class="line"> *  @param zone å†…å­˜åŒºåŸŸ</span><br><span class="line"> *</span><br><span class="line"> *  @return å¤åˆ¶çš„å¯¹è±¡</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">id</span>) copyWithZone:(<span class="built_in">NSZone</span> *)zone &#123;</span><br><span class="line">    Tire *tireCopy;</span><br><span class="line">    <span class="comment">// è°ƒç”¨ä¾¿åˆ©æ„é€ å™¨åˆ›å»ºå¯¹è±¡ï¼ˆå±æ€§ç›¸åŒï¼‰</span></span><br><span class="line">    tireCopy = [[[<span class="keyword">self</span> class] allocWithZone:zone] initWithPressure:<span class="keyword">self</span>.pressure treadDepth:<span class="keyword">self</span>.treadDepth];</span><br><span class="line">    <span class="keyword">return</span> (tireCopy);</span><br><span class="line">&#125;<span class="comment">// copyWithZone</span></span><br><span class="line"><span class="comment">// æ„é€ å™¨</span></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h3 id="13-2-3-å¤åˆ¶-Car"><a href="#13-2-3-å¤åˆ¶-Car" class="headerlink" title="13.2.3    å¤åˆ¶ Car"></a>13.2.3    å¤åˆ¶ Car</h3><p><em>Car.h</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Cocoa/Cocoa.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@class</span> <span class="title">Tire</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">@class</span> <span class="title">Engine</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Car</span> : <span class="title">NSObject</span> &lt;<span class="title">NSCopying</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Car</span></span><br></pre></td></tr></table></figure>
<p><em>Car.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Car.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"Engine.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"Tire.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Car</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>) copyWithZone:(<span class="built_in">NSZone</span> *)zone &#123;</span><br><span class="line">    Car *carCopy;</span><br><span class="line">    <span class="comment">// åˆ›å»ºè½¦èº«</span></span><br><span class="line">    carCopy = [[[<span class="keyword">self</span> class] allocWithZone:zone] init];</span><br><span class="line">    <span class="comment">// åŸºæœ¬è®¾ç½®</span></span><br><span class="line">    carCopy.name = <span class="keyword">self</span>.name;</span><br><span class="line">    Engine *engineCopy;</span><br><span class="line">    engineCopy = [engine <span class="keyword">copy</span>];</span><br><span class="line">    carCopy.engine = engineCopy;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i= <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">        Tire *tireCopy;</span><br><span class="line">        tireCopy = [[<span class="keyword">self</span> tireAtIndex:i] <span class="keyword">copy</span>];</span><br><span class="line">        [carCopy setTire:tireCopy atIndex:i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (carCopy);</span><br><span class="line">&#125;<span class="comment">// copyWithZone</span></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Car</span></span><br></pre></td></tr></table></figure>
<h3 id="13-2-4-åè®®å’Œæ•°æ®"><a href="#13-2-4-åè®®å’Œæ•°æ®" class="headerlink" title="13.2.4    åè®®å’Œæ•°æ®"></a>13.2.4    åè®®å’Œæ•°æ®</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯ä»¥åœ¨å®ä¾‹å˜é‡å’Œæ–¹æ³•å‚æ•°çš„åé¢æ·»åŠ <code>&lt;åè®®å&gt;</code>æ¥å¯¹å¯¹è±¡æ˜¯å¤Ÿéµå®ˆåè®®è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¦æ±‚ object éµå®ˆ NSCopying åè®®,å¦åˆ™ç¼–è¯‘å™¨ä¼šç»™å‡ºè­¦å‘Š</span></span><br><span class="line">- (<span class="keyword">void</span>) setObjectValue: (<span class="keyword">id</span>&lt;<span class="built_in">NSCopying</span>&gt;) object;</span><br></pre></td></tr></table></figure>
<h2 id="13-3-Objective-C-2-0-çš„æ–°ç‰¹æ€§"><a href="#13-3-Objective-C-2-0-çš„æ–°ç‰¹æ€§" class="headerlink" title="13.3    Objective-C 2.0 çš„æ–°ç‰¹æ€§"></a>13.3    Objective-C 2.0 çš„æ–°ç‰¹æ€§</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>Objective-C 2.0</code>ä¸­å¢åŠ äº†ä¸¤ä¸ªæ–°çš„åè®®ä¿®é¥°ç¬¦ï¼š<code>@optional</code>å’Œ<code>@required</code>ï¼Œç”¨æ¥å–ä»£<code>éæ­£å¼åè®®</code></p>
<ul>
<li><code>@optional</code>ï¼šåé¢çš„æ–¹æ³•å£°æ˜åˆ—è¡¨å¯ä»¥å®ç°ä¹Ÿå¯ä»¥ä¸å®ç°</li>
<li><code>@required</code>åé¢çš„æ–¹æ³•åˆ—è¡¨ä¸­çš„æ–¹æ³•å¿…é¡»è¢«å®ç°</li>
</ul>
<p><strong>ä¼˜ç‚¹(ç›¸æ¯”éæ­£å¼åè®®)ï¼š</strong>å¯ä»¥ç”¨æ¥åœ¨ç±»å£°æ˜ä¸­æ˜ç¡®è¡¨è¾¾æˆ‘ä»¬çš„æ„å›¾ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">@proptocol BaseballPlayer</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¿…é¡»å®ç°</span></span><br><span class="line">- (<span class="keyword">void</span>) drawHugeSalary;</span><br><span class="line"><span class="comment">// å¯ä»¥å®ç°</span></span><br><span class="line"><span class="keyword">@optional</span></span><br><span class="line">- (<span class="keyword">void</span>) slideeHome;</span><br><span class="line">- (<span class="keyword">void</span>) catchBall;</span><br><span class="line">- (<span class="keyword">void</span>) throwBall;</span><br><span class="line"><span class="comment">// å¿…é¡»å®ç°</span></span><br><span class="line"><span class="keyword">@required</span></span><br><span class="line">- (<span class="keyword">void</span>) swingBat;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span><span class="comment">//</span></span><br></pre></td></tr></table></figure>
<h2 id="13-4-å§”æ‰˜æ–¹æ³•"><a href="#13-4-å§”æ‰˜æ–¹æ³•" class="headerlink" title="13.4    å§”æ‰˜æ–¹æ³•"></a>13.4    å§”æ‰˜æ–¹æ³•</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>å§”æ‰˜</code>æ˜¯ä¸€ä¸ªç»å¸¸ä¸<code>åè®®</code>å…±ç”¨çš„ç‰¹æ€§ã€‚<br><strong>ä¸¾ä¾‹ï¼š</strong><code>ç®¡ç†è€…</code>å°†éƒ¨åˆ†å…·ä½“å·¥ä½œå§”æ‰˜ç»™<code>å·¥ä½œäººå‘˜</code>å®Œæˆï¼Œ<code>å·¥ä½œäººå‘˜ç±»</code>é‡‡çº³äº†æŒ‡å®š<code>åè®®</code>ã€‚<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-22%20%E4%B8%8B%E5%8D%886.19.00.png" alt="Alt text"></p>
</blockquote>
<p><em>WorkerProtocol.hï¼šå·¥ä½œäººå‘˜ç±»é‡‡çº³çš„åè®®</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@protocol</span> <span class="title">WorkerProtocol</span> &lt;<span class="title">NSObject</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@optional</span></span><br><span class="line">- (<span class="keyword">void</span>)doSomeOptionalWork;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@required</span></span><br><span class="line">- (<span class="keyword">void</span>)doSomeRequiredWork;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>Worker1.h + Worker1.m</em> </p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"WorkerProtocol.h"</span></span></span><br><span class="line"><span class="comment">// é‡‡çº³äº†åè®® WorkerProtocol</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Worker1</span> : <span class="title">NSObject</span> &lt;<span class="title">WorkerProtocol</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Worker1.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Worker1</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)doSomeRequiredWork &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"Worker1 doing required work."</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>Worker2.h + Worker2.m</em> </p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"WorkerProtocol.h"</span></span></span><br><span class="line"><span class="comment">// é‡‡çº³äº†åè®® WorkerProtocol</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Worker2</span> : <span class="title">NSObject</span> &lt;<span class="title">WorkerProtocol</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Worker2.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Worker2</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)doSomeRequiredWork &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"Worker2 doing required work."</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)doSomeOptionalWork &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"Worker2 doing optional work."</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>Manager.h + Manager.mï¼šç®¡ç†è€…ï¼ˆä¼šå§”æ‰˜éƒ¨åˆ†å·¥ä½œç»™è®¾ç½®çš„å§”æ‰˜å¯¹è±¡ï¼‰</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"WorkerProtocol.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Manager</span> : <span class="title">NSObject</span></span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">weak</span>) <span class="keyword">id</span> &lt;WorkerProtocol&gt; delegate;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)doWork;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Manager.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰ç§æœ‰æ–¹æ³•</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Manager</span> ()</span></span><br><span class="line">- (<span class="keyword">void</span>)myWork;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Manager</span></span></span><br><span class="line"><span class="keyword">@synthesize</span> delegate;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)doWork</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// è°ƒç”¨å§”æ‰˜å¯¹è±¡å®Œæˆå¿…è¦å·¥ä½œ</span></span><br><span class="line">    [delegate doSomeRequiredWork];</span><br><span class="line">    <span class="comment">// æ£€æŸ¥æ˜¯å¦æœ‰é¢å¤–å·¥ä½œï¼Œæœ‰åˆ™åš</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="literal">YES</span> == [delegate respondsToSelector:<span class="keyword">@selector</span>(doSomeOptionalWork)])</span><br><span class="line">    &#123;</span><br><span class="line">        [delegate doSomeOptionalWork];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ‰§è¡Œè‡ªå·±çš„ç§æœ‰æ–¹æ³•</span></span><br><span class="line">    [<span class="keyword">self</span> myWork];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)myWork &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"I am a manager and I am working"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>main.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"Manager.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"Worker1.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"Worker2.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">@autoreleasepool</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// ç®¡ç†è€…</span></span><br><span class="line">        Manager *manager = [[Manager alloc] init];</span><br><span class="line">        <span class="comment">// å§”æ‰˜å¯¹è±¡</span></span><br><span class="line">        Worker1 *worker1 = [[Worker1 alloc] init];</span><br><span class="line">        <span class="comment">// ä¸ºç®¡ç†è€…è®¾ç½®å§”æ‰˜å¯¹è±¡</span></span><br><span class="line">        manager.delegate = worker1;</span><br><span class="line">        <span class="comment">// å·¥ä½œï¼ˆå†…éƒ¨å§”æ‰˜ worker1 å·¥ä½œï¼‰</span></span><br><span class="line">        [manager doWork];</span><br><span class="line">        </span><br><span class="line">        Worker2 *worker2 = [[Worker2 alloc] init];</span><br><span class="line">        manager.delegate = worker2;</span><br><span class="line">        [manager doWork];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="13-5-å°ç»“"><a href="#13-5-å°ç»“" class="headerlink" title="13.5    å°ç»“"></a>13.5    å°ç»“</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_12 ç±»åˆ«/" itemprop="url">
                  12 ç±»åˆ«
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T10:40:26+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_12 ç±»åˆ«/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_12 ç±»åˆ«/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ©ç”¨<code>Objective-C</code>çš„åŠ¨æ€è¿è¡Œæ—¶åˆ†é…æœºåˆ¶ï¼Œä½ å¯ä»¥ä¸ºç°æœ‰çš„ç±»æ·»åŠ <code>æ–¹æ³•</code>æˆ–<code>è®¡ç®—å±æ€§</code>ï¼Œè¿™ç§æœºåˆ¶ç§°ä¸º<code>ç±»åˆ«(category)</code>ã€‚</p>
<ul>
<li>å¯ä»¥åœ¨ç±»ä¸­æ·»åŠ å±æ€§ï¼ˆ<code>@property</code>ï¼‰ï¼Œä¸”åªèƒ½æ˜¯<code>è®¡ç®—å±æ€§</code>ï¼ˆä¸èƒ½æ·»åŠ <code>å®ä¾‹å˜é‡</code>ï¼‰</li>
<li>å¯ä»¥å‘ä¸€ä¸ª<code>ç±»</code>æ·»åŠ ä»»æ„æ•°é‡çš„<code>ç±»åˆ«</code></li>
<li><code>ç±»åˆ«</code>å¯ä»¥è®¿é—®å…¶æ‰©å±•çš„ç±»çš„<code>å®ä¾‹å˜é‡</code></li>
</ul>
<p><strong>æ€»ç»“ï¼š</strong>æˆ‘å°†<code>ç±»åˆ«</code>åˆ†3ç§</p>
</blockquote>
<table>
<thead>
<tr>
<th>ç§ç±»</th>
<th><code>@interface</code></th>
<th><code>@implementation</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>ç±»åˆ«</td>
<td><code>@interface ç±»å(ç±»åˆ«å)</code></td>
<td><code>@implementation ç±»å(ç±»åˆ«å)</code></td>
</tr>
<tr>
<td>ç±»æ‰©å±•ï¼ˆåŒ¿åç±»åˆ«ï¼‰</td>
<td><code>@interface ç±»å()</code></td>
<td>æ— </td>
</tr>
<tr>
<td>å‰å‘å¼•å¯¼</td>
<td><code>@interface ç±»å(ç±»åˆ«å)</code></td>
<td><code>@implementation ç±»å</code></td>
</tr>
</tbody>
</table>
<h2 id="12-1-åˆ›å»ºç±»åˆ«"><a href="#12-1-åˆ›å»ºç±»åˆ«" class="headerlink" title="12.1    åˆ›å»ºç±»åˆ«"></a>12.1    åˆ›å»ºç±»åˆ«</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯ä»¥ä¸ºäººå’Œç±»æ·»åŠ æ–°çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬é‚£äº›æ²¡æœ‰æºä»£ç çš„ç±»ã€‚<br><strong>æŠ€å·§ï¼š</strong>é€šå¸¸æŠŠç±»åˆ«ä»£ç æ”¾åœ¨<code>ç‹¬ç«‹</code>çš„æ–‡ä»¶ä¸­ï¼Œé€šå¸¸ä»¥<code>ç±»åç§°+ç±»åˆ«åç§°</code>çš„é£æ ¼å‘½åã€‚</p>
</blockquote>
<h3 id="12-1-1-å¼€å§‹åˆ›å»ºç±»åˆ«ç‹¬ç«‹æ–‡ä»¶"><a href="#12-1-1-å¼€å§‹åˆ›å»ºç±»åˆ«ç‹¬ç«‹æ–‡ä»¶" class="headerlink" title="12.1.1    å¼€å§‹åˆ›å»ºç±»åˆ«ç‹¬ç«‹æ–‡ä»¶"></a>12.1.1    å¼€å§‹åˆ›å»ºç±»åˆ«ç‹¬ç«‹æ–‡ä»¶</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä½¿ç”¨<code>Xcode</code>å¾€é¡¹ç›®ä¸­æ·»åŠ ç±»åˆ«éå¸¸å®¹æ˜“ï¼Œç”šè‡³å¯ä»¥<code>ç±»åç§°+ç±»åˆ«åç§°</code>å‘½åç±»åˆ«æ–‡ä»¶ã€‚</p>
<ol>
<li>æ–°å»ºæ–‡ä»¶<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-20%20%E4%B8%8A%E5%8D%8811.23.09.png" alt="Alt text"></li>
<li>é€‰æ‹©æ¨¡ç‰ˆ<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-20%20%E4%B8%8A%E5%8D%8811.23.39.png" alt="Alt text"></li>
<li>æ–‡ä»¶ç›¸å…³<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-20%20%E4%B8%8A%E5%8D%8811.24.00.png" alt="Alt text"></li>
<li>å®Œæˆ<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-20%20%E4%B8%8A%E5%8D%8811.24.16.png" alt="Alt text"></li>
</ol>
</blockquote>
<h3 id="12-1-2-interfaceéƒ¨åˆ†"><a href="#12-1-2-interfaceéƒ¨åˆ†" class="headerlink" title="12.1.2    @interfaceéƒ¨åˆ†"></a>12.1.2    @interfaceéƒ¨åˆ†</h3><p><em>NSString+NumberConvience.h</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">NSString</span> (<span class="title">NumberConvience</span>)</span></span><br><span class="line">- (<span class="built_in">NSNumber</span> *) lengthAsNumber;</span><br><span class="line"><span class="keyword">@end</span><span class="comment">// NumberConvience</span></span><br></pre></td></tr></table></figure>
<h3 id="12-1-3-implementationéƒ¨åˆ†"><a href="#12-1-3-implementationéƒ¨åˆ†" class="headerlink" title="12.1.3    @implementationéƒ¨åˆ†"></a>12.1.3    @implementationéƒ¨åˆ†</h3><p><em>NSString+NumberConvience.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"NSString+NumberConvience.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">NSString</span> (<span class="title">NumberConvience</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * è·å–NSNumber ç±»å‹çš„å­—ç¬¦ä¸²é•¿åº¦</span><br><span class="line"> * @return &#123;NSNumber *&#125; å­—ç¬¦ä¸²é•¿åº¦</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="built_in">NSNumber</span> *) lengthAsNumber &#123;</span><br><span class="line">    <span class="comment">// è·å¾—å­—ç¬¦ä¸²é•¿åº¦ï¼šNSInteger åº•å±‚æ˜¯ä¸ª long int</span></span><br><span class="line">    <span class="built_in">NSUInteger</span> length = [<span class="keyword">self</span> length];</span><br><span class="line">    <span class="comment">// å°†å­—ç¬¦ä¸²é•¿åº¦è½¬æ¢ä¸º NSNumber ç±»å‹</span></span><br><span class="line">    <span class="keyword">return</span> ([<span class="built_in">NSNumber</span> numberWithUnsignedLong: length]);</span><br><span class="line">&#125;<span class="comment">// lengthAsNumber</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>main.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"NSString+NumberConvience.h"</span></span></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    <span class="keyword">@autoreleasepool</span> &#123;</span><br><span class="line">        <span class="comment">// å¯å˜å­—å…¸</span></span><br><span class="line">        <span class="built_in">NSMutableDictionary</span> *dict = [<span class="built_in">NSMutableDictionary</span> dictionary];</span><br><span class="line">        <span class="comment">// æ·»åŠ é”®/å€¼å¯¹</span></span><br><span class="line">        [dict setObject:[<span class="string">@"hello"</span> lengthAsNumber] forKey:<span class="string">@"hello"</span>];</span><br><span class="line">        [dict setObject:[<span class="string">@"iLikeFish"</span> lengthAsNumber] forKey:<span class="string">@"iLikeFish"</span>];</span><br><span class="line">        [dict setObject:[<span class="string">@"Once upon a time"</span> lengthAsNumber] forKey:<span class="string">@"Once upon a time"</span>];</span><br><span class="line">        <span class="comment">// æ‰“å°å­—å…¸</span></span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, dict);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="12-1-4-ç±»åˆ«çš„ç¼ºé™·"><a href="#12-1-4-ç±»åˆ«çš„ç¼ºé™·" class="headerlink" title="12.1.4    ç±»åˆ«çš„ç¼ºé™·"></a>12.1.4    ç±»åˆ«çš„ç¼ºé™·</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç±»åˆ«æœ‰2ä¸ªå±€é™æ€§</p>
<ul>
<li>æ— æ³•å‘ç±»ä¸­æ·»åŠ å®ä¾‹å˜é‡</li>
<li>å½“ç±»åˆ«æ·»åŠ çš„æ–¹æ³•å’Œç±»ä¸­åŸæœ‰çš„æ–¹æ³•é‡åæ—¶ï¼Œç±»åˆ«å…·æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§</li>
</ul>
<p><strong>è§£å†³å‘½åå†²çªï¼š</strong>å¯ä»¥åœ¨ç±»åˆ«çš„æ–¹æ³•åä¸­æ·»åŠ ä¸€ä¸ªå‰ç¼€ï¼Œä»¥ç¡®ä¿ä¸ä¼šå‘ç”Ÿåç§°å†²çªã€‚<br><strong>æ·»åŠ å®ä¾‹å˜é‡ï¼š</strong>ä½¿ç”¨å…¨å±€å­—å…¸æ¥å­˜å‚¨å¯¹è±¡ä¸æƒ³å…³è”çš„é¢å¤–å˜é‡ä¹‹é—´çš„æ˜ å°„ã€‚</p>
</blockquote>
<h3 id="12-1-5-ç±»åˆ«çš„ä¼˜åŠ¿"><a href="#12-1-5-ç±»åˆ«çš„ä¼˜åŠ¿" class="headerlink" title="12.1.5    ç±»åˆ«çš„ä¼˜åŠ¿"></a>12.1.5    ç±»åˆ«çš„ä¼˜åŠ¿</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç±»åˆ«ä¸»è¦æœ‰3ä¸ªç”¨é€”</p>
<ul>
<li>å°†ç±»çš„å®ç°ä»£ç åˆ†æ•£åˆ°å¤šä¸ªä¸åŒæ–‡ä»¶æˆ–æ¡†æ¶ä¸­</li>
<li>åˆ›å»ºå¯¹ç§æœ‰æ–¹æ³•çš„å‰å‘å¼•ç”¨</li>
<li>å‘å¯¹è±¡æ·»åŠ éæ­£å¼åè®®ï¼ˆinformal protocolï¼‰</li>
</ul>
</blockquote>
<h3 id="12-1-6-ç±»æ‰©å±•"><a href="#12-1-6-ç±»æ‰©å±•" class="headerlink" title="12.1.6    ç±»æ‰©å±•"></a>12.1.6    ç±»æ‰©å±•</h3><blockquote>
<p><strong>è¯´åï¼š</strong><code>ç±»æ‰©å±•ï¼ˆclass extensionï¼‰</code>æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„<code>ç±»åˆ«</code>ï¼Œå®ƒä¸éœ€è¦å‘½å(åªæœ‰<code>@interface</code>æ²¡æœ‰<code>@implementation</code>)ã€‚</p>
<ul>
<li>å¯ä»¥åŒ…å«æºä»£ç çš„ç±»ä¸­ä½¿ç”¨</li>
<li>å¯ä»¥æ·»åŠ å®ä¾‹å˜é‡</li>
<li>å¯ä»¥å°†åªè¯»æƒé™æ”¹æˆå¯è¯»å†™çš„æƒé™</li>
<li>åˆ›å»ºæ•°é‡ä¸é™</li>
</ul>
<p><strong>ä¿¡æ¯éšè—ï¼š</strong>åˆ†2ç§æƒ…å†µ</p>
</blockquote>
<table>
<thead>
<tr>
<th><code>ç±»æ‰©å±•</code>æ‰€åœ¨æ–‡ä»¶</th>
<th>å¯è®¿é—®æ€§</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ‰©å±•çš„ç›®æ ‡ç±»çš„<code>@implementation</code>æ‰€åœ¨<code>.m</code>æ–‡ä»¶</td>
<td>ç›®æ ‡ç±»çš„å†…éƒ¨</td>
</tr>
<tr>
<td>å•ç‹¬çš„ç§æœ‰<code>.h</code>æ–‡ä»¶</td>
<td>ç›®æ ‡ç±»çš„å†…éƒ¨ã€ç›®æ ‡ç±»çš„å­ç±»å’Œå‹ç±»</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong>å¯ä»¥æ‹¥æœ‰å¤šä¸ª<code>ç±»æ‰©å±•</code>ï¼Œä¸è¿‡è¿™æ ·ä¼šå¼•å‘å¾ˆéš¾å¯Ÿè§‰çš„<code>bug</code>ï¼Œæ‰€ä»¥è¯·ç†æ™ºä½¿ç”¨ã€‚</p>
</blockquote>
<p><em>Things.hï¼šç±»çš„<code>@interface</code></em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Things</span> : <span class="title">NSObject</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">assign</span>) <span class="built_in">NSInteger</span> thing1;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readonly</span>, <span class="keyword">assign</span>) <span class="built_in">NSInteger</span> thing2;</span><br><span class="line"></span><br><span class="line">-(<span class="keyword">void</span>)resetAllValues;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>Things.mï¼šç±»çš„<code>@implementation</code>å’Œç±»æ‰©å±•</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Things.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> *  åœ¨å®ç°æ–‡ä»¶ä¸­æ·»åŠ ç±»æ‰©å±•ï¼ˆåŒ¿åç±»åˆ«ï¼‰</span><br><span class="line"> */</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Things</span> ()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// æ·»åŠ å®ä¾‹å˜é‡</span></span><br><span class="line">    <span class="built_in">NSInteger</span> thing4;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä¿®æ”¹åŸæœ‰å±æ€§çš„ç‰¹æ€§ï¼ˆåªè¯»ï¼&gt;è¯»å†™ï¼‰</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readwrite</span>, <span class="keyword">assign</span>) <span class="built_in">NSInteger</span> thing2;</span><br><span class="line"><span class="comment">// æ·»åŠ å±æ€§</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">assign</span>) <span class="built_in">NSInteger</span> thing3;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span><span class="comment">// Things ()</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> *  ç±»çš„åŸå§‹å®šä¹‰</span><br><span class="line"> */</span></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Things</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) resetAllValues &#123;</span><br><span class="line">    thing1 = <span class="number">100</span>;</span><br><span class="line">    thing2 = <span class="number">200</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span><span class="comment">// Things</span></span><br></pre></td></tr></table></figure>
<p><em>main.mï¼šä½¿ç”¨è¢«æ‰©å±•åçš„<code>NSString</code></em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    <span class="keyword">@autoreleasepool</span> &#123;</span><br><span class="line">        Things *things = [[Things alloc] init];</span><br><span class="line">        things.thing1 = <span class="number">1</span>;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, things);</span><br><span class="line">        [things resetAllValues];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, things);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="12-2-åˆ©ç”¨ç±»åˆ«åˆ†æ•£å®ç°ä»£ç "><a href="#12-2-åˆ©ç”¨ç±»åˆ«åˆ†æ•£å®ç°ä»£ç " class="headerlink" title="12.2    åˆ©ç”¨ç±»åˆ«åˆ†æ•£å®ç°ä»£ç "></a>12.2    åˆ©ç”¨ç±»åˆ«åˆ†æ•£å®ç°ä»£ç </h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¦‚æœæƒ³å°†å¤§å‹çš„å•ä¸ªç±»åˆ†æ•£åˆ°å¤šä¸ªä¸åŒçš„<code>.m</code>æ–‡ä»¶ä¸­ï¼Œå¯ä»¥ä½¿ç”¨<code>ç±»åˆ«</code>ã€‚<br><strong>ä¸¾ä¾‹ï¼š</strong><code>AppKit</code>ä¸­çš„<code>NSWindow</code>ï¼Œæ‹¥æœ‰å¤§é‡çš„<code>ç±»åˆ«</code>å£°æ˜</p>
<ul>
<li><code>@interface NSWindow(NSKeyboardUI)</code></li>
<li><code>@interface NSWindow(NSToolbarSupport)</code></li>
<li><code>@interface NSWindow(NSDrag)</code></li>
<li><code>@interface NSWindow(NSCarbonExtensions)</code></li>
</ul>
<p><strong>æ‰©å±•ï¼š</strong><code>ç±»åˆ«</code>è¿˜å¯ä»¥å°†<code>æ–¹æ³•</code>åˆ†æ•£åˆ°<code>é€»è¾‘ç¾¤ç»„</code>ä¸­ï¼Œä½¿ç¼–ç¨‹äººå‘˜å¯ä»¥æ›´åŠ å®¹æ˜“åœ°é˜…è¯»å¤´<code>æ–‡ä»¶</code>ã€‚</p>
</blockquote>
<h3 id="åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ç±»åˆ«"><a href="#åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ç±»åˆ«" class="headerlink" title="åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ç±»åˆ«"></a>åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ç±»åˆ«</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†ç±»çš„<code>ç±»åˆ«</code>çš„å®ç°éƒ¨åˆ†åˆ†æ•£åœ¨ä¸‰ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ä¸­ã€‚<br><img src="./å±å¹•å¿«ç…§ 2016-01-20 ä¸‹åˆ10.54.50.png" alt="Alt text"></p>
</blockquote>
<p><em>CategoryThing.hï¼šç±»çš„<code>@interface</code>å’Œ3ä¸ªç±»åˆ«çš„<code>@interface</code></em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">CategoryThing</span> : <span class="title">NSObject</span></span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSInteger</span> thing1;</span><br><span class="line">    <span class="built_in">NSInteger</span> thing2;</span><br><span class="line">    <span class="built_in">NSInteger</span> thing3;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span><span class="comment">// CategoryThing</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> *  ç±»æ‰©å±•ï¼šThing1</span><br><span class="line"> */</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">CategoryThing</span> (<span class="title">Thing1</span>)</span></span><br><span class="line">- (<span class="keyword">void</span>) setThing1: (<span class="built_in">NSInteger</span>) thing1;</span><br><span class="line">- (<span class="built_in">NSInteger</span>) thing1;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> *  ç±»æ‰©å±•ï¼šThing2</span><br><span class="line"> */</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">CategoryThing</span> (<span class="title">Thing2</span>)</span></span><br><span class="line">- (<span class="keyword">void</span>) setThing2: (<span class="built_in">NSInteger</span>) thing2;</span><br><span class="line">- (<span class="built_in">NSInteger</span>) thing2;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> *  ç±»æ‰©å±•ï¼šThing3</span><br><span class="line"> */</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">CategoryThing</span> (<span class="title">Thing3</span>)</span></span><br><span class="line">- (<span class="keyword">void</span>) setThing3: (<span class="built_in">NSInteger</span>) thing3;</span><br><span class="line">- (<span class="built_in">NSInteger</span>) thing3;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>CategoryThing.mï¼šç±»çš„<code>@implementation</code></em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"CategoryThing.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">CategoryThing</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> *  æè¿°</span><br><span class="line"> *</span><br><span class="line"> *  @return å­—ç¬¦ä¸²è¡¨ç¤ºçš„æè¿°å†…å®¹</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="built_in">NSString</span> *) description &#123;</span><br><span class="line">    <span class="built_in">NSString</span> *desc = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%ld %ld %ld"</span>, thing1, thing2, thing3];</span><br><span class="line">    <span class="keyword">return</span> (desc);</span><br><span class="line">&#125;<span class="comment">// description</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span><span class="comment">// CategoryThing</span></span><br></pre></td></tr></table></figure>
<p><em>CategoryThing+Thing1.mï¼šç±»åˆ«Thing1çš„<code>@implementation</code></em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"CategoryThing.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">CategoryThing</span> (<span class="title">Thing1</span>)</span></span><br><span class="line">- (<span class="keyword">void</span>)setThing1:(<span class="built_in">NSInteger</span>)t1</span><br><span class="line">&#123;</span><br><span class="line">    thing1 = t1;</span><br><span class="line">&#125; <span class="comment">// setThing1</span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSInteger</span>) thing1</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> (thing1);</span><br><span class="line">&#125; <span class="comment">// thing1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// CategoryThing</span></span><br></pre></td></tr></table></figure>
<p><em>CategoryThing+Thing2.mï¼šç±»åˆ«Thing2çš„<code>@implementation</code></em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"CategoryThing.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">CategoryThing</span> (<span class="title">Thing2</span>)</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)setThing2:(<span class="built_in">NSInteger</span>)t2 &#123;</span><br><span class="line">    thing2 = t2;</span><br><span class="line">&#125; <span class="comment">// setthing2</span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSInteger</span>) thing2 &#123;</span><br><span class="line">    <span class="keyword">return</span> (thing2);</span><br><span class="line">&#125; <span class="comment">// thing2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>CategoryThing+Thing3.mï¼šç±»åˆ«Thing3çš„<code>@implementation</code></em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"CategoryThing.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">CategoryThing</span> (<span class="title">Thing3</span>)</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)setThing3:(<span class="built_in">NSInteger</span>)t3 &#123;</span><br><span class="line">    thing3 = t3;</span><br><span class="line">&#125; <span class="comment">// setthing3</span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSInteger</span>) thing3 &#123;</span><br><span class="line">    <span class="keyword">return</span> (thing3);</span><br><span class="line">&#125; <span class="comment">// thing3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>main.mï¼šè°ƒç”¨<code>ç±»</code>é€šè¿‡<code>ç±»åˆ«</code>æ‰©å±•çš„åŠŸèƒ½</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"CategoryThing.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    <span class="keyword">@autoreleasepool</span> &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºç‰©å“é›†åˆ</span></span><br><span class="line">        CategoryThing *thing = [[CategoryThing alloc] init];</span><br><span class="line">        <span class="comment">// è°ƒç”¨é€šè¿‡â€œç±»åˆ«â€æ‰©å±•æ¥çš„æ–¹æ³•</span></span><br><span class="line">        [thing setThing1: <span class="number">5</span>];</span><br><span class="line">        [thing setThing2: <span class="number">23</span>];</span><br><span class="line">        [thing setThing3: <span class="number">42</span>];</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"Things are %@"</span>, thing);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="12-3-é€šè¿‡ç±»åˆ«åˆ›å»ºå‰å‘å¼•ç”¨"><a href="#12-3-é€šè¿‡ç±»åˆ«åˆ›å»ºå‰å‘å¼•ç”¨" class="headerlink" title="12.3    é€šè¿‡ç±»åˆ«åˆ›å»ºå‰å‘å¼•ç”¨"></a>12.3    é€šè¿‡ç±»åˆ«åˆ›å»ºå‰å‘å¼•ç”¨</h2><blockquote>
<p><strong>èƒŒæ™¯ï¼š</strong><code>Objective-C</code>çš„<code>ç§æœ‰æ–¹æ³•</code>åˆ†ä¸¤ç§</p>
<ul>
<li>å¦‚æœåœ¨ä¸€ä¸ªç±»çš„<code>@implementation</code>éƒ¨åˆ†å®šä¹‰äº†æŸä¸ªæ–¹æ³•ï¼Œè€Œå¯¹åº”çš„<code>@interface</code>éƒ¨åˆ†æ²¡æœ‰ç›¸åº”çš„æ–¹æ³•å£°æ˜</li>
<li>é€šè¿‡<code>ç±»æ‰©å±•ï¼ˆåŒ¿åç±»åˆ«ï¼‰</code>æ‰©å±•çš„æ–¹æ³•</li>
</ul>
<p>ç„¶è€Œï¼Œ<code>O-C</code>å¹¶ä¸çœŸçš„æ”¯æŒ<code>ç§æœ‰æ–¹æ³•</code>ï¼Œæ‰€ä»¥<code>ç§æœ‰æ–¹æ³•</code>ä»ç„¶å¯ä»¥é€šè¿‡å¯¹è±¡è°ƒç”¨ï¼Œåªä¸è¿‡è¿™æ—¶<code>Xcode</code>ä¼šç»™å‡ºè­¦å‘Šã€‚<br><strong>è¯´æ˜ï¼š</strong>å½“ä»å¤–éƒ¨è®¿é—®æŸä¸ª<code>ç±»</code>çš„<code>ç§æœ‰æ–¹æ³•</code>æ—¶ï¼Œä¸ºäº†é¿å…<code>Xcode</code>ç»™å‡ºè­¦å‘Šï¼Œå¯ä»¥é€šè¿‡<code>ç±»åˆ«</code>è¡¥å……ä¸€ä¸ªå£°æ˜ï¼Œå³<code>å‰å‘å¼•å¯¼</code>ã€‚<br><strong>æ‰©å±•ï¼š</strong>å®é™…ä¸Šï¼Œè‹¹æœå…¬å¸å®˜ç½‘åœ¨çŸ¥é“æ–¹é’ˆä¸­æŒ‡å‡ºï¼Œåº”ç”¨ç¨‹åºä¸èƒ½è®¿é—®ç±»é‡Œé¢çš„ç§æœ‰å˜é‡å’Œæ–¹æ³•ï¼Œå¦‚æœä½ çš„åº”ç”¨ç¨‹åºæœ‰è¿™æ ·çš„è¡Œä¸ºï¼Œé‚£ä¹ˆè‹¹æœå…¬å¸ä¼šæ‹’ç»è®©å®ƒä¸Šæ¶ã€‚<br><em>main.mï¼šåœ¨æœ€å‰é¢åˆ›å»º<code>ç±»åˆ«</code>æ¥è¡¥å……<code>ç§æœ‰æ–¹æ³•</code>çš„å£°æ˜</em></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Car</span> (<span class="title">Private</span>)</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) moveTireFromPosition: (<span class="keyword">int</span>) pos1 toPosition: (<span class="keyword">int</span>) pos2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p><em>Car.mï¼šæ–¹æ³•çš„å®ç°éƒ¨åˆ†æ˜¯Carçš„<code>ç§æœ‰æ–¹æ³•</code></em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Car</span></span></span><br><span class="line">...</span><br><span class="line">- (<span class="keyword">void</span>) moveTireFromPosition: (<span class="keyword">int</span>) pos1 toPosition: (<span class="keyword">int</span>) pos2 &#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h2 id="12-4-éæ­£å¼åè®®å’Œå§”æ‰˜ç±»åˆ«"><a href="#12-4-éæ­£å¼åè®®å’Œå§”æ‰˜ç±»åˆ«" class="headerlink" title="12.4    éæ­£å¼åè®®å’Œå§”æ‰˜ç±»åˆ«"></a>12.4    éæ­£å¼åè®®å’Œå§”æ‰˜ç±»åˆ«</h2><blockquote>
<p><strong>å§”æ‰˜ï¼š</strong>å°†æŸäº›å·¥ä½œäº¤ç»™å¦ä¸€ä¸ªç±»æ‰§è¡Œå°±å«åš<code>å§”æ‰˜(delegate)</code>ã€‚<br><strong>å§”æ‰˜å¯¹è±¡ï¼š</strong><code>å§”æ‰˜</code>æŠ€æœ¯ä¸­ï¼Œè¢«å§”æ‰˜ç”¨æ¥æ‰§è¡ŒæŸäº›å·¥ä½œçš„<code>å¯¹è±¡</code>ã€‚<br><strong>è¯´æ˜ï¼š</strong>é™¤äº†é€šè¿‡<code>ç»§æ‰¿</code>åˆ›å»º<code>å§”æ‰˜å¯¹è±¡</code>å¤–ï¼Œå¯ä»¥é€šè¿‡<code>ç±»åˆ«</code>æ‰©å±•<code>NSObject</code>ï¼ˆå³åˆ›å»ºäº†ä¸€ä¸ª<code>éæ­£å¼åè®®</code>ï¼‰ï¼Œä½¿å…¶è·å¾—<code>å§”æ‰˜æ–¹æ³•</code>ï¼Œä»è€Œå°†ä»»ä½•å¯¹è±¡éƒ½å˜æˆ<code>å§”æ‰˜å¯¹è±¡</code>ã€‚</p>
</blockquote>
<h3 id="12-4-1-iTunesFinderé¡¹ç›®"><a href="#12-4-1-iTunesFinderé¡¹ç›®" class="headerlink" title="12.4.1    iTunesFinderé¡¹ç›®"></a>12.4.1    iTunesFinderé¡¹ç›®</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç”¨æ¥è¯´æ˜<code>Cocoa</code>ä¸­æ˜¯å¦‚ä½•ä½¿ç”¨<code>å§”æ‰˜</code>æŠ€æœ¯çš„ã€‚</p>
</blockquote>
<h4 id="Bonjour"><a href="#Bonjour" class="headerlink" title="Bonjour"></a>Bonjour</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æŸ¥æ‰¾ç”±<code>Bonjour</code>å‘å¸ƒçš„ç½‘ç»œæœåŠ¡çš„<code>Cocoaç±»</code>æ˜¯<code>NSNetServiceBrowser</code>ã€‚<br><strong>ç”¨æ³•ï¼š</strong>å‘Šè¯‰<code>ç½‘ç»œæœåŠ¡æµè§ˆå™¨</code>ä½ éœ€è¦çš„æœåŠ¡ï¼Œå¹¶ä¸ºå…¶æä¾›ä¸€ä¸ª<code>å§”æ‰˜å¯¹è±¡</code>ã€‚<code>æµè§ˆå™¨å¯¹è±¡</code>å°†ä¼šå‘è¯¥<code>å§”æ‰˜å¯¹è±¡</code>å‘é€æ¶ˆæ¯ï¼Œå‘ŠçŸ¥å…¶å‘ç°æ–°æœåŠ¡çš„æ—¶é—´ã€‚<br><em>ITunesFinder.h</em></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Cocoa/Cocoa.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ITunesFinder</span> : <span class="title">NSObject</span> &lt;<span class="title">NSNetServiceBrowserDelegate</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>ITunesFinder.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"ITunesFinder.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ITunesFinder</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> *  æ‰¾åˆ°äº†ç½‘ç»œæœåŠ¡æ—¶çš„å›è°ƒæ–¹æ³•</span><br><span class="line"> *</span><br><span class="line"> *  @param b          ç½‘ç»œæœåŠ¡æµè§ˆå™¨å¯¹è±¡</span><br><span class="line"> *  @param service    è¢«å‘ç°çš„æœåŠ¡</span><br><span class="line"> *  @param moreComing ä¸€æ‰¹é€šçŸ¥æ˜¯å¦å·²ç»å®Œæˆçš„æ ‡è®°</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>) netServiceBrowser:(<span class="built_in">NSNetServiceBrowser</span> *) b</span><br><span class="line">            didFindService:(<span class="built_in">NSNetService</span> *) service</span><br><span class="line">                moreComing:(<span class="built_in">BOOL</span>) moreComing &#123;</span><br><span class="line">    <span class="comment">// è·å–å…³äºè¯¥æœåŠ¡çš„æ‰€æœ‰æœ‰è¶£çš„å±æ€§</span></span><br><span class="line">    [service resolveWithTimeout:<span class="number">10</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSLog</span> (<span class="string">@"found one! Name is %@"</span>, [service name]);</span><br><span class="line">    </span><br><span class="line">&#125; <span class="comment">// didFindService</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> *  æŸä¸ªç½‘ç»œæœåŠ¡æ¶ˆå¤±æ—¶çš„å›è°ƒæ–¹æ³•ï¼ˆç”¨äºçŠ¶æ€åˆ·æ–°ï¼‰</span><br><span class="line"> *</span><br><span class="line"> *  @param b          ç½‘ç»œæœåŠ¡æµè§ˆå™¨å¯¹è±¡</span><br><span class="line"> *  @param service    è¢«å‘ç°çš„æœåŠ¡</span><br><span class="line"> *  @param moreComing ä¸€æ‰¹é€šçŸ¥æ˜¯å¦å·²ç»å®Œæˆçš„æ ‡è®°</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>) netServiceBrowser:(<span class="built_in">NSNetServiceBrowser</span> *) b</span><br><span class="line">          didRemoveService:(<span class="built_in">NSNetService</span> *) service</span><br><span class="line">                moreComing:(<span class="built_in">BOOL</span>) moreComing</span><br><span class="line">&#123;</span><br><span class="line">    [service resolveWithTimeout:<span class="number">10</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSLog</span> (<span class="string">@"lost one! Name is %@"</span>, [service name]);</span><br><span class="line">    </span><br><span class="line">&#125; <span class="comment">// didRemoveService</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// ITunesFinder</span></span><br></pre></td></tr></table></figure>
<p><em>main.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ITunesFinder.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">@autoreleasepool</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»º ç½‘ç»œæœåŠ¡æµè§ˆå™¨å¯¹è±¡</span></span><br><span class="line">        <span class="built_in">NSNetServiceBrowser</span> *browser = [[<span class="built_in">NSNetServiceBrowser</span> alloc] init];</span><br><span class="line">        <span class="comment">// åˆ›å»º å§”æ‰˜å¯¹è±¡ï¼ˆè‡ªå®šä¹‰çš„æŸ¥æ‰¾iTunesèµ„æºçš„å¯¹è±¡ï¼‰</span></span><br><span class="line">        ITunesFinder *finder = [[ITunesFinder alloc] init];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// é€šçŸ¥ ç½‘ç»œæœåŠ¡æµè§ˆå™¨å¯¹è±¡æ‰€ä½¿ç”¨çš„å§”æ‰˜å¯¹è±¡ä¸ºè‡ªå®šä¹‰çš„ ITunes å¯¹è±¡</span></span><br><span class="line">        [browser setDelegate:finder];</span><br><span class="line">        <span class="comment">// æœç´¢ iTunes å…±äº«ï¼ˆä½¿ç”¨TCPåè®®ã€åªåœ¨æœ¬åœ°ç½‘ç»œä¸­ï¼‰</span></span><br><span class="line">        [browser searchForServicesOfType:<span class="string">@"_daap._tcp"</span></span><br><span class="line">                                inDomain:<span class="string">@"local."</span>];</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">NSLog</span> (<span class="string">@"begun browsing"</span>);</span><br><span class="line">        <span class="comment">// runå¾ªç¯ï¼ˆåœ¨ ç½‘ç»œæœåŠ¡æµè§ˆå™¨ å‘ç°æ–°çš„ iTunes å…±äº«ä¹‹å‰ä¼šä¸€ç›´ä¿æŒè¿è¡Œè€Œä¸è¿”å›ï¼Œå³é˜»å¡åœ¨æ­¤å¤„è€Œä¸æ‰§è¡Œåé¢çš„ä»£ç ï¼‰</span></span><br><span class="line">        [[<span class="built_in">NSRunLoop</span> currentRunLoop] run];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="12-4-2-å§”æ‰˜å’Œç±»åˆ«"><a href="#12-4-2-å§”æ‰˜å’Œç±»åˆ«" class="headerlink" title="12.4.2    å§”æ‰˜å’Œç±»åˆ«"></a>12.4.2    å§”æ‰˜å’Œç±»åˆ«</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é™¤äº†é€šè¿‡<code>ç»§æ‰¿</code>åˆ›å»º<code>å§”æ‰˜å¯¹è±¡</code>å¤–ï¼Œå¯ä»¥é€šè¿‡<code>ç±»åˆ«</code>æ‰©å±•<code>NSObject</code>ï¼ˆå³åˆ›å»ºäº†ä¸€ä¸ª<code>éæ­£å¼åè®®</code>ï¼‰ï¼Œä½¿å…¶è·å¾—<code>å§”æ‰˜æ–¹æ³•</code>ï¼Œä»è€Œå°†ä»»ä½•å¯¹è±¡éƒ½å˜æˆ<code>å§”æ‰˜å¯¹è±¡</code>ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">NSObject</span> (<span class="title">NSNetServerBrowserDelegateMethods</span>)</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) netServiceBrowserWillSearch: (<span class="built_in">NSNetServiceBrowser</span> *) browser;</span><br><span class="line">- (<span class="keyword">void</span>) netServiceBrowser:(<span class="built_in">NSNetServiceBrowser</span> *) b didFindService:(<span class="built_in">NSNetService</span> *) service moreComing:(<span class="built_in">BOOL</span>) moreComing;</span><br><span class="line">- (<span class="keyword">void</span>) netServiceBrowserDidStopSearch: (<span class="built_in">NSNetServiceBrowser</span> *) browser;</span><br><span class="line">- (<span class="keyword">void</span>) netServiceBrowser:(<span class="built_in">NSNetServiceBrowser</span> *) b didRemoveService:(<span class="built_in">NSNetService</span> *) service moreComing:(<span class="built_in">BOOL</span>) moreComing;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h3 id="12-4-3-å“åº”é€‰æ‹©å™¨"><a href="#12-4-3-å“åº”é€‰æ‹©å™¨" class="headerlink" title="12.4.3    å“åº”é€‰æ‹©å™¨"></a>12.4.3    å“åº”é€‰æ‹©å™¨</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>NSNetServiceBrowser</code>ä¸ºäº†ç¡®å®šå…¶<code>å§”æ‰˜å¯¹è±¡</code>æ˜¯å¦èƒ½å¤Ÿå¤„ç†é‚£äº›å‘é€ç»™å®ƒçš„æ¶ˆæ¯ï¼Œä¼šé¦–å…ˆæ£€æŸ¥å¯¹è±¡ï¼Œè¯¢é—®å…¶èƒ½å¦å“åº”è¯¥é€‰æ‹©å™¨ï¼Œæ˜¯æ³½å‘é€æ¶ˆæ¯ï¼Œå¦åˆ™å¿½ç•¥è¿™ä¸ªå§”æ‰˜å¯¹è±¡ï¼Œç¨‹åºç»§ç»­è¿è¡Œã€‚</p>
</blockquote>
<h4 id="é€‰æ‹©å™¨ï¼ˆselectorï¼‰"><a href="#é€‰æ‹©å™¨ï¼ˆselectorï¼‰" class="headerlink" title="é€‰æ‹©å™¨ï¼ˆselectorï¼‰"></a>é€‰æ‹©å™¨ï¼ˆselectorï¼‰</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åªæ˜¯ä¸€ä¸ªæ–¹æ³•åç§°ï¼Œä½†ä»¥<code>Objective-C</code>è¿è¡Œæ—¶ä½¿ç”¨çš„ç‰¹æ®Šæ–¹å¼ç¼–ç ï¼Œä»¥å¿«é€Ÿæ‰§è¡ŒæŸ¥è¯¢ã€‚<br><strong>è¯­æ³•ï¼š</strong><code>@selector(æ–¹æ³•å)</code><br><strong>ç”¨é€”ï¼š</strong><code>NSObject</code>æä¾›äº†ä¸€ä¸ªåä¸º<code>responendsToSelector</code>çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¯¢é—®å¯¹è±¡ä»¥ç¡®å®šå…¶æ˜¯å¦èƒ½å¤Ÿå“åº”æŸä¸ªç‰¹å®šçš„æ¶ˆæ¯ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Car *car = [[Car alloc] init];</span><br><span class="line"><span class="keyword">if</span> ([car responengsToSelector: <span class="keyword">@selector</span>(setEngine:)]) &#123;</span><br><span class="line">	<span class="built_in">NSLog</span>(<span class="string">@"yowza!"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="12-4-4-é€‰æ‹©å™¨çš„å…¶å®ƒåº”ç”¨"><a href="#12-4-4-é€‰æ‹©å™¨çš„å…¶å®ƒåº”ç”¨" class="headerlink" title="12.4.4    é€‰æ‹©å™¨çš„å…¶å®ƒåº”ç”¨"></a>12.4.4    é€‰æ‹©å™¨çš„å…¶å®ƒåº”ç”¨</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€‰æ‹©å™¨å¯ä»¥</p>
<ul>
<li>è¢«ä¼ é€’</li>
<li>ä½œä¸ºæ–¹æ³•çš„å‚æ•°</li>
<li>ä½œä¸ºå®ä¾‹å˜é‡è¢«å­˜å‚¨</li>
</ul>
<p><strong>ä¸¾ä¸ªä¾‹å­ï¼š</strong><code>Foundation</code>æ¡†æ¶ä¸­çš„<code>NSTimer</code></p>
</blockquote>
<h2 id="12-5-å°ç»“"><a href="#12-5-å°ç»“" class="headerlink" title="12.5    å°ç»“"></a>12.5    å°ç»“</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_11 å±æ€§/" itemprop="url">
                  11 å±æ€§
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T10:40:03+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_11 å±æ€§/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_11 å±æ€§/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>O-C 2.0</code>å¼•å…¥äº†<code>å±æ€§ï¼ˆpropertyï¼‰</code>ï¼Œå³<code>@property</code>é¢„ç¼–è¯‘æŒ‡ä»¤ï¼Œå®ƒç»„åˆäº†æ–°çš„é¢„ç¼–è¯‘æŒ‡ä»¤å’Œæ–°çš„å±æ€§è®¿é—®å™¨è¯­æ³•ã€‚<br><strong>ç”¨é€”ï¼š</strong>é™¤éè‡ªå·±å®šä¹‰äº†ç›¸å…³ä»£ç ï¼Œå¦åˆ™<code>@property</code>ä¼šæ ¹æ®<code>ç‰¹æ€§</code>è‡ªåŠ¨ç”Ÿæˆå±æ€§åŠå…¶<code>setter</code>å’Œ<code>getter</code>çš„å£°æ˜å’Œå®ç°ã€‚<br><strong>å…¼å®¹æ€§ï¼š</strong><code>10.5+</code><br><strong>è¯­æ³•ï¼š</strong><code>@property[(ç‰¹æ€§)] å®ä¾‹å˜é‡ç±»å‹ å®ä¾‹å˜é‡å;</code><br><strong>æ³¨æ„ï¼š</strong>è¿˜æœ‰ä¸€ä¸ªç¼–è¯‘æŒ‡ä»¤<code>@synthesize</code>ï¼Œç”¨æ¥é…åˆ<code>@property</code>ç”Ÿæˆ<code>getter</code>å’Œ<code>setter</code>çš„å®ç°ï¼Œå¯ä»¥çœç•¥ï¼ˆ<code>XCode 4.4</code>ä¹‹åï¼‰ã€‚</p>
</blockquote>
<h2 id="11-1-ä½¿ç”¨å±æ€§å€¼"><a href="#11-1-ä½¿ç”¨å±æ€§å€¼" class="headerlink" title="11.1    ä½¿ç”¨å±æ€§å€¼"></a>11.1    ä½¿ç”¨å±æ€§å€¼</h2><p><em>AllWeatherRadial.h</em></p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯¹éœ€è¦è®¾ç½®<code>setter</code>å’Œ<code>getter</code>çš„å®ä¾‹å˜é‡ä½¿ç”¨<code>@property</code>ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Tire.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">AllWeatherRadial</span> : <span class="title">Tire</span></span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// è½®èƒå†æ½®æ¹¿çš„é“è·¯ä¸Šçš„æ€§èƒ½</span></span><br><span class="line">    <span class="keyword">float</span> rainHandling;</span><br><span class="line">    <span class="keyword">float</span> snowHandling;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¯¹éœ€è¦è®¾ç½®setterå’Œgetterçš„å®ä¾‹å˜é‡ä½¿ç”¨@property(ä¸åœ¨éœ€è¦ä¸ºæ¯ä¸ªå±æ€§åˆ†åˆ«å£°æ˜setterå’Œgetter)</span></span><br><span class="line"><span class="keyword">@property</span> <span class="keyword">float</span> rainHandling;</span><br><span class="line"><span class="keyword">@property</span> <span class="keyword">float</span> snowHandling;</span><br><span class="line"><span class="keyword">@end</span><span class="comment">// AllWeatherRadial</span></span><br></pre></td></tr></table></figure>
<p><em>AllWeatherRadial.m</em></p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸éœ€è¦å®ç°è¢«è®¾ç½®äº†<code>@propery</code>çš„å®ä¾‹å±æ€§çš„<code>getter</code>å’Œ<code>setter</code>ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"AllWeatherRadial.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">AllWeatherRadial</span></span></span><br><span class="line">- (<span class="keyword">id</span>) initWithPressure: (<span class="keyword">float</span>) p treadDepth: (<span class="keyword">float</span>) td &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">super</span> initWithPressure: p treadDepth:td]) &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">self</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * @override</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="built_in">NSString</span> *) description &#123;</span><br><span class="line">    <span class="built_in">NSString</span> *desc;</span><br><span class="line">    desc = [[<span class="built_in">NSString</span> alloc] initWithFormat:<span class="string">@"AllWeatherRadial: %.1f / %.1f / %.1f / %.1f"</span>, [<span class="keyword">self</span> pressure], [<span class="keyword">self</span> treadDepth], [<span class="keyword">self</span> rainHandling], [<span class="keyword">self</span> snowHandling]];</span><br><span class="line">    <span class="keyword">return</span> (desc);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>main.m</em></p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è°ƒç”¨ç›¸åº”çš„å±æ€§çš„<code>setter</code>å’Œ<code>getter</code>ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"AllWeatherRadial.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"Car.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"Slant6.h"</span></span></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    <span class="keyword">@autoreleasepool</span> &#123;</span><br><span class="line">        <span class="comment">// è½¦èº«</span></span><br><span class="line">        Car *car = [[Car alloc] init];</span><br><span class="line">        <span class="comment">// å®‰è£…è½®èƒ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">            AllWeatherRadial *tire;</span><br><span class="line">            tire = [[AllWeatherRadial alloc] init];</span><br><span class="line">            <span class="comment">// è°ƒç”¨é€šè¿‡@propertyæŒ‡ä»¤è·å¾—çš„setterå’Œgetter</span></span><br><span class="line">            [tire setRainHandling:<span class="number">23</span> + i];</span><br><span class="line">            [tire setSnowHandling:<span class="number">33</span> - i];</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"tire %d's handling is %.f %.f"</span>, i, [tire rainHandling], [tire snowHandling]);</span><br><span class="line">            [car setTire:tire atIndex:i];</span><br><span class="line">            [tire release];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å®‰è£…å¼•æ“</span></span><br><span class="line">        Engine *engine = [[Slant6 alloc] init];</span><br><span class="line">        [car setEngine:engine];</span><br><span class="line">        <span class="comment">// ä½¿ç”¨Car</span></span><br><span class="line">        [car print];</span><br><span class="line">        [car release];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="11-1-1-ç®€åŒ–æ¥å£ä»£ç "><a href="#11-1-1-ç®€åŒ–æ¥å£ä»£ç " class="headerlink" title="11.1.1    ç®€åŒ–æ¥å£ä»£ç "></a>11.1.1    ç®€åŒ–æ¥å£ä»£ç </h3><h3 id="11-1-2-ç®€åŒ–å®ç°ä»£ç "><a href="#11-1-2-ç®€åŒ–å®ç°ä»£ç " class="headerlink" title="11.1.2    ç®€åŒ–å®ç°ä»£ç "></a>11.1.2    ç®€åŒ–å®ç°ä»£ç </h3><h3 id="11-1-3-ç‚¹è¡¨è¾¾å¼çš„å¦™ç”¨"><a href="#11-1-3-ç‚¹è¡¨è¾¾å¼çš„å¦™ç”¨" class="headerlink" title="11.1.3    ç‚¹è¡¨è¾¾å¼çš„å¦™ç”¨"></a>11.1.3    ç‚¹è¡¨è¾¾å¼çš„å¦™ç”¨</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>O-C 2.0</code>å¼•å…¥çš„æ–°çš„è¯­æ³•ç‰¹æ€§ï¼Œå¯ä»¥æ›´åŠ å®¹æ˜“åœ°è®¿é—®å¯¹è±¡çš„å±æ€§ã€‚<br><strong>é™åˆ¶ï¼š</strong>åªèƒ½ç”¨äºå¯¹è±¡å±æ€§çš„<code>setter</code>æˆ–<code>getter</code>ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// getter</span></span><br><span class="line">tire.rainHandling = <span class="number">20</span> + i;</span><br><span class="line">tire.snowHandling = <span class="number">28</span> + i;</span><br><span class="line"></span><br><span class="line"><span class="comment">// setter</span></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"tire %d's handling is %.f %.f"</span>, i, tire.rainHandling, tire.snowHandling);</span><br></pre></td></tr></table></figure>
<h2 id="11-2-å±æ€§æ‰©å±•"><a href="#11-2-å±æ€§æ‰©å±•" class="headerlink" title="11.2    å±æ€§æ‰©å±•"></a>11.2    å±æ€§æ‰©å±•</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>@property</code>å¯¹å¦‚ä½•ç”Ÿæˆä»£ç è¿˜æœ‰ä¸€äº›<code>ç‰¹æ€§</code>å¯ä»¥æŒ‡å®šï¼Œè¿™äº›<code>ç‰¹æ€§</code>å°†å½±å“<code>setter</code>ä»£ç çš„ç”Ÿæˆã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th><code>@property</code>ç‰¹æ€§</th>
<th>è¯´æ˜</th>
<th>é€‚ç”¨</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>assign</td>
<td>ç®€å•èµ‹å€¼ï¼Œä¸æ›´æ”¹<code>å¼•ç”¨è®¡æ•°</code></td>
<td>åŸºç¡€æ•°æ®ç±»å‹å’ŒCæ•°æ®ç±»å‹</td>
<td>é»˜è®¤</td>
</tr>
<tr>
<td>copy</td>
<td>é€šè¿‡å°±å¯¹è±¡å¤åˆ¶å‡ºä¸€ä¸ªæ–°å¯¹è±¡ï¼ˆå¼•ç”¨è®¡æ•°ä¸º1ï¼‰ï¼Œå¹¶<code>é‡Šæ”¾</code>æ—§å¯¹è±¡</td>
<td>ä¸å¯å˜å¯¹è±¡ï¼ˆä¾‹å¦‚NSStringï¼‰</td>
<td></td>
</tr>
<tr>
<td>retain</td>
<td><code>é‡Šæ”¾</code>æ—§å¯¹è±¡ï¼Œå°†æ—§å¯¹è±¡çš„å€¼èµ‹äºˆè¾“å…¥å¯¹è±¡ï¼Œå†<code>ä¿ç•™</code>è¾“å…¥å¯¹è±¡</td>
<td>å…¶å®ƒ<code>O-C</code>å¯¹è±¡</td>
<td></td>
</tr>
<tr>
<td>nonatomic</td>
<td>éçº¿ç¨‹å®‰å…¨</td>
<td>æ‰€æœ‰ç±»å‹</td>
<td>é»˜è®¤ï¼Œæ€§èƒ½æ›´å¥½</td>
</tr>
<tr>
<td>atomic</td>
<td>æŸç§ç¨‹åº¦çš„çº¿ç¨‹å®‰å…¨</td>
<td>æ‰€æœ‰ç±»å‹</td>
<td>åœ¨å¤šçº¿ç¨‹çš„ç¯å¢ƒä¿è¯<code>get</code>å’Œ<code>set</code>æ­£ç¡®æ‰§è¡Œï¼Œä½†å‰ææ˜¯æ˜¯ä½¿ç”¨<code>@synthesize</code>ç”Ÿæˆçš„å®ç°</td>
</tr>
<tr>
<td>readwrite</td>
<td>å¯è¯»å†™</td>
<td>æ‰€æœ‰ç±»å‹</td>
<td>é»˜è®¤</td>
</tr>
<tr>
<td>readonly</td>
<td>åªè¯»</td>
<td>æ‰€æœ‰ç±»å‹</td>
<td>åªç”Ÿæˆ<code>getter</code></td>
</tr>
<tr>
<td>getter=getteråç§°</td>
<td>æŒ‡å®šç”Ÿæˆçš„<code>getter</code>æ–¹æ³•å</td>
<td>æ‰€æœ‰ç±»å‹</td>
<td>é»˜è®¤ä¸º<code>å±æ€§å</code></td>
</tr>
<tr>
<td>setter=setteråç§°</td>
<td>æŒ‡å®šç”Ÿæˆçš„<code>setter</code>æ–¹æ³•å</td>
<td>æ‰€æœ‰ç±»å‹</td>
<td><code>setå±æ€§å</code>ï¼ŒåŒˆç‰™åˆ©å‘½åæ³•</td>
</tr>
</tbody>
</table>
<h4 id="ä½¿ç”¨-property"><a href="#ä½¿ç”¨-property" class="headerlink" title="ä½¿ç”¨@property"></a>ä½¿ç”¨<code>@property</code></h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>name</code>å±æ€§ä¸º<code>@property(copy)</code>ï¼Œ<code>engine</code>å±æ€§ä¸º<code>@property(retain)</code></p>
</blockquote>
<p><em>Car.h</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Cocoa/Cocoa.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@class</span> <span class="title">Tire</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">@class</span> <span class="title">Engine</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Car</span> : <span class="title">NSObject</span></span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSString</span> *name;</span><br><span class="line">    Engine *engine;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line">- (<span class="built_in">NSString</span> *) name;</span><br><span class="line">- (<span class="keyword">void</span>) setName: (<span class="built_in">NSString</span> *) newName;</span><br><span class="line">- (Engine *) engine;</span><br><span class="line">- (<span class="keyword">void</span>) setEngine: (Engine *) newEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> (retain) Engine *engine;</span><br><span class="line">...</span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Car</span></span><br></pre></td></tr></table></figure>
<p><em>Car.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Car.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"Engine.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"Tire.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Car</span></span></span><br><span class="line">- (<span class="built_in">NSString</span> *) name &#123;</span><br><span class="line">	<span class="keyword">return</span> (name);</span><br><span class="line">&#125;<span class="comment">// name</span></span><br><span class="line">- (<span class="keyword">void</span>) setName: (<span class="built_in">NSString</span> *) newName &#123;</span><br><span class="line">	[name release];</span><br><span class="line">	name = [newName <span class="keyword">copy</span>];</span><br><span class="line">&#125;<span class="comment">// setName</span></span><br><span class="line"></span><br><span class="line">- (Engine *) engine &#123;</span><br><span class="line">    <span class="keyword">return</span> (engine);</span><br><span class="line">&#125; <span class="comment">// engine</span></span><br><span class="line">- (<span class="keyword">void</span>) setEngine: (Engine *) newEngine &#123;</span><br><span class="line">    [newEngine retain];</span><br><span class="line">    [engine release];</span><br><span class="line">    engine = newEngine;</span><br><span class="line">&#125; <span class="comment">// setEngine</span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Car</span></span><br></pre></td></tr></table></figure>
<h4 id="ä¸ä½¿ç”¨-property"><a href="#ä¸ä½¿ç”¨-property" class="headerlink" title="ä¸ä½¿ç”¨@property"></a>ä¸ä½¿ç”¨<code>@property</code></h4><p><em>Car.h</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Cocoa/Cocoa.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@class</span> <span class="title">Tire</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">@class</span> <span class="title">Engine</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Car</span> : <span class="title">NSObject</span></span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSString</span> *name;</span><br><span class="line">    Engine *engine;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä½¿ç”¨copyç‰¹æ€§</span></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">copy</span>) <span class="built_in">NSString</span> name;</span><br><span class="line"><span class="comment">// ä½¿ç”¨retainç‰¹æ€§</span></span><br><span class="line"><span class="keyword">@property</span>(retain) Engine *engine;</span><br><span class="line">...</span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Car</span></span><br></pre></td></tr></table></figure>
<p><em>Car.m</em></p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>@synthesize</code>ç”¨æ¥ç”Ÿæˆæˆå‘˜å˜é‡çš„<code>setter</code>å’Œ<code>getter</code>çš„å®ç°ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Car.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"Engine.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"Tire.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Car</span></span></span><br><span class="line"><span class="comment">// xcode4.4 ä¹‹å@synthesizeå°±ä¸å†éœ€è¦äº†</span></span><br><span class="line"><span class="keyword">@synthesize</span> name;</span><br><span class="line"><span class="keyword">@synthesize</span> engine;</span><br><span class="line">...</span><br><span class="line"><span class="keyword">@end</span><span class="comment">// Car</span></span><br></pre></td></tr></table></figure>
<h3 id="11-2-1-åç§°çš„ä½¿ç”¨"><a href="#11-2-1-åç§°çš„ä½¿ç”¨" class="headerlink" title="11.2.1    åç§°çš„ä½¿ç”¨"></a>11.2.1    åç§°çš„ä½¿ç”¨</h3><p><em>Car.h</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Cocoa/Cocoa.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@class</span> <span class="title">Tire</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">@class</span> <span class="title">Engine</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Car</span> : <span class="title">NSObject</span></span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSString</span> *appellation;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">copy</span>) <span class="built_in">NSString</span> *name;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p><em>Car.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Car.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"Engine.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"Tire.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Car</span></span></span><br><span class="line"><span class="keyword">@synthesize</span> name = appellation;</span><br><span class="line">...</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h3 id="11-2-2-åªè¯»å±æ€§"><a href="#11-2-2-åªè¯»å±æ€§" class="headerlink" title="11.2.2    åªè¯»å±æ€§"></a>11.2.2    åªè¯»å±æ€§</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å‡è®¾æŸä¸ªå±æ€§ï¼Œä¸æƒ³è®©ä»»ä½•äººä¿®æ”¹å®ƒï¼Œåˆ™å¯ä»¥å¯¹è¿™ä¸ª<code>@property</code>ä½¿ç”¨<code>readonly</code>ç‰¹æ€§ï¼Œè¿™æ—¶ï¼Œåªç”Ÿæˆä¸€ä¸ª<code>getter</code>æ–¹æ³•è€Œä¸ä¼šç”Ÿæˆ<code>setter</code>ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Me</span>: <span class="title">NSObject</span></span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">float</span> showSize;</span><br><span class="line">	<span class="built_in">NSString</span> *licenseNumber;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readonly</span>) <span class="keyword">float</span> showSize;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readonly</span>) <span class="built_in">NSString</span> *licenseNumber;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h3 id="11-2-3-è‡ªå·±åŠ¨æ‰‹æœ‰æ—¶æ›´å¥½"><a href="#11-2-3-è‡ªå·±åŠ¨æ‰‹æœ‰æ—¶æ›´å¥½" class="headerlink" title="11.2.3    è‡ªå·±åŠ¨æ‰‹æœ‰æ—¶æ›´å¥½"></a>11.2.3    è‡ªå·±åŠ¨æ‰‹æœ‰æ—¶æ›´å¥½</h3><h4 id="è®¡ç®—å±æ€§"><a href="#è®¡ç®—å±æ€§" class="headerlink" title="è®¡ç®—å±æ€§"></a>è®¡ç®—å±æ€§</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯ä»¥é€šè¿‡<code>@property</code>é…åˆ<code>@dynamic</code>æŒ‡ä»¤å‘Šè¯‰ç¼–è¯‘å™¨ä¸ç”Ÿæˆäººå’Œä»£ç æˆ–å®ä¾‹å˜é‡ï¼Œé€šè¿‡è‡ªå®šä¹‰çš„<code>getter</code>åˆ›å»ºä¸€ä¸ªèƒ½åœ¨è¿è¡Œæ—¶è®¡ç®—å‡ºæ­¤å€¼çš„è®¿é—®æ–¹æ³•ã€‚<br><strong>æ³¨æ„ï¼š</strong>å¦‚æœä½¿ç”¨äº†<code>@dynamic</code>æŒ‡ä»¤ï¼Œå¹¶ä¼å›¾è°ƒç”¨ä¸å­˜åœ¨çš„<code>getter</code>æˆ–<code>setter</code>æ–¹æ³•ï¼Œä½ å°†ä¼šçš„åˆ°ä¸€ä¸ªæŠ¥é”™ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @property</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readonly</span>) <span class="keyword">float</span> bodyMassIndex;</span><br><span class="line"><span class="comment">// @dynamic</span></span><br><span class="line"><span class="keyword">@dynamic</span> bodyMassIndex;</span><br><span class="line"><span class="comment">// getter</span></span><br><span class="line">- (<span class="keyword">float</span>) bodyMassIndex &#123;</span><br><span class="line">	<span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="æŒ‡å®šgetterå’Œsetteræ–¹æ³•å"><a href="#æŒ‡å®šgetterå’Œsetteræ–¹æ³•å" class="headerlink" title="æŒ‡å®šgetterå’Œsetteræ–¹æ³•å"></a>æŒ‡å®šgetterå’Œsetteræ–¹æ³•å</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯ä»¥é€šè¿‡<code>@property(getter=getteråç§°)</code>å’Œ<code>@property(setter=setteråç§°)</code>è‡ªå®šä¹‰<code>geter</code>å’Œ<code>setter</code>æ–¹æ³•çš„åç§°ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// getterä¸ºisHiddenï¼Œsetterä¸ºsetHiddenï¼ˆé»˜è®¤ï¼‰</span></span><br><span class="line"><span class="keyword">@property</span> (getter=isHidden) <span class="built_in">BOOL</span> hidden;</span><br></pre></td></tr></table></figure>
<h3 id="11-2-4-ç‰¹æ€§ä¸æ˜¯ä¸‡èƒ½çš„"><a href="#11-2-4-ç‰¹æ€§ä¸æ˜¯ä¸‡èƒ½çš„" class="headerlink" title="11.2.4    ç‰¹æ€§ä¸æ˜¯ä¸‡èƒ½çš„"></a>11.2.4    ç‰¹æ€§ä¸æ˜¯ä¸‡èƒ½çš„</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>@property</code>åªèƒ½ç”Ÿæˆä¸¥æ ¼æ„ä¹‰ä¸Šçš„<code>getter</code>å’Œ<code>setter</code>ï¼Œä¸æ”¯æŒé‚£äº›éœ€è¦æ¥æ”¶é¢å¤–å‚æ•°çš„æ–¹æ³•ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// setteræœ‰é¢å¤–çš„å‚æ•°</span></span><br><span class="line">- (<span class="keyword">void</span>) setTire: (Tire *) tire atIndex: (<span class="keyword">int</span>) index;</span><br><span class="line"><span class="comment">// getteræœ‰é¢å¤–çš„å‚æ•°</span></span><br><span class="line">- (Tire *) tireAtIndex: (<span class="keyword">int</span>) index;</span><br></pre></td></tr></table></figure>
<h2 id="11-3-å°ç»“"><a href="#11-3-å°ç»“" class="headerlink" title="11.3    å°ç»“"></a>11.3    å°ç»“</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_10 å¯¹è±¡åˆå§‹åŒ–/" itemprop="url">
                  10 å¯¹è±¡åˆå§‹åŒ–
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T10:39:41+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_10 å¯¹è±¡åˆå§‹åŒ–/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_10 å¯¹è±¡åˆå§‹åŒ–/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ›å»ºå¯¹è±¡æœ‰ä¸¤ç§æ–¹å¼</p>
<ul>
<li><code>ç±»å new</code></li>
<li><code>[[ç±»å alloc] init]</code></li>
</ul>
<p><strong>æŠ€å·§ï¼š</strong><code>Cocoa</code>æƒ¯ä¾‹æ˜¯ä½¿ç”¨åä¸€ç§æ–¹å¼</p>
</blockquote>
<h2 id="10-1-åˆ†é…å¯¹è±¡"><a href="#10-1-åˆ†é…å¯¹è±¡" class="headerlink" title="10.1    åˆ†é…å¯¹è±¡"></a>10.1    åˆ†é…å¯¹è±¡</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°±æ˜¯ä»æ“ä½œç³»ç»Ÿè·å¾—ä¸€å—å†…å­˜ï¼Œå¹¶å°†å…¶æŒ‡å®šä¸ºå­˜æ”¾å¯¹è±¡çš„å®ä¾‹å˜é‡çš„ä½ç½®ã€‚<br><strong>è¯­æ³•ï¼š</strong>åƒæŸä¸ªç±»å‘é€<code>alloc</code>æ¶ˆæ¯</p>
</blockquote>
<h4 id="allocå®ä¾‹æ–¹æ³•"><a href="#allocå®ä¾‹æ–¹æ³•" class="headerlink" title="allocå®ä¾‹æ–¹æ³•"></a>allocå®ä¾‹æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸ºç±»å®ä¾‹åˆ†é…ä¸€å—è¶³å¤Ÿå¤§çš„å†…å­˜ï¼Œå¹¶å°†è¿™å—å†…å­˜åŒºåŸŸå…¨éƒ¨åˆå§‹åŒ–ä¸ºå¯¹åº”çš„<code>0</code>å€¼</p>
</blockquote>
<table>
<thead>
<tr>
<th>å®ä¾‹å˜é‡ç±»å‹</th>
<th><code>0</code>å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td>BOOL</td>
<td>NO</td>
</tr>
<tr>
<td>int</td>
<td>0</td>
</tr>
<tr>
<td>float</td>
<td>0.0</td>
</tr>
<tr>
<td>æŒ‡é’ˆ</td>
<td>nil</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong>åˆšåˆšåˆ†é…çš„å¯¹è±¡ä¸èƒ½ç«‹å³ä½¿ç”¨ï¼Œåˆå§‹åŒ–åæ‰èƒ½ä½¿ç”¨ã€‚<code>Objective-C</code>å°†å¯¹è±¡çš„åˆ›å»ºæ‹†åˆ†ä¸ºä¸¤ä¸ªæ˜ç¡®çš„æ­¥éª¤ï¼š<code>åˆ†é…</code>å’Œ<code>åˆå§‹åŒ–</code>ã€‚<br><strong>æ‰©å±•ï¼š</strong>æœ‰äº›è¯­è¨€ï¼ˆåŒ…æ‹¬<code>c++</code>å’Œ<code>java</code>ï¼‰ä½¿ç”¨æ„é€ å‡½æ•°åœ¨ä¸€æ¬¡æ“ä½œä¸­ä¾¿æ‰§è¡Œå®Œå¯¹è±¡çš„åˆ†é…å’Œåˆå§‹åŒ–ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ†é…</span></span><br><span class="line">Car *car = [Car alloc];<span class="comment">// è¿˜éœ€è¦initï¼Œä¹‹åæ‰èƒ½ä½¿ç”¨</span></span><br></pre></td></tr></table></figure>
<h3 id="10-1-1-åˆå§‹åŒ–å¯¹è±¡"><a href="#10-1-1-åˆå§‹åŒ–å¯¹è±¡" class="headerlink" title="10.1.1    åˆå§‹åŒ–å¯¹è±¡"></a>10.1.1    åˆå§‹åŒ–å¯¹è±¡</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä»æ“ä½œç³»ç»Ÿå–å¾—ä¸€å—å†…å­˜ï¼ˆä¸ä¸€å®šæ˜¯<code>åˆ†é…</code>çš„å†…å­˜ï¼‰ç”¨äºå­˜å‚¨å¯¹è±¡ã€‚<br><strong>è¯­æ³•ï¼š</strong>é€šè¿‡åµŒå¥—æ–¹å¼å‘<code>åˆ†é…</code>æ“ä½œçš„è¿”å›å€¼å‘é€<code>init</code>æ¶ˆæ¯ã€‚<br><strong>æ³¨æ„ï¼š</strong><code>init</code>æ–¹æ³•è¿”å›çš„å¯¹è±¡å¯èƒ½ä¸<code>åˆ†é…</code>çš„å¯¹è±¡ä¸åŒï¼Œå› ä¸ºæŸäº›ç±»å‹åº•å±‚å…¶å®æ˜¯<code>ç±»è”Ÿ</code>ã€‚</p>
</blockquote>
<p><em>é”™è¯¯ç¤ºä¾‹</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Car *car = [Car alloc];</span><br><span class="line"><span class="comment">// æˆ‘ä»¬éœ€è¦çš„æ˜¯initåçš„å¯¹è±¡ï¼ŒcaræŒ‡å‘çš„å¯¹è±¡æœªå¿…å’Œinitè¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">[car init];</span><br></pre></td></tr></table></figure>
<p><em>æ­£ç¡®ç¤ºä¾‹</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Car *car = [[Car alloc] init];</span><br></pre></td></tr></table></figure>
<h3 id="10-1-2-ç¼–å†™åˆå§‹åŒ–æ–¹æ³•"><a href="#10-1-2-ç¼–å†™åˆå§‹åŒ–æ–¹æ³•" class="headerlink" title="10.1.2    ç¼–å†™åˆå§‹åŒ–æ–¹æ³•"></a>10.1.2    ç¼–å†™åˆå§‹åŒ–æ–¹æ³•</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">id</span>) init &#123;</span><br><span class="line">	<span class="comment">// 1. å…¼å®¹è¶…ç±»è¿”å›nilçš„æƒ…å†µ</span></span><br><span class="line">	<span class="comment">// 2. æ›´æ–°selfè¡¨ç¤ºçš„å†…å­˜ä½ç½®ï¼ˆå› ä¸ºè¶…ç±»çš„initå¯èƒ½è¿”å›å¦ä¸€ä¸ªä½ç½®ï¼‰</span></span><br><span class="line">	<span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">super</span> init]) &#123;</span><br><span class="line">		<span class="comment">// ...	</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="10-1-3-åˆå§‹åŒ–æ—¶è¦åšäº›ä»€ä¹ˆ"><a href="#10-1-3-åˆå§‹åŒ–æ—¶è¦åšäº›ä»€ä¹ˆ" class="headerlink" title="10.1.3    åˆå§‹åŒ–æ—¶è¦åšäº›ä»€ä¹ˆ"></a>10.1.3    åˆå§‹åŒ–æ—¶è¦åšäº›ä»€ä¹ˆ</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥é€‰æ‹©ï¼Œå–å†³äºçµæ´»æ€§å’Œæ€§èƒ½çš„æƒè¡¡</p>
</blockquote>
<table>
<thead>
<tr>
<th>æ˜¯å¦ä¸ºå®ä¾‹å˜é‡åˆ›å»ºå¯¹è±¡</th>
<th>è¯´æ˜</th>
<th>é€‚ç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ˜¯</td>
<td>æ–¹ä¾¿ï¼Œä¸€æ­¥åˆ°ä½ï¼Œå‡ºäº§å³ç”¨</td>
<td>å®ä¾‹å˜é‡ä¸éœ€è¦å®šåˆ¶</td>
</tr>
<tr>
<td>å¦</td>
<td>åœ¨æŸäº›æƒ…å†µä¸‹é¿å…èµ„æºçš„æµªè´¹</td>
<td>å®ä¾‹å˜é‡éœ€è¦å®šåˆ¶</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æ‰©å±•ï¼š</strong><code>æƒ°æ€§æ±‚å€¼</code>ï¼ŒæŒ‡çš„æ˜¯å³æ˜¯ç›®å‰æ²¡æœ‰è®¾ç½®è‡ªå®šä¹‰å±æ€§çš„å€¼ï¼Œä¹Ÿç­‰åˆ°è°ƒç”¨ç€éœ€è¦æ—¶å†åˆ›å»ºå¯¹è±¡ï¼Œå¯ä»¥æé«˜ç¨‹åºçš„æ€§èƒ½ã€‚</p>
</blockquote>
<h2 id="10-2-ä¾¿åˆ©åˆå§‹åŒ–å‡½æ•°"><a href="#10-2-ä¾¿åˆ©åˆå§‹åŒ–å‡½æ•°" class="headerlink" title="10.2    ä¾¿åˆ©åˆå§‹åŒ–å‡½æ•°"></a>10.2    ä¾¿åˆ©åˆå§‹åŒ–å‡½æ•°</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç›¸æ¯”<code>init</code>ï¼Œå®ŒæˆæŸäº›é¢å¤–çš„åˆå§‹åŒ–å·¥ä½œï¼Œåç§°ä»¥<code>init</code>å¼€å¤´ã€‚<br><strong>é€‚ç”¨ï¼š</strong>åŠ å…¥å¯¹è±¡å¿…é¡»è¦ç”¨æŸäº›ä¿¡æ¯è¿›è¡Œåˆå§‹åŒ–ï¼Œé‚£ä¹ˆåº”è¯¥å°†è¿™äº›ä¿¡æ¯ä½œä¸ºinitæ–¹æ³•çš„ä¸€éƒ¨åˆ†æ·»åŠ è¿›æ¥ã€‚</p>
</blockquote>
<h3 id="initWithContentsofFileä¾¿åˆ©åˆå§‹åŒ–æ–¹æ³•"><a href="#initWithContentsofFileä¾¿åˆ©åˆå§‹åŒ–æ–¹æ³•" class="headerlink" title="initWithContentsofFileä¾¿åˆ©åˆå§‹åŒ–æ–¹æ³•"></a>initWithContentsofFileä¾¿åˆ©åˆå§‹åŒ–æ–¹æ³•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ‰“å¼€æŒ‡å®šè·¯å¾„ä¸Šçš„æ–‡æœ¬æ–‡ä»¶ï¼Œè¯»å–æ–‡ä»¶å†…å®¹ï¼Œå¹¶å³ç”¨æ–‡ä»¶å†…å®¹åˆå§‹åŒ–ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSString</code></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;/**</span><br><span class="line">&gt;* @param &#123;nonnull NSString *&#125; éç©ºå­—ç¬¦ä¸²</span><br><span class="line">&gt;* @param &#123;nullable NSStringEncoding *&#125; usedEncoding ç¼–ç æ–¹å¼</span><br><span class="line">&gt;* @param &#123;NSError * _Nullable __autoreleasing * _Nullable&#125; error é”™è¯¯å¯¹è±¡</span><br><span class="line">&gt;* @return &#123;instancetype _Nullable&#125; å­—ç¬¦ä¸²å¯¹è±¡ï¼ˆå¯ä»¥ä¸ºç©ºï¼‰</span><br><span class="line">&gt;*/</span><br><span class="line">&gt;- (instancetype _Nullable) initWithContentsOfFile:(nonnull NSString *) usedEncoding: (nullable NSStringEncoding *) error:(NSError * _Nullable __autoreleasing * _Nullable);</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯</span></span><br><span class="line"><span class="built_in">NSError</span> *error = <span class="literal">nil</span>;</span><br><span class="line"><span class="comment">// ç¼–ç </span></span><br><span class="line"><span class="built_in">NSStringEncoding</span> encoding = <span class="built_in">NSUTF8StringEncoding</span>;</span><br><span class="line"><span class="comment">// è¯»å–æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">NSString</span> *string = [[<span class="built_in">NSString</span> alloc] initWithContentsOfFile:<span class="string">@"/tmp/words.txt"</span> usedEncoding:&amp;encoding error:&amp;error];</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯»å–å‡ºé”™</span></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">nil</span> != error) &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"Unable to read data from file, %@"</span>, [error localizedDescription]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¯»å–æˆåŠŸ</span></span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, string);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="10-3-æ›´å¤šéƒ¨ä»¶æ”¹è¿›"><a href="#10-3-æ›´å¤šéƒ¨ä»¶æ”¹è¿›" class="headerlink" title="10.3    æ›´å¤šéƒ¨ä»¶æ”¹è¿›"></a>10.3    æ›´å¤šéƒ¨ä»¶æ”¹è¿›</h2><blockquote>
<p><strong>æ³¨æ„ï¼š</strong>å¦‚æœåš<code>iOS</code>å¼€å‘ï¼Œç”±äºä¸æ”¯æŒåƒåœ¾å›æ”¶ï¼Œå¿…é¡»ä½¿ç”¨<code>ARC</code>æŠ€æœ¯ã€‚</p>
</blockquote>
<h3 id="10-3-1-Tireç±»çš„åˆå§‹åŒ–"><a href="#10-3-1-Tireç±»çš„åˆå§‹åŒ–" class="headerlink" title="10.3.1    Tireç±»çš„åˆå§‹åŒ–"></a>10.3.1    Tireç±»çš„åˆå§‹åŒ–</h3><p><em>Tire.h</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Tire</span> : <span class="title">NSObject</span></span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// è½®èƒå‹åŠ›</span></span><br><span class="line">    <span class="keyword">float</span> pressure;</span><br><span class="line">    <span class="comment">// è½®èƒèŠ±çº¹</span></span><br><span class="line">    <span class="keyword">float</span> treadDepth;</span><br><span class="line">&#125;</span><br><span class="line">- (<span class="keyword">void</span>) setPressure: (<span class="keyword">float</span>) pressure;</span><br><span class="line">- (<span class="keyword">float</span>) pressure;</span><br><span class="line">- (<span class="keyword">void</span>) setTreadDepth: (<span class="keyword">float</span>) treadDepth;</span><br><span class="line">- (<span class="keyword">float</span>)treadDepth;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>Tire.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Tire.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Tire</span></span></span><br><span class="line"><span class="comment">// æ„é€ å™¨</span></span><br><span class="line">- (<span class="keyword">id</span>) init &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">super</span> init]) &#123;</span><br><span class="line">        pressure = <span class="number">34.0</span>;</span><br><span class="line">        treadDepth = <span class="number">20.0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">self</span>);</span><br><span class="line">&#125;<span class="comment">// init</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) setPressure:(<span class="keyword">float</span>) p &#123;</span><br><span class="line">    pressure = p;</span><br><span class="line">&#125;<span class="comment">// setPressure</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">float</span>) pressure &#123;</span><br><span class="line">    <span class="keyword">return</span> (pressure);</span><br><span class="line">&#125;<span class="comment">// pressure</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) setTreadDepth:(<span class="keyword">float</span>) td &#123;</span><br><span class="line">    treadDepth = td;</span><br><span class="line">&#125;</span><br><span class="line">- (<span class="keyword">float</span>) treadDepth &#123;</span><br><span class="line">    <span class="keyword">return</span> treadDepth;</span><br><span class="line">&#125;<span class="comment">// treadDepth</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * @override</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="built_in">NSString</span> *) description &#123;</span><br><span class="line">    <span class="built_in">NSString</span> *desc;</span><br><span class="line">    <span class="comment">// ä¸æ˜¯é€šè¿‡allocã€copyã€newåˆ›å»ºçš„ï¼ŒæŒ‰ç…§å†…å­˜ç®¡ç†è§„åˆ™ï¼Œä¸éœ€è¦åšä»€ä¹ˆï¼ˆå¯ä»¥è®¤ä¸ºå®ƒè¢«åŠ å…¥åˆ°äº†è‡ªåŠ¨é‡Šæ”¾æ± ä¸­ï¼‰</span></span><br><span class="line">    desc = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"Tire: Pressure: %.1f TreadDepth: %1f"</span>, pressure, treadDepth];</span><br><span class="line">    <span class="keyword">return</span> (desc);</span><br><span class="line">&#125;<span class="comment">// description</span></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h3 id="10-3-2-æ›´æ–°main-å‡½æ•°"><a href="#10-3-2-æ›´æ–°main-å‡½æ•°" class="headerlink" title="10.3.2    æ›´æ–°main()å‡½æ•°"></a>10.3.2    æ›´æ–°main()å‡½æ•°</h3><p><em>æ—¢æ²¡æœ‰å¯ç”¨<code>ARC</code>ï¼Œä¹Ÿæ²¡æœ‰å¯ç”¨<code>åƒåœ¾å›æ”¶</code>çš„æƒ…å½¢ï¼æ‰‹åŠ¨ç®¡ç†</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Tire.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"Car.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"Slant6.h"</span></span></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    <span class="keyword">@autoreleasepool</span> &#123;</span><br><span class="line">        <span class="comment">// è½¦èº«</span></span><br><span class="line">        Car *car = [[Car alloc] init];</span><br><span class="line">        <span class="comment">// å®‰è£…è½®èƒ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">            Tire *tire;</span><br><span class="line">            tire = [[Tire alloc] init];</span><br><span class="line">            [tire setPressure:<span class="number">23</span> + i];</span><br><span class="line">            [tire setTreadDepth:<span class="number">33</span> - i];</span><br><span class="line">            [car setTire:tire atIndex:i];</span><br><span class="line">            <span class="comment">// æŒ‰ç…§å†…å­˜ç®¡ç†è§„åˆ™ï¼Œåº”å½“é‡Šæ”¾ä¸€æ¬¡ï¼Œå…¶ä½™äº¤ç»™è‡ªåŠ¨é‡Šæ”¾æ± </span></span><br><span class="line">            [tire release];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å®‰è£…å¼•æ“</span></span><br><span class="line">        Engine *engine = [[Slant6 alloc] init];</span><br><span class="line">        [car setEngine:engine];</span><br><span class="line">        <span class="comment">// ä½¿ç”¨Car</span></span><br><span class="line">        [car print];</span><br><span class="line">        <span class="comment">// æŒ‰ç…§å†…å­˜ç®¡ç†è§„åˆ™ï¼Œåº”å½“é‡Šæ”¾ä¸€æ¬¡ï¼Œå…¶ä½™äº¤ç»™è‡ªåŠ¨é‡Šæ”¾æ± </span></span><br><span class="line">        [car release];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>å¯ç”¨äº†<code>ARC</code>æˆ–<code>åƒåœ¾å›æ”¶</code></em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Tire.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"Car.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"Slant6.h"</span></span></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    <span class="comment">// è½¦èº«</span></span><br><span class="line">    Car *car = [[Car alloc] init];</span><br><span class="line">    <span class="comment">// å®‰è£…è½®èƒ</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">        Tire *tire;</span><br><span class="line">        tire = [[Tire alloc] init];</span><br><span class="line">        [tire setPressure:<span class="number">23</span> + i];</span><br><span class="line">        [tire setTreadDepth:<span class="number">33</span> - i];</span><br><span class="line">        [car setTire:tire atIndex:i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å®‰è£…å¼•æ“</span></span><br><span class="line">    Engine *engine = [[Slant6 alloc] init];</span><br><span class="line">    [car setEngine:engine];</span><br><span class="line">    <span class="comment">// ä½¿ç”¨Car</span></span><br><span class="line">    [car print];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="10-3-3-æ¸…ç†Carç±»"><a href="#10-3-3-æ¸…ç†Carç±»" class="headerlink" title="10.3.3    æ¸…ç†Carç±»"></a>10.3.3    æ¸…ç†Carç±»</h3><p><em>Car.h</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Cocoa/Cocoa.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@class</span> <span class="title">Tire</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">@class</span> <span class="title">Engine</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Car</span> : <span class="title">NSObject</span></span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨å¯å˜æ•°ç»„ä»£æ›¿Cæ•°ç»„ï¼ˆTire *tires[4]ï¼‰ï¼Œå°±ä¸ç”¨ä¸Šé™æ£€æŸ¥äº†</span></span><br><span class="line">    <span class="built_in">NSMutableArray</span> *tires;</span><br><span class="line">    Engine *engine;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) setEngine: (Engine *) newEngine;</span><br><span class="line">- (Engine *) engine;</span><br><span class="line">- (<span class="keyword">void</span>) setTire: (Tire *) tire atIndex: (<span class="keyword">int</span>) index;</span><br><span class="line">- (Tire *) tireAtIndex: (<span class="keyword">int</span>) index;</span><br><span class="line">- (<span class="keyword">void</span>) print;</span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Car</span></span><br></pre></td></tr></table></figure>
<p><em>Car.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Car.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"Engine.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"Tire.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Car</span></span></span><br><span class="line">- (<span class="keyword">id</span>) init</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">super</span> init]) &#123;</span><br><span class="line">        engine = [Engine new];</span><br><span class="line">        tires = [[<span class="built_in">NSMutableArray</span> alloc] init];</span><br><span class="line">        <span class="comment">// å°†æ¯ä¸ªè½®èƒåˆå§‹åŒ–ä¸ºnull</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">            [tires addObject: [<span class="built_in">NSNull</span> null]];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">self</span>);</span><br><span class="line">&#125; <span class="comment">// init</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (Engine *) engine</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> (engine);</span><br><span class="line">&#125; <span class="comment">// engine</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) setEngine: (Engine *) newEngine &#123;</span><br><span class="line">    [newEngine retain];</span><br><span class="line">    [engine release];</span><br><span class="line">    engine = newEngine;</span><br><span class="line">&#125; <span class="comment">// setEngine</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) setTire: (Tire *) tire atIndex: (<span class="keyword">int</span>) index &#123;</span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt; <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span> (<span class="string">@"bad index (%d) in setTire:atIndex:"</span>,</span><br><span class="line">               index);</span><br><span class="line">        exit (<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    [tires replaceObjectAtIndex:index withObject:tire];</span><br><span class="line">    </span><br><span class="line">&#125; <span class="comment">// setTire:atIndex:</span></span><br><span class="line"></span><br><span class="line">- (Tire *) tireAtIndex: (<span class="keyword">int</span>) index &#123;</span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt; <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span> (<span class="string">@"bad index (%d) in tireAtIndex:"</span>,</span><br><span class="line">               index);</span><br><span class="line">        exit (<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    Tire *tire;</span><br><span class="line">    tire = [tires objectAtIndex:index];</span><br><span class="line">    <span class="keyword">return</span> (tire);</span><br><span class="line">    </span><br><span class="line">&#125; <span class="comment">// tireAtIndex:</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) print &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">        <span class="comment">// ä¸ç›´æ¥è®¿é—®æ•°ç»„ï¼Œé¿å…ä»£ç æ”¶åˆ°å°†æ¥æ›´æ”¹çš„å½±å“</span></span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, [<span class="keyword">self</span> tireAtIndex: i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, engine);</span><br><span class="line">&#125; <span class="comment">// print</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * ç¡®ä¿carå¯¹è±¡å‘—é”€æ¯æ—¶æ‰€æœ‰çš„å†…å­˜éƒ½è¢«å›æ”¶</span><br><span class="line"> * @override</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>) dealloc &#123;</span><br><span class="line">    [tires release];</span><br><span class="line">    [engine release];</span><br><span class="line">    [<span class="keyword">super</span> dealloc];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Car</span></span><br></pre></td></tr></table></figure>
<h2 id="10-4-Car-ç±»çš„å†…å­˜æ¸…ç†ï¼ˆåƒåœ¾å›æ”¶æ–¹å¼å’ŒARCæ–¹å¼ï¼‰"><a href="#10-4-Car-ç±»çš„å†…å­˜æ¸…ç†ï¼ˆåƒåœ¾å›æ”¶æ–¹å¼å’ŒARCæ–¹å¼ï¼‰" class="headerlink" title="10.4    Car ç±»çš„å†…å­˜æ¸…ç†ï¼ˆåƒåœ¾å›æ”¶æ–¹å¼å’ŒARCæ–¹å¼ï¼‰"></a>10.4    Car ç±»çš„å†…å­˜æ¸…ç†ï¼ˆåƒåœ¾å›æ”¶æ–¹å¼å’ŒARCæ–¹å¼ï¼‰</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯ç”¨äº†<code>åƒåœ¾å›æ”¶</code>æˆ–<code>ARC</code>ï¼Œåˆ™ä¸ç”¨æ‰‹åŠ¨ç®¡ç†å†…å­˜ã€‚</p>
<ul>
<li>ä¸å†éœ€è¦æ‰‹åŠ¨<code>é‡Šæ”¾</code>æˆ–<code>ä¿ç•™</code></li>
<li>ä¸éœ€è¦é‡å†™<code>dealloc</code>æ–¹æ³•å®Œæˆå†…å­˜çš„æ¸…ç†ï¼Œå¦‚æœè¦é”€æ¯æ—¶æ‰§è¡Œä¸€äº›ç‰¹åˆ«çš„æ“ä½œï¼Œå¯ä»¥é‡å†™<code>-finalize</code>æ–¹æ³•</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong>å¯ç”¨äº†<code>åƒåœ¾å›æ”¶</code>åˆ™ä¸éœ€è¦<code>@autoreleasepool</code>ï¼›å¯ç”¨<code>ARC</code>ï¼Œåˆ™ä»£ç ä¸­å¿…è¦æ—¶ä»ç„¶å¯ä»¥ä½¿ç”¨<code>@autoreleasepool</code>ã€‚</p>
</blockquote>
<h3 id="æ„é€ ä¾¿åˆ©åˆå§‹åŒ–å‡½æ•°"><a href="#æ„é€ ä¾¿åˆ©åˆå§‹åŒ–å‡½æ•°" class="headerlink" title="æ„é€ ä¾¿åˆ©åˆå§‹åŒ–å‡½æ•°"></a>æ„é€ ä¾¿åˆ©åˆå§‹åŒ–å‡½æ•°</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ„é€ ä¸€ä¸ªèƒ½åŒæ—¶è·å–è½®èƒå‹åŠ›å’ŒèŠ±çº¹æ·±åº¦çš„ä¾¿åˆ©åˆå§‹åŒ–å‡½æ•°ã€‚</p>
</blockquote>
<p><em>Tire.h</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">id</span>) initWithPressure: (<span class="keyword">float</span>) pressure treadDepth: (<span class="keyword">float</span>) treadDepth;</span><br></pre></td></tr></table></figure>
<p><em>Tire.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">id</span>) initWithPressure: (<span class="keyword">float</span>) p treadDepth: (<span class="keyword">float</span>) td &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">super</span> init]) &#123;</span><br><span class="line">        pressure = p;</span><br><span class="line">        treadDepth = td;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">self</span>);</span><br><span class="line">&#125;<span class="comment">// initWithPressure: treadDepth</span></span><br></pre></td></tr></table></figure>
<p><em>main.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Tire *tire;</span><br><span class="line">tire = [[Tire alloc] initWithPressure: <span class="number">23</span> + i treadDepth: <span class="number">33</span> - i];</span><br></pre></td></tr></table></figure>
<h2 id="10-5-æŒ‡å®šåˆå§‹åŒ–å‡½æ•°"><a href="#10-5-æŒ‡å®šåˆå§‹åŒ–å‡½æ•°" class="headerlink" title="10.5    æŒ‡å®šåˆå§‹åŒ–å‡½æ•°"></a>10.5    æŒ‡å®šåˆå§‹åŒ–å‡½æ•°</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å…ˆå¢åŠ å‡ ä¸ª<code>ä¾¿åˆ©åˆå§‹åŒ–å‡½æ•°</code></p>
</blockquote>
<p><em>Tire.h</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">id</span>) initWithPressure: (<span class="keyword">float</span>) pressure treadDepth: (<span class="keyword">float</span>) treadDepth;</span><br><span class="line">- (<span class="keyword">id</span>) initWithTreadDepth: (<span class="keyword">float</span>) treadDepth;</span><br><span class="line">- (<span class="keyword">id</span>) initWithPressure:(<span class="keyword">float</span>)pressure;</span><br></pre></td></tr></table></figure>
<p><em>Tire.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">id</span>) initWithPressure: (<span class="keyword">float</span>) p treadDepth: (<span class="keyword">float</span>) td &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">super</span> init]) &#123;</span><br><span class="line">        pressure = p;</span><br><span class="line">        treadDepth = td;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">self</span>);</span><br><span class="line">&#125;<span class="comment">// initWithPressure: treadDepth</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>) initWithTreadDepth: (<span class="keyword">float</span>) td &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">super</span> init]) &#123;</span><br><span class="line">        treadDepth = td;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">self</span>);</span><br><span class="line">&#125;<span class="comment">// initWithTreadDepth</span></span><br></pre></td></tr></table></figure>
<h3 id="10-5-1-å­ç±»åŒ–é—®é¢˜"><a href="#10-5-1-å­ç±»åŒ–é—®é¢˜" class="headerlink" title="10.5.1    å­ç±»åŒ–é—®é¢˜"></a>10.5.1    å­ç±»åŒ–é—®é¢˜</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>æŒ‡å®šåˆå§‹åŒ–å‡½æ•°</code>ï¼Œå³è¯¥ä¸­çš„æŸä¸ªåˆå§‹åŒ–æ–¹æ³•è¢«æŒ‡æ´¾ä¸ºæŒ‡å®šåˆå§‹åŒ–å‡½æ•°ï¼Œè¯¥ç±»çš„æ‰€æœ‰åˆå§‹åŒ–æ–¹æ³•éƒ½è°ƒç”¨æŒ‡å®šåˆå§‹åŒ–å‡½æ•°å®Œæˆåˆå§‹åŒ–ã€‚<br><strong>æŠ€å·§ï¼š</strong>é€šå¸¸ï¼Œæ¥æ”¶å‚æ•°æœ€å¤šçš„åˆå§‹åŒ–æ–¹æ³•æ˜¯æœ€ç»ˆçš„æŒ‡å®šåˆå§‹åŒ–å‡½æ•°ã€‚</p>
</blockquote>
<h4 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>AllWeatherRadial</code>çš„è¶…ç±»<code>Tire</code>ä¸­çš„æ„é€ å™¨éƒ½æ²¡æœ‰ä½¿ç”¨<code>æŒ‡å®šåˆå§‹åŒ–å‡½æ•°</code>ï¼Œå¯¼è‡´<code>AllWeatherRadial</code>éœ€è¦é‡å†™æ‰€æœ‰<code>Tire</code>çš„æ„é€ å™¨å®Œæˆå¯¹è‡ªèº«å®ä¾‹å˜é‡çš„åˆå§‹åŒ–ã€‚</p>
</blockquote>
<p><em>AllWeatherRadial.h</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Tire.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">AllWeatherRadial</span> : <span class="title">Tire</span></span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// è½®èƒå†æ½®æ¹¿çš„é“è·¯ä¸Šçš„æ€§èƒ½</span></span><br><span class="line">    <span class="keyword">float</span> rainHandling;</span><br><span class="line">    <span class="keyword">float</span> snowHandling;</span><br><span class="line">&#125;</span><br><span class="line">- (<span class="keyword">void</span>) setRainHandling: (<span class="keyword">float</span>) rainHandling;</span><br><span class="line">- (<span class="keyword">float</span>) rainHandling;</span><br><span class="line">- (<span class="keyword">void</span>) setSnowHandling: (<span class="keyword">float</span>) snowHandling;</span><br><span class="line">- (<span class="keyword">float</span>) snowHandling;</span><br><span class="line"><span class="keyword">@end</span><span class="comment">// AllWeatherRadial</span></span><br></pre></td></tr></table></figure>
<p><em>AllWeatherRadial.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"AllWeatherRadial.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">AllWeatherRadial</span></span></span><br><span class="line">- (<span class="keyword">void</span>) setRainHandling:(<span class="keyword">float</span>) rh &#123;</span><br><span class="line">    rainHandling = rh;</span><br><span class="line">&#125;<span class="comment">// setRainHandling</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">float</span>) rainHandling &#123;</span><br><span class="line">    <span class="keyword">return</span> (rainHandling);</span><br><span class="line">&#125;<span class="comment">// rainHandling</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) setSnowHandling: (<span class="keyword">float</span>) sh &#123;</span><br><span class="line">    snowHandling = sh;</span><br><span class="line">&#125;<span class="comment">// setSnowHandling</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">float</span>) snowHandling &#123;</span><br><span class="line">    <span class="keyword">return</span> (snowHandling);</span><br><span class="line">&#125;<span class="comment">// snowHandling</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * @override</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="built_in">NSString</span> *) description &#123;</span><br><span class="line">    <span class="built_in">NSString</span> *desc;</span><br><span class="line">    desc = [[<span class="built_in">NSString</span> alloc] initWithFormat:<span class="string">@"AllWeatherRadial: %.1f / %.1f / %.1f / %.1f"</span>, [<span class="keyword">self</span> pressure], [<span class="keyword">self</span> treadDepth], [<span class="keyword">self</span> rainHandling], [<span class="keyword">self</span> snowHandling]];</span><br><span class="line">    <span class="keyword">return</span> (desc);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h3 id="10-5-2-Tire-ç±»çš„åˆå§‹åŒ–å‡½æ•°æ”¹è¿›åçš„ç‰ˆæœ¬"><a href="#10-5-2-Tire-ç±»çš„åˆå§‹åŒ–å‡½æ•°æ”¹è¿›åçš„ç‰ˆæœ¬" class="headerlink" title="10.5.2    Tire ç±»çš„åˆå§‹åŒ–å‡½æ•°æ”¹è¿›åçš„ç‰ˆæœ¬"></a>10.5.2    Tire ç±»çš„åˆå§‹åŒ–å‡½æ•°æ”¹è¿›åçš„ç‰ˆæœ¬</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è¦è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œé¦–å…ˆéœ€è¦å°†<code>Tire</code>æ”¹é€ ä¸ºä½¿ç”¨<code>æŒ‡å®šåˆå§‹åŒ–å‡½æ•°</code>çš„ç‰ˆæœ¬ã€‚</p>
</blockquote>
<p><em>Tire.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">id</span>) init &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">self</span> initWithPressure: <span class="number">34.0</span> treadDepth: <span class="number">20.0</span>]) &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">self</span>);</span><br><span class="line">&#125;<span class="comment">// init</span></span><br><span class="line">- (<span class="keyword">id</span>)initWithPressure: (<span class="keyword">float</span>) p &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">self</span> initWithPressure: p treadDepth: <span class="number">20</span>]) &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">self</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>) initWithTreadDepth: (<span class="keyword">float</span>) td &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">self</span> initWithPressure: <span class="number">34</span> treadDepth: td]) &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">self</span>);</span><br><span class="line">&#125;<span class="comment">// initWithTreadDepth</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * å‚æ•°æœ€å¤šçš„ä½œä¸ºæŒ‡å®šåˆå§‹åŒ–å‡½æ•°</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">id</span>) initWithPressure: (<span class="keyword">float</span>) p treadDepth: (<span class="keyword">float</span>) td &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">super</span> init]) &#123;</span><br><span class="line">        pressure = p;</span><br><span class="line">        treadDepth = td;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">self</span>);</span><br><span class="line">&#125;<span class="comment">// initWithPressure: treadDepth</span></span><br></pre></td></tr></table></figure>
<h3 id="10-5-3-æ·»åŠ AllWeatherPressureç±»çš„åˆå§‹åŒ–å‡½æ•°"><a href="#10-5-3-æ·»åŠ AllWeatherPressureç±»çš„åˆå§‹åŒ–å‡½æ•°" class="headerlink" title="10.5.3    æ·»åŠ AllWeatherPressureç±»çš„åˆå§‹åŒ–å‡½æ•°"></a>10.5.3    æ·»åŠ AllWeatherPressureç±»çš„åˆå§‹åŒ–å‡½æ•°</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç„¶åï¼Œå°†<code>AllWeatherPressure</code>æ”¹é€ ä¸ºä½¿ç”¨<code>æŒ‡å®šåˆå§‹åŒ–å‡½æ•°</code>çš„ç‰ˆæœ¬ã€‚åªéœ€è¦é‡è½½çˆ¶ç±»çš„<code>æŒ‡å®šåˆå§‹åŒ–å‡½æ•°</code>ï¼Œæ‰€æœ‰æ„é€ å™¨å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ï¼ˆå› ä¸ºå…¶ä»–æ„é€ å™¨éƒ½è°ƒç”¨çš„<code>æŒ‡å®šåˆå§‹åŒ–å‡½æ•°</code>ï¼‰ã€‚<br><em>AllWeatherPressure.m</em></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">id</span>) initWithPressure: (<span class="keyword">float</span>) p treadDepth: (<span class="keyword">float</span>) td &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">super</span> initWithPressure: p treadDepth:td]) &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">self</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="10-6-åˆå§‹åŒ–å‡½æ•°è§„åˆ™"><a href="#10-6-åˆå§‹åŒ–å‡½æ•°è§„åˆ™" class="headerlink" title="10.6    åˆå§‹åŒ–å‡½æ•°è§„åˆ™"></a>10.6    åˆå§‹åŒ–å‡½æ•°è§„åˆ™</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸æ˜¯ä¸€å®šè¦ä¸ºè‡ªå·±çš„ç±»åˆ›å»ºåˆå§‹åŒ–å‡½æ•°</p>
<ul>
<li>å¦‚æœä¸éœ€è¦è®¾ç½®ä»»ä½•çŠ¶æ€ï¼Œæˆ–è€…<code>alloc</code>æ–¹æ³•å°†å†…å­˜æ¸…é›¶çš„é»˜è®¤è¡Œä¸ºç›¸å½“ä¸é”™ï¼Œåˆ™ä¸å¯ä»¥ä¸è®¾ç½®<code>æŒ‡å®šåˆå§‹åŒ–å‡½æ•°</code>ã€‚</li>
<li>å¦‚æœå­ç±»ä¸­åˆ›å»ºç±»<code>æŒ‡å®šåˆå§‹åŒ–å‡½æ•°</code>ï¼Œåˆ™ä¸€å®šè¦åœ¨è¿™ä¸ª<code>åˆ¶å®šåˆå§‹åŒ–å‡½æ•°</code>ä¸­è°ƒç”¨è¶…ç±»çš„<code>æŒ‡å®šåˆå§‹åŒ–å‡½æ•°</code>ã€‚</li>
</ul>
</blockquote>
<h2 id="10-7-å°ç»“"><a href="#10-7-å°ç»“" class="headerlink" title="10.7    å°ç»“"></a>10.7    å°ç»“</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_09  å†…å­˜ç®¡ç†/" itemprop="url">
                  9 å†…å­˜ç®¡ç†
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T10:39:18+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_09  å†…å­˜ç®¡ç†/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_09  å†…å­˜ç®¡ç†/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="9-1-å¯¹è±¡ç”Ÿå‘½å‘¨æœŸ"><a href="#9-1-å¯¹è±¡ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="9.1    å¯¹è±¡ç”Ÿå‘½å‘¨æœŸ"></a>9.1    å¯¹è±¡ç”Ÿå‘½å‘¨æœŸ</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>4ä¸ªè¿‡ç¨‹</p>
<ol>
<li>è¯ç”Ÿï¼šé€šè¿‡<code>alloc</code>æˆ–<code>new</code>æ–¹æ³•å®ç°</li>
<li>ç”Ÿå­˜ï¼šæ¥æ”¶æ¶ˆæ¯å¹¶æ‰§è¡Œæ“ä½œ</li>
<li>äº¤å‹ï¼šé€šè¿‡å¤åˆä»¥åŠå‘æ–¹æ³•ä¼ é€’å‚æ•°</li>
<li>æ­»å»ï¼šè¢«é‡Šæ”¾æ‰</li>
</ol>
</blockquote>
<h3 id="9-1-1-å¼•ç”¨è®¡æ•°"><a href="#9-1-1-å¼•ç”¨è®¡æ•°" class="headerlink" title="9.1.1    å¼•ç”¨è®¡æ•°"></a>9.1.1    å¼•ç”¨è®¡æ•°</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¹Ÿå«<code>ä¿ç•™è®¡æ•°</code>ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªä¸ä¹‹æƒ³å…³è”çš„æ•´æ•°ï¼Œè¢«ç§°ä½œå®ƒçš„<code>å¼•ç”¨è®¡æ•°å™¨</code>æˆ–<code>ä¿ç•™è®¡æ•°å™¨</code>ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>ç›¸å…³æ“ä½œ</th>
<th>è¯´æ˜</th>
<th>ç›¸å…³æ–¹æ³•</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>å¼•ç”¨è®¡æ•°å™¨</code>åˆå§‹åŒ–</td>
<td>è¢«è®¾ç½®ä¸º1</td>
<td><code>alloc</code>ã€<code>new</code>ã€<code>copy</code></td>
</tr>
<tr>
<td><code>å¼•ç”¨è®¡æ•°å™¨</code>+1</td>
<td>æ–°å¢å¯¹è±¡å¼•ç”¨æ—¶</td>
<td><code>retain</code></td>
</tr>
<tr>
<td><code>å¼•ç”¨è®¡æ•°å™¨</code>-1</td>
<td>å¼•ç”¨ç”Ÿå‘½å‘¨æœŸç»“æŸæˆ–å¼•ç”¨è¢«æ–­å¼€æ—¶</td>
<td><code>release</code></td>
</tr>
<tr>
<td>é”€æ¯å¯¹è±¡</td>
<td>é‡Šæ”¾æ‰å·²ç»åˆ†é…çš„å…¨éƒ¨ç›¸å…³èµ„æº</td>
<td><code>dealloc</code></td>
</tr>
</tbody>
</table>
<h4 id="retainå®ä¾‹æ–¹æ³•"><a href="#retainå®ä¾‹æ–¹æ³•" class="headerlink" title="retainå®ä¾‹æ–¹æ³•"></a>retainå®ä¾‹æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¢åŠ å¯¹è±¡çš„<code>å¼•ç”¨è®¡æ•°å™¨</code>çš„å€¼ã€‚<br><strong>æ³¨æ„ï¼š</strong><code>Objective-C</code> ä¼šåœ¨éœ€è¦çš„æ—¶å€™è‡ªåŠ¨è°ƒç”¨å®ƒã€‚<br><strong>åŸå‹ï¼š</strong><code>id</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @return &#123;id&#125; æ¥æ”¶æ¶ˆæ¯çš„å¯¹è±¡</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="keyword">id</span>) retain;</span><br></pre></td></tr></table></figure>
<h4 id="releaseå®ä¾‹æ–¹æ³•"><a href="#releaseå®ä¾‹æ–¹æ³•" class="headerlink" title="releaseå®ä¾‹æ–¹æ³•"></a>releaseå®ä¾‹æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å‡å°‘å¯¹è±¡çš„<code>å¼•ç”¨è®¡æ•°å™¨</code>çš„å€¼ã€‚<br><strong>æ³¨æ„ï¼š</strong><code>Objective-C</code> ä¼šåœ¨éœ€è¦çš„æ—¶å€™è‡ªåŠ¨è°ƒç”¨å®ƒã€‚<br><strong>æŠ€å·§ï¼š</strong>å› ä¸º<code>retain</code>æ–¹æ³•è¿”å›ä¸€ä¸ªidç±»å‹çš„å€¼ï¼Œå¯ä»¥åœ¨æ¥æ”¶å…¶ä»–æ¶ˆæ¯çš„åŒæ—¶è¿›è¡Œ<code>retain</code>è°ƒç”¨ï¼Œå¢åŠ å¯¹è±¡çš„<code>å¼•ç”¨è®¡æ•°å™¨</code>çš„å€¼å¹¶æ‰§è¡Œå…¶ä»–æ“ä½œã€‚<br><strong>åŸå‹ï¼š</strong><code>id</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">oneway</span> <span class="keyword">void</span>) release;</span><br></pre></td></tr></table></figure>
<h4 id="retainCountå®ä¾‹æ–¹æ³•"><a href="#retainCountå®ä¾‹æ–¹æ³•" class="headerlink" title="retainCountå®ä¾‹æ–¹æ³•"></a>retainCountå®ä¾‹æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è·å–å¯¹è±¡çš„<code>å¼•ç”¨è®¡æ•°å™¨</code>çš„å€¼ã€‚<br><strong>åŸå‹ï¼š</strong><code>id</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @return &#123;NSUInteger&#125; å¼•ç”¨è®¡æ•°å™¨å½“å‰å€¼</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="built_in">NSUInteger</span>) retaonCount;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">RetainTracker</span> : <span class="title">NSObject</span></span></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// RetainTracker</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">RetainTracker</span></span></span><br><span class="line">- (<span class="keyword">id</span>)init</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">self</span> = [<span class="keyword">super</span> init])</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">NSLog</span> (<span class="string">@"init: Retain count of %lu."</span>, [<span class="keyword">self</span> retainCount]);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">self</span>);</span><br><span class="line">&#125; <span class="comment">// init</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é‡å†™dealloc,å½“å¼•ç”¨è®¡æ•°å™¨çš„å€¼ä¸º0æ—¶å°†è¢«è‡ªåŠ¨è°ƒç”¨</span></span><br><span class="line">- (<span class="keyword">void</span>) dealloc</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSLog</span> (<span class="string">@"dealloc called. Bye Bye."</span>);</span><br><span class="line">    [<span class="keyword">super</span> dealloc];</span><br><span class="line">    </span><br><span class="line">&#125; <span class="comment">// dealloc</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// RetainTracker</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span><br><span class="line">&#123;</span><br><span class="line">    RetainTracker *tracker = [RetainTracker new];</span><br><span class="line">    <span class="comment">// count: 1</span></span><br><span class="line">    </span><br><span class="line">    [tracker retain]; <span class="comment">// count: 2</span></span><br><span class="line">    <span class="built_in">NSLog</span> (<span class="string">@"%lu"</span>, [tracker retainCount]);</span><br><span class="line">    </span><br><span class="line">    [tracker retain]; <span class="comment">// count: 3</span></span><br><span class="line">    <span class="built_in">NSLog</span> (<span class="string">@"%lu"</span>, [tracker retainCount]);</span><br><span class="line">    </span><br><span class="line">    [tracker release]; <span class="comment">// count: 2</span></span><br><span class="line">    <span class="built_in">NSLog</span> (<span class="string">@"%lu"</span>, [tracker retainCount]);</span><br><span class="line">    </span><br><span class="line">    [tracker release]; <span class="comment">// count: 1</span></span><br><span class="line">    <span class="built_in">NSLog</span> (<span class="string">@"%lu"</span>, [tracker retainCount]);</span><br><span class="line">    </span><br><span class="line">    [tracker retain]; <span class="comment">// count 2</span></span><br><span class="line">    <span class="built_in">NSLog</span> (<span class="string">@"%lu"</span>, [tracker retainCount]);</span><br><span class="line">    </span><br><span class="line">    [tracker release]; <span class="comment">// count 1</span></span><br><span class="line">    <span class="built_in">NSLog</span> (<span class="string">@"%lu"</span>, [tracker retainCount]);</span><br><span class="line">    </span><br><span class="line">    [tracker release]; <span class="comment">// count: 0, dealloc it</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> (<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="9-1-2-å¯¹è±¡æ‰€æœ‰æƒ"><a href="#9-1-2-å¯¹è±¡æ‰€æœ‰æƒ" class="headerlink" title="9.1.2    å¯¹è±¡æ‰€æœ‰æƒ"></a>9.1.2    å¯¹è±¡æ‰€æœ‰æƒ</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¦‚æœä¸€ä¸ªå¯¹è±¡ï¼ˆæˆ–å‡½æ•°ï¼‰å†…æœ‰æŒ‡å‘å…¶ä»–å¯¹è±¡çš„å®ä¾‹å˜é‡ï¼Œåˆ™ç§°è¯¥å¯¹è±¡ï¼ˆæˆ–å‡½æ•°ï¼‰æ‹¥æœ‰è¿™äº›å¯¹è±¡ï¼Œå¹¶è´Ÿè´£ç¡®ä¿å¯¹å…¶æ‹¥æœ‰çš„å¯¹è±¡è¿›è¡Œæ¸…ç†ã€‚</p>
</blockquote>
<h3 id="9-1-3-è®¿é—®æ–¹æ³•ä¸­çš„ä¿ç•™å’Œé‡Šæ”¾"><a href="#9-1-3-è®¿é—®æ–¹æ³•ä¸­çš„ä¿ç•™å’Œé‡Šæ”¾" class="headerlink" title="9.1.3    è®¿é—®æ–¹æ³•ä¸­çš„ä¿ç•™å’Œé‡Šæ”¾"></a>9.1.3    è®¿é—®æ–¹æ³•ä¸­çš„ä¿ç•™å’Œé‡Šæ”¾</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>setEngine</code>æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå†…å­˜ç®¡ç†ç‰ˆæœ¬ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">@class</span> <span class="title">Engine</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Car</span> : <span class="title">NSObject</span></span></span><br><span class="line">&#123;</span><br><span class="line">    Engine *engine;</span><br><span class="line">&#125;</span><br><span class="line">- (Engine *) engine;</span><br><span class="line">- (<span class="keyword">void</span>) setEngine: (Engine *) newEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Car</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Car</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>) init</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">super</span> init]) &#123;</span><br><span class="line">        engine = [Engine new];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">self</span>);</span><br><span class="line">&#125; <span class="comment">// init</span></span><br><span class="line"></span><br><span class="line">- (Engine *) engine</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> (engine);</span><br><span class="line">&#125; <span class="comment">// engine</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) setEngine: (Engine *) newEngine</span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">// newEnginå¼•ç”¨è®¡æ•°å™¨åŠ 1</span></span><br><span class="line">	[newEngin retain];</span><br><span class="line">	<span class="comment">// engineåº”ç”¨è®¡æ•°å™¨å‡1</span></span><br><span class="line">	[engine release];</span><br><span class="line">    engine = newEngine;</span><br><span class="line">&#125; <span class="comment">// setEngine</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h3 id="9-1-4-è‡ªåŠ¨é‡Šæ”¾"><a href="#9-1-4-è‡ªåŠ¨é‡Šæ”¾" class="headerlink" title="9.1.4    è‡ªåŠ¨é‡Šæ”¾"></a>9.1.4    è‡ªåŠ¨é‡Šæ”¾</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æœ‰äº›æƒ…å†µä¸‹ï¼Œæ‹¥æœ‰å¯¹è±¡çš„å®ä½“å¹¶ä¸èƒ½è´Ÿè´£æ¸…ç†æ‹¥æœ‰çš„å¯¹è±¡ï¼Œå¦‚ä¸‹</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸èƒ½åœ¨descriptionä¸­é‡Šæ”¾å¯¹è±¡ï¼Œå› ä¸ºå…ˆé‡Šæ”¾decriptionå­—ç¬¦ä¸²å¯¹è±¡å†è¿”å›å®ƒï¼Œåˆ™ä¿ç•™è®¡æ•°å™¨çš„å€¼å½’0ï¼Œå¯¹è±¡é©¬ä¸Šè¢«é”€æ¯ã€‚</span></span><br><span class="line">- (<span class="built_in">NSString</span> *)description &#123;</span><br><span class="line">	<span class="built_in">NSString</span> *description;</span><br><span class="line">	description = [[<span class="built_in">NSString</span> alloc] initWithFormat: <span class="string">@"I'm %d years old"</span>, <span class="number">4</span>];</span><br><span class="line">	<span class="keyword">return</span> (description);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>è§£å†³åŠæ³•ï¼šä¸å¤Ÿä¼˜é›…</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å°†è¿”å›çš„å­—ç¬¦ä¸²èµ‹åœ¨æŸä¸ªå˜é‡ä¸­</span></span><br><span class="line"><span class="built_in">NSString</span> *desc = [someObject description];</span><br><span class="line"><span class="comment">// ä½¿ç”¨è¿™ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="built_in">NSSLog</span>(<span class="string">@"%@"</span>, desc);</span><br><span class="line"><span class="comment">// é”€æ¯å®ƒ</span></span><br><span class="line">[desc release];</span><br></pre></td></tr></table></figure>
<h3 id="9-1-5-æ‰€æœ‰å¯¹è±¡æ”¾å…¥æ± ä¸­"><a href="#9-1-5-æ‰€æœ‰å¯¹è±¡æ”¾å…¥æ± ä¸­" class="headerlink" title="9.1.5    æ‰€æœ‰å¯¹è±¡æ”¾å…¥æ± ä¸­"></a>9.1.5    æ‰€æœ‰å¯¹è±¡æ”¾å…¥æ± ä¸­</h3><blockquote>
<p><strong>å…³é”®å­—ï¼š</strong><code>@autoreleasepool</code>ã€<code>NSAutoreleasePool</code><br><strong>è¯´æ˜ï¼š</strong><code>è‡ªåŠ¨é‡Šæ”¾æ± </code>æ˜¯ä¸€ä¸ªç”¨æ¥å­˜æ”¾å¯¹è±¡çš„æ± å­ï¼ˆé›†åˆï¼‰ï¼Œå¹¶ä¸”èƒ½å¤Ÿè‡ªåŠ¨é‡Šæ”¾ã€‚å½“è‡ªåŠ¨é‡Šæ”¾æ± è¢«é”€æ¯æ—¶ï¼Œä¼šæƒ³è¯¥æ± ä¸­æ‰€æœ‰çš„å¯¹è±¡å‘é€<code>release</code>æ¶ˆæ¯ã€‚</p>
</blockquote>
<h4 id="autoreleaseå®ä¾‹æ–¹æ³•"><a href="#autoreleaseå®ä¾‹æ–¹æ³•" class="headerlink" title="autoreleaseå®ä¾‹æ–¹æ³•"></a>autoreleaseå®ä¾‹æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å½“å‘ä¸€ä¸ªå¯¹è±¡å‘é€<code>autorelease</code>æ¶ˆæ¯æ—¶ï¼Œå®é™…ä¸Šæ˜¯å°†è¯¥å¯¹è±¡æ·»åŠ åˆ°è‡ªåŠ¨é‡Šæ”¾æ± ä¸­ã€‚<br><strong>åŸå‹ï¼š</strong><code>id</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @return &#123;id&#125; æ¥æ”¶å¯¹è±¡</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="keyword">id</span>) autorelease;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">NSString</span> *)description &#123;</span><br><span class="line">	<span class="built_in">NSString</span> *description;</span><br><span class="line">	description = [[<span class="built_in">NSString</span> alloc] initWithFormat: <span class="string">@"I'm %d years old"</span>, <span class="number">4</span>];</span><br><span class="line">	<span class="comment">// é€šè¿‡autoreleaseæ–¹æ³•å°†å­—ç¬¦ä¸²åŠ å…¥åˆ°è‡ªåŠ¨é‡Šæ”¾æ± </span></span><br><span class="line">	<span class="keyword">return</span> ([description autorelease]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// NSLogå‡½æ•°çš„ä»£ç è¿è¡Œç»“æŸä»¥åï¼Œè‡ªåŠ¨é‡Šæ”¾æ± ä¼šè¢«è‡ªåŠ¨é”€æ¯ï¼ˆå‡è®¾ä¸Šä¸‹æ–‡å­˜åœ¨å·²ç»åˆ›å»ºå¥½çš„è‡ªåŠ¨é‡Šæ”¾æ± ï¼‰</span></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, [someObject description]);</span><br></pre></td></tr></table></figure>
<h3 id="9-1-6-è‡ªåŠ¨é‡Šæ”¾æ± çš„åˆ›å»ºå’Œé”€æ¯"><a href="#9-1-6-è‡ªåŠ¨é‡Šæ”¾æ± çš„åˆ›å»ºå’Œé”€æ¯" class="headerlink" title="9.1.6    è‡ªåŠ¨é‡Šæ”¾æ± çš„åˆ›å»ºå’Œé”€æ¯"></a>9.1.6    è‡ªåŠ¨é‡Šæ”¾æ± çš„åˆ›å»ºå’Œé”€æ¯</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è‡ªåŠ¨é‡Šæ”¾æ± åº”è¯¥ä»€ä¹ˆæ—¶å€™åˆ›å»ºï¼Ÿä»€ä¹ˆæ—¶å€™é”€æ¯ï¼Ÿ</p>
</blockquote>
<h4 id="9-1-6-1-åˆ›å»º"><a href="#9-1-6-1-åˆ›å»º" class="headerlink" title="9.1.6.1    åˆ›å»º"></a>9.1.6.1    åˆ›å»º</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æœ‰ä¸¤ç§æ–¹å¼</p>
</blockquote>
<table>
<thead>
<tr>
<th>è‡ªåŠ¨é‡Šæ”¾æ± çš„åˆ›å»º</th>
<th>è¯´æ˜</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>@autorelease{}</code></td>
<td><code>{}</code>å†…çš„ä»£ç éƒ½ä¼šè¢«æ”¾å…¥è¿™ä¸ªæ–°æ± å­ä¸­</td>
<td>å®šä¹‰åœ¨<code>{}</code>å†…çš„å˜é‡åœ¨å¤–éƒ¨æ— æ³•ä½¿ç”¨</td>
</tr>
<tr>
<td><code>NSAutoreleasePool</code>å¯¹è±¡</td>
<td>åˆ›å»ºå’Œé‡Šæ”¾<code>NSAutoreleasePool</code>å¯¹è±¡ä¹‹é—´çš„ä»£ç ä¼šä½¿ç”¨è¿™ä¸ªæ–°çš„æ± å­</td>
<td>æ€§èƒ½ä¸å¦‚<code>@autorelease{}</code>æ–¹å¼</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æ‰©å±•ï¼š</strong>å¯ä»¥ä½¿ç”¨<code>drainæ–¹æ³•</code>æ¸…ç©ºè‡ªå®šé‡Šæ”¾æ± ä¸­çš„å¯¹è±¡è€Œä¸é”€æ¯è‡ªåŠ¨é‡Šæ”¾æ± ï¼ˆMac OS 10.4+ï¼‰</p>
</blockquote>
<h4 id="9-1-6-2-é”€æ¯"><a href="#9-1-6-2-é”€æ¯" class="headerlink" title="9.1.6.2    é”€æ¯"></a>9.1.6.2    é”€æ¯</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä½¿ç”¨<code>AppKit</code>æ—¶ï¼Œ<code>Cocoa</code>å®šæœŸè‡ªåŠ¨åœ°ä¸ºä½ åˆ›å»ºå’Œé”€æ¯è‡ªåŠ¨é‡Šæ”¾æ± ï¼Œé€šå¸¸æ˜¯åœ¨ç¨‹åºå¤„ç†å®Œå½“å‰äº‹ä»¶ï¼ˆå¦‚é¼ æ ‡å•å‡»æˆ–è€…é”®ç›˜æŒ‰ä¸‹ï¼‰ä»¥åæ‰§è¡Œè¿™äº›æ“ä½œã€‚</p>
</blockquote>
<h3 id="9-1-7-è‡ªåŠ¨é‡Šæ”¾æ± çš„å·¥ä½œæµç¨‹"><a href="#9-1-7-è‡ªåŠ¨é‡Šæ”¾æ± çš„å·¥ä½œæµç¨‹" class="headerlink" title="9.1.7    è‡ªåŠ¨é‡Šæ”¾æ± çš„å·¥ä½œæµç¨‹"></a>9.1.7    è‡ªåŠ¨é‡Šæ”¾æ± çš„å·¥ä½œæµç¨‹</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">RetainTracker</span> : <span class="title">NSObject</span></span></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// RetainTracker</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">RetainTracker</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>) init</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">super</span> init])</span><br><span class="line">    &#123;</span><br><span class="line">		<span class="built_in">NSLog</span> (<span class="string">@"init: Retain count of %lu."</span>, [<span class="keyword">self</span> retainCount]);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> (<span class="keyword">self</span>);</span><br><span class="line">&#125; <span class="comment">// init</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) dealloc</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">NSLog</span> (<span class="string">@"dealloc called. Bye Bye."</span>);</span><br><span class="line">	[<span class="keyword">super</span> dealloc];</span><br><span class="line">&#125; <span class="comment">// dealloc</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// RetainTracker</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">/* æ–¹å¼ä¸€ï¼šNSAutoreleasePoolå¯¹è±¡ */</span></span><br><span class="line">    <span class="built_in">NSAutoreleasePool</span> *pool = [[<span class="built_in">NSAutoreleasePool</span> alloc] init];</span><br><span class="line">	</span><br><span class="line">    RetainTracker *tracker = [RetainTracker new]; <span class="comment">// count: 1</span></span><br><span class="line">	</span><br><span class="line">    [tracker retain]; <span class="comment">// count: 2</span></span><br><span class="line">    [tracker autorelease]; <span class="comment">// count: still 2</span></span><br><span class="line">    [tracker release]; <span class="comment">// count: 1</span></span><br><span class="line">	</span><br><span class="line">    <span class="built_in">NSLog</span> (<span class="string">@"releasing pool"</span>);</span><br><span class="line">    [pool release];<span class="comment">// é”€æ¯è‡ªåŠ¨é‡Šæ”¾æ± </span></span><br><span class="line">    <span class="comment">// gets nuked, sends release to tracker</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">/* æ–¹å¼äºŒï¼š@autoreleaseä»£ç å— */</span></span><br><span class="line">    <span class="keyword">@autoreleasepool</span></span><br><span class="line">    &#123;</span><br><span class="line">        RetainTracker *tracker2 = [RetainTracker new]; <span class="comment">// count: 1</span></span><br><span class="line">        </span><br><span class="line">        [tracker2 retain]; <span class="comment">// count: 2</span></span><br><span class="line">        [tracker2 autorelease]; <span class="comment">// count: still 2</span></span><br><span class="line">        [tracker2 release]; <span class="comment">// count: 1</span></span><br><span class="line">        </span><br><span class="line">        <span class="built_in">NSLog</span> (<span class="string">@"auto releasing pool"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> (<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="9-2-Cocoa-çš„å†…å­˜ç®¡ç†è§„åˆ™"><a href="#9-2-Cocoa-çš„å†…å­˜ç®¡ç†è§„åˆ™" class="headerlink" title="9.2    Cocoa çš„å†…å­˜ç®¡ç†è§„åˆ™"></a>9.2    Cocoa çš„å†…å­˜ç®¡ç†è§„åˆ™</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>Cocoa</code>æœ‰ä¸€äº›å†…å­˜ç®¡ç†çº¦å®šï¼Œå®ƒä»¬éƒ½æ˜¯ä¸€äº›å¾ˆç®€å•çš„è§„åˆ™ï¼Œå¯ç”¨ç”¨äºæ•´ä¸ªå·¥å…·é›†å…§ã€‚</p>
<ul>
<li>å¦‚æœä½¿ç”¨<code>new</code>ã€<code>alloc</code>ã€<code>copy</code>æ–¹æ³•åˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡ï¼šå½“ä¸å†ä½¿ç”¨è¯¥å¯¹è±¡æ—¶ï¼Œåº”è¯¥å‘è¯¥å¯¹è±¡å‘é€ä¸€æ¡<code>release</code>æˆ–<code>autorelease</code>æ¶ˆæ¯</li>
<li>å¦‚æœé€šè¿‡å…¶ä»–æ–¹æ³•è·å¾—ä¸€ä¸ªå¯¹è±¡ï¼šå¦‚æœå¯¹è±¡çš„ä¿ç•™è®¡æ•°å™¨çš„å€¼ä¸º1ï¼Œè€Œä¸”å·²ç»è¢«è®¾ç½®ä¸ºè‡ªåŠ¨é‡Šæ”¾ï¼Œé‚£ä¹ˆä½ ä¸éœ€è¦æ‰§ä»»ä½•æ“ä½œæ¥ç¡®ä¿å¯¹è±¡çš„åˆ°æ¸…ç†ï¼Œé™¤éæ‰“ç®—åœ¨ä¸€æ®µæ—¶é—´å†…æ‹¥æœ‰è¯¥å¯¹è±¡ï¼Œåˆ™éœ€è¦<code>ä¿ç•™</code>å®ƒå¹¶ç¡®ä¿åœ¨æ“ä½œå®Œæˆæ—¶<code>é‡Šæ”¾</code>å®ƒã€‚</li>
<li>å¦‚æœ<code>ä¿ç•™</code>äº†æŸä¸ªå¯¹è±¡ï¼šéœ€è¦ï¼ˆæœ€ç»ˆï¼‰<code>é‡Šæ”¾</code>æˆ–<code>è‡ªåŠ¨é‡Šæ”¾</code>è¯¥å¯¹è±¡ï¼ˆå³ä¿æŒ<code>retain</code>æ–¹æ³•å’Œ<code>release</code>æ–¹æ³•ä½¿ç”¨æ¬¡æ•°ç›¸ç­‰ï¼‰ã€‚<br><strong>æŠ€å·§ï¼š</strong>ä»¥ä¸Šè§„åˆ™å¯ä»¥å½’ç»“ä¸ºä¸‹è¡¨(ä¸¤ä¸ªç»´åº¦ï¼šå¯¹è±¡çš„æ¥å†ï¼Ÿç”¨å®Œå°±é”€æ¯è¿˜æ˜¯ä¿ç•™ï¼Ÿ)</li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th>å¯¹è±¡çš„æ¥å†</th>
<th>ç”¨å®Œå°±é”€æ¯</th>
<th>å’Œæ‹¥æœ‰è€…åŒå‘½</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>alloc</code>ã€<code>new</code>ã€<code>copy</code></td>
<td>ä¸åœ¨ä½¿ç”¨æ—¶é‡Šæ”¾å¯¹è±¡</td>
<td>åœ¨<code>deallocæ–¹æ³•ä¸­é‡Šæ”¾å¯¹è±¡</code></td>
</tr>
<tr>
<td><strong>å…¶å®ƒæ–¹æ³•</strong></td>
<td>ä¸éœ€è¦æ‰§è¡Œä»»ä½•æ“ä½œ</td>
<td>è·å¾—å¯¹è±¡æ—¶<code>ä¿ç•™</code>ï¼Œåœ¨<code>dealloc</code>æ–¹æ³•ä¸­<code>é‡Šæ”¾</code>å¯¹è±¡</td>
</tr>
</tbody>
</table>
<h3 id="9-2-1-ä¸´æ—¶å¯¹è±¡"><a href="#9-2-1-ä¸´æ—¶å¯¹è±¡" class="headerlink" title="9.2.1    ä¸´æ—¶å¯¹è±¡"></a>9.2.1    ä¸´æ—¶å¯¹è±¡</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸´æ—¶å¯¹è±¡æŒ‡çš„æ˜¯ï¼Œåœ¨ä»£ç ä¸­ä½¿ç”¨æŸä¸ªå¯¹è±¡ï¼Œä½†æ˜¯å¹¶æœªæ‰“ç®—é•¿æœŸæ‹¥æœ‰è¯¥å¯¹è±¡ã€‚<br><strong>å†…å­˜ç®¡ç†ï¼š</strong>å¦‚æœæ˜¯ç”¨<code>new</code>ã€<code>alloc</code>ã€<code>copy</code>æ–¹æ³•è·å¾—è¿™ä¸ªå¯¹è±¡ï¼Œå°±éœ€è¦å®‰æ’å¥½è¯¥å¯¹è±¡çš„å†…å­˜é‡Šæ”¾ï¼ˆé€šå¸¸ä½¿ç”¨<code>release</code>ï¼‰ã€‚<br><em>alloc</em></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç»´åº¦1:é€šè¿‡allocåˆ›å»ºå¯å˜æ•°ç»„</span></span><br><span class="line"><span class="comment">// ç»´åº¦2:ä¸´æ—¶ä½¿ç”¨</span></span><br><span class="line">KSMutableArray *array;</span><br><span class="line">array = [[<span class="built_in">NSMutableArray</span> alloc] init];</span><br><span class="line"><span class="comment">// ä½¿ç”¨array</span></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸ä½¿ç”¨æ—¶é”€æ¯</span></span><br><span class="line">[array release];</span><br></pre></td></tr></table></figure>
<p><em>å…¶å®ƒæ–¹æ³•</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç»´åº¦1:å…¶å®ƒæ–¹æ³•ï¼ˆå·¥å‚æ–¹æ³•arrayWithCapacityå·²ç»å°†è¯¥å¯¹è±¡çš„å¼•ç”¨è®¡æ•°å™¨è®¾ç½®ä¸º1ä¸”è®¾ç½®äº†è‡ªåŠ¨é‡Šæ”¾ï¼Œå³å·²ç»æ”¾åœ¨äº†è‡ªåŠ¨é‡Šæ”¾æ± ä¸­ï¼‰</span></span><br><span class="line"><span class="comment">// ç»´åº¦2:ä¸´æ—¶ä½¿ç”¨</span></span><br><span class="line"><span class="built_in">NSMutableArray</span> *array;</span><br><span class="line">array = [<span class="built_in">NSMutableArray</span> arrayWithCapacity: <span class="number">17</span>];</span><br><span class="line"><span class="comment">// ä½¿ç”¨array</span></span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure>
<p><em>å…¶å®ƒæ–¹æ³•ï¼ˆå…¨å±€å•ä¾‹ï¼‰</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSColor</span> *color;</span><br><span class="line"><span class="comment">// blueColoræ–¹æ³•è¿”å›ä¸€ä¸ªå…¨å±€å•ä¾‹å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æ°¸è¿œä¸ä¼šè¢«é”€æ¯ï¼Œä¹Ÿä¸éœ€è¦æ‰‹åŠ¨é”€æ¯</span></span><br><span class="line">color = [<span class="built_in">NSColor</span> blueColor];</span><br></pre></td></tr></table></figure>
<h3 id="9-2-2-æ‹¥æœ‰å¯¹è±¡"><a href="#9-2-2-æ‹¥æœ‰å¯¹è±¡" class="headerlink" title="9.2.2    æ‹¥æœ‰å¯¹è±¡"></a>9.2.2    æ‹¥æœ‰å¯¹è±¡</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>æ‹¥æœ‰å¯¹è±¡</code>æŒ‡çš„æ˜¯å¸Œæœ›åœ¨å¤šä¸ªä»£ç ä¸­ä¸€ç›´æ‹¥æœ‰æŸä¸ªå¯¹è±¡ï¼Œæ¯”å¦‚</p>
<ul>
<li>å°†å¯¹è±¡æ”¾è¿›<code>é›†åˆ</code>ä¸­ï¼ˆ<code>NSArray</code>ã€<code>NSDictionary</code>ç­‰ï¼‰</li>
<li>ä½œä¸ºå…¶å®ƒå¯¹è±¡çš„<code>å®ä¾‹å˜é‡</code>ä½¿ç”¨</li>
<li>ä½œä¸º<code>å…¨å±€å˜é‡</code>ä½¿ç”¨ï¼ˆæ¯”è¾ƒç½•è§ï¼‰</li>
</ul>
<p><strong>å†…å­˜ç®¡ç†ï¼š</strong>è§<a href="">9.2-æŠ€å·§</a></p>
<ul>
<li>ä½¿ç”¨<code>new</code>ã€<code>alloc</code>ã€<code>copy</code>æ–¹æ³•è·å¾—ä¸€ä¸ªå¯¹è±¡ï¼šåªéœ€ä¿è¯åœ¨æ‹¥æœ‰è€…çš„<code>dealloc</code>æ–¹æ³•ä¸­é‡Šæ”¾å®ƒ</li>
<li>å…¶å®ƒæ–¹æ³•è·å¾—ä¸€ä¸ªå¯¹è±¡ï¼šè·å¾—å<code>ä¿ç•™</code>è¯¥å¯¹è±¡ï¼Œå¹¶ä¿è¯åœ¨æ‹¥æœ‰è€…çš„<code>dealloc</code>æ–¹æ³•ä¸­é‡Šæ”¾å®ƒ<br><em><code>new</code>ã€å®ä¾‹å˜é‡</em></li>
</ul>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>) doStuff &#123;</span><br><span class="line">	<span class="comment">// é€šè¿‡newè·å¾—ä¸€ä¸ªå¯¹è±¡å¹¶èµ‹å€¼ç»™å®ä¾‹å˜é‡</span></span><br><span class="line">	flonkArray = [<span class="built_in">NSMutableArray</span> new];<span class="comment">// count 1, autoreleased</span></span><br><span class="line">	[flonkArray retain];<span class="comment">// count 2, autoreleased</span></span><br><span class="line">&#125;</span><br><span class="line">- (<span class="keyword">void</span>) dealloc &#123;</span><br><span class="line">	<span class="comment">// é‡Šæ”¾å®ä¾‹å˜é‡æŒ‡å‘çš„ç©ºé—´</span></span><br><span class="line">	[flonkArray release];<span class="comment">// count 0</span></span><br><span class="line">	<span class="comment">// é‡å†™äº†deallocåˆ«å¿˜è®°è°ƒç”¨è¶…ç±»çš„dealloc</span></span><br><span class="line">	[<span class="keyword">super</span> dealloc];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>å…¶å®ƒæ–¹æ³•ã€å®ä¾‹å˜é‡</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>) doStuff &#123;</span><br><span class="line">	<span class="comment">// é€šè¿‡newè·å¾—ä¸€ä¸ªå¯¹è±¡å¹¶èµ‹å€¼ç»™å®ä¾‹å˜é‡</span></span><br><span class="line">	flonkArray = [<span class="built_in">NSMutableArray</span> arrayWithCapacity: <span class="number">17</span>];<span class="comment">// count 1</span></span><br><span class="line">&#125;</span><br><span class="line">- (<span class="keyword">void</span>) dealloc &#123;</span><br><span class="line">	<span class="comment">// é‡Šæ”¾å®ä¾‹å˜é‡æŒ‡å‘çš„ç©ºé—´</span></span><br><span class="line">	[flonkArray release];<span class="comment">// count 0</span></span><br><span class="line">	<span class="comment">// é‡å†™äº†deallocåˆ«å¿˜è®°è°ƒç”¨è¶…ç±»çš„dealloc</span></span><br><span class="line">	[<span class="keyword">super</span> dealloc];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="æ¸…ç†è‡ªåŠ¨é‡Šæ”¾æ± "><a href="#æ¸…ç†è‡ªåŠ¨é‡Šæ”¾æ± " class="headerlink" title="æ¸…ç†è‡ªåŠ¨é‡Šæ”¾æ± "></a>æ¸…ç†è‡ªåŠ¨é‡Šæ”¾æ± </h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è‡ªåŠ¨é‡Šæ”¾æ± è¢«æ¸…ç†çš„æ—¶é—´æ˜¯å®Œå…¨ç¡®å®šçš„</p>
<ul>
<li>åœ¨ä»£ç ä¸­æ‰‹åŠ¨é”€æ¯</li>
<li>ä½¿ç”¨AppKitæ—¶æ˜¯åœ¨å¾ªç¯ç»“æŸæ—¶é”€æ¯</li>
</ul>
<p><strong>åŸç†ï¼š</strong>è‡ªåŠ¨é‡Šæ”¾æ± å­˜æ”¾åœ¨æ ˆä¸­ï¼Œæ–°å»ºçš„è‡ªåŠ¨é‡Šæ”¾æ± è¢«æ·»åŠ åˆ°æ ˆé¡¶ï¼Œæ¥æ”¶<code>autorelease</code>æ¶ˆæ¯çš„å¯¹è±¡å°†è¢«æ”¾å…¥æœ€é¡¶ç«¯çš„è‡ªåŠ¨é‡Šæ”¾æ± ã€‚<br><strong>æ³¨æ„ï¼š</strong>è‡ªåŠ¨é‡Šæ”¾æ± çš„åˆ†é…å’Œé”€æ¯æ“ä½œä»£ä»·å¾ˆå°ï¼Œå¦‚æœä¸€ä¸ªå¾ªç¯ä¸­ä¼šåˆ›å»ºå¤§é‡å¯¹è±¡ï¼Œå¯ä»¥åˆ›å»ºåœ¨å¾ªç¯ä¸­å¸¸è§è‡ªå·±çš„è‡ªåŠ¨é‡Šæ”¾æ± ï¼Œæ¯åˆ›å»ºä¸€æ‰¹å°±é‡Šæ”¾ä¸€æ‰¹ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºè‡ªåŠ¨é‡Šæ”¾æ± </span></span><br><span class="line"><span class="built_in">NSAutoreleasePool</span> *pool;</span><br><span class="line">pool = [[<span class="built_in">NSAutoreleasePool</span> alloc] init];</span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">1000000</span>; i++) &#123;</span><br><span class="line">	<span class="comment">// åˆ›å»ºå­—ç¬¦ä¸²å¯¹è±¡</span></span><br><span class="line">	<span class="keyword">id</span> object = [someArray objectAtIndex: i];</span><br><span class="line">	<span class="built_in">NSString</span> *desc = [object description];</span><br><span class="line">	<span class="keyword">if</span> (i % <span class="number">1000</span> == <span class="number">0</span>) &#123;</span><br><span class="line">		<span class="comment">// æ¯åˆ›å»º1000ä¸ªå¯¹è±¡æ¸…ç†åˆ°ä¸Šä¸€ä¸ªè‡ªåŠ¨é‡Šæ”¾æ± </span></span><br><span class="line">		[pool release];</span><br><span class="line">		<span class="comment">// å¹¶æ–°å»ºä¸€ä¸ªè‡ªåŠ¨é‡Šæ”¾æ± </span></span><br><span class="line">		pool = [[<span class="built_in">NSAutoreleasePool</span> alloc] init];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// é‡Šæ”¾æœ€åä¸€ä¸ªè‡ªåŠ¨é‡Šæ”¾æ± </span></span><br><span class="line">[pool release];</span><br></pre></td></tr></table></figure>
<h3 id="9-2-3-åƒåœ¾å›æ”¶"><a href="#9-2-3-åƒåœ¾å›æ”¶" class="headerlink" title="9.2.3    åƒåœ¾å›æ”¶"></a>9.2.3    åƒåœ¾å›æ”¶</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>Objective-C2.0</code>å¼•å…¥äº†è‡ªåŠ¨å†…å­˜ç®¡ç†æœºåˆ¶ï¼Œä¹Ÿç§°ä¸º<code>åƒåœ¾å›æ”¶</code><br><strong>è§¦å‘ï¼š</strong>ç±»ä¼¼è‡ªåŠ¨é‡Šæ”¾æ± </p>
<ul>
<li>åœ¨æ—¶é—´å¾ªç¯ç»“æŸæ—¶è§¦å‘</li>
<li>ä¹Ÿå¯ä»¥è‡ªå·±è§¦å‘ï¼ˆå¦‚æœä¸æ˜¯GUIç¨‹åºï¼‰</li>
</ul>
<p><strong>å¼€å¯ï¼š</strong><code>åƒåœ¾å›æ”¶</code>æ˜¯ä¸€ä¸ªå¯é€‰æ‹©çš„æ˜¯å¦å¯åŠ¨çš„åŠŸèƒ½ï¼ˆé¡¹ç›®ä¿¡æ¯çª—å£-&gt;Build Settingsé€‰é¡¹å¡-&gt;Require[-fobjc-gc-only]é€‰é¡¹ï¼‰<br><strong>é™åˆ¶ï¼š</strong>åªæ”¯æŒ<code>OS X</code>åº”ç”¨å¼€å‘ï¼Œæ— æ³•åœ¨<code>iOS</code>åº”ç”¨ç¨‹åºä¸Šåº”ç”¨ã€‚<br><strong>æ‰©å±•ï¼š</strong>è‹¹æœå¯¹<code>iOS</code>å¼€å‘çš„ä¸€äº›å»ºè®®</p>
<ul>
<li>ä¸è¦åœ¨è‡ªå·±çš„ä»£ç ä¸­ä½¿ç”¨<code>autorelease</code>æ–¹æ³•</li>
<li>ä¸è¦ä½¿ç”¨ä¼šè¿”å›è‡ªåŠ¨é‡Šæ”¾å¯¹è±¡çš„ä¸€äº›ä¾¿åˆ©æ–¹æ³•ï¼ˆæ¯”å¦‚<code>NSString</code>ä¸­ä»¥<code>stringWith</code>å¼€å¤´çš„å·¥å‚æ–¹æ³•ï¼‰</li>
</ul>
</blockquote>
<h3 id="9-2-4-è‡ªåŠ¨å¼•ç”¨è®¡æ•°"><a href="#9-2-4-è‡ªåŠ¨å¼•ç”¨è®¡æ•°" class="headerlink" title="9.2.4    è‡ªåŠ¨å¼•ç”¨è®¡æ•°"></a>9.2.4    è‡ªåŠ¨å¼•ç”¨è®¡æ•°</h3><blockquote>
<p><strong>èƒŒæ™¯ï¼š</strong><code>iOS</code>ä¸æ”¯æŒåƒåœ¾å›æ”¶ï¼Œå› ä¸ºç§»åŠ¨è®¾å¤‡æ¯”ç”µè„‘æ›´åŠ ç§äººåŒ–ã€èµ„æºæ›´å°‘ï¼Œåƒåœ¾å›æ”¶å­˜åœ¨æ½œåœ¨çš„ä½“éªŒé—®é¢˜ã€‚ä½†è‹¹æœæä¾›äº†å¦å¤–ä¸€ä¸ªæ–¹æ¡ˆæ¥ç¥¢è¡¥ï¼Œé‚£å°±æ˜¯<code>è‡ªåŠ¨å¼•ç”¨è®¡æ•°ï¼ˆautomatic regerence counting, ARCï¼‰</code><br><strong>è¯´æ˜ï¼š</strong><code>ARC</code>ä¸æ˜¯åƒåœ¾å›æ”¶å™¨ï¼Œå®ƒæ˜¯åœ¨ç¼–è¯‘æœŸï¼ˆè€Œä¸æ˜¯è¿è¡ŒæœŸï¼‰å·¥ä½œçš„ï¼Œå®ƒåœ¨ä»£ç ä¸­æ’å…¥äº†åˆé€‚çš„<code>retain</code>å’Œ<code>release</code>è¯­å¥ã€‚<br><strong>æ³¨æ„ï¼š</strong><code>ARC</code>æ˜¯ä¸€ä¸ªå¯é€‰çš„åŠŸèƒ½ï¼Œå¿…éœ€æ˜ç¡®åœ°å¯ç”¨æˆ–ç¦ç”¨ã€‚<br><strong>å¼€å‘ç¯å¢ƒé™åˆ¶ï¼š</strong>ä»¥ä¸‹æ˜¯ç¼–å†™ï¼ˆæˆ–è¿è¡Œï¼‰<code>ARC</code>ä»£ç æ‰€éœ€çš„æ¡ä»¶</p>
<ul>
<li>Xcode4.2 ä»¥ä¸Šçš„ç‰ˆæœ¬</li>
<li>Apple LLVM 3.0 ä»¥ä¸Šç‰ˆæœ¬çš„ç¼–è¯‘å™¨</li>
<li><code>OS X 10.7</code>ä»¥ä¸Šç‰ˆæœ¬çš„ç³»ç»Ÿ</li>
</ul>
<p><strong>è¿è¡Œç¯å¢ƒé™åˆ¶ï¼š</strong>ä»¥ä¸‹æ˜¯è¿è¡Œç§»åŠ¨è®¾å¤‡å¿…éœ€æ»¡è¶³çš„æ¡ä»¶</p>
<ul>
<li>ios 4.0ä»¥ä¸Šçš„ç§»åŠ¨è®¾å¤‡æˆ–<code>OS X10.6</code>ä»¥ä¸Šç‰ˆæœ¬çš„64ä½ç³»ç»Ÿçš„ç”µè„‘</li>
<li><code>å½’é›¶å¼±å¼•ç”¨</code>éœ€è¦<code>iOS 5.0</code>æˆ–<code>OS X 10.7</code>ä»¥ä¸Šç‰ˆæœ¬çš„ç³»ç»Ÿ</li>
</ul>
<p><strong>ä½œç”¨å¯¹è±¡é™åˆ¶ï¼š</strong><code>ARC</code>åªå¯¹å¯ä¿ç•™çš„å¯¹è±¡æŒ‡é’ˆ<code>(ROPs)</code>æœ‰æ•ˆ</p>
<ul>
<li>ä»£ç å—æŒ‡é’ˆ</li>
<li><code>Objective-C</code>å¯¹è±¡æŒ‡é’ˆ</li>
<li>é€šè¿‡<code>_attribute((NSObject))</code>ç±»å‹å®šä¹‰çš„æŒ‡é’ˆ</li>
</ul>
<p><strong>æŠ€å·§ï¼š</strong>å¦‚æœæƒ³åœ¨ä»£ç ä¸­ä½¿ç”¨<code>ARC</code>ï¼Œå¿…éœ€æ»¡è¶³ä»¥ä¸‹ä¸‰ä¸ªæ¡ä»¶</p>
<ul>
<li>èƒ½å¤Ÿç¡®å®šå“ªäº›å¯¹è±¡éœ€è¦è¿›è¡Œå†…å­˜ç®¡ç†</li>
<li>èƒ½å¤Ÿè¡¨æ˜å¦‚ä½•å»ç®¡ç†å¯¹è±¡ï¼šå°±æ˜¯è¯´å¿…éœ€èƒ½å¤Ÿå¯¹æŸä¸ªå¯¹è±¡çš„å¼•ç”¨è®¡æ•°å™¨çš„å€¼è¿›è¡ŒåŠ 1å’Œå‡1çš„æ“ä½œï¼ˆ<code>NSObject</code>çš„å­ç±»éƒ½å¯ä»¥ï¼‰</li>
<li>æœ‰å¯è¡Œçš„åŠæ³•ä¼ é€’å¯¹è±¡çš„æ‰€æœ‰æƒï¼ˆåœ¨è°ƒç”¨è€…å’Œæ¥å—è€…ä¹‹é—´ï¼‰</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong>å¦‚æœä½¿ç”¨çš„æŒ‡é’ˆä¸æ”¯æŒ<code>ARC</code>ï¼Œé‚£ä¹ˆä½ ä¸å¾—ä¸äº²è‡ªæ‰‹åŠ¨ç®¡ç†å®ƒä»¬ã€‚</p>
</blockquote>
<h4 id="å¼±å¼•ç”¨"><a href="#å¼±å¼•ç”¨" class="headerlink" title="å¼±å¼•ç”¨"></a>å¼±å¼•ç”¨</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šå¸¸å˜é‡å’Œ<code>Objective-C</code>å¯¹è±¡ä¹‹é—´éƒ½æ˜¯<code>å¼ºå¼•ç”¨</code>ï¼Œå¯ä»¥é€šè¿‡å¯¹å±æ€§ä½¿ç”¨äº†<code>assign</code>ç‰¹æ€§å£°æ˜ä¸º<code>å¼±å¼•ç”¨</code>ã€‚<br><strong>ç”¨é€”ï¼š</strong>å¤„ç†<code>ä¿ç•™å¾ªç¯ï¼ˆretain cycleï¼‰</code>å¸¦æ¥çš„å†…å­˜æ³„æ¼ã€‚<br><strong>é™åˆ¶ï¼š</strong><code>å¼±å¼•ç”¨</code>æŒ‡å‘çš„å¯¹è±¡æœ‰å¯èƒ½è¢«æå‰é‡Šæ”¾ï¼Œç›´æ¥ä½¿ç”¨ä¼šå¯¼è‡´é—®é¢˜ã€‚<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-14%20%E4%B8%8B%E5%8D%8811.14.20.png" alt="Alt text"></p>
</blockquote>
<h4 id="å½’é›¶å¼±å¼•ç”¨"><a href="#å½’é›¶å¼±å¼•ç”¨" class="headerlink" title="å½’é›¶å¼±å¼•ç”¨"></a>å½’é›¶å¼±å¼•ç”¨</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨æŒ‡å‘çš„å¯¹è±¡è¢«é‡Šæ”¾ä¹‹åï¼Œè¿™ç§å¼±å¼•ç”¨å°±ä¼šè¢«è®¾ç½®ä¸º<code>nil</code>ï¼Œç„¶åå°±å¯ä»¥åƒå¹³å¸¸çš„æŒ‡é’ˆä¸€æ ·è¢«å¤„ç†äº†ã€‚<br><strong>è¯­æ³•ï¼š</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>æ–¹å¼</th>
<th>è¯´æ˜</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>_weak</code>å…³é”®å­—</td>
<td>å£°æ˜å˜é‡æ—¶ä½¿ç”¨<code>_weak</code>ä¿®é¥°</td>
<td><code>_weak NSString *myString;</code></td>
</tr>
<tr>
<td><code>@property(weak)</code></td>
<td>å¯¹å±æ€§ä½¿ç”¨<code>weak</code>ç‰¹æ€§</td>
<td><code>@property(weak) NSString *myString;</code></td>
</tr>
<tr>
<td><code>_unsafe_unretained</code>å…³é”®å­—å’Œ<code>unsafe_unretained</code>ç‰¹æ€§</td>
<td>å‘Šè¯‰<code>ARC</code>è¿™ä¸ªç‰¹æ®Šçš„å¼•ç”¨æ˜¯å¼±å¼•ç”¨</td>
<td>å‰ææ˜¯ï¼šä¸æ”¯æŒå¼±å¼•ç”¨ã€ä½¿ç”¨äº†ARC</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>å…¼å®¹æ€§ï¼š</strong><code>iOS 5+</code>å’Œ<code>OS X 10.7+</code><br><strong>å±æ€§å‘½åé™åˆ¶ï¼š</strong>ä½¿ç”¨<code>ARC</code>çš„æ—¶å€™ï¼Œæœ‰ä¸¤ç§å‘½åè§„åˆ™</p>
<ul>
<li>å±æ€§åç§°ä¸èƒ½ä»¥<code>new</code>å¼€å¤´</li>
<li>å±æ€§ä¸èƒ½åªæœ‰ä¸€ä¸ª<code>read-only</code>è€Œæ²¡æœ‰å†…å­˜ç®¡ç†ç‰¹æ€§ï¼ˆé™¤éå¯ç”¨äº†<code>ARC</code>åŠŸèƒ½ï¼‰</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong>å†…å­˜ç®¡ç†çš„<code>å…³é”®å­—</code>å’Œ<code>ç‰¹æ€§</code>æ˜¯ä¸èƒ½ä¸€èµ·ä½¿ç”¨çš„ï¼Œä¸¤è€…ç›¸äº’æ’æ–¥ã€‚<br><strong>æ‰©å±•ï¼š</strong><code>å¼ºå¼•ç”¨</code>ä¹Ÿæœ‰è‡ªå·±çš„<code>_strong</code>å…³é”®å­—å’Œ<code>strong</code>ç‰¹æ€§</p>
</blockquote>
<h4 id="å°†å·²æœ‰çš„é¡¹ç›®è½¬æ¢æˆæ”¯æŒARCçš„"><a href="#å°†å·²æœ‰çš„é¡¹ç›®è½¬æ¢æˆæ”¯æŒARCçš„" class="headerlink" title="å°†å·²æœ‰çš„é¡¹ç›®è½¬æ¢æˆæ”¯æŒARCçš„"></a>å°†å·²æœ‰çš„é¡¹ç›®è½¬æ¢æˆæ”¯æŒ<code>ARC</code>çš„</h4><blockquote>
<p><strong>å‰æï¼š</strong>å¿…é¡»ç¡®ä¿åƒåœ¾å›æ”¶æœºåˆ¶æ²¡æœ‰å¯åŠ¨ï¼ˆ<code>åƒåœ¾å›æ”¶</code>å’Œ<code>ARC</code>æ˜¯æ— æ³•ä¸€åŒä½¿ç”¨çš„ï¼‰ã€‚<br><strong>è¯´æ˜ï¼š</strong><code>ARC</code>é»˜è®¤æ˜¯å¯åŠ¨äº†çš„ï¼Œå¦‚æœä¸€ä¸ªé¡¹ç›®æ²¡æœ‰æ˜¯åœ¨æ²¡æœ‰å¯åŠ¨<code>ARC</code>çš„æƒ…å†µä¸‹å¼€å‘çš„ï¼Œå¯ä»¥è½¬æ¢ï¼ˆé€šè¿‡Edit-&gt;Convert-&gt;To Objective-C ARCâ€¦ï¼‰</p>
</blockquote>
<h4 id="æ¡¥æ¥è½¬æ¢"><a href="#æ¡¥æ¥è½¬æ¢" class="headerlink" title="æ¡¥æ¥è½¬æ¢"></a>æ¡¥æ¥è½¬æ¢</h4><blockquote>
<p><strong>æŒ‡é’ˆåˆ†ä¸¤ç±»ï¼š</strong><code>ROP</code>å’Œ<code>non-ROP</code></p>
</blockquote>
<table>
<thead>
<tr>
<th>åˆ†ç±»</th>
<th>è¯´æ˜</th>
<th>æ˜¯å¦è¢«<code>ARC</code>ï¼ˆå¯ç”¨äº†çš„è¯ï¼‰ç®¡ç†</th>
</tr>
</thead>
<tbody>
<tr>
<td>å¯ä¿ç•™å¯¹è±¡æŒ‡é’ˆ(<code>ROP</code>)</td>
<td>NSobjectçš„æ‰€æœ‰å­ç±»</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>ä¸å¯ä¿ç•™å¯¹è±¡æŒ‡é’ˆ(<code>non-ROP</code>)</td>
<td>Cè¯­è¨€é›†åˆç±»å‹</td>
<td>å¦</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æ‹¥æœ‰è€…æƒé™ï¼š</strong>è¿™ä¸ªæ¦‚å¿µåªæœ‰åœ¨å¯ç”¨äº†<code>ARC</code>çš„æƒ…å†µä¸‹æ‰æœ‰æ„ä¹‰ã€‚æŒ‡çš„æ˜¯<code>ROP</code>å’Œ<code>non-ROP</code>ç›¸äº’è½¬æ¢æ—¶æŒ‡é’ˆæ‰€æœ‰æƒæƒ…å†µï¼Œç”¨æ¥å‘Šè¯‰<code>ARC</code>å¦‚ä½•å·¥ä½œ</p>
<p><strong>ç”¨é€”ï¼š</strong>é€šè¿‡<code>æ¡¥æ¥è½¬æ¢</code>ï¼Œå¯ä»¥åœ¨è½¬æ¢ç±»å‹çš„åŒæ—¶æ§åˆ¶<code>æ‹¥æœ‰è€…æƒé™</code><br><strong>è¯´æ˜ï¼š</strong>æœ‰3ç§ç±»å‹çš„æ¡¥æ¥è½¬æ¢</p>
</blockquote>
<table>
<thead>
<tr>
<th>å…³é”®å­—</th>
<th>è¯­æ³•</th>
<th>å¯¹è±¡çš„ä¿ç•™è®¡æ•°å™¨</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>_bridge</code></td>
<td><code>non-ROPå˜é‡=(__bridge)ROPå˜é‡;</code>æˆ–<code>ROPå˜é‡=(__bridge)non-ROPå˜é‡;</code></td>
<td>ä¸å˜åŒ–</td>
<td>æŒ‡é’ˆçš„æ‰€æœ‰æƒä»ä¼šç•™åœ¨åŸå˜é‡</td>
</tr>
<tr>
<td><code>_bridge_restained</code></td>
<td><code>non-ROPå˜é‡=(__bridge_restained)ROPå˜é‡;</code></td>
<td>åŠ 1</td>
</tr>
<tr>
<td><code>_bridge_transfer</code></td>
<td><code>ROPå˜é‡=(__bridge_transfer)non-ROPå˜é‡;</code></td>
<td>å‡1</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æŠ€å·§ï¼š</strong></p>
<ul>
<li>ç»“æ„ä½“ï¼ˆ<code>struct</code>ï¼‰å’Œé›†åˆä½“ï¼ˆ<code>union</code>ï¼‰ä¸èƒ½ä½¿ç”¨<code>ROP</code>ä½œä¸ºæˆå‘˜ã€‚å¯ä»¥é€šè¿‡ä½¿ç”¨<code>void *</code>å’Œ<code>æ¡¥æ¥è½¬æ¢</code>æ¥è§£å†³è¿™ä¸ªé—®é¢˜</li>
<li>æœ‰æ—¶éœ€è¦é‡Šæ”¾ä¸æ”¯æŒ<code>ARC</code>çš„å¯¹è±¡æˆ–æ‰§è¡Œå…¶ä»–æ¸…ç†æ“ä½œï¼Œæ‰€ä»¥ä»è¦å®ç°<code>dealloc</code>æ–¹æ³•ï¼Œä½†æ˜¯ä¸èƒ½ç›´æ¥è°ƒç”¨<code>[super dealloc]</code></li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong><code>ARC</code>ä¸­çš„ä»£ç å­˜åœ¨å¦‚ä¸‹é™åˆ¶</p>
</blockquote>
<table>
<thead>
<tr>
<th>å†…å­˜ç®¡ç†æ–¹æ³•</th>
<th>ä¸èƒ½è°ƒç”¨</th>
<th>ä¸èƒ½é‡å†™</th>
</tr>
</thead>
<tbody>
<tr>
<td>retain</td>
<td>- [x]</td>
<td>- [x]</td>
</tr>
<tr>
<td>retainCount</td>
<td>- [x]</td>
<td>- [x]</td>
</tr>
<tr>
<td>release</td>
<td>- [x]</td>
<td>- [x]</td>
</tr>
<tr>
<td>autorelease</td>
<td>- [x]</td>
<td>- [x]</td>
</tr>
<tr>
<td>dealloc</td>
<td>- [x]</td>
</tr>
</tbody>
</table>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ROP</span></span><br><span class="line"><span class="built_in">NSString</span> *theString = <span class="string">@"Learn Objective-C"</span>;</span><br><span class="line"><span class="comment">// ç»“æ„ä½“</span></span><br><span class="line"><span class="keyword">struct</span> &#123;</span><br><span class="line">    int32_t foo;</span><br><span class="line">    <span class="keyword">char</span> *bar;</span><br><span class="line">    <span class="built_in">NSString</span> *baz;</span><br><span class="line">&#125; MyStruct;</span><br><span class="line"><span class="comment">// è½¬æˆCè¯­è¨€æä¾›çš„ç±»å‹ï¼ˆvoid *ï¼‰ï¼Œå¹¶æŒ‡å®šæ‰€æœ‰æƒ</span></span><br><span class="line">MyStruct.baz = (_bridge_restained <span class="keyword">void</span> *)theString;</span><br><span class="line"><span class="comment">// non-ROP è½¬ ROP</span></span><br><span class="line"><span class="built_in">NSString</span> *myString = (_bridge_transfer <span class="built_in">NSString</span> *)MyStruct.baz;</span><br></pre></td></tr></table></figure>
<h2 id="9-3-å¼‚å¸¸"><a href="#9-3-å¼‚å¸¸" class="headerlink" title="9.3    å¼‚å¸¸"></a>9.3    å¼‚å¸¸</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¼‚å¸¸å°±æ˜¯å¼‚å¸¸äº‹ä»¶ï¼Œæ¯”å¦‚æ•°ç»„æº¢å‡ºï¼Œå¦‚æœ<code>æ•æ‰</code>å¹¶<code>å¤„ç†</code>ï¼Œå°±ä¼šç—°ä¹±ç¨‹åºæµç¨‹ã€‚</p>
<ul>
<li>å¼‚å¸¸å¯¹è±¡ï¼š<code>Cocoa</code>ä¸­ä½¿ç”¨<code>NSException</code>ç±»æ¥è¡¨ç¤ºå¼‚å¸¸ï¼Œå¯ä»¥åˆ›å»º<code>NSException</code>å­ç±»ä½œä¸ºè‡ªå·±çš„å¼‚å¸¸ï¼ˆå¦‚æœé€šè¿‡å…¶å®ƒç±»å‹çš„å¯¹è±¡æ¥<code>æŠ›å‡ºå¼‚å¸¸</code>ï¼Œ<code>Cocoa</code>ä¸ä¼šå¤„ç†å®ƒä»¬ï¼‰</li>
<li>æŠ›å‡ºå¼‚å¸¸ï¼šåœ¨è¿è¡Œæ—¶ç³»ç»Ÿä¸­åˆ›å»ºå¹¶å¤„ç†å¼‚å¸¸çš„è¡Œä¸º</li>
<li>æ•æ‰å¼‚å¸¸ï¼šå¤„ç†è¢«<code>æŠ›å‡º</code>çš„å¼‚å¸¸çš„è¡Œä¸º</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>å¦‚æœè¦é¡¹ç›®æ”¯æŒå¼‚å¸¸ç‰¹æ€§ï¼Œè¦ç¡®ä¿<code>-fobj-exceptions</code>ï¼ˆEnable Objecytive-C Exceptionï¼‰é¡¹è¢«æ‰“å¼€</li>
<li><code>Cocoa</code>æ¡†æ¶å¤„ç†é”™è¯¯çš„æ–¹å¼é€šå¸¸æ˜¯é€€å‡ºç¨‹åº</li>
<li>å¦‚æœä¸€ä¸ªå¼‚å¸¸è¢«æŠ›å‡ºä½†æ²¡æœ‰è¢«æ•æ‰ï¼Œç¨‹åºä¼šåœ¨å¼‚å¸¸æ–­ç‚¹å¤„åœæ­¢è¿è¡Œå¹¶é€šçŸ¥æœ‰è¿™ä¸ªå¼‚å¸¸</li>
</ul>
</blockquote>
<h3 id="9-3-1-ä¸å¼‚å¸¸æœ‰å…³çš„å…³é”®å­—"><a href="#9-3-1-ä¸å¼‚å¸¸æœ‰å…³çš„å…³é”®å­—" class="headerlink" title="9.3.1    ä¸å¼‚å¸¸æœ‰å…³çš„å…³é”®å­—"></a>9.3.1    ä¸å¼‚å¸¸æœ‰å…³çš„å…³é”®å­—</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>éƒ½ä»¥<code>@</code>å¼€å¤´</p>
</blockquote>
<table>
<thead>
<tr>
<th>å…³é”®å­—</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>@try</code></td>
<td>å®šä¹‰å¯èƒ½åŒ…å«å¼‚å¸¸çš„ä»£ç å—</td>
</tr>
<tr>
<td><code>@catch</code></td>
<td>å®šä¹‰å¤„ç†å·²æŠ›å‡ºå¼‚å¸¸çš„ä»£ç å—ï¼Œæ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œé€šå¸¸æ˜¯<code>NSException</code>æˆ–å…¶å­ç±»</td>
</tr>
<tr>
<td><code>@finally</code></td>
<td>å®šä¹‰æ— è®ºæ˜¯å¤Ÿæœ‰æŠ›å‡ºå¼‚å¸¸éƒ½ä¼šæ‰§è¡Œçš„ä»£ç å—</td>
</tr>
<tr>
<td><code>@throw</code></td>
<td>æŠ›å‡ºå¼‚å¸¸</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>@try-catch-finally</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@try</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@catch</span> (<span class="built_in">NSException</span> *exception) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@finally</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="9-3-2-æ•æ‰ä¸åŒç±»å‹çš„å¼‚å¸¸"><a href="#9-3-2-æ•æ‰ä¸åŒç±»å‹çš„å¼‚å¸¸" class="headerlink" title="9.3.2    æ•æ‰ä¸åŒç±»å‹çš„å¼‚å¸¸"></a>9.3.2    æ•æ‰ä¸åŒç±»å‹çš„å¼‚å¸¸</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯ä»¥æ ¹æ®éœ€è¦å¤„ç†çš„å¼‚å¸¸ç±»å‹è¿‡ä½¿ç”¨å¤šä¸ª<code>@catch</code>ä»£ç å—ã€‚å¤„ç†ä»£ç åº”è¯¥æŒ‰ç…§ä»å…·ä½“åˆ°æŠ½è±¡çš„é¡ºåºæ’åºï¼Œå¹¶åœ¨æœ€åä½¿ç”¨ä¸€ä¸ªé€šç”¨çš„å¤„ç†ä»£ç </p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@try</span> &#123;</span><br><span class="line">	<span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@catch</span> (myCustomException) &#123;</span><br><span class="line">	<span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@catch</span> (<span class="built_in">NSException</span> *exception) &#123;</span><br><span class="line">	<span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@catch</span> (<span class="keyword">id</span> value) &#123;</span><br><span class="line">	<span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@finally</span> &#123;</span><br><span class="line">	<span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong>Cè¯­è¨€ç¨‹åºå‘˜ç»å¸¸ä¼šåœ¨å¼‚å¸¸å¤„ç†ä»£ç ä¸­ä½¿ç”¨<code>setjmp</code>å’Œ<code>longjmp</code>è¯­å¥ã€‚åœ¨<code>@try</code>ä¸­åˆ™ä¸å¯ä»¥ï¼Œä½†å¯ä»¥ä½¿ç”¨<code>goto</code>å’Œ<code>return</code>è¯­å¥é€€å‡ºå¼‚å¸¸å¤„ç†ä»£ç ã€‚</p>
</blockquote>
<h3 id="9-3-3-æŠ›å‡ºå¼‚å¸¸"><a href="#9-3-3-æŠ›å‡ºå¼‚å¸¸" class="headerlink" title="9.3.3    æŠ›å‡ºå¼‚å¸¸"></a>9.3.3    æŠ›å‡ºå¼‚å¸¸</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¼‚å¸¸çš„æŠ›å‡ºåˆ†ä¸¤ç§ï¼Œ<code>è‡ªåŠ¨</code>å’Œ<code>æ‰‹åŠ¨</code>ï¼Œåè€…æœ‰<code>2</code>ä¸­æ–¹å¼</p>
</blockquote>
<table>
<thead>
<tr>
<th>æ‰‹åŠ¨æŠ›å‡ºå¼‚å¸¸</th>
<th>å¼‚å¸¸å¯¹è±¡ç±»å‹</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>@throw å¼‚å¸¸å¯¹è±¡</code></td>
<td>id</td>
</tr>
<tr>
<td>å‘æŸä¸ªå¼‚å¸¸å¯¹è±¡å‘é€<code>raise</code>æ¶ˆæ¯</td>
<td><code>NSException</code>æˆ–å…¶å­ç±»</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong>åœ¨<code>@try</code>å’Œ<code>@catch</code>ä¸­éƒ½å¯ä»¥æŠ›å‡ºå¼‚å¸¸ï¼Œåè€…ä¼šå¼•å‘ä¸‹ä¸€ä¸ªå¼‚å¸¸å¤„ç†è°ƒç”¨ï¼ˆ<code>@finally</code>ä¼šåœ¨<code>@throw</code>ä¹‹å‰è¢«è°ƒç”¨ï¼‰<br><strong>æ‰©å±•ï¼š</strong><code>Objective-C</code>çš„å¼‚å¸¸æœºåˆ¶ä¸<code>C++</code>çš„å¼‚å¸¸æœºåˆ¶å…¼å®¹ã€‚<br><strong>æ€§èƒ½é—®é¢˜ï¼š</strong><code>@try</code>å»ºç«‹å¼‚å¸¸ä¸ä¼šäº§ç”Ÿæ¶ˆè€—ï¼Œä½†æ•æ‰å¼‚å¸¸ä¼šæ¶ˆè€—å¤§é‡èµ„æºå¹¶å½±å“ç¨‹åºè¿è¡Œçš„é€Ÿåº¦ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSExceptionn</span> *theException = [<span class="built_in">NSException</span> exceptionWithName: _];</span><br><span class="line"><span class="keyword">@throw</span> theException;<span class="comment">// æˆ–è€…[theException raise]</span></span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@try</span> &#123;</span><br><span class="line">	<span class="built_in">NSException</span> *e = _;</span><br><span class="line">	<span class="keyword">@throw</span> e;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@catch</span> (<span class="built_in">NSException</span> *e) &#123;</span><br><span class="line">	<span class="comment">// å¯ä»¥ä¸æŒ‡å®šå¼‚å¸¸å¯¹è±¡ï¼ˆé»˜è®¤é‡å¤æŠ›å‡ºï¼‰</span></span><br><span class="line">	<span class="keyword">@throw</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="9-3-4-å¼‚å¸¸ä¹Ÿéœ€è¦å†…å­˜ç®¡ç†"><a href="#9-3-4-å¼‚å¸¸ä¹Ÿéœ€è¦å†…å­˜ç®¡ç†" class="headerlink" title="9.3.4    å¼‚å¸¸ä¹Ÿéœ€è¦å†…å­˜ç®¡ç†"></a>9.3.4    å¼‚å¸¸ä¹Ÿéœ€è¦å†…å­˜ç®¡ç†</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¦‚æœä»£ç å‡ºç°äº†å¼‚å¸¸ï¼Œç¨‹åºä¼šè¢«ä¸­æ–­ï¼ŒåŸæœ¬æ²¡æœ‰å†…å­˜é—®é¢˜çš„ä»£ç æˆ–è®¸ä¼šå› æ­¤å‡ºç°å†…å­˜æ³„æ¼ã€‚</p>
</blockquote>
<p><em>é—®é¢˜æè¿°</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)mySimpleMethod &#123;</span><br><span class="line">	<span class="comment">// åˆ›å»ºä¸€ä¸ªå­—å…¸</span></span><br><span class="line">	<span class="built_in">NSDictionary</span> *dictionary = [[<span class="built_in">NSDictionary</span> alloc] initWith_.];</span><br><span class="line">	<span class="comment">// å¯¹å­—å…¸è¿›è¡Œæ“ä½œï¼Œå‡è®¾æ“ä½œä¸­å‡ºç°äº†å¼‚å¸¸ï¼Œåˆ™ç¨‹åºä¼šä»æ–¹æ³•ä¸­è·³å‡ºå¯»æ‰¾å¼‚å¸¸å¤„ç†ä»£ç </span></span><br><span class="line">	[<span class="keyword">self</span> processDictionary: dictionary];</span><br><span class="line">	<span class="comment">// é‡Šæ”¾å­—å…¸ï¼šç”±äºæ–¹æ³•å·²ç»é€€å‡ºæ¥äº†ï¼Œæ‰€ä»¥å­—å…¸æ²¡æœ‰é‡Šæ”¾</span></span><br><span class="line">	[dictionary release];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>è§£å†³æ–¹å¼ï¼š<code>@try-@finally</code></em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)mySimpleMethod &#123;</span><br><span class="line">	<span class="comment">// åˆ›å»ºä¸€ä¸ªå­—å…¸</span></span><br><span class="line">	<span class="built_in">NSDictionary</span> *dictionary = [[<span class="built_in">NSDictionary</span> alloc] initWith_.];</span><br><span class="line">	<span class="keyword">@try</span> &#123;</span><br><span class="line">		<span class="comment">// å¯¹å­—å…¸è¿›è¡Œæ“ä½œï¼Œå‡è®¾æ“ä½œä¸­å‡ºç°äº†å¼‚å¸¸ï¼Œåˆ™ç¨‹åºä¼šä»æ–¹æ³•ä¸­è·³å‡ºå¯»æ‰¾å¼‚å¸¸å¤„ç†ä»£ç </span></span><br><span class="line">		[<span class="keyword">self</span> processDictionary: dictionary];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">@finally</span> &#123;</span><br><span class="line">		<span class="comment">// é‡Šæ”¾å­—å…¸ï¼šç”±äºæ–¹æ³•å·²ç»é€€å‡ºæ¥äº†ï¼Œæ‰€ä»¥å­—å…¸æ²¡æœ‰é‡Šæ”¾</span></span><br><span class="line">		[dictionary release];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="9-3-5-å¼‚å¸¸å’Œè‡ªåŠ¨é‡Šæ”¾æ± "><a href="#9-3-5-å¼‚å¸¸å’Œè‡ªåŠ¨é‡Šæ”¾æ± " class="headerlink" title="9.3.5    å¼‚å¸¸å’Œè‡ªåŠ¨é‡Šæ”¾æ± "></a>9.3.5    å¼‚å¸¸å’Œè‡ªåŠ¨é‡Šæ”¾æ± </h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šå¸¸ï¼Œå¼€å‘äººå‘˜å¹¶ä¸çŸ¥é“å¼‚å¸¸å¯¹è±¡ä½•æ—¶é‡Šæ”¾ï¼Œæ‰€ä»¥å¼‚å¸¸å‡ ä¹æ€»æ˜¯ä½œä¸ºè‡ªåŠ¨é‡Šæ”¾å¯¹è±¡åˆ›å»ºã€‚<br><strong>æ³¨æ„ï¼š</strong><code>@finally</code>ä»£ç å—ä¼šåœ¨<code>@catch</code>ä¸­çš„<code>@throw</code>è¯­å¥æ‰§è¡Œä¹‹å‰è¢«è°ƒç”¨ï¼Œå› æ­¤å¦‚æœåœ¨<code>@finally</code>å°†è‡ªåŠ¨é‡Šæ”¾æ± é”€æ¯ï¼Œé‚£ä¹ˆå°±ä¼šå¯¼è‡´<code>åƒµå°¸å¼‚å¸¸</code>ã€‚</p>
</blockquote>
<p><em>åƒµå°¸å¼‚å¸¸ç¤ºä¾‹</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)myMechod &#123;</span><br><span class="line">	<span class="comment">// è‡ªåŠ¨é‡Šæ”¾æ± </span></span><br><span class="line">	<span class="built_in">NSAutoreleasePool</span> *pool = [[<span class="built_in">NSAutoreleasePool</span> alloc] init];</span><br><span class="line">	<span class="comment">// å­—å…¸</span></span><br><span class="line">	<span class="built_in">NSDictionary</span> *myDictionary = [[<span class="built_in">NSDictionary</span> alloc] initWithObjectsAndKey: <span class="string">@"asdfads"</span>, <span class="literal">nil</span>];</span><br><span class="line">	<span class="keyword">@try</span> &#123;</span><br><span class="line">		<span class="comment">// æ“ä½œå­—å…¸</span></span><br><span class="line">		[<span class="keyword">self</span> processDictionaty: myDictionary];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">@catch</span> (<span class="built_in">NSException</span> *e) &#123;</span><br><span class="line">		<span class="comment">// poolåœ¨ä¸‹é¢çš„@throwè¢«è°ƒç”¨ä¹‹å‰å°±è¢«é‡Šæ”¾äº†ï¼Œé‡Šæ”¾æ± ä¸­çš„å¼‚å¸¸å¯¹è±¡éšä¹‹è¢«é”€æ¯ï¼Œå¯¼è‡´åƒµå°¸å¼‚å¸¸</span></span><br><span class="line">		<span class="keyword">@throw</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">@finally</span> &#123;</span><br><span class="line">		<span class="comment">// é”€æ¯è‡ªåŠ¨é‡Šæ”¾æ± </span></span><br><span class="line">		[pool release];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>é¿å…åƒµå°¸å¼‚å¸¸ï¼šåœ¨<code>è‡ªåŠ¨é‡Šæ”¾æ± </code>å¤–<code>ä¿ç•™</code>å¼‚å¸¸å¯¹è±¡</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)myMechod &#123;</span><br><span class="line">	<span class="keyword">id</span> savedException = <span class="literal">nil</span>;</span><br><span class="line">	<span class="comment">// è‡ªåŠ¨é‡Šæ”¾æ± </span></span><br><span class="line">	<span class="built_in">NSAutoreleasePool</span> *pool = [[<span class="built_in">NSAutoreleasePool</span> alloc] init];</span><br><span class="line">	<span class="comment">// å­—å…¸</span></span><br><span class="line">	<span class="built_in">NSDictionary</span> *myDictionary = [[<span class="built_in">NSDictionary</span> alloc] initWithObjectsAndKey: <span class="string">@"asdfads"</span>, <span class="literal">nil</span>];</span><br><span class="line">	<span class="keyword">@try</span> &#123;</span><br><span class="line">		<span class="comment">// æ“ä½œå­—å…¸</span></span><br><span class="line">		[<span class="keyword">self</span> processDictionaty: myDictionary];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">@catch</span> (<span class="built_in">NSException</span> *e) &#123;</span><br><span class="line">		<span class="comment">// é€šè¿‡retainæ–¹æ³•ï¼Œå°†å¼‚å¸¸å¯¹è±¡æ”¾å…¥å½“å‰æ± è€Œä¸æ˜¯poolä¸­ï¼Œå› ä¸ºsavedExceptionå®šä¹‰çš„ä½ç½®åœ¨poolå®šä¹‰ä¹‹å‰ã€‚</span></span><br><span class="line">		savedException = [e retain];</span><br><span class="line">		<span class="comment">// poolåœ¨ä¸‹é¢çš„@throwè¢«è°ƒç”¨ä¹‹å‰å°±è¢«é‡Šæ”¾äº†</span></span><br><span class="line">		<span class="keyword">@throw</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">@finally</span> &#123;</span><br><span class="line">		<span class="comment">// é”€æ¯è‡ªåŠ¨é‡Šæ”¾æ± </span></span><br><span class="line">		[pool release];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="9-4-å°ç»“"><a href="#9-4-å°ç»“" class="headerlink" title="9.4    å°ç»“"></a>9.4    å°ç»“</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_08  Foundation Kitä»‹ç»/" itemprop="url">
                  8 Foundation Kitä»‹ç»
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T10:38:55+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_08  Foundation Kitä»‹ç»/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_08  Foundation Kitä»‹ç»/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>Cocoa</code>çš„å‡ ä¸ªé‡è¦æ¡†æ¶</p>
</blockquote>
<table>
<thead>
<tr>
<th>æ¡†æ¶</th>
<th>è¯´æ˜</th>
<th>å…¼å®¹</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>Foundation Kit</td>
<td>ä¸¤ç±»UIæ¡†æ¶çš„åŸºç¡€ï¼ŒåŒ…å«å¾ˆå¤šæœ‰ç”¨çš„ã€é¢å‘æ•°æ®çš„ç®€å•ç±»å’Œæ•°æ®ç±»å‹</td>
<td>ioså’ŒOS X</td>
<td>åŸºäºCoreFoundationæ¡†æ¶</td>
</tr>
<tr>
<td>Application Kit(Appkit)</td>
<td>åŒ…å«æ‰€æœ‰ç”¨æˆ·ç•Œé¢å¯¹è±¡å’Œé«˜çº§ç±»</td>
<td>OS X</td>
<td><a href="">16ç« </a></td>
</tr>
<tr>
<td>User Interface Kit(UIKit)</td>
<td>ç”¨æˆ·ç•Œé¢</td>
<td>ios</td>
<td><a href="">15ç« </a></td>
</tr>
</tbody>
</table>
<h2 id="8-1-ç¨³å›ºçš„-Foundation"><a href="#8-1-ç¨³å›ºçš„-Foundation" class="headerlink" title="8.1    ç¨³å›ºçš„ Foundation"></a>8.1    ç¨³å›ºçš„ Foundation</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸¤ç±»UIæ¡†æ¶çš„åŸºç¡€ï¼ŒåŒ…å«å¾ˆå¤šæœ‰ç”¨çš„ã€é¢å‘æ•°æ®çš„ç®€å•ç±»å’Œæ•°æ®ç±»å‹ã€‚åŒ…å«<code>NSString</code>ã€<code>NSArray</code>ã€<code>NSEnumerator</code>ã€å’Œ<code>NSNumber</code>ç­‰100å¤šä¸ªç±»ã€‚<br><strong>æ‰©å±•ï¼š</strong><code>Foundation</code>æ¡†æ¶ä»¥<code>CoreFoundation</code>æ¡†æ¶ä¸ºï¼ˆçº¯Cç¼–å†™ï¼‰åŸºç¡€ï¼Œ<code>CoreFoundation</code>ä¸­çš„å‡½æ•°å’Œå˜é‡çš„åç§°ä»¥<code>CF</code>å¼€å¤´ã€‚</p>
</blockquote>
<h2 id="8-2-ä½¿ç”¨é¡¹ç›®æ ·æœ¬ä»£ç "><a href="#8-2-ä½¿ç”¨é¡¹ç›®æ ·æœ¬ä»£ç " class="headerlink" title="8.2    ä½¿ç”¨é¡¹ç›®æ ·æœ¬ä»£ç "></a>8.2    ä½¿ç”¨é¡¹ç›®æ ·æœ¬ä»£ç </h2><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    <span class="keyword">@autoreleasepool</span> &#123;</span><br><span class="line">        <span class="comment">// insert code here...</span></span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"Hello, World!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="8-3-ä¸€äº›æœ‰ç”¨çš„æ•°æ®ç±»å‹"><a href="#8-3-ä¸€äº›æœ‰ç”¨çš„æ•°æ®ç±»å‹" class="headerlink" title="8.3    ä¸€äº›æœ‰ç”¨çš„æ•°æ®ç±»å‹"></a>8.3    ä¸€äº›æœ‰ç”¨çš„æ•°æ®ç±»å‹</h2><h3 id="8-3-1-èŒƒå›´"><a href="#8-3-1-èŒƒå›´" class="headerlink" title="8.3.1    èŒƒå›´"></a>8.3.1    èŒƒå›´</h3><blockquote>
<p><strong>ç±»å‹ï¼š</strong><code>NSRange</code><br><strong>åŸå‹æè¿°ï¼š</strong><code>Foundation.h</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="keyword">typedef</span> <span class="keyword">struct</span> _<span class="built_in">NSRange</span> &#123;</span><br><span class="line">&gt;    <span class="keyword">unsigned</span> <span class="keyword">int</span> location;</span><br><span class="line">&gt;    <span class="keyword">unsigned</span> <span class="keyword">int</span> length;</span><br><span class="line">&gt;&#125; <span class="built_in">NSRange</span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç”¨æ¥è¡¨ç¤ºç›¸å…³äº‹ç‰©çš„èŒƒå›´ï¼Œé€šå¸¸æ˜¯å­—ç¬¦ä¸²é‡Œå­—ç¬¦èŒƒå›´æˆ–è€…æ•°ç»„é‡Œçš„å…ƒç´ èŒƒå›´ã€‚æœ‰<code>3</code>ä¸­åˆ›å»ºæ–¹å¼</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ–¹å¼ä¸€ï¼šç›´æ¥ç»™å­—æ®µèµ‹å€¼</span></span><br><span class="line"><span class="built_in">NSRange</span> range1;</span><br><span class="line">range.location = <span class="number">17</span>;</span><br><span class="line">range.length = <span class="number">4</span>;</span><br><span class="line"><span class="comment">// æ–¹å¼äºŒï¼šåˆ©ç”¨cè¯­è¨€çš„èšåˆç»“æ„èµ‹å€¼æœºåˆ¶</span></span><br><span class="line"><span class="built_in">NSRange</span> range2 = &#123;<span class="number">17</span>, <span class="number">4</span>&#125;;</span><br><span class="line"><span class="comment">// æ–¹å¼ä¸‰ï¼šCocoaæä¾›çš„ä¸€ä¸ªå¿«æ·å‡½æ•°NSMakeRangeï¼Œä¼˜ç‚¹æ˜¯èƒ½å¤Ÿåœ¨ä»»ä½•èƒ½å¤Ÿä½¿ç”¨å‡½æ•°çš„åœ°æ–¹ä½¿ç”¨</span></span><br><span class="line"><span class="built_in">NSRange</span> range3 = <span class="built_in">NSMakeRange</span>(<span class="number">17</span>, <span class="number">4</span>);</span><br></pre></td></tr></table></figure>
<h3 id="8-3-2-å‡ ä½•æ•°æ®ç±»å‹"><a href="#8-3-2-å‡ ä½•æ•°æ®ç±»å‹" class="headerlink" title="8.3.2    å‡ ä½•æ•°æ®ç±»å‹"></a>8.3.2    å‡ ä½•æ•°æ®ç±»å‹</h3><blockquote>
<p><strong>æºï¼š</strong><code>Cocoa</code>ï¼ˆå¼•ç”¨<code>C</code>è¯­è¨€ç¼–å†™çš„<code>Core Graphics</code>æ¡†æ¶ï¼‰<br><strong>è¯´æ˜ï¼š</strong>åŒ…æ‹¬ä¸€äº›ç”¨æ¥å¤„ç†å›¾å½¢çš„<code>æ•°æ®ç±»å‹</code>å’Œåˆ›å»ºè¿™äº›æ•°æ®ç±»å‹çš„<code>å¿«æ·æ–¹æ³•</code>ã€‚<br><strong>åŸå‹ï¼š</strong></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="built_in">CGPoint</span> &#123;</span><br><span class="line">	<span class="keyword">float</span> x;</span><br><span class="line">	<span class="keyword">float</span> y;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">struct</span> <span class="built_in">CGSize</span> &#123;</span><br><span class="line">	<span class="keyword">float</span> width;</span><br><span class="line">	<span class="keyword">float</span> height;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">struct</span> <span class="built_in">CGRect</span> &#123;</span><br><span class="line">	<span class="built_in">CGPoint</span> origin;</span><br><span class="line">	<span class="built_in">CGSize</span> size;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>æ‰©å±•ï¼š</strong>æ‰€æœ‰çš„<code>O-C</code>å¯¹è±¡éƒ½æ˜¯åŠ¨æ€åˆ†é…çš„ï¼Œè€ŒåŠ¨æ€åˆ†é…æ˜¯ä¸€ä¸ªä»£ä»·è¾ƒå¤§çš„æ“ä½œï¼Œä¼šæ¶ˆè€—å¤§é‡çš„æ—¶é—´ã€‚æ‰€ä»¥ä¸ºäº†æ€§èƒ½ï¼Œ<code>GUI</code>ç¨‹åºæ›´å€¾å‘ä½¿ç”¨ç»“æ„ä½“ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    <span class="comment">// çŸ©å½¢åŸç‚¹</span></span><br><span class="line">    <span class="built_in">CGPoint</span> point = <span class="built_in">CGPointMake</span>(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="comment">// çŸ©å½¢å¤§å°</span></span><br><span class="line">    <span class="built_in">CGSize</span> size = <span class="built_in">CGSizeMake</span>(<span class="number">8</span>, <span class="number">10</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// çŸ©å½¢</span></span><br><span class="line">    <span class="built_in">CGRect</span> rect = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">8</span>, <span class="number">10</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="8-4-å­—ç¬¦ä¸²"><a href="#8-4-å­—ç¬¦ä¸²" class="headerlink" title="8.4    å­—ç¬¦ä¸²"></a>8.4    å­—ç¬¦ä¸²</h2><h3 id="8-4-1-åˆ›å»ºå­—ç¬¦ä¸²"><a href="#8-4-1-åˆ›å»ºå­—ç¬¦ä¸²" class="headerlink" title="8.4.1    åˆ›å»ºå­—ç¬¦ä¸²"></a>8.4.1    åˆ›å»ºå­—ç¬¦ä¸²</h3><h4 id="stringWithFormatæ–¹æ³•"><a href="#stringWithFormatæ–¹æ³•" class="headerlink" title="stringWithFormatæ–¹æ³•"></a>stringWithFormatæ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šè¿‡æ ¼å¼å­—ç¬¦ä¸²å’Œå‚æ•°æ¥åˆ›å»º<code>NSString</code><br><strong>åŸå‹ï¼š</strong><code>NSString</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSString *&#125; format æ ¼å¼ä¸²</span><br><span class="line">* @param &#123;...&#125; å¯¹åº”å‚æ•°</span><br><span class="line">* @reuturn &#123;id&#125; NSStringå¯¹è±¡</span><br><span class="line">*/</span></span><br><span class="line">+ (<span class="keyword">id</span>) stringWithFormat: (<span class="built_in">NSString</span> *) format, ...;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *height;</span><br><span class="line">height = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"Your height is %d feet, %d inches"</span>, <span class="number">5</span>, <span class="number">11</span>];</span><br></pre></td></tr></table></figure>
<h3 id="8-4-2-ç±»æ–¹æ³•"><a href="#8-4-2-ç±»æ–¹æ³•" class="headerlink" title="8.4.2    ç±»æ–¹æ³•"></a>8.4.2    ç±»æ–¹æ³•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¦‚æœåœ¨å£°æ˜æ–¹æ³•æ—¶æ·»åŠ äº†<code>+</code>ï¼Œå°±æ˜¯æŠŠè¿™ä¸ªæ–¹æ³•å®šä¹‰ä¸º<code>ç±»æ–¹æ³•(class method)</code>ã€‚</p>
<ul>
<li>é€šå¸¸ç”¨äºå·¥å‚æ–¹æ³•</li>
<li>ä¹Ÿå¯ä»¥ç”¨æ¥è®¿é—®å…¨å±€æ•°æ®</li>
</ul>
<p><strong>åŸç†ï¼š</strong><code>Objective-C</code>è¿è¡Œæ—¶ç”Ÿæˆä¸€ä¸ªç±»çš„æ—¶å€™ï¼Œä¼šåˆ›å»ºä¸€ä¸ªä»£è¡¨è¯¥ç±»çš„<code>ç±»å¯¹è±¡ï¼ˆclass objectï¼‰</code>ï¼ŒåŒ…å«äº†æŒ‡å‘è¶…ç±»ã€ç±»åå’Œç±»æ–¹æ³•åˆ—è¡¨çš„æŒ‡é’ˆï¼Œè¿˜åŒ…å«ä¸€ä¸ª<code>long</code>ç±»å‹çš„æ•°æ®ï¼Œä¸ºæ–°åˆ›å»ºçš„å®ä¾‹å¯¹è±¡æŒ‡å®šå¤§å°ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚</p>
<p><strong>æ‰©å±•ï¼š</strong>ç±»æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•</p>
</blockquote>
<table>
<thead>
<tr>
<th>æ ‡è¯†</th>
<th>æ–¹æ³•</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>ç±»æ–¹æ³•</td>
<td>å±äºç±»çš„æ–¹æ³•</td>
</tr>
<tr>
<td>-</td>
<td>å®ä¾‹æ–¹æ³•</td>
<td>å°†ä¼šåœ¨æŒ‡å®šçš„å¯¹è±¡å®ä¾‹ä¸­èµ·ä½œç”¨</td>
</tr>
</tbody>
</table>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// UIColorçš„ç±»æ–¹æ³•ï¼šredColorï¼ˆè®¿é—®å…¨å±€æ•°æ®ï¼‰</span></span><br><span class="line"><span class="built_in">NSColor</span> *haveTheBlues = [<span class="built_in">NSColor</span> blueColor];</span><br><span class="line"><span class="built_in">UIColor</span> *blueMan = [<span class="built_in">UIColor</span> blueColor];</span><br></pre></td></tr></table></figure>
<h3 id="8-4-4-å…³äºå¤§å°"><a href="#8-4-4-å…³äºå¤§å°" class="headerlink" title="8.4.4    å…³äºå¤§å°"></a>8.4.4    å…³äºå¤§å°</h3><h4 id="lengthå®ä¾‹æ–¹æ³•"><a href="#lengthå®ä¾‹æ–¹æ³•" class="headerlink" title="lengthå®ä¾‹æ–¹æ³•"></a>lengthå®ä¾‹æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è¿”å›å­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„ä¸ªæ•°ï¼Œèƒ½å¤Ÿå‡†ç¡®æ— è¯¯åœ°å¤„ç†å„ç§è¯­è¨€çš„å­—ç¬¦ä¸²ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSString</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">/**</span><br><span class="line">&gt;* @return &#123;NSUInter&#125; å­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„æ•°ç›®</span><br><span class="line">&gt;*/</span></span><br><span class="line">&gt;- (<span class="built_in">NSUInter</span>) length;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>æ‰©å±•ï¼š</strong>åœ¨Cè¯­è¨€ä¸­å¤„ç†è¿™äº›å›½é™…å­—ç¬¦ä¸²å¾ˆéº»çƒ¦ï¼Œå› ä¸ºä¸€ä¸ªå­—ç¬¦å ç”¨çš„ç©ºé—´å¯èƒ½å¤šäºä¸€ä¸ªå­—èŠ‚ï¼Œä½¿ç”¨<code>strlen</code>åªèƒ½è®¡ç®—å­—èŠ‚æ•°çš„å‡½æ•°ä¼šè¿”å›é”™è¯¯çš„æ•°å€¼ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> height = <span class="string">@"Hello world!"</span>;</span><br><span class="line"><span class="keyword">if</span> ([height length] &gt; <span class="number">35</span>) &#123;</span><br><span class="line">	<span class="built_in">NSLog</span>(<span class="string">@"wow, you're really tail!"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="8-4-4-å­—ç¬¦ä¸²æ¯”è¾ƒ"><a href="#8-4-4-å­—ç¬¦ä¸²æ¯”è¾ƒ" class="headerlink" title="8.4.4    å­—ç¬¦ä¸²æ¯”è¾ƒ"></a>8.4.4    å­—ç¬¦ä¸²æ¯”è¾ƒ</h3><h4 id="isEqualToStringå®ä¾‹æ–¹æ³•"><a href="#isEqualToStringå®ä¾‹æ–¹æ³•" class="headerlink" title="isEqualToStringå®ä¾‹æ–¹æ³•"></a>isEqualToStringå®ä¾‹æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ¯”è¾ƒæ¥æ”¶æ–¹å’Œä½œä¸ºå‚æ•°ä¼ é€’è¿‡æ¥çš„å­—ç¬¦ä¸²ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSString</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSString *&#125; aString å­—ç¬¦ä¸²</span><br><span class="line">* @return &#123;BOOL&#125; YES å†…å®¹ç›¸åŒï¼ŒNO å†…å®¹ä¸åŒ</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="built_in">BOOL</span>) isEqualToString: (<span class="built_in">NSString</span> *) aString</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>æ‰©å±•ï¼š</strong><code>==</code>è¿ç®—ç¬¦ç”¨æ¥æ£€æŸ¥ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºåŒä¸€äº‹ç‰©ï¼›<code>isEqualToString</code>ç”¨æ¥æ£€æŸ¥ä¸¤ä¸ªå­—ç¬¦ä¸²çš„å†…å®¹æ˜¯å¦ç›¸ç­‰ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å­—ç¬¦ä¸²æ¯”è¾ƒ</span></span><br><span class="line"><span class="built_in">NSString</span> *thing1 = <span class="string">@"hello 5"</span>;</span><br><span class="line"><span class="built_in">NSString</span> *thing2 = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"hello %d"</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ([thing1 isEqualToString:thing2]) &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"They are the same."</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="compareå®ä¾‹æ–¹æ³•"><a href="#compareå®ä¾‹æ–¹æ³•" class="headerlink" title="compareå®ä¾‹æ–¹æ³•"></a>compareå®ä¾‹æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†æ¥æ”¶å¯¹è±¡å’Œä¼ é€’è¿‡æ¥çš„å­—ç¬¦ä¸²é€ä¸ªè¿›è¡Œæ¯”è¾ƒ</p>
<ul>
<li>åŒºåˆ†å¤§å°å†™</li>
<li>è¿”å›ä¸€ä¸ªæ˜¾ç¤ºæ¯”è¾ƒç»“æœçš„æšä¸¾ç±»å‹</li>
</ul>
<p><strong>åŸå‹ï¼š</strong><code>NSString</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSString *&#125; aString å­—ç¬¦ä¸²</span><br><span class="line">* @return &#123;NSComparisonResult&#125; åŒ…å«æ¯”è¾ƒç»“æœçš„æšä¸¾ç±»å‹</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="built_in">NSComparisonResult</span>) compare: (<span class="built_in">NSString</span> *) aString;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>è¿”å›å€¼åŸå‹ï¼š</strong></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> &#123;</span><br><span class="line">    <span class="built_in">NSOrderedAscending</span> = <span class="number">-1</span>;<span class="comment">// å·¦ä¾§å°äºå³ä¾§</span></span><br><span class="line">    <span class="built_in">NSOrderdSame</span>,<span class="comment">// ä¸¤ä¾§å­—ç¬¦ä¸²ç›¸åŒ</span></span><br><span class="line">    <span class="built_in">NSOrderdDescending</span><span class="comment">// å·¦ä¾§å¤§äºå³ä¾§</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">NSInteger</span> <span class="built_in">NSComparisonResult</span>;</span><br></pre></td></tr></table></figure>
<h3 id="8-4-5-ä¸åŒºåˆ†å¤§å°å†™çš„æ¯”è¾ƒ"><a href="#8-4-5-ä¸åŒºåˆ†å¤§å°å†™çš„æ¯”è¾ƒ" class="headerlink" title="8.4.5    ä¸åŒºåˆ†å¤§å°å†™çš„æ¯”è¾ƒ"></a>8.4.5    ä¸åŒºåˆ†å¤§å°å†™çš„æ¯”è¾ƒ</h3><h4 id="compareå®ä¾‹æ–¹æ³•ï¼ˆ2ä¸ªå‚æ•°ï¼‰"><a href="#compareå®ä¾‹æ–¹æ³•ï¼ˆ2ä¸ªå‚æ•°ï¼‰" class="headerlink" title="compareå®ä¾‹æ–¹æ³•ï¼ˆ2ä¸ªå‚æ•°ï¼‰"></a>compareå®ä¾‹æ–¹æ³•ï¼ˆ2ä¸ªå‚æ•°ï¼‰</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ¯”è¾ƒå­—ç¬¦ä¸²ï¼Œæœ‰æ›´å¤šé€‰æ‹©æƒï¼Œå¯ä»¥ä½¿ç”¨<code>ä½</code>æˆ–<code>bitwise-ORè¿œç«¯ç¬¦ï¼ˆ|ï¼‰</code>æ¥æ·»åŠ é€‰é¡¹æ ‡è®°ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>é€‰é¡¹æ ‡è®°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>NSCaseInsensitiveSearch</td>
<td>ä¸åŒºåˆ†å¤§å°å†™å­—ç¬¦</td>
</tr>
<tr>
<td>NSLiteralSearch</td>
<td>è¿›è¡Œå®Œå…¨æ¯”è¾ƒï¼ŒåŒºåˆ†å¤§å°å†™</td>
</tr>
<tr>
<td>NSNumericSearch</td>
<td>æ¯”è¾ƒå­—ç¬¦ä¸²çš„å­—ç¬¦ä¸ªæ•°ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸²å€¼</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>åŸå‹ï¼š</strong><code>NSString</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSString *&#125; aString å­—ç¬¦ä¸²</span><br><span class="line">* @option &#123;NSStringCompareOption&#125; mask æ¯”è¾ƒé€‰é¡¹</span><br><span class="line">* @return &#123;NSComparisonResult&#125; åŒ…å«æ¯”è¾ƒç»“æœçš„æšä¸¾ç±»å‹</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="built_in">NSComparisonResult</span>) compare: (<span class="built_in">NSString</span> *) aString</span><br><span class="line">options: (<span class="built_in">NSStringCompareOption</span>) mask;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸åŒºåˆ†å¤§å°å†™ã€æ¯”è¾ƒå­—ç¬¦ä¸²çš„å­—ç¬¦ä¸ªæ•°ï¼ˆè€Œä¸æ˜¯å€¼ï¼‰</span></span><br><span class="line"><span class="keyword">if</span> ([thing1 compare:thing2 options:<span class="built_in">NSCaseInsensitiveSearch</span> | <span class="built_in">NSNumericSearch</span>] == <span class="built_in">NSOrderedSame</span>) &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"They match!"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="8-4-6-å­—ç¬¦ä¸²æ˜¯å¦è¿˜åŒ…å«åˆ«çš„å­—ç¬¦ä¸²"><a href="#8-4-6-å­—ç¬¦ä¸²æ˜¯å¦è¿˜åŒ…å«åˆ«çš„å­—ç¬¦ä¸²" class="headerlink" title="8.4.6    å­—ç¬¦ä¸²æ˜¯å¦è¿˜åŒ…å«åˆ«çš„å­—ç¬¦ä¸²"></a>8.4.6    å­—ç¬¦ä¸²æ˜¯å¦è¿˜åŒ…å«åˆ«çš„å­—ç¬¦ä¸²</h3><h3 id="hasPrefixå®ä¾‹æ–¹æ³•"><a href="#hasPrefixå®ä¾‹æ–¹æ³•" class="headerlink" title="hasPrefixå®ä¾‹æ–¹æ³•"></a>hasPrefixå®ä¾‹æ–¹æ³•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦æ˜¯ä»¥å¦ä¸€ä¸ªå­—ç¬¦ä¸²å¼€å¤´<br><strong>åŸå‹ï¼š</strong><code>NSString</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">*@param &#123;NSString *&#125; aString å­å­—ç¬¦ä¸²</span><br><span class="line">*@return &#123;BOOL&#125; YESï¼Œ NO</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="built_in">BOOL</span>) hasPrefix: (<span class="built_in">NSString</span> *) aString;</span><br></pre></td></tr></table></figure>
<h3 id="hasSuffixå®ä¾‹æ–¹æ³•"><a href="#hasSuffixå®ä¾‹æ–¹æ³•" class="headerlink" title="hasSuffixå®ä¾‹æ–¹æ³•"></a>hasSuffixå®ä¾‹æ–¹æ³•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦æ˜¯ä»¥å¦ä¸€ä¸ªå­—ç¬¦ä¸²ç»“å°¾<br><strong>åŸå‹ï¼š</strong><code>NSString</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">*@param &#123;NSString *&#125; aString å­å­—ç¬¦ä¸²</span><br><span class="line">*@return &#123;BOOL&#125; YES ï¼Œ NO</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="built_in">BOOL</span>) hasSuffix: (<span class="built_in">NSString</span> *) aString;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *fileName = <span class="string">@"draft-chapter.pages"</span>;</span><br><span class="line"><span class="keyword">if</span> ([fileName hasPrefix:<span class="string">@"draft"</span>]) &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"this is a draft."</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> ([fileName hasSuffix:<span class="string">@".mov"</span>]) &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"this is a movie"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="rangeOfStringå®ä¾‹æ–¹æ³•"><a href="#rangeOfStringå®ä¾‹æ–¹æ³•" class="headerlink" title="rangeOfStringå®ä¾‹æ–¹æ³•"></a>rangeOfStringå®ä¾‹æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æŸ¥çœ‹å­—ç¬¦ä¸²çš„æŸå¤„æ˜¯å¦åŒ…å«æŒ‡å®šå­å­—ç¬¦ä¸²ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSString</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSString *&#125; rangeOfString å­å­—ç¬¦ä¸²</span><br><span class="line">* @return &#123;NSRange&#125; åŒ…å«åŒ¹é…çš„ä½ç½®ä¿¡æ¯å’Œèƒ½å¤ŸåŒ¹é…ä¸Šçš„å­—ç¬¦ä¸ªæ•°</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="built_in">NSRange</span>) rangeOfString: (<span class="built_in">NSString</span> *) aString;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»»æ„ä½ç½®</span></span><br><span class="line"><span class="built_in">NSRange</span> range = [fileName rangeOfString:<span class="string">@"chapter"</span>];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"range.location:%d, range.length: %d"</span>, range.location, range.length);</span><br></pre></td></tr></table></figure>
<h3 id="8-4-7-å¯å˜æ€§"><a href="#8-4-7-å¯å˜æ€§" class="headerlink" title="8.4.7    å¯å˜æ€§"></a>8.4.7    å¯å˜æ€§</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>NSString</code>æ˜¯ä¸å¯å˜ï¼ˆä¸èƒ½é€šè¿‡åˆ é™¤å­—ç¬¦æˆ–æ·»åŠ å­—ç¬¦çš„æ–¹å¼æ”¹å˜å®ƒï¼‰ã€‚çš„ï¼Œ<code>NSMutableString</code>æ˜¯å¯å˜çš„ã€‚<br><strong>æ³¨æ„ï¼š</strong><code>NSMutableString</code>æ˜¯<code>NSString</code>çš„å­ç±»ã€‚</p>
</blockquote>
<h4 id="stringWithCapacityç±»æ–¹æ³•"><a href="#stringWithCapacityç±»æ–¹æ³•" class="headerlink" title="stringWithCapacityç±»æ–¹æ³•"></a>stringWithCapacityç±»æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ›å»ºä¸€ä¸ªæ–°çš„<code>NSMutableString</code></p>
<ul>
<li><strong>å‚æ•°ï¼š</strong>å­—ç¬¦ä¸²çš„å¤§å°å¹¶ä¸é™äºæ‰€æä¾›çš„å®¹é‡ï¼Œè¿™ä¸ªå®¹é‡ä»…æ˜¯æœ€ä¼˜å€¼ï¼Œç”¨æ¥é¢„åˆ†é…ä¸€å—å†…å­˜ï¼Œè¿™æ ·åç»­æ“ä½œçš„é€Ÿåº¦ä¼šå¿«å¾ˆå¤šã€‚</li>
</ul>
<p><strong>åŸå‹ï¼š</strong><code>NSString</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSInteger&#125; æœ€ä¼˜å®¹é‡</span><br><span class="line">* @return &#123;id&#125; NSMutableå¯¹è±¡</span><br><span class="line">*/</span></span><br><span class="line">+ <span class="keyword">id</span> stringWithCapacity: (<span class="built_in">NSUInteger</span>) capacity;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºå¯å˜å­—ç¬¦ä¸²å¯¹è±¡</span></span><br><span class="line"><span class="built_in">NSMutableString</span> *string = [<span class="built_in">NSMutableString</span> stringWithCapacity: <span class="number">42</span>];</span><br></pre></td></tr></table></figure>
<h4 id="appendStringå®ä¾‹æ–¹æ³•"><a href="#appendStringå®ä¾‹æ–¹æ³•" class="headerlink" title="appendStringå®ä¾‹æ–¹æ³•"></a>appendStringå®ä¾‹æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ¥æ”¶å‚æ•°<code>aString</code>ï¼Œç„¶åå°†å…¶å¤åˆ¶åˆ°æ¥æ”¶å¯¹è±¡çš„æœ«å°¾ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSString</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSString *&#125; aString å­å­—ç¬¦ä¸²</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="keyword">void</span>) appendString: (<span class="built_in">NSString</span> *) aString;</span><br></pre></td></tr></table></figure>
<h4 id="appendFormatå®ä¾‹æ–¹æ³•"><a href="#appendFormatå®ä¾‹æ–¹æ³•" class="headerlink" title="appendFormatå®ä¾‹æ–¹æ³•"></a>appendFormatå®ä¾‹æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†æ ¼å¼åŒ–çš„å­—ç¬¦ä¸²é™„åŠ åœ¨æ¥æ”¶å­—ç¬¦ä¸²çš„æœ«å°¾<br><strong>åŸå‹ï¼š</strong><code>NSString</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSString *&#125; format æ ¼å¼ä¸²</span><br><span class="line">* @param &#123;...&#125; æ ¼å¼ä¸²å¯¹åº”çš„å€¼</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="keyword">void</span>) appendFormat: (<span class="built_in">NSString</span> *) format, ...;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯å˜å­—ç¬¦ä¸²æ–¹æ³•</span></span><br><span class="line"><span class="built_in">NSMutableString</span> *mString = [<span class="built_in">NSMutableString</span> stringWithCapacity:<span class="number">50</span>];</span><br><span class="line">[mString appendString:<span class="string">@"Hello there!"</span>];</span><br><span class="line">[mString appendFormat:<span class="string">@"human %d"</span>, <span class="number">42</span>];</span><br></pre></td></tr></table></figure>
<h4 id="deleteCharactersInRangeå®ä¾‹æ–¹æ³•"><a href="#deleteCharactersInRangeå®ä¾‹æ–¹æ³•" class="headerlink" title="deleteCharactersInRangeå®ä¾‹æ–¹æ³•"></a>deleteCharactersInRangeå®ä¾‹æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ é™¤å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSString</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSRange&#125; aRange æŒ‡å®šåˆ é™¤çš„éƒ¨åˆ†ååœ¨çš„åŒºåŸŸ</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="keyword">void</span>) deleteCharactersInRange: (<span class="built_in">NSRange</span>) aRange;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºå¯å˜å­—ç¬¦ä¸²å¯¹è±¡</span></span><br><span class="line"><span class="built_in">NSMutableString</span> *friends = [<span class="built_in">NSMutableString</span> stringWithCapacity: <span class="number">50</span>];</span><br><span class="line"><span class="comment">// æŸ¥æ‰¾å­ä¸²</span></span><br><span class="line"><span class="built_in">NSRange</span> jackRange = [friends tangeOfString: <span class="string">@"Jack"</span>];</span><br><span class="line">jackRange.length++;<span class="comment">// eat the space that follows</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤"Jack"</span></span><br><span class="line">[friends deleteCharactersInRange: jackRange];</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç»§æ‰¿è‡ªNSStringçš„å®ä¾‹æ–¹æ³•</span></span><br><span class="line"><span class="built_in">NSMutableString</span> *string = [<span class="built_in">NSMutableString</span> strringWithFormat: <span class="string">@"jo%dy"</span>, <span class="number">2</span>];</span><br></pre></td></tr></table></figure>
<h2 id="8-5-é›†åˆå¤§å®¶æ—"><a href="#8-5-é›†åˆå¤§å®¶æ—" class="headerlink" title="8.5    é›†åˆå¤§å®¶æ—"></a>8.5    é›†åˆå¤§å®¶æ—</h2><h3 id="8-5-1-NSArray"><a href="#8-5-1-NSArray" class="headerlink" title="8.5.1    NSArray"></a>8.5.1    NSArray</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸€ä¸ª<code>Cocoa</code>ç±»ï¼Œç”¨æ¥å­˜å‚¨å¯¹è±¡çš„æœ‰åºåˆ—è¡¨</p>
<ul>
<li>é€šè¿‡<code>å·¥å‚æ–¹æ³•</code>åˆ›å»º</li>
<li>é€šè¿‡<code>å­—é¢é‡</code>åˆ›å»ºï¼ˆä¸éœ€è¦åœ¨ç»“å°¾å¤„ä¸ä¸Š<code>nil</code>ï¼‰</li>
</ul>
<p><strong>é™åˆ¶ï¼š</strong>æœ‰2ä¸ªé™åˆ¶</p>
<ul>
<li>åªèƒ½å­˜å‚¨<code>Object-C</code>å¯¹è±¡ï¼Œä¸èƒ½å­˜å‚¨åŸå§‹çš„Cè¯­è¨€åŸºç¡€æ•°æ®ç±»å‹</li>
<li>ä¸èƒ½ä½¿ç”¨<code>nilï¼ˆå¯¹è±¡çš„é›¶å€¼ï¼‰</code></li>
</ul>
<p><strong>æŠ€å·§ï¼š</strong>å¯ä»¥é€šè¿‡ä¸€äº›<code>NSArray</code>çš„æ–¹æ³•é¿å¼€è¿™äº›é™åˆ¶<br><strong>æ³¨æ„ï¼š</strong>ä¸ºä»€ä¹ˆä¸èƒ½åœ¨<code>NSArray</code>ä¸­å­˜æ”¾<code>nil</code>ï¼Ÿ</p>
<ul>
<li>ä½¿ç”¨å·¥å‚æ–¹æ³•åˆ›å»ºæ•°ç»„æ—¶ï¼Œæœ€åä¸€ä¸ªå‚æ•°<code>nil</code>ç”¨æ¥è¡¨ç¤ºå‚æ•°åˆ—è¡¨çš„æœ«å°¾</li>
<li>æ²¡æœ‰åŠæ³•åˆ¤æ–­<code>nil</code>æ˜¯å­˜å‚¨åœ¨æ•°ç»„ä¸­çš„æ•°å€¼è¿˜æ˜¯ä»£è¡¨å¾ªç¯ç»“æŸçš„æ ‡å¿—ã€‚</li>
</ul>
</blockquote>
<h4 id="arrayWithObjectsç±»æ–¹æ³•"><a href="#arrayWithObjectsç±»æ–¹æ³•" class="headerlink" title="arrayWithObjectsç±»æ–¹æ³•"></a>arrayWithObjectsç±»æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ›å»ºä¸€ä¸ªæ–°çš„<code>NSArray</code>ï¼Œå¯ä»¥å‘é€ä¸€ä¸ªä»¥<code>,</code>åˆ†éš”çš„å¯¹è±¡åˆ—è¡¨ï¼Œåœ¨åˆ—è¡¨ç»“å°¾æ·»åŠ <code>nil</code>ä»£è¡¨åˆ—è¡¨ç»“æŸã€‚<br><strong>åŸå‹ï¼š</strong><code>NSArray</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;id ...&#125; å¯¹è±¡åˆ—è¡¨</span><br><span class="line">* @return &#123;NSArray&#125; æ•°ç»„</span><br><span class="line">*/</span></span><br><span class="line">+ (<span class="built_in">NSArray</span>) arrayWithObjects(<span class="keyword">id</span> ...);</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€šè¿‡å·¥å‚æ–¹æ³•åˆ›å»ºæ•°ç»„</span></span><br><span class="line"><span class="built_in">NSArray</span> *array = [<span class="built_in">NSArray</span> arrayWithObjects: <span class="string">@"one"</span>, <span class="string">@"two"</span>, <span class="string">@"three"</span>, <span class="literal">nil</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡å­—é¢é‡åˆ›å»ºæ•°ç»„</span></span><br><span class="line"><span class="built_in">NSArray</span> *array2 = @[<span class="string">@"one"</span>, <span class="string">@"two"</span>, <span class="string">@"three"</span>];</span><br></pre></td></tr></table></figure>
<h4 id="objectAtIndexå®ä¾‹æ–¹æ³•"><a href="#objectAtIndexå®ä¾‹æ–¹æ³•" class="headerlink" title="objectAtIndexå®ä¾‹æ–¹æ³•"></a>objectAtIndexå®ä¾‹æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç´¢å¼•æ•°ç»„å…ƒç´ ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è®¿é—®æ•°ç»„ä¸­çš„å¯¹è±¡</span></span><br><span class="line"><span class="keyword">id</span> *myObject = array1[<span class="number">1</span>];</span><br><span class="line"><span class="keyword">for</span> (NAInteger i = <span class="number">0</span>; i &lt; [array count]; i++) &#123;</span><br><span class="line">    <span class="comment">// é€šè¿‡æ–¹æ³•ç´¢å¼•</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"index %d has %@."</span>, i, [array1 objectAtIndex:i]);</span><br><span class="line">    <span class="comment">// é€šè¿‡ä¸‹æ ‡ï¼ˆå­—é¢é‡æ–¹å¼ï¼‰ç´¢å¼•</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"index %d has %@."</span>, i, array1[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åˆ‡åˆ†æ•°ç»„"><a href="#åˆ‡åˆ†æ•°ç»„" class="headerlink" title="åˆ‡åˆ†æ•°ç»„"></a>åˆ‡åˆ†æ•°ç»„</h3><h4 id="componentsSepartedByStringå®ä¾‹æ–¹æ³•"><a href="#componentsSepartedByStringå®ä¾‹æ–¹æ³•" class="headerlink" title="componentsSepartedByStringå®ä¾‹æ–¹æ³•"></a>componentsSepartedByStringå®ä¾‹æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†å­—ç¬¦ä¸²åˆ‡åˆ†ä¸ºæ•°ç»„ã€‚</p>
</blockquote>
<h4 id="componentsJoinedByStringå®ä¾‹æ–¹æ³•"><a href="#componentsJoinedByStringå®ä¾‹æ–¹æ³•" class="headerlink" title="componentsJoinedByStringå®ä¾‹æ–¹æ³•"></a>componentsJoinedByStringå®ä¾‹æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆå¹¶<code>NSArray</code>ä¸­çš„å…ƒç´ å¹¶åˆ›å»ºå­—ç¬¦ä¸²ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *string = <span class="string">@"oop:ack:bork:greeble:poines"</span>;</span><br><span class="line"><span class="built_in">NSArray</span> *chunks = [string componentsSeparatedByString:<span class="string">@":"</span>];</span><br><span class="line">string = [chunks componentsJoinedByString:<span class="string">@":-)"</span>];</span><br></pre></td></tr></table></figure>
<h3 id="8-5-2-å¯å˜æ•°ç»„"><a href="#8-5-2-å¯å˜æ•°ç»„" class="headerlink" title="8.5.2    å¯å˜æ•°ç»„"></a>8.5.2    å¯å˜æ•°ç»„</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>NSArray</code>æ˜¯ä¸å¯å˜å¯¹è±¡çš„æ•°ç»„ï¼Œ<code>NSMutableArray</code>æ˜¯å¯å˜æ•°ç»„ã€‚<br><strong>æ³¨æ„ï¼š</strong>æ²¡æœ‰å¯ä»¥ç”¨æ¥åˆ›å»º<code>NSMutableArray</code>å¯¹è±¡çš„å­—é¢é‡è¯­æ³•ã€‚</p>
</blockquote>
<h4 id="arrayWithCapacityç±»æ–¹æ³•"><a href="#arrayWithCapacityç±»æ–¹æ³•" class="headerlink" title="arrayWithCapacityç±»æ–¹æ³•"></a>arrayWithCapacityç±»æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ›å»ºæ–°çš„å¯å˜æ•°ç»„ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSMutableString</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSInteger&#125; å®¹é‡</span><br><span class="line">* @return &#123;id&#125; å¯å˜æ•°ç»„</span><br><span class="line">*/</span></span><br><span class="line">+ (<span class="keyword">id</span>) arrayWithCapacity: (<span class="built_in">NSInteger</span>) numItems;</span><br></pre></td></tr></table></figure>
<h4 id="removeObjectAtIndexå®ä¾‹æ–¹æ³•"><a href="#removeObjectAtIndexå®ä¾‹æ–¹æ³•" class="headerlink" title="removeObjectAtIndexå®ä¾‹æ–¹æ³•"></a>removeObjectAtIndexå®ä¾‹æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ é™¤æŒ‡å®šç´¢å¼•å¤„çš„å¯¹è±¡ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSArray</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSUInteger&#125; index ä¸‹æ ‡</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="keyword">void</span>) removeObjectAtIndex: (<span class="built_in">NSUInteger</span>) index;</span><br></pre></td></tr></table></figure>
<h3 id="8-5-3-éå†"><a href="#8-5-3-éå†" class="headerlink" title="8.5.3    éå†"></a>8.5.3    éå†</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æœ‰<code>4</code>ç§æ–¹å¼</p>
<ul>
<li>ä»0åˆ°<code>[array count]</code>å¾ªç¯</li>
<li>ä½¿ç”¨è¿­ä»£å™¨ï¼š<code>NSEnumerator</code></li>
<li>ä½¿ç”¨å¿«é€Ÿè¿­ä»£ï¼š<code>for-in</code>ï¼ˆ10.5+ï¼‰</li>
<li>ä½¿ç”¨ä»£ç å—ï¼ˆä¾èµ–è‹¹æœæœ€æ–°çš„ç¼–è¯‘å™¨ï¼šåŸºäº<code>CLang</code>å’Œ<code>LLVM</code>é¡¹ç›®ï¼‰</li>
</ul>
</blockquote>
<h4 id="NSEnumerator"><a href="#NSEnumerator" class="headerlink" title="NSEnumerator"></a>NSEnumerator</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è¿­ä»£å™¨ï¼Œ<code>Cocoa</code>ç”¨å®ƒæ¥è¡¨ç¤ºé›†åˆä¸­è¿­ä»£å‡ºçš„å¯¹è±¡ã€‚</p>
</blockquote>
<h4 id="objectEnumeratorå®ä¾‹æ–¹æ³•"><a href="#objectEnumeratorå®ä¾‹æ–¹æ³•" class="headerlink" title="objectEnumeratorå®ä¾‹æ–¹æ³•"></a>objectEnumeratorå®ä¾‹æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è·å–æ•°ç»„å¯¹åº”çš„è¿­ä»£å™¨(ä»å‰å¾€åè¿­ä»£)ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSArray</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @return &#123;NSEnumerator *&#125; è¿­ä»£å™¨</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="built_in">NSEnumerator</span> *)objectEnumerator;</span><br></pre></td></tr></table></figure>
<h4 id="reverseObjectEnumeratorå®ä¾‹æ–¹æ³•"><a href="#reverseObjectEnumeratorå®ä¾‹æ–¹æ³•" class="headerlink" title="reverseObjectEnumeratorå®ä¾‹æ–¹æ³•"></a>reverseObjectEnumeratorå®ä¾‹æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è·å–æ•°ç»„å¯¹åº”çš„è¿­ä»£å™¨(ä»åå¾€å‰è¿­ä»£)ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSArray</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @return &#123;NSEnumerator *&#125; è¿­ä»£å™¨</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="built_in">NSEnumerator</span> *)reverseObjectEnumerator;</span><br></pre></td></tr></table></figure>
<h4 id="nextObjectå®ä¾‹æ–¹æ³•"><a href="#nextObjectå®ä¾‹æ–¹æ³•" class="headerlink" title="nextObjectå®ä¾‹æ–¹æ³•"></a>nextObjectå®ä¾‹æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è¯·æ±‚è¿­ä»£å™¨çš„ä¸‹ä¸€ä¸ªå¯¹è±¡ï¼Œè¿”å›<code>nil</code>æ—¶è¿­ä»£ç»“æŸã€‚<br><strong>åŸå‹ï¼š</strong><code>NSEnumerator</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @return &#123;id&#125; è¿­ä»£å™¨è¿­ä»£çš„ä¸€ä¸ªå¯¹è±¡</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="keyword">id</span>) nextObject;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>é™åˆ¶ï¼š</strong>è·å–<code>å¯å˜æ•°ç»„</code>çš„è¿­ä»£å™¨åï¼Œå¦‚æœå†é€šè¿‡æ·»åŠ æˆ–åˆ é™¤å¯¹è±¡<code>æ”¹å˜äº†æ•°ç»„çš„å®¹é‡</code>ï¼Œæšä¸¾èµ·å°±ä¼šå‡ºç°æ··ä¹±ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€šè¿‡å­—é¢é‡åˆ›å»ºæ•°ç»„</span></span><br><span class="line"><span class="built_in">NSArray</span> *array = @[<span class="string">@"one"</span>, <span class="string">@"two"</span>, <span class="string">@"three"</span>];</span><br><span class="line"><span class="comment">// è·å–è¿­ä»£å™¨</span></span><br><span class="line"><span class="built_in">NSEnumerator</span> *enumerator = [array objectEnumerator];</span><br><span class="line"><span class="comment">// ä½¿ç”¨è¿­ä»£å™¨éå†</span></span><br><span class="line"><span class="keyword">while</span> (<span class="keyword">id</span> thingie = [enumerator nextObject]) &#123;</span><br><span class="line">	<span class="built_in">NSLog</span>(<span class="string">@"I found %@"</span>, thingie);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="8-5-4-å¿«é€Ÿè¿­ä»£"><a href="#8-5-4-å¿«é€Ÿè¿­ä»£" class="headerlink" title="8.5.4    å¿«é€Ÿè¿­ä»£"></a>8.5.4    å¿«é€Ÿè¿­ä»£</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨<code>Mac OS x 10.5</code>ï¼Œ<code>O-C</code>å‡çº§åˆ°<code>2.0</code>ï¼Œå¼•å…¥äº†<code>å¿«é€Ÿæšä¸¾ï¼ˆè¿­ä»£ï¼‰</code>ï¼Œç±»ä¼¼ä¸€äº›è„šæœ¬è¯­è¨€çš„<code>for-in</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="built_in">NSString</span> *string <span class="keyword">in</span> array) &#123;</span><br><span class="line">	<span class="built_in">NSLog</span>(<span class="string">@"I found %@"</span>, string);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="enumerateObjectsUsingBlockå®ä¾‹æ–¹æ³•"><a href="#enumerateObjectsUsingBlockå®ä¾‹æ–¹æ³•" class="headerlink" title="enumerateObjectsUsingBlockå®ä¾‹æ–¹æ³•"></a>enumerateObjectsUsingBlockå®ä¾‹æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸ºäº†æ”¯æŒCè¯­è¨€çš„ä»£ç å—åŠŸèƒ½ï¼Œè‹¹æœå…¬å¸æ·»åŠ äº†ä¸€ä¸ªèƒ½åœ¨<code>NSArray</code>ä¸­é€šè¿‡<code>ä»£ç å—</code>è¿­ä»£å¯¹è±¡çš„æ–¹æ³•ã€‚<br><strong>ä¼˜ç‚¹ï¼š</strong>é€šè¿‡ä»£ç å—å¯ä»¥è®©å¾ªç¯æ“ä½œå¹¶å‘æ‰§è¡Œï¼Œè€Œé€šè¿‡å¿«é€Ÿæšä¸¾ï¼Œæ‰§è¡Œæ“ä½œè¦ä¸€é¡¹é¡¹çº¿æ€§å®Œæˆã€‚<br><strong>åŸå‹ï¼š</strong><code>NSArray</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSString *&#125; string è¿­ä»£é¡¹</span><br><span class="line">* @param &#123;NSUInteger&#125; index ä¸‹æ ‡</span><br><span class="line">* @param &#123;BOOL *&#125; stop </span><br><span class="line">*/</span></span><br><span class="line">- (<span class="keyword">void</span>) enumerateObjectUsingBlock:^(<span class="built_in">NSString</span> *string, <span class="built_in">NSUInteger</span> index, <span class="built_in">BOOL</span> *stop);</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[array enumerateObjectsUsingBlock:^(<span class="built_in">NSString</span> *string, <span class="built_in">NSUInteger</span> index, <span class="built_in">BOOL</span> *stop) &#123;</span><br><span class="line">	<span class="built_in">NSLog</span>(<span class="string">@"I found %@"</span>, string);</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
<h3 id="8-5-5-NSDictionary"><a href="#8-5-5-NSDictionary" class="headerlink" title="8.5.5    NSDictionary"></a>8.5.5    NSDictionary</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å­—å…¸æ˜¯å…³é”®å­—åŠå…¶å®šä¹‰çš„åˆé›†ã€‚<br><strong>æ‰©å±•ï¼š</strong>å­—å…¸ä½¿ç”¨çš„æ˜¯é”®æŸ¥è¯¢çš„ä¼˜åŒ–æ–¹å¼ï¼Œå¯ä»¥ç«‹å³æ‰¾åˆ°è¦æŸ¥è¯¢çš„æ•°æ®ï¼Œè€Œä¸éœ€è¦éå†æ•´ä¸ªæ•°ç»„ã€‚</p>
</blockquote>
<h4 id="å­—é¢é‡"><a href="#å­—é¢é‡" class="headerlink" title="å­—é¢é‡"></a>å­—é¢é‡</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ›å»ºå­—å…¸æœ€ç®€å•çš„æ–¹å¼å°±æ˜¯ç”¨å­—å…¸å­—é¢é‡ã€‚<br><strong>è¯­æ³•ï¼š</strong><code>@{key: value, ...}</code></p>
</blockquote>
<h4 id="dictionaryWithObjectsAndKeysç±»æ–¹æ³•"><a href="#dictionaryWithObjectsAndKeysç±»æ–¹æ³•" class="headerlink" title="dictionaryWithObjectsAndKeysç±»æ–¹æ³•"></a>dictionaryWithObjectsAndKeysç±»æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ›å»ºå­—å…¸å¯¹è±¡<br><strong>åŸå‹ï¼š</strong><code>NSDictionary</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;id ...&#125; é”®å€¼å¯¹åˆ—è¡¨</span><br><span class="line">* @return &#123;id&#125; å­—å…¸å¯¹è±¡</span><br><span class="line">*/</span></span><br><span class="line">+ (<span class="keyword">id</span>) dictionaryWithObjectsAndKeys: (<span class="keyword">id</span>) firstObject, ...;</span><br></pre></td></tr></table></figure>
<h4 id="objectForKeyå®ä¾‹æ–¹æ³•"><a href="#objectForKeyå®ä¾‹æ–¹æ³•" class="headerlink" title="objectForKeyå®ä¾‹æ–¹æ³•"></a>objectForKeyå®ä¾‹æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ ¹æ®<code>å…³é”®å­—</code>è®¿é—®å­—å…¸ä¸­çš„<code>å€¼</code>ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSDictionary</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;id&#125; aKey é”®</span><br><span class="line">* @return &#123;id&#125; å€¼</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="keyword">id</span>) objectForKey: (<span class="keyword">id</span>) aKey;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¹è±¡å®ä¾‹</span></span><br><span class="line">Tire *t1 = [Tire new];</span><br><span class="line">Tire *t2 = [Tire new];</span><br><span class="line">Tire *t3 = [Tire new];</span><br><span class="line">Tire *t4 = [Tire new];</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨å¯¹è±¡å®ä¾‹æ„å»ºå­—å…¸ï¼ˆå·¥å‚æ–¹æ³•ï¼‰</span></span><br><span class="line"><span class="built_in">NSDictionary</span> *tires1 = [<span class="built_in">NSDictionary</span> dictionaryWithObjectsAndKeys: t1, <span class="string">@"front-left"</span>, t2, <span class="string">@"front-right"</span>, t3, <span class="string">@"back-left"</span>, t3, <span class="string">@"back-left"</span>, t4, <span class="string">@"back-right"</span>, <span class="literal">nil</span>];</span><br><span class="line"><span class="comment">// ä½¿ç”¨å¯¹è±¡å®ä¾‹æ„å»ºå­—å…¸ï¼ˆå­—é¢é‡ï¼‰</span></span><br><span class="line"><span class="built_in">NSDictionary</span> *tires2 = @&#123;<span class="string">@"front-left"</span>: t1, <span class="string">@"front-right"</span>: t2, <span class="string">@"back-left"</span>: t3, <span class="string">@"back-right"</span>: t4&#125;;</span><br><span class="line"><span class="comment">// é€šè¿‡æ–¹æ³•ç´¢å¼•</span></span><br><span class="line">Tire *tire = [tires objectForKey: <span class="string">@"back-right"</span>];</span><br><span class="line"><span class="comment">// é€šè¿‡å­—é¢é‡ç´¢å¼•</span></span><br><span class="line">tire = tires[<span class="string">@"back-right"</span>];</span><br></pre></td></tr></table></figure>
<h4 id="å¯å˜å­—å…¸"><a href="#å¯å˜å­—å…¸" class="headerlink" title="å¯å˜å­—å…¸"></a>å¯å˜å­—å…¸</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>NSDictionary</code>å®¹é‡æ˜¯ä¸å¯å˜çš„ï¼Œ<code>NSMutableDictionary</code>æ˜¯å¯å˜çš„ã€‚<br><strong>æ³¨æ„ï¼š</strong>æ²¡æœ‰é€‚ç”¨äº<code>NSMutableDictionary</code>çš„å­—é¢é‡åˆå§‹åŒ–è¯­æ³•ã€‚</p>
</blockquote>
<h5 id="dictionaryç±»æ–¹æ³•"><a href="#dictionaryç±»æ–¹æ³•" class="headerlink" title="dictionaryç±»æ–¹æ³•"></a>dictionaryç±»æ–¹æ³•</h5><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ›å»º<code>NSMutableDictionary</code>å®ä¾‹ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSMutableDictionary</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @return &#123;id&#125; NSMutableDictionaryå®ä¾‹</span><br><span class="line">*/</span></span><br><span class="line">+ (<span class="keyword">id</span>) dictionary;</span><br></pre></td></tr></table></figure>
<h5 id="dictionaryWithCapacityç±»æ–¹æ³•"><a href="#dictionaryWithCapacityç±»æ–¹æ³•" class="headerlink" title="dictionaryWithCapacityç±»æ–¹æ³•"></a>dictionaryWithCapacityç±»æ–¹æ³•</h5><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ›å»ºæ–°çš„å¯å˜å­—å…¸å¹¶å‘Šè¯‰<code>Cocoa</code>è¯¥å­—å…¸çš„æœ€ä¼˜å¤§å°ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSMutableDictionary</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSUInteger&#125; numItems æœ€ä¼˜å®¹é‡</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="keyword">void</span>) dictionaryWithCapacity: (<span class="built_in">NSUInteger</span>) numItems;</span><br></pre></td></tr></table></figure>
<h5 id="setObjectå®ä¾‹æ–¹æ³•"><a href="#setObjectå®ä¾‹æ–¹æ³•" class="headerlink" title="setObjectå®ä¾‹æ–¹æ³•"></a>setObjectå®ä¾‹æ–¹æ³•</h5><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸ºå­—å…¸æ·»åŠ ï¼ˆè®¾ç½®ï¼‰å…ƒç´ <br><strong>åŸå‹ï¼š</strong><code>NSMutableDictionary</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;id&#125; anObject å€¼</span><br><span class="line">* @param &#123;id&#125; aKey  é”®</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="keyword">void</span>) setObject: (<span class="keyword">id</span>)anObject forKey: (<span class="keyword">id</span>)aKey;</span><br></pre></td></tr></table></figure>
<h5 id="removeObjectForKeyå®ä¾‹æ–¹æ³•"><a href="#removeObjectForKeyå®ä¾‹æ–¹æ³•" class="headerlink" title="removeObjectForKeyå®ä¾‹æ–¹æ³•"></a>removeObjectForKeyå®ä¾‹æ–¹æ³•</h5><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨å¯å˜å­—å…¸ä¸­åˆ é™¤å…ƒç´ <br><strong>åŸå‹ï¼š</strong><code>NSMutableDictionary</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;id&#125; aKey è¦åˆ é™¤çš„å…ƒç´ çš„é”®</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="keyword">void</span>) removeObjectForKey: (<span class="keyword">id</span>) aKey;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºå¯å˜å­—å…¸</span></span><br><span class="line"><span class="built_in">NSMutableDictionary</span> *tires = [<span class="built_in">NSMutableDictionary</span> dictionary];</span><br><span class="line"><span class="comment">// å¯¹è±¡å®ä¾‹</span></span><br><span class="line">Tire *t1 = [Tire new];</span><br><span class="line">Tire *t2 = [Tire new];</span><br><span class="line">Tire *t3 = [Tire new];</span><br><span class="line">Tire *t4 = [Tire new];</span><br><span class="line"><span class="comment">// ä¸ºå­—å…¸æ·»åŠ å…ƒç´ </span></span><br><span class="line">[tires setObject: t1 forKey: <span class="string">@"front-left"</span>];</span><br><span class="line">[tires setObject: t2 forKey: <span class="string">@"front-right"</span>];</span><br><span class="line">[tires setObject: t3 forKey: <span class="string">@"back-left"</span>];</span><br><span class="line">[tires setObject: t4 forKey: <span class="string">@"back-right"</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤å…ƒç´ </span></span><br><span class="line">[tires removeObjectForKey: <span class="string">@"back-left"</span>];</span><br></pre></td></tr></table></figure>
<h3 id="8-5-6-è¯·ä¸è¦ä¹±æ¥"><a href="#8-5-6-è¯·ä¸è¦ä¹±æ¥" class="headerlink" title="8.5.6    è¯·ä¸è¦ä¹±æ¥"></a>8.5.6    è¯·ä¸è¦ä¹±æ¥</h3><blockquote>
<p><strong>ç±»è”Ÿï¼š</strong>ä¸€ç¾¤éšè—åœ¨é€šç”¨æ¥å£ä¹‹ä¸‹ä¸å®ç°ç›¸å…³çš„ç±»ã€‚<br><strong>è¯´æ˜ï¼š</strong>åœ¨<code>Cocoa</code>ä¸­ï¼Œè®¸å¤šç±»å®é™…ä¸Šæ˜¯ä»¥<code>ç±»è”Ÿ</code>çš„æ–¹å¼å®ç°ã€‚æ¯”å¦‚ï¼Œåˆ›å»º<code>NSString</code>å¯¹è±¡æ—¶ï¼Œå®é™…ä¸Šè·å¾—çš„å¯èƒ½æ˜¯<code>NSLiteralString</code>ã€<code>NSCFString</code>ã€<code>NSSimpleCString</code>ã€<code>NSBallOfString</code>æˆ–è€…å…¶ä»–æœªå†™å…¥æ–‡æ¡£çš„ä¸å®ç°ç›¸å…³çš„å¯¹è±¡ã€‚<br><strong>æŠ€å·§ï¼š</strong>ä¸è¦å°è¯•ç»™ä¸€ä¸ª<code>ç±»è”Ÿ</code>åˆ›å»ºå­ç±»ï¼Œå¯ä»¥å°†<code>NSString</code>æˆ–<code>NSArray</code>å¤åˆåˆ°æŸä¸ªç±»ä¸­æˆ–è€…ä½¿ç”¨åˆ«ç±»ã€‚</p>
</blockquote>
<h2 id="8-6-å…¶ä»–æ•°å€¼"><a href="#8-6-å…¶ä»–æ•°å€¼" class="headerlink" title="8.6    å…¶ä»–æ•°å€¼"></a>8.6    å…¶ä»–æ•°å€¼</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>NSArray</code>å’Œ<code>NSDictionary</code>åªèƒ½å­˜å‚¨å¯¹è±¡ï¼Œè€Œä¸èƒ½ç›´æ¥å­˜å‚¨ä»»ä½•åŸºæœ¬ç±»å‹çš„æ•°æ®ï¼Œå¦‚<code>int</code>ã€<code>float</code>å’Œ<code>struct</code>ã€‚<br><strong>æŠ€å·§ï¼š</strong>å¯ä»¥ç”¨å¯¹è±¡å°è£…åŸºæœ¬æ•°æ®ç±»å‹ï¼Œç„¶åå†æ”¾å…¥<code>NSArray</code>æˆ–<code>NSDictionary</code>ã€‚<br><strong>æ³¨æ„ï¼š</strong><code>Objective-C</code>ä¸æ”¯æŒ<code>è‡ªåŠ¨å¼€ç®±</code>å’Œ<code>è‡ªåŠ¨è£…ç®±</code>ã€‚</p>
</blockquote>
<h3 id="8-6-1-NSNumber"><a href="#8-6-1-NSNumber" class="headerlink" title="8.6.1    NSNumber"></a>8.6.1    NSNumber</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯ä»¥ç”¨æ¥å°è£…å’Œæ•°å­—ç›¸å…³çš„ä¸€äº›åŸºæœ¬æ•°æ®ç±»å‹ã€‚<br><strong>å·¥å‚æ–¹æ³•ï¼š</strong>ä»¥æœ€å¸¸ç”¨çš„ä¸ºä¾‹</p>
<ul>
<li><code>+ (NSNumber *) numberWithChar: (char) value;</code></li>
<li><code>+ (NSNumber *) numberWithInt: (int) value;</code></li>
<li><code>+ (NSNumber *) numberWithFloat: (float) value;</code></li>
<li><code>+ (NSNumber *) numberWithBool: (BOOL) value;</code></li>
</ul>
<p><strong>å®ä¾‹æ–¹æ³•ï¼š</strong>ä»<code>NSNumber</code>ä¸­æå–æ•°å€¼</p>
<ul>
<li><code>- (char) charValue</code></li>
<li><code>- (int) intValue</code></li>
<li><code>- (float) floatValue</code></li>
<li><code>- (BOOL) boolValue</code></li>
<li><code>- (NSString *) stringValue</code></li>
</ul>
<p><strong>å­—é¢é‡ï¼š</strong>å¯ä»¥ä½¿ç”¨å­—é¢é‡è¯­æ³•åˆ›å»º<code>NSNumber</code>å¯¹è±¡</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å°è£…å‡ æœ¬ç±»å‹</span></span><br><span class="line"><span class="built_in">NSNumber</span> *number;</span><br><span class="line">number = @<span class="string">'X'</span>;<span class="comment">// å­—ç¬¦å‹</span></span><br><span class="line">number = @<span class="number">12345</span>;<span class="comment">// æ•´å‹</span></span><br><span class="line">number = @<span class="number">12345</span>ul;<span class="comment">// æ— ç¬¦å·é•¿æ•´æ•°</span></span><br><span class="line">number = @<span class="number">12345</span>ll;<span class="comment">// long long</span></span><br><span class="line">number = @<span class="number">123</span>,<span class="number">45</span>f;<span class="comment">// æµ®ç‚¹å‹</span></span><br><span class="line">number = @<span class="number">123</span>,<span class="number">45</span>;<span class="comment">// åŒæµ®ç‚¹å‹</span></span><br><span class="line">number = @YES;<span class="comment">// å¸ƒå°”å€¼</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">NSMutableArray</span> *array = [<span class="built_in">NSMutableArray</span> arrayWithCapacity];</span><br><span class="line"><span class="comment">// å­˜å‚¨åˆ°æ•°ç»„ä¸­</span></span><br><span class="line">[array addObject number];</span><br><span class="line">[dictionary setObject: number forKey: @:<span class="string">"Bork"</span>];</span><br></pre></td></tr></table></figure>
<h3 id="8-6-2-NSValue"><a href="#8-6-2-NSValue" class="headerlink" title="8.6.2    NSValue"></a>8.6.2    NSValue</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>NSValue</code>å¯ä»¥å°è£…ä»»æ„å€¼ã€‚<br><strong>æ‰©å±•ï¼š</strong><code>NSNumber</code>æ˜¯<code>NSValue</code>çš„å­ç±»ã€‚</p>
</blockquote>
<h4 id="valueWithBytesç±»æ–¹æ³•"><a href="#valueWithBytesç±»æ–¹æ³•" class="headerlink" title="valueWithBytesç±»æ–¹æ³•"></a>valueWithBytesç±»æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ›å»ºæ–°çš„<code>NSValue</code>å¯¹è±¡ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSValue</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;const void *&#125; value è¦å­˜å‚¨çš„å˜é‡çš„åœ°å€</span><br><span class="line">* @param &#123;const char *&#125; type æè¿°æ•°æ®ç±»çš„å­—ç¬¦ä¸²</span><br><span class="line">* @return &#123;NSValue *&#125; NSValueå¯¹è±¡</span><br><span class="line">*/</span></span><br><span class="line">+ (<span class="built_in">NSValue</span> *) valueWithBytes: (<span class="keyword">const</span> <span class="keyword">void</span> *) value objCType: (<span class="keyword">const</span> <span class="keyword">char</span> *) type;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>å·¥å‚æ–¹æ³•ï¼š</strong><code>NSValue</code>ï¼Œä¸¾ä¾‹</p>
<ul>
<li><code>(NSValue *)valueWithPoint: (NSPoint) aPoint;</code></li>
<li><code>(NSValue *)valueWithSize: (NSSize) size;</code></li>
<li><code>(NSValue *)valueWithRect: (NSRect);</code></li>
</ul>
<p><strong>å®ä¾‹æ–¹æ³•ï¼š</strong><code>NSValue</code>, ä¼šè¿›è¡Œç±»å‹è½¬æ¢</p>
<ul>
<li><code>(NSPoint)pointValue;</code></li>
<li><code>(NSSize)sizeValue;</code></li>
<li><code>(NSRect)rectValue;</code></li>
</ul>
</blockquote>
<h4 id="getValueå®ä¾‹æ–¹æ³•"><a href="#getValueå®ä¾‹æ–¹æ³•" class="headerlink" title="getValueå®ä¾‹æ–¹æ³•"></a>getValueå®ä¾‹æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æå–æ•°å€¼ï¼Œè¿”å›ä¸€ä¸ª<code>NSValue</code>å‹å€¼ã€‚<br><strong>æ³¨æ„ï¼š</strong>æ–¹æ³•åä¸­ä½¿ç”¨äº†<code>get</code>ï¼Œè¡¨æ˜æˆ‘ä»¬æä¾›çš„æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œè€ŒæŒ‡é’ˆæ‰€æŒ‡å‘çš„ç©ºé—´åˆ™ç”¨æ¥å­˜å‚¨è¯¥æ–¹æ³•ç”Ÿæˆçš„æ•°æ®ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼ˆstructï¼‰</span></span><br><span class="line"><span class="built_in">NSRect</span> rect = <span class="built_in">NSMakeRect</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">30</span>, <span class="number">40</span>);</span><br><span class="line"><span class="comment">// åŒ…è£…åŒ…NSValueå‹å€¼ä¸­</span></span><br><span class="line"><span class="built_in">NSValue</span> *value = [<span class="built_in">NSValue</span> valueWithBytes:&amp;rect objCType:@encode(<span class="built_in">NSRect</span>)];</span><br><span class="line"><span class="comment">// æ·»åŠ åˆ°æ•°ç»„ä¸­</span></span><br><span class="line">[array addObject:value];</span><br><span class="line">value = [array objectAtIndex:<span class="number">0</span>];</span><br><span class="line"><span class="comment">// æå–æ•°å€¼</span></span><br><span class="line">[value getValue:&amp;rect];</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç–¯è½¬NSRect</span></span><br><span class="line">value = [<span class="built_in">NSValue</span> valueWithRect:rect];</span><br><span class="line"><span class="comment">// æ·»åŠ åˆ°æ•°ç»„</span></span><br><span class="line">[array addObject:value];</span><br><span class="line"><span class="comment">// æå–NSRectå‹å€¼</span></span><br><span class="line"><span class="built_in">NSRect</span> anotherRect = [value rectValue];</span><br></pre></td></tr></table></figure>
<h3 id="8-6-3-NSNull"><a href="#8-6-3-NSNull" class="headerlink" title="8.6.3    NSNull"></a>8.6.3    NSNull</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é›†åˆä¸­ä¸èƒ½æ”¾å…¥<code>nil</code>ï¼Œä½†å¯ä»¥æ”¾å…¥<code>NSNull</code>ã€‚</p>
</blockquote>
<h4 id="nullç±»æ–¹æ³•"><a href="#nullç±»æ–¹æ³•" class="headerlink" title="nullç±»æ–¹æ³•"></a>nullç±»æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ›å»ºä¸€ä¸ª<code>NSNull</code>å®ä¾‹<br><strong>åŸå‹ï¼š</strong><code>NSNull</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @return &#123;NSNull *&#125; NSNullå®ä¾‹</span><br><span class="line">*/</span></span><br><span class="line">+ (<span class="built_in">NSNull</span> *) null;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æƒ³é€šè®¯å½•ä¸­åŠ å…¥ä¸€æ¡ä¿¡æ¯ï¼ˆæ²¡æœ‰ä¼ çœŸå·ï¼‰</span></span><br><span class="line">[contact setObject: [<span class="built_in">NSNull</span> null] forKey: <span class="string">@"home fax machine"</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç´¢å¼•è¿™æ¡ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">id</span> homefax = [contact objectForKey: <span class="string">@"home fax machine"</span>];</span><br><span class="line"><span class="keyword">if</span> (homefax == [<span class="built_in">NSNull</span> null]) &#123;</span><br><span class="line">	<span class="comment">// ç¡®å®æ²¡æœ‰ä¼ çœŸæœº</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="8-7-ç¤ºä¾‹ï¼šæŸ¥æ‰¾æ–‡ä»¶"><a href="#8-7-ç¤ºä¾‹ï¼šæŸ¥æ‰¾æ–‡ä»¶" class="headerlink" title="8.7    ç¤ºä¾‹ï¼šæŸ¥æ‰¾æ–‡ä»¶"></a>8.7    ç¤ºä¾‹ï¼šæŸ¥æ‰¾æ–‡ä»¶</h2><h3 id="8-7-1-ä½¿ç”¨è¿­ä»£å™¨çš„ç‰ˆæœ¬"><a href="#8-7-1-ä½¿ç”¨è¿­ä»£å™¨çš„ç‰ˆæœ¬" class="headerlink" title="8.7.1    ä½¿ç”¨è¿­ä»£å™¨çš„ç‰ˆæœ¬"></a>8.7.1    ä½¿ç”¨è¿­ä»£å™¨çš„ç‰ˆæœ¬</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">@autoreleasepool</span> </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºæ–‡ä»¶ç®¡ç†å™¨</span></span><br><span class="line">        <span class="built_in">NSFileManager</span> *manager;</span><br><span class="line">        manager = [<span class="built_in">NSFileManager</span> defaultManager];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// å°†~æ›¿æ¢ä¸ºç›¸åº”çš„ç»å¯¹ç›®å½•</span></span><br><span class="line">        <span class="built_in">NSString</span> *home;</span><br><span class="line">        home = [<span class="string">@"~"</span> stringByExpandingTildeInPath];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è·å–ç›¸åº”è·¯å¾„ä¸‹æ–‡ä»¶é›†åˆçš„è¿­ä»£å™¨</span></span><br><span class="line">        <span class="built_in">NSDirectoryEnumerator</span> *direnum;</span><br><span class="line">        direnum = [manager enumeratorAtPath:home];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// åˆ›å»ºå­˜æ”¾æ–‡ä»¶çš„å¯å˜æ•°ç»„</span></span><br><span class="line">        <span class="built_in">NSMutableArray</span> *files;</span><br><span class="line">        files = [<span class="built_in">NSMutableArray</span> arrayWithCapacity:<span class="number">42</span>];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// é€šè¿‡è¿­ä»£å™¨éå†å¯»æ‰¾ç›®æ ‡æ–‡ä»¶</span></span><br><span class="line">        <span class="built_in">NSString</span> *filename;</span><br><span class="line">        <span class="keyword">while</span> (filename = [direnum nextObject])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// æŸ¥çœ‹æ‰©å±•åæ˜¯å¦åŒ¹é…</span></span><br><span class="line">            <span class="keyword">if</span> ([[filename pathExtension] isEqualTo: <span class="string">@"jpg"</span>]) &#123;</span><br><span class="line">                [files addObject: filename];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// é€šè¿‡è¿­ä»£å™¨éå†åŒ¹é…åˆ°çš„æ–‡ä»¶çš„æ–‡ä»¶å</span></span><br><span class="line">        <span class="built_in">NSEnumerator</span> *fileenum;</span><br><span class="line">        fileenum = [files objectEnumerator];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> (filename = [fileenum nextObject])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, filename);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="8-7-2-ä½¿ç”¨å¿«é€Ÿè¿­ä»£çš„ç‰ˆæœ¬"><a href="#8-7-2-ä½¿ç”¨å¿«é€Ÿè¿­ä»£çš„ç‰ˆæœ¬" class="headerlink" title="8.7.2    ä½¿ç”¨å¿«é€Ÿè¿­ä»£çš„ç‰ˆæœ¬"></a>8.7.2    ä½¿ç”¨å¿«é€Ÿè¿­ä»£çš„ç‰ˆæœ¬</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸æ”¯æŒ<code>Leopard</code>ä¹‹å‰çš„ç‰ˆæœ¬ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="8-8-å°ç»“"><a href="#8-8-å°ç»“" class="headerlink" title="8.8    å°ç»“"></a>8.8    å°ç»“</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_07  æ·±å…¥äº†è§£Xcode/" itemprop="url">
                  7 æ·±å…¥äº†è§£Xcode
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T10:38:28+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_07  æ·±å…¥äº†è§£Xcode/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_07  æ·±å…¥äº†è§£Xcode/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="7-1-çª—å£å¸ƒå±€ä¸€è§ˆ"><a href="#7-1-çª—å£å¸ƒå±€ä¸€è§ˆ" class="headerlink" title="7.1    çª—å£å¸ƒå±€ä¸€è§ˆ"></a>7.1    çª—å£å¸ƒå±€ä¸€è§ˆ</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>çª—å£çš„ç»„æˆéƒ¨åˆ†</p>
</blockquote>
<table>
<thead>
<tr>
<th>ç»„æˆ</th>
<th>è¯´æ˜</th>
<th>ç›¸å…³åŠŸèƒ½</th>
</tr>
</thead>
<tbody>
<tr>
<td>å·¥å…·æ </td>
<td>ä½äºçª—å£çš„æœ€é¡¶ç«¯</td>
<td>ä¸Šé¢ç”±å¾ˆå¤šå·¥å…·æŒ‰é’®</td>
</tr>
<tr>
<td>å¯¼èˆªå™¨é¢æ¿</td>
<td>ä½äºçª—å£çš„å·¦è¾¹ï¼Œé€šå¸¸ç”¨æ¥æ˜¾ç¤ºé¡¹ç›®ä¸­çš„æ–‡ä»¶åˆ—è¡¨ï¼Œä¹Ÿå¯ä»¥æµè§ˆå…¶ä»–å†…å®¹</td>
<td>ç¬¦å·(symbol)ã€æœç´¢(Search)ã€é—®é¢˜(Issue)ã€è°ƒè¯•(Debug)ã€æ–­ç‚¹(BreakPoints)ã€å’Œæ—¥å¿—(Logs)</td>
</tr>
<tr>
<td>ç¼–è¾‘å™¨é¢æ¿</td>
<td>å«æµ´ä¸­é—´åå³çš„ä½ç½®</td>
<td>å¤§éƒ¨åˆ†æ—¶é—´éƒ½åœ¨è¿™é‡Œå·¥ä½œ</td>
</tr>
<tr>
<td>æ£€æŸ¥å™¨é¢æ¿</td>
<td>ä½äºçª—å£å³è¾¹</td>
<td>æ˜¾ç¤ºçš„æ˜¯ä¸ä¸Šä¸‹æ–‡æœ‰å…³çš„ä¿¡æ¯ï¼Œä»¥åŠä¿®æ”¹é€‰ä¸­é¡¹å±æ€§å€¼çš„æŒ‰é’®</td>
</tr>
<tr>
<td>è°ƒè¯•å™¨é¢æ¿</td>
<td>ä½äºåº•éƒ¨å±…ä¸­ä½ç½®</td>
<td>è°ƒè¯•å™¨è¿è¡Œçš„æ—¶å€™ï¼Œå †æ ˆå’Œè°ƒè¯•å™¨æ§åˆ¶å™¨ä¼šå‡ºç°åœ¨è¿™é‡Œ</td>
</tr>
<tr>
<td>åº“é¢æ¿</td>
<td>éšè—åœ¨çª—å£å³ä¸‹è§’</td>
<td>åˆ—æœ‰é¡¹ç›®èµ„æºã€å¯¹è±¡ã€ä»£ç ç‰‡æ®µå’Œå…¶ä»–åœ¨é¡¹ç›®ä¸­å¯èƒ½ä¼šç”¨åˆ°çš„ä¸œè¥¿</td>
</tr>
</tbody>
</table>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-03%20%E4%B8%8B%E5%8D%8810.16.15.png" alt="Alt text"></p>
<h2 id="7-2-æ”¹å˜å…¬å¸åç§°"><a href="#7-2-æ”¹å˜å…¬å¸åç§°" class="headerlink" title="7.2    æ”¹å˜å…¬å¸åç§°"></a>7.2    æ”¹å˜å…¬å¸åç§°</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å…¬å¸çš„åç§°ä¼šå‡ºç°åœ¨åˆ›å»ºæ–‡ä»¶æ—¶è‡ªåŠ¨ç”Ÿæˆçš„æ³¨é‡Šä¸­ã€‚<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-04%20%E4%B8%8A%E5%8D%8810.02.06.png" alt="Alt text"></p>
</blockquote>
<h2 id="7-3-ä½¿ç”¨ç¼–è¾‘å™¨çš„æŠ€å·§"><a href="#7-3-ä½¿ç”¨ç¼–è¾‘å™¨çš„æŠ€å·§" class="headerlink" title="7.3    ä½¿ç”¨ç¼–è¾‘å™¨çš„æŠ€å·§"></a>7.3    ä½¿ç”¨ç¼–è¾‘å™¨çš„æŠ€å·§</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ—ä¸¾ä¸€ä¸‹ä¸åŒåŒºåŸŸçš„ä½¿ç”¨çš„æŠ€å·§<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-03%20%E4%B8%8B%E5%8D%8810.16.15.png" alt="Alt text"></p>
</blockquote>
<h3 id="7-3-1-å¯¼èˆªå™¨é¢æ¿"><a href="#7-3-1-å¯¼èˆªå™¨é¢æ¿" class="headerlink" title="7.3.1    å¯¼èˆªå™¨é¢æ¿"></a>7.3.1    å¯¼èˆªå™¨é¢æ¿</h3><blockquote>
<ol>
<li>å¯¼èˆªå™¨è§†å›¾ä¸­ä½¿ç”¨<code>è¿‡æ»¤æœç´¢æ¡†</code>è¿‡æ»¤åˆ—è¡¨æ–‡ä»¶ï¼ˆå¯ä»¥åœ¨ä»»æ„å¯¼èˆªå™¨è§†å›¾ä¸­ä½¿ç”¨ï¼‰</li>
<li>åŒå‡»æºæ–‡ä»¶åœ¨æ–°çª—å£ä¸­æ‰“å¼€å®ƒ</li>
</ol>
</blockquote>
<h3 id="7-3-2-å·¥å…·æ "><a href="#7-3-2-å·¥å…·æ " class="headerlink" title="7.3.2    å·¥å…·æ "></a>7.3.2    å·¥å…·æ </h3><blockquote>
<ol>
<li>å³ä¸Šæ–¹æœ‰ä¸€ç»„æ ‡è®°ä¸ºViewçš„å·¥å…·æ æŒ‰é’®ï¼Œç”¨æ¥æ˜¾ç¤ºï¼éšè—éƒ¨åˆ†çª—å£</li>
</ol>
</blockquote>
<h3 id="7-3-2-å…¶å®ƒ"><a href="#7-3-2-å…¶å®ƒ" class="headerlink" title="7.3.2    å…¶å®ƒ"></a>7.3.2    å…¶å®ƒ</h3><blockquote>
<ol>
<li>çª—å£é¡¶ç«¯çš„å·¥å…·æ ä¸‹é¢çœ‹æ–‡ä»¶çš„è·¯å¾„</li>
<li>åœ¨å¤šä¸ªæ ‡ç­¾é¡µä¸­æ‰“å¼€å¤šä¸ªè§†å›¾ï¼šView(èœå•) -&gt; Show Tab Bar -&gt; +</li>
</ol>
</blockquote>
<h2 id="7-4-åœ¨Xcodeçš„å¸®åŠ©ä¸‹ç¼–å†™ä»£ç "><a href="#7-4-åœ¨Xcodeçš„å¸®åŠ©ä¸‹ç¼–å†™ä»£ç " class="headerlink" title="7.4    åœ¨Xcodeçš„å¸®åŠ©ä¸‹ç¼–å†™ä»£ç "></a>7.4    åœ¨Xcodeçš„å¸®åŠ©ä¸‹ç¼–å†™ä»£ç </h2><h3 id="7-4-1-é¦–è¡Œç¼©è¿›ï¼ˆç¾è§‚æ’ç‰ˆï¼‰"><a href="#7-4-1-é¦–è¡Œç¼©è¿›ï¼ˆç¾è§‚æ’ç‰ˆï¼‰" class="headerlink" title="7.4.1    é¦–è¡Œç¼©è¿›ï¼ˆç¾è§‚æ’ç‰ˆï¼‰"></a>7.4.1    é¦–è¡Œç¼©è¿›ï¼ˆç¾è§‚æ’ç‰ˆï¼‰</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>O-C</code>å¹¶ä¸è¦æ±‚ç¼©è¿›ä»£ç ï¼Œä½†è¿™ä¹ˆåšæ˜¯ä¸ªå¥½ä¹ æƒ¯ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>æ•´ç†ç¼©è¿›</th>
<th>å¿«æ·é”®</th>
<th>èœå•</th>
</tr>
</thead>
<tbody>
<tr>
<td>è‡ªåŠ¨æ•´ç†ç¼©è¿›</td>
<td>Control + I</td>
<td>å³é”®ï¼ˆä»£ç ç¼–è¾‘åŒºï¼‰-&gt; Structure -&gt; Re Indent</td>
</tr>
<tr>
<td>å‘å·¦ç¼©è¿›</td>
<td>Command + [</td>
<td>å³é”®ï¼ˆä»£ç ç¼–è¾‘åŒºï¼‰-&gt; Structure -&gt; Shift Right</td>
</tr>
<tr>
<td>å‘å³ç¼©è¿›</td>
<td>Command + [</td>
<td>å·¦é”®ï¼ˆä»£ç ç¼–è¾‘åŒºï¼‰-&gt; Structure -&gt; Shift Left</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æ‰©å±•ï¼š</strong>è®¾ç½®<code>è‡ªåŠ¨æ•´ç†</code>çš„é£æ ¼ï¼šXcode(èœå•) -&gt; Preferences -&gt; Text Editing -&gt; Indentation</p>
</blockquote>
<h3 id="7-4-2-ä»£ç è‡ªåŠ¨å®Œæˆ"><a href="#7-4-2-ä»£ç è‡ªåŠ¨å®Œæˆ" class="headerlink" title="7.4.2    ä»£ç è‡ªåŠ¨å®Œæˆ"></a>7.4.2    ä»£ç è‡ªåŠ¨å®Œæˆ</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å½“è¾“å…¥ä»£ç æ—¶ï¼ŒXcode ä¼šä¸æ–­åœ°æ¯”è¾ƒä½ è¾“å…¥çš„ä»£ç å’Œå®ƒç”Ÿæˆçš„ç¬¦å·ç´¢å¼•ï¼Œå¦‚æœä¸¤è€…åŒ¹é…ï¼ŒXcodeå°±ä¼šç»™å‡ºå»ºè®®ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>ç›¸å…³å¿«æ·é”®</th>
<th>ç”¨é€”</th>
</tr>
</thead>
<tbody>
<tr>
<td>Control + .(åŠè§’å¥å·)</td>
<td>ä½¿æ¨èåˆ—è¡¨å‘åç¿»é¡µ</td>
</tr>
<tr>
<td>Shift + Control + .(åŠè§’å¥å·)</td>
<td>ä½¿æ¨èåˆ—è¡¨å‘å‰ç¿»é¡µ</td>
</tr>
<tr>
<td>esc</td>
<td>åˆ‡æ¢æ¨èåˆ—è¡¨çš„æ˜¾ç¤ºå’Œéšè—</td>
</tr>
<tr>
<td>tap(æˆ–Enter)</td>
<td>ä½¿ç”¨æ¨èåˆ—è¡¨ä¸­é«˜ï¼Œäº®çš„æ¨èé¡¹</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æŠ€å·§ï¼š</strong></p>
<ol>
<li>æŸ¥çœ‹å¯¹è±¡æˆ–ç±»å¯ç”¨æ¶ˆæ¯ï¼š<code>[å¯¹è±¡æˆ–ç±» + ç©ºæ ¼ + escé”®</code></li>
<li>æ‰“å¼€æ¨èåˆ—è¡¨ä¸­æ¨èæ–¹æ³•çš„è¿·ä½ å¸®åŠ©çª—å£ï¼šå°†é¼ æ ‡æ‚¬åœåœ¨æ¨èåˆ—è¡¨ä¸­çš„æ–¹æ³•åä¸Šï¼Œä¾¿ä¼šçœ‹æ³•å“¦çª—å£å³è¾¹ç”±ä¸€ä¸ª<code>?</code>ï¼Œç‚¹å‡»å®ƒ</li>
</ol>
</blockquote>
<h3 id="7-4-3-æ‹¬å·é…å¯¹"><a href="#7-4-3-æ‹¬å·é…å¯¹" class="headerlink" title="7.4.3    æ‹¬å·é…å¯¹"></a>7.4.3    æ‹¬å·é…å¯¹</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è¾“å…¥æŸäº›<code>é—­æ‹¬å·</code>ï¼ˆæ¯”å¦‚<code>)ã€}ã€]</code>ï¼‰æ—¶ï¼Œå¦‚æœåŒ¹é…åˆ°å¯¹åº”çš„<code>å¼€æ‹¬å·</code>ï¼Œå±å¹•ä¼šé—ªçƒã€‚å¦‚æœæ²¡æœ‰æ­£ç¡®é—­åˆï¼Œ<code>Xcode</code>ä¼šå‘å‡ºè­¦æŠ¥å£°ã€‚è¿™ä¸ªåŠŸèƒ½å«åš<code>æ‹¬å·é…å¯¹</code>ã€‚<br><strong>æŠ€å·§ï¼š</strong>åŒå‡»æŸä¸ª<code>åˆ†éš”ç¬¦</code>ï¼Œ<code>Xcode</code>ä¼šé€‰å®šå®ƒä»¥åŠä¸å®ƒåŒ¹é…çš„è´§å·ä¹‹é—´çš„å…¨éƒ¨ä»£ç ã€‚</p>
</blockquote>
<h3 id="7-4-4-æ‰¹é‡ç¼–è¾‘"><a href="#7-4-4-æ‰¹é‡ç¼–è¾‘" class="headerlink" title="7.4.4    æ‰¹é‡ç¼–è¾‘"></a>7.4.4    æ‰¹é‡ç¼–è¾‘</h3><blockquote>
<p><strong>æ³¨æ„ï¼š</strong>æ‰¹é‡æ“ä½œæ˜¯ä¸€ä»¶å±é™©çš„æ“ä½œï¼Œå› æ­¤å¯ä»¥å…ˆåˆ›å»ºä¸€ä¸ª<code>å¿«ç…§</code>ç”¨æ¥æ¢å¤é¡¹ç›®ï¼Œä½†æ˜¯<code>Xcode7</code>å·²ç»å°†æ­¤åŠŸèƒ½ç§»é™¤ã€‚</p>
</blockquote>
<h4 id="æŸ¥æ‰¾å’Œæ›¿æ¢"><a href="#æŸ¥æ‰¾å’Œæ›¿æ¢" class="headerlink" title="æŸ¥æ‰¾å’Œæ›¿æ¢"></a>æŸ¥æ‰¾å’Œæ›¿æ¢</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>Edit -&gt; Find</code>å­èœå•ä¸­åŒ…å«å‡ ä¸ªéå¸¸æ–¹ä¾¿çš„é€‰é¡¹</p>
</blockquote>
<table>
<thead>
<tr>
<th>åŠŸèƒ½</th>
<th>è¯´æ˜</th>
<th>å¿«æ·é”®</th>
</tr>
</thead>
<tbody>
<tr>
<td>Find in Workspaceâ€¦</td>
<td>Command + Shift + F</td>
<td>åœ¨å½“å‰å·¥ä½œåŒºä¸­æœç´¢</td>
</tr>
<tr>
<td>Find and Replace in Workspaceâ€¦</td>
<td>Command + Alt + Shift + F</td>
<td>åœ¨å½“å‰å·¥ä½œåŒºä¸­æœç´¢å¹¶æ›¿æ¢</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>ç¼ºç‚¹ï¼š</strong>å¯¹äºä¸€äº›æ›¿æ¢ä»»åŠ¡ï¼ŒæŸ¥æ‰¾å’Œæ›¿æ¢çš„åŠŸèƒ½å¹¶ä¸å¥½ç”¨</p>
<ul>
<li>ä¿®æ”¹çš„è¿‡äºå½»åº•ï¼Œæ¯”å¦‚åªæƒ³é‡å‘½åå‡½æ•°ä¸­çš„å˜é‡ï¼Œä½†äº‹å®ä¸Šæ•´ä¸ªæ–‡ä»¶ä¸­çš„å˜é‡åéƒ½è¢«ä¿®æ”¹äº†</li>
<li>ä¸èƒ½ä¿®æ”¹æ–‡ä»¶åï¼ˆä¿®æ”¹ç±»éœ€è¦åŒæ—¶ä¿®æ”¹æ–‡ä»¶åï¼‰</li>
</ul>
</blockquote>
<h4 id="Edit-all-in-Scope"><a href="#Edit-all-in-Scope" class="headerlink" title="Edit all in Scope"></a>Edit all in Scope</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨èŒƒå›´å†…ç¼–è¾‘å…¨éƒ¨å†…å®¹ã€‚</p>
<ol>
<li>åœ¨ç¼–è¾‘å™¨ä¸­é€‰ä¸­è¦ä¿®æ”¹çš„<code>æ ‡è®°å</code></li>
<li>ç‚¹å‡»å®ƒï¼Œå³è¾¹å‡ºç°ä¸€ä¸ªå‘ä¸‹çš„ç®­å¤´ï¼Œç‚¹å‡»ç®­å¤´å‡ºç°ä¸€ä¸ªèœå•</li>
<li>é€‰æ‹©èœå•ï¼Œé€‰æ‹©Edit all in Scope</li>
</ol>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-05%20%E4%B8%8A%E5%8D%888.14.05.png" alt="Alt text"><br><strong>æ³¨æ„ï¼š</strong>å¦‚æœXcodeä¸­çš„è¯­æ³•é«˜äº®åŠŸèƒ½è¢«å…³é—­æˆ–æ”¹åŠ¨å¾ˆå¤šï¼Œ<code>Edit in all Scope</code>åŠŸèƒ½ä¹Ÿè®¸å°±ä¼šæ‹’ç»å·¥ä½œ</p>
</blockquote>
<h4 id="Xcodeå†…ç½®çš„é‡æ„å·¥å…·"><a href="#Xcodeå†…ç½®çš„é‡æ„å·¥å…·" class="headerlink" title="Xcodeå†…ç½®çš„é‡æ„å·¥å…·"></a>Xcodeå†…ç½®çš„é‡æ„å·¥å…·</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸ä»…èƒ½é‡å‘½åç±»ï¼Œè¿˜èƒ½é‡å‘½åç›¸åº”æºæ–‡ä»¶ã€‚</p>
<ol>
<li>æ‰“å¼€å­˜åœ¨è¦ä¿®æ”¹çš„ç±»åçš„æ–‡ä»¶ï¼Œå°†å…‰æ ‡æ”¾åˆ°ç±»åä¸­</li>
<li>Edit(èœå•)-&gt;Refactor-&gt;Rename</li>
</ol>
<p><strong>æ³¨æ„ï¼š</strong>é‡æ„ä¸èƒ½é‡å‘½åæ³¨é‡Šä¸­çš„æ–‡å­—ã€‚æ‰€ä»¥ï¼Œ<code>ç±»é‡Œé¢çš„æ³¨é‡Š</code>ã€<code>Xcodeç”Ÿæˆçš„æ–‡ä»¶å¤´æ³¨é‡Š</code>æˆ–è€…ä»»ä½•ä½ ç¼–å†™çš„<code>æ–‡æ¡£æ³¨é‡Š</code>éƒ½éœ€è¦æ‰‹å·¥ç¼–è¾‘ï¼ˆå¯ä»¥é€šè¿‡æŸ¥æ‰¾å’Œæ›¿æ¢ç®€åŒ–è¿™ä¸€è¿‡ç¨‹ï¼‰ã€‚</p>
</blockquote>
<h3 id="7-4-5-ä»£ç å¯¼èˆª"><a href="#7-4-5-ä»£ç å¯¼èˆª" class="headerlink" title="7.4.5    ä»£ç å¯¼èˆª"></a>7.4.5    ä»£ç å¯¼èˆª</h3><h4 id="å¿«æ·é”®"><a href="#å¿«æ·é”®" class="headerlink" title="å¿«æ·é”®"></a>å¿«æ·é”®</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æºè‡ª<code>emacs</code>ï¼ŒåŒæ—¶é€‚ç”¨äºXcodeã€TextEditã€Safariçš„åœ°å€æ å’Œæ–‡æœ¬åŸŸã€Pageså’ŒKeynoteæ–‡æœ¬åŸŸã€‚<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-05%20%E4%B8%8A%E5%8D%888.44.02.png" alt="Alt text"></p>
</blockquote>
<h4 id="å¿«é€Ÿæ‰“å¼€"><a href="#å¿«é€Ÿæ‰“å¼€" class="headerlink" title="å¿«é€Ÿæ‰“å¼€"></a>å¿«é€Ÿæ‰“å¼€</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¤§è‡´æœ‰2ç§æ–¹å¼</p>
</blockquote>
<table>
<thead>
<tr>
<th>ç”¨é€”</th>
<th>æ“ä½œ</th>
<th>å¿«æ·é”®</th>
</tr>
</thead>
<tbody>
<tr>
<td>é¡¹ç›®æ–‡ä»¶æœç´¢</td>
<td>File(èœå•)-&gt;Open Quickly</td>
<td>Command + Shift + D</td>
</tr>
<tr>
<td>è¾…åŠ©çª—å£ï¼ˆé»˜è®¤æ‰“å¼€å½“å‰æ–‡ä»¶å¯¹åº”çš„<code>.m</code>æ–‡ä»¶æˆ–<code>.h</code>æ–‡ä»¶ï¼‰</td>
<td>View(èœå•)-&gt;Assistant Editor-&gt;Show Assistant Editor</td>
<td><strong>æ‰“å¼€ï¼š</strong>Command + alt + Enter  <strong>å…³é—­ï¼š</strong>Command + Enter</td>
</tr>
</tbody>
</table>
<h3 id="7-4-6-é›†ä¸­ç²¾åŠ›"><a href="#7-4-6-é›†ä¸­ç²¾åŠ›" class="headerlink" title="7.4.6    é›†ä¸­ç²¾åŠ›"></a>7.4.6    é›†ä¸­ç²¾åŠ›</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>è¾¹æ ï¼ˆgutterï¼‰</code>å’Œ<code>èšç„¦æ ï¼ˆfocus ribbonï¼‰</code></p>
</blockquote>
<table>
<thead>
<tr>
<th><em>**</em></th>
<th>è¯´æ˜</th>
<th>æ“ä½œ</th>
</tr>
</thead>
<tbody>
<tr>
<td>è¾¹æ </td>
<td>ä»£ç è°ƒè¯•</td>
</tr>
<tr>
<td>èšç„¦æ </td>
<td>ä»£ç æŠ˜å </td>
<td><strong>æ˜¾ç¤ºèšç„¦æ ï¼š</strong><code>Xcode(èœå•)-&gt;Preferences...-&gt;Text Editing-&gt;å‹¾é€‰Code folding ribbon</code>ï¼›<strong>æ›´å¤šä»£ç æŠ˜å æ“ä½œï¼š</strong><code>Editor-&gt;Code Folding</code></td>
</tr>
</tbody>
</table>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-05%20%E4%B8%8A%E5%8D%889.13.08.png" alt="Alt text"></p>
<h3 id="7-4-7-ä½¿ç”¨å¯¼èˆªæ¡"><a href="#7-4-7-ä½¿ç”¨å¯¼èˆªæ¡" class="headerlink" title="7.4.7    ä½¿ç”¨å¯¼èˆªæ¡"></a>7.4.7    ä½¿ç”¨å¯¼èˆªæ¡</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é‡Œé¢çš„å¾ˆå¤šç©ºé—´å¯ä»¥è®©ä½ åœ¨é¡¹ç›®ä¸­çš„åŸæ–‡ä»¶ä¹‹é—´å¿«é€Ÿåˆ‡æ¢ã€‚<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-05%2011.05.05.png" alt="Alt text"></p>
</blockquote>
<h4 id="pragmaæŒ‡ä»¤"><a href="#pragmaæŒ‡ä»¤" class="headerlink" title="#pragmaæŒ‡ä»¤"></a><code>#pragma</code>æŒ‡ä»¤</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯ä»¥å°†<code>O-C</code>å¸¸è§„ä»£ç ä¹‹å¤–çš„ä¸€äº›ä¿¡æ¯æˆ–è¯´æ˜ä¼ é€’ç»™ç¼–è¯‘å™¨å’Œä»£ç ç¼–è¾‘å™¨ã€‚</p>
<ul>
<li><code>#pragma mark è¯´æ˜</code>ï¼šæ·»åŠ æ ‡è®°åˆ°åŠŸèƒ½èœå•</li>
<li><code>#pragma mark -</code>ï¼šåœ¨èœå•ä¸­æ’å…¥ä¸€æ¡åˆ†å‰²çº¿</li>
</ul>
</blockquote>
<h4 id="æ³¨é‡Šä¸­ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦"><a href="#æ³¨é‡Šä¸­ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦" class="headerlink" title="æ³¨é‡Šä¸­ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦"></a>æ³¨é‡Šä¸­ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¼šå°†ç›¸åº”çš„æ³¨é‡Šä¿¡æ¯æ”¾å…¥åŠŸèƒ½èœå•ä¸­ï¼Œç±»ä¼¼<code>#pragma mark</code>çš„æ•ˆæœã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li><code>MARK:è¯´æ˜</code></li>
<li><code>TODO:è¯´æ˜</code></li>
<li><code>FIXME:è¯´æ˜</code></li>
<li><code>!!!:è¯´æ˜</code></li>
<li><code>???:è¯´æ˜</code></li>
</ul>
</blockquote>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-05%2013.13.37.png" alt="Alt text"></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">id</span>) init</span><br><span class="line">&#123;</span><br><span class="line">    <span class="meta">#pragma mark åˆå§‹åŒ–çˆ¶ç±»</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">super</span> init]) &#123;</span><br><span class="line">        engine = [Engine new];</span><br><span class="line">        <span class="comment">// MARK:åˆå§‹åŒ–å®ä¾‹å±æ€§</span></span><br><span class="line">        tires[<span class="number">0</span>] = [Tire new];</span><br><span class="line">        tires[<span class="number">1</span>] = [Tire new];</span><br><span class="line">        tires[<span class="number">2</span>] = [Tire new];</span><br><span class="line">        tires[<span class="number">3</span>] = [Tire new];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">self</span>);</span><br><span class="line">&#125; <span class="comment">// init</span></span><br></pre></td></tr></table></figure>
<h3 id="7-4-8-è·å–ä¿¡æ¯"><a href="#7-4-8-è·å–ä¿¡æ¯" class="headerlink" title="7.4.8    è·å–ä¿¡æ¯"></a>7.4.8    è·å–ä¿¡æ¯</h3><h4 id="7-4-8-1-è·å¾—å¸®åŠ©"><a href="#7-4-8-1-è·å¾—å¸®åŠ©" class="headerlink" title="7.4.8.1    è·å¾—å¸®åŠ©"></a>7.4.8.1    è·å¾—å¸®åŠ©</h4><p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-05%2013.52.23.png" alt="Alt text"></p>
<h4 id="7-4-8-2-æ–‡æ¡£ç®¡ç†ç¨‹åº"><a href="#7-4-8-2-æ–‡æ¡£ç®¡ç†ç¨‹åº" class="headerlink" title="7.4.8.2    æ–‡æ¡£ç®¡ç†ç¨‹åº"></a>7.4.8.2    æ–‡æ¡£ç®¡ç†ç¨‹åº</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è®¿é—®è‹¹æœå®˜æ–¹APIæ–‡æ¡£æœ‰ä»¥ä¸‹æ–¹å¼</p>
</blockquote>
<table>
<thead>
<tr>
<th>æƒ…æ™¯</th>
<th>æ“ä½œ</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>quick search</td>
<td>option + å•å‡»æŸä¸ªæ ‡è®°</td>
<td>åªå¼¹å‡ºä¸€ä¸ªåŒ…å«æ¦‚è¦ä¿¡æ¯çš„å¸®åŠ©çª—å£</td>
</tr>
<tr>
<td>åœ¨æ–‡æ¡£æµè§ˆçª—å£æŸ¥çœ‹ç›¸åº”æ–‡æ¡£</td>
<td>option + åŒå‡»æŸä¸ªæ ‡è®°ï¼ˆæˆ– å°†å…‰æ ‡ç§»åŠ¨åˆ°æ ‡è®°å…§  + control + option + command + /ï¼‰</td>
</tr>
</tbody>
</table>
<h2 id="7-5-è°ƒè¯•"><a href="#7-5-è°ƒè¯•" class="headerlink" title="7.5    è°ƒè¯•"></a>7.5    è°ƒè¯•</h2><h3 id="7-5-1-æš´åŠ›æµ‹è¯•"><a href="#7-5-1-æš´åŠ›æµ‹è¯•" class="headerlink" title="7.5.1    æš´åŠ›æµ‹è¯•"></a>7.5.1    æš´åŠ›æµ‹è¯•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨ç¨‹åºä¸­å†™å…¥è¯­å¥ï¼ˆå¦‚<code>NSLog</code>ï¼‰æ¥è¾“å‡ºç¨‹åºä¸­çš„æ§åˆ¶æµç¨‹å’Œä¸€äº›æ•°æ®å€¼ã€‚</p>
</blockquote>
<h3 id="7-5-2-Xcodeçš„è°ƒè¯•å™¨"><a href="#7-5-2-Xcodeçš„è°ƒè¯•å™¨" class="headerlink" title="7.5.2    Xcodeçš„è°ƒè¯•å™¨"></a>7.5.2    Xcodeçš„è°ƒè¯•å™¨</h3><blockquote>
<p><strong>è°ƒè¯•å™¨ï¼š</strong>ä½äºç¨‹åºå’Œæ“ä½œç³»ç»Ÿä¹‹é—´çš„ç¨‹åºï¼Œèƒ½å¤Ÿ</p>
<ul>
<li>ä¸­æ–­ç¨‹åºï¼Œè¿™æ ·å°±å¯ä»¥æ£€æŸ¥ç¨‹åºçš„æ•°æ®ï¼Œç”šè‡³ä¿®æ”¹ç¨‹åºï¼Œç„¶åæ¢å¤ç¨‹åºå¹¶æŸ¥çœ‹è¿è¡Œç»“æœ</li>
<li>å¯ä»¥å•æ­¥æ‰§è¡Œä»£ç ï¼Œå‡ç¼“ç¨‹åºè¿è¡Œçš„é€Ÿåº¦ï¼Œç»†è‡´åœ°æŸ¥çœ‹ä»£ç ä¼šå¯¹æ•°æ®è¿›è¡Œå“ªäº›æ”¹åŠ¨</li>
</ul>
<p><strong>è°ƒè¯•çª—å£ï¼š</strong>å¯ä»¥æä¾›å¤§é‡æ¦‚è¿°ä¿¡æ¯<br><strong>è°ƒè¯•æ§åˆ¶å°ï¼š</strong>å¯ä»¥ç›´æ¥å‘è°ƒè¯•å™¨å‘é€è°ƒè¯•å‘½ä»¤çš„è°ƒè¯•æ§åˆ¶å°ã€‚<br><strong>è¯´æ˜ï¼š</strong>è°ƒè¯•çª—å£å¯ä»¥é€‰æ‹©ä¸¤ç§è°ƒè¯•å™¨ï¼Œ<code>GDB</code>å’Œ<code>LLDB</code>ï¼ŒåŒºåˆ«ä¸»è¦æ˜¯ç²¾ç»†åº¦å’Œå†…è”æ€§ã€‚</p>
<ul>
<li><strong>GDBï¼š</strong>GNUè®¡åˆ’çš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥åœ¨å„ç§å¹³å°ä¸Šå…¼å®¹ï¼Œäº«èª‰å·²ä¹…</li>
<li><strong>LLDBï¼š</strong>LLVMè®¡åˆ’å¤šä¸ªXcodeå·¥å…·ä¸­çš„ä¸€å‘˜</li>
</ul>
</blockquote>
<h3 id="7-5-3-ç²¾å·§çš„è°ƒè¯•ç¬¦å·"><a href="#7-5-3-ç²¾å·§çš„è°ƒè¯•ç¬¦å·" class="headerlink" title="7.5.3    ç²¾å·§çš„è°ƒè¯•ç¬¦å·"></a>7.5.3    ç²¾å·§çš„è°ƒè¯•ç¬¦å·</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è°ƒè¯•ç¨‹åºæ—¶å¯ä»¥è®©ç¼–è¯‘å™¨å‘å‡ºé¢å¤–çš„è°ƒè¯•ç¬¦å·ï¼Œå¯ä»¥ä½¿ç”¨Debugæ„å»ºé…ç½®ï¼ˆProduct-&gt;Schema-&gt;Edit Schemaï¼‰ã€‚</p>
</blockquote>
<h3 id="7-5-4-å¼€å§‹è°ƒè¯•"><a href="#7-5-4-å¼€å§‹è°ƒè¯•" class="headerlink" title="7.5.4    å¼€å§‹è°ƒè¯•"></a>7.5.4    å¼€å§‹è°ƒè¯•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä½¿ç”¨GUIæ¯”å‘½ä»¤è¡Œè¿›è¡Œè°ƒè¯•æ›´åŠ å®¹æ˜“ä¸€äº›</p>
<ol>
<li>è®¾ç½®æ–­ç‚¹</li>
<li>è¿è¡Œç¨‹åº</li>
<li>è°ƒè¯•</li>
</ol>
</blockquote>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-06%20%E4%B8%8A%E5%8D%8810.52.03.png" alt="Alt text"></p>
<h3 id="7-5-5-æ£€æŸ¥ç¨‹åº"><a href="#7-5-5-æ£€æŸ¥ç¨‹åº" class="headerlink" title="7.5.5    æ£€æŸ¥ç¨‹åº"></a>7.5.5    æ£€æŸ¥ç¨‹åº</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨è°ƒè¯•çŠ¶æ€ä¸‹ï¼Œå°†é¼ æ ‡æ”¾åœ¨å˜é‡åä¸Šæ—¶ï¼Œä¼šå¼¹å‡ºä¸€ä¸ª<code>æ˜¾ç¤º</code>å½“å‰æ•°å€¼ä¿¡æ¯çš„å¼¹å‡ºçª—ï¼Œç‚¹å‡»é‡Œé¢çš„å€¼è¿˜å¯ä»¥<code>ä¿®æ”¹</code>å½“å‰å€¼ã€‚</p>
</blockquote>
<h2 id="7-6-å¤‡å¿˜è¡¨"><a href="#7-6-å¤‡å¿˜è¡¨" class="headerlink" title="7.6    å¤‡å¿˜è¡¨"></a>7.6    å¤‡å¿˜è¡¨</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>Xcodeé”®ç›˜å¿«æ·é”®<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-06%20%E4%B8%8B%E5%8D%8812.14.31.png" alt="Alt text"><br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-06%20%E4%B8%8B%E5%8D%8812.15.11.png" alt="Alt text"></p>
</blockquote>
<h2 id="7-7-å°ç»“"><a href="#7-7-å°ç»“" class="headerlink" title="7.7    å°ç»“"></a>7.7    å°ç»“</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_06  æºæ–‡ä»¶ç»„ç»‡/" itemprop="url">
                  6 æºæ–‡ä»¶ç»„ç»‡
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T10:38:06+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_06  æºæ–‡ä»¶ç»„ç»‡/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_06  æºæ–‡ä»¶ç»„ç»‡/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†ç¨‹åºæ‹†åˆ†ä¸ºå¤šä¸ªå°æ–‡ä»¶æœ‰åŠ©äºæ›´å¿«åœ°æ‰¾åˆ°é‡è¦çš„ä»£ç ã€‚</p>
</blockquote>
<h2 id="6-1-æ‹†åˆ†æ¥å£ä¸å®ç°"><a href="#6-1-æ‹†åˆ†æ¥å£ä¸å®ç°" class="headerlink" title="6.1    æ‹†åˆ†æ¥å£ä¸å®ç°"></a>6.1    æ‹†åˆ†æ¥å£ä¸å®ç°</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ¥å£æ”¾åœ¨<code>.h</code>æ–‡ä»¶ï¼Œå®ç°æ”¾åœ¨<code>.m</code>æ–‡ä»¶ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>æ–‡ä»¶</th>
<th>å­˜æ”¾ä»£ç </th>
</tr>
</thead>
<tbody>
<tr>
<td>å¤´æ–‡ä»¶(.h)</td>
<td>ç±»çš„<code>@interface</code>æŒ‡ä»¤ã€å…¬å…±<code>struct</code>å®šä¹‰ã€<code>enum</code>å¸¸é‡ã€<code>#defines</code>å’Œ<code>extern</code>å…¨å±€å˜é‡ç­‰</td>
</tr>
<tr>
<td>å’Œç±»åŒåçš„.m(æˆ–.mm)æ–‡ä»¶</td>
<td>ç±»çš„<code>@implementation</code>æŒ‡ä»¤ã€å…¨å±€å˜é‡çš„å®šä¹‰ã€ç§æœ‰structç­‰</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong>å¦‚æœç”¨<code>.mm</code>åšæ–‡ä»¶æ‰©å±•åï¼Œç¼–è¯‘å™¨å°±ä¼šè®¤ä¸ºä½ æ˜¯ç”¨<code>Objective-C++</code>ï¼ˆåŒæ—¶ä½¿ç”¨<code>C++</code>å’Œ<code>Objective-C</code>ï¼‰ç¼–å†™çš„ä»£ç </p>
</blockquote>
<h3 id="åœ¨Xcodeä¸­åˆ›å»ºæ–°æ–‡ä»¶"><a href="#åœ¨Xcodeä¸­åˆ›å»ºæ–°æ–‡ä»¶" class="headerlink" title="åœ¨Xcodeä¸­åˆ›å»ºæ–°æ–‡ä»¶"></a>åœ¨Xcodeä¸­åˆ›å»ºæ–°æ–‡ä»¶</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ›å»ºåŒ…å«ç±»çš„æ–‡ä»¶</p>
<ol>
<li>Fileï¼ˆèœå•ï¼‰-&gt; New -&gt; Fileâ€¦</li>
<li>é€‰æ‹©æ¨¡ç‰ˆï¼šios -&gt; Source -&gt; Cocoa Class</li>
<li>å¡«å†™ç±»å</li>
<li>é€‰æ‹©çˆ¶ç±»ï¼ˆé»˜è®¤NSObjectï¼‰</li>
<li>é€‰æ‹©ç¾¤ç»„å’Œç›®æ ‡</li>
<li>é€‰æ‹©å­˜å‚¨ä½ç½®å¹¶ä¿å­˜</li>
</ol>
</blockquote>
<table>
<thead>
<tr>
<th>æœ¯è¯­</th>
<th>è¯´æ˜</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç¾¤ç»„ï¼ˆGroupï¼‰</td>
<td>æ–‡ä»¶éƒ½æ”¾åœ¨ç¾¤ç»„å†…çš„æ–‡ä»¶å¤¹ä¸­ï¼Œå°†ä»£ç åˆ†ç»„å­˜æ”¾å¯ä»¥å¸®åŠ©ç»„ç»‡é¡¹ç›®ä¸­çš„æºæ–‡ä»¶</td>
<td><code>1.</code> è®¾ç½®ç¾¤ç»„æ—¶ï¼ŒXcodeå¹¶ä¸ä¼šåœ¨ç¡¬ç›˜ä¸Šç§»åŠ¨æ–‡ä»¶æˆ–è€…åˆ›å»ºç›®å½•ï¼Œç¾¤ç»„å…³ç³»ä»…ä»…æ˜¯Xcodeè´Ÿè´£ç®¡ç†çš„ä¸€é¡¹å¥‡å¦™çš„åŠŸèƒ½ï¼›<code>2.</code> å¯ä»¥è®¾ç½®ç¾¤ç»„æŒ‡å‘æ–‡ä»¶ç³»ç»Ÿä¸­æŸä¸ªç‰¹å®šçš„ç›®å½•ï¼ŒXcodeä¼šæ–°å»ºçš„æ–‡ä»¶æ”¾å…¥è¯¥ç›®å½•ä¸­</td>
</tr>
<tr>
<td>ç›®æ ‡ï¼ˆTargetï¼‰</td>
<td>å¤æ‚çš„é¡¹ç›®å¯ä»¥æ‹¥æœ‰å¤šä¸ªç›®æ ‡ï¼Œå®ƒä»¬æºæ–‡ä»¶çš„é…ç½®å„ä¸ç›¸åŒï¼Œæ„å»ºè§„åˆ™ä¹Ÿä¸åŒ</td>
</tr>
</tbody>
</table>
<h2 id="6-2-æ‹†åˆ†-Car-ç¨‹åº"><a href="#6-2-æ‹†åˆ†-Car-ç¨‹åº" class="headerlink" title="6.2    æ‹†åˆ† Car ç¨‹åº"></a>6.2    æ‹†åˆ† Car ç¨‹åº</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ¯ä¸ªç±»éƒ½ç”±å¤´æ–‡ä»¶ï¼ˆ<code>.h</code>ï¼‰å’Œå®ç°æ–‡ä»¶ï¼ˆ<code>.m</code>ï¼‰ç»„æˆï¼Œå…¥å£åœ¨<code>main.m</code></p>
<ul>
<li><strong>å¤´æ–‡ä»¶ï¼ˆ<code>.h</code>æ–‡ä»¶ï¼‰ï¼š</strong>é€šè¿‡<code>import</code>å¼•å…¥æ¨¡å—çš„è¿‡ç¨‹æ”¾åœ¨å¤´æ–‡ä»¶</li>
<li><strong>å®ç°æ–‡ä»¶ï¼ˆ<code>.m</code>æ–‡ä»¶ï¼‰ï¼š</strong>æ–‡ä»¶ä¸­éœ€è¦å¼•å…¥ç›¸åº”çš„å¤´æ–‡ä»¶ï¼ˆ<code>.h</code>ï¼‰æ–‡ä»¶</li>
</ul>
<p><strong>æŠ€å·§ï¼š</strong>å¤åˆçš„ç¨‹åºæ–‡ä»¶ä¸­ä½¿ç”¨äº†å…¶å®ƒç±»ï¼Œå¦‚æœåªæ˜¯é€šè¿‡æŒ‡é’ˆå¼•ç”¨äº†ç›¸åº”çš„ç±»å®ä¾‹ï¼Œå¯ä»¥ç”¨<code>@class</code>å£°æ˜å¼•ç”¨çš„ç±»è€Œä¸éœ€è¦<code>import</code>ï¼Œä»è€Œæå‡é‡æ–°ç¼–è¯‘æ—¶çš„æ€§èƒ½ã€‚</p>
<p><strong>å¯¼å…¥æ–‡ä»¶ï¼š</strong><code>import</code>æ–‡ä»¶æœ‰ä¸¤ç§æ–¹å¼</p>
</blockquote>
<table>
<thead>
<tr>
<th>å¯¼å…¥</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>#import &quot;æ–‡ä»¶&quot;</code></td>
<td>å¯¼å…¥é¡¹ç›®æœ¬åœ°çš„å¤´æ–‡ä»¶</td>
</tr>
<tr>
<td><code>#import &lt;æ–‡ä»¶&gt;</code></td>
<td>å¯¼å…¥ç³»ç»Ÿæ–‡ä»¶ï¼ˆåªè¯»ï¼‰</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ 6.2\ CarPaers-Split<span class="comment"># å­˜æ”¾ä»£ç çš„ç¾¤ç»„</span></span><br><span class="line">â”‚   â”œâ”€â”€ AllWeatherRadial.h</span><br><span class="line">â”‚   â”œâ”€â”€ AllWeatherRadial.m</span><br><span class="line">â”‚   â”œâ”€â”€ Car.h</span><br><span class="line">â”‚   â”œâ”€â”€ Car.m</span><br><span class="line">â”‚   â”œâ”€â”€ Engine.h</span><br><span class="line">â”‚   â”œâ”€â”€ Engine.m</span><br><span class="line">â”‚   â”œâ”€â”€ Slant6.h</span><br><span class="line">â”‚   â”œâ”€â”€ Slant6.m</span><br><span class="line">â”‚   â”œâ”€â”€ Tire.h</span><br><span class="line">â”‚   â”œâ”€â”€ Tire.m</span><br><span class="line">â”‚   â””â”€â”€ main.m<span class="comment"># å…¥å£æ–‡ä»¶</span></span><br><span class="line">â””â”€â”€ 6.2\ CarPaers-Split.xcodeproj</span><br><span class="line">    â”œâ”€â”€ project.pbxproj</span><br><span class="line">    â””â”€â”€ xcuserdata</span><br><span class="line">        â””â”€â”€ tonyearth.xcuserdatad</span><br></pre></td></tr></table></figure>
<h2 id="6-3-ä½¿ç”¨å¿«æ–‡ä»¶ä¾èµ–å…³ç³»"><a href="#6-3-ä½¿ç”¨å¿«æ–‡ä»¶ä¾èµ–å…³ç³»" class="headerlink" title="6.3    ä½¿ç”¨å¿«æ–‡ä»¶ä¾èµ–å…³ç³»"></a>6.3    ä½¿ç”¨å¿«æ–‡ä»¶ä¾èµ–å…³ç³»</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¾èµ–å…³ç³»å¯ä»¥å­˜åœ¨äºä¸¤ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ä¹‹é—´ï¼Œå¹¶ä¸”å…·æœ‰ä¼ é€’æ€§ï¼Œå¦‚æœå…¶ä¸­ä¸€ä¸ªæ–‡ä»¶å‘ç”Ÿå˜åŒ–ï¼Œå…¶å®ƒæ–‡ä»¶éƒ½ä¼šè¢«é‡æ–°ç¼–è¯‘ã€‚</p>
</blockquote>
<h3 id="6-3-1-é‡æ–°ç¼–è¯‘é¡»çŸ¥"><a href="#6-3-1-é‡æ–°ç¼–è¯‘é¡»çŸ¥" class="headerlink" title="6.3.1    é‡æ–°ç¼–è¯‘é¡»çŸ¥"></a>6.3.1    é‡æ–°ç¼–è¯‘é¡»çŸ¥</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ–‡ä»¶å¯¼å…¥è¿‡äºæ··ä¹±ä¼šå»¶é•¿ç¼–è¯‘æ—¶é—´ï¼Œä¹Ÿä¼šå¯¼è‡´ä¸å¿…è¦çš„é‡å¤ç¼–è¯‘ï¼Œå¯ä»¥é€šè¿‡<code>@class</code>å‡å°‘å¿…éœ€å¯¼å…¥çš„å¤´æ–‡ä»¶çš„æ•°é‡ï¼Œä»è€Œå¯ä»¥ç¼©çŸ­ç¼–è¯‘æ—¶é—´ã€‚</p>
</blockquote>
<h4 id="class"><a href="#class" class="headerlink" title="@class"></a>@class</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ›å»ºä¸€ä¸ªå‰å‘å¼•å¯¼ï¼Œç”¨åœ¨ç¨‹åºä¸éœ€è¦çŸ¥é“ç±»çš„æ‰€æœ‰ä¿¡æ¯çš„åœºæ™¯ï¼ˆæ¯”å¦‚åˆ›å»ºäº†ç›¸åº”çš„å˜é‡ï¼Œä½†æ²¡æœ‰å‘å˜é‡å‘é€æ¶ˆæ¯ï¼‰ã€‚<br><strong>æŠ€å·§ï¼š</strong>å¦‚æœè¯•å›¾é€šè¿‡<code>#import</code>è¯­å¥è®©ä¸¤ä¸ªç±»ç›¸äº’å¼•ç”¨ï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°ç¼–è¯‘é”™è¯¯ï¼Œå¯ä»¥ç”¨<code>@class</code>æ›¿ä»£ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Cocoa/Cocoa.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@class</span> <span class="title">Tire</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">@class</span> <span class="title">Engine</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Car</span> : <span class="title">NSObject</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) setEngine: (Engine *) newEngine;</span><br><span class="line"></span><br><span class="line">- (Engine *) engine;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) setTire: (Tire *) tire</span><br><span class="line">         atIndex: (<span class="keyword">int</span>) index;</span><br><span class="line"></span><br><span class="line">- (Tire *) tireAtIndex: (<span class="keyword">int</span>) index;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) print;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Car</span></span><br></pre></td></tr></table></figure>
<h3 id="6-3-2-è®©æ±½è½¦è·‘ä¸€ä¼šå„¿"><a href="#6-3-2-è®©æ±½è½¦è·‘ä¸€ä¼šå„¿" class="headerlink" title="6.3.2    è®©æ±½è½¦è·‘ä¸€ä¼šå„¿"></a>6.3.2    è®©æ±½è½¦è·‘ä¸€ä¼šå„¿</h3><p><em>Car.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Car.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"Engine.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"Tire.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Car</span></span></span><br><span class="line">&#123;</span><br><span class="line">    Tire *tires[<span class="number">4</span>];</span><br><span class="line">    Engine *engine;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>) init</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">super</span> init]) &#123;</span><br><span class="line">        engine = [Engine new];</span><br><span class="line"></span><br><span class="line">        tires[<span class="number">0</span>] = [Tire new];</span><br><span class="line">        tires[<span class="number">1</span>] = [Tire new];</span><br><span class="line">        tires[<span class="number">2</span>] = [Tire new];</span><br><span class="line">        tires[<span class="number">3</span>] = [Tire new];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">self</span>);</span><br><span class="line"></span><br><span class="line">&#125; <span class="comment">// init</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (Engine *) engine</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> (engine);</span><br><span class="line">&#125; <span class="comment">// engine</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) setEngine: (Engine *) newEngine</span><br><span class="line">&#123;</span><br><span class="line">    engine = newEngine;</span><br><span class="line">&#125; <span class="comment">// setEngine</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) setTire: (Tire *) tire</span><br><span class="line">         atIndex: (<span class="keyword">int</span>) index</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt; <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span> (<span class="string">@"bad index (%d) in setTire:atIndex:"</span>,</span><br><span class="line">               index);</span><br><span class="line">        exit (<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    tires[index] = tire;</span><br><span class="line"></span><br><span class="line">&#125; <span class="comment">// setTire:atIndex:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (Tire *) tireAtIndex: (<span class="keyword">int</span>) index</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt; <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span> (<span class="string">@"bad index (%d) in tireAtIndex:"</span>,</span><br><span class="line">               index);</span><br><span class="line">        exit (<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (tires[index]);</span><br><span class="line"></span><br><span class="line">&#125; <span class="comment">// tireAtIndex:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) print</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, engine);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, tires[<span class="number">0</span>]);</span><br><span class="line">    <span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, tires[<span class="number">1</span>]);</span><br><span class="line">    <span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, tires[<span class="number">2</span>]);</span><br><span class="line">    <span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, tires[<span class="number">3</span>]);</span><br><span class="line"></span><br><span class="line">&#125; <span class="comment">// print</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Car</span></span><br></pre></td></tr></table></figure>
<h3 id="6-3-3-å¯¼å…¥å’Œç»§æ‰¿"><a href="#6-3-3-å¯¼å…¥å’Œç»§æ‰¿" class="headerlink" title="6.3.3    å¯¼å…¥å’Œç»§æ‰¿"></a>6.3.3    å¯¼å…¥å’Œç»§æ‰¿</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¦‚æœå½“å‰çš„æ–‡ä»¶å¤´æ–‡ä»¶ä¸­çš„ç±»ä¼š<code>ç»§æ‰¿</code>è¦å¼•å…¥çš„ç±»ï¼Œåˆ™ä¸èƒ½é€šè¿‡<code>@class</code>å¼•å…¥ï¼Œå› ä¸ºç¼–è¯‘å™¨éœ€è¦çŸ¥é“çˆ¶ç±»ä¸­å®ä¾‹å˜é‡çš„å®Œæ•´ä¿¡æ¯ã€‚</p>
</blockquote>
<p><em>Slant6.h</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Engine.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Slant6</span> : <span class="title">Engine</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h2 id="6-4-å°ç»“"><a href="#6-4-å°ç»“" class="headerlink" title="6.4    å°ç»“"></a>6.4    å°ç»“</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_05  å¤åˆ/" itemprop="url">
                  5 å¤åˆ
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T10:37:38+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_05  å¤åˆ/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_05  å¤åˆ/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å»ºç«‹ç±»ä¹‹é—´çš„å…³ç³»é™¤äº†<code>ç»§æ‰¿</code>è¿˜æœ‰<code>å¤åˆ</code></p>
</blockquote>
<h2 id="5-1-ä»€ä¹ˆæ˜¯å¤åˆ"><a href="#5-1-ä»€ä¹ˆæ˜¯å¤åˆ" class="headerlink" title="5.1    ä»€ä¹ˆæ˜¯å¤åˆ"></a>5.1    ä»€ä¹ˆæ˜¯å¤åˆ</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä½¿ç”¨å¤åˆå¯ç»„åˆå¤šä¸ªå¯¹è±¡ï¼Œè®©å®ƒä»¬åˆ†å·¥åä½œ<br><strong>åŸç†ï¼š</strong>åœ¨<code>0-C</code> ä¸­ï¼Œå¤åˆæ˜¯é€šè¿‡åŒ…å«ä½œä¸ºå®ä¾‹å˜é‡çš„å¯¹è±¡æŒ‡é’ˆå®ç°çš„ã€‚</p>
</blockquote>
<h2 id="5-2-è‡ªå®šä¹‰NSLog"><a href="#5-2-è‡ªå®šä¹‰NSLog" class="headerlink" title="5.2    è‡ªå®šä¹‰NSLog()"></a>5.2    è‡ªå®šä¹‰NSLog()</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨ç±»ä¸­æä¾›<code>descriptionæ–¹æ³•</code>å°±å¯ä»¥è‡ªå®šä¹‰<code>NSLog()</code>ä¼šå¦‚ä½•è¾“å‡ºå¯¹è±¡ã€‚</p>
</blockquote>
<h3 id="åœ¨initä¸­åˆå§‹åŒ–å®ä¾‹å±æ€§"><a href="#åœ¨initä¸­åˆå§‹åŒ–å®ä¾‹å±æ€§" class="headerlink" title="åœ¨initä¸­åˆå§‹åŒ–å®ä¾‹å±æ€§"></a>åœ¨initä¸­åˆå§‹åŒ–å®ä¾‹å±æ€§</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä½¿ç”¨<code>new</code>åˆ›å»ºæ–°å¯¹è±¡æ—¶åå°è¿›è¡Œäº†ä¸¤æ­¥</p>
<ol>
<li>ä¸ºå¯¹è±¡åˆ†é…å†…å­˜ï¼Œç”¨æ¥å­˜æ”¾<code>å®ä¾‹å˜é‡</code>ï¼ˆå¦‚æœå®ä¾‹å±æ€§æ˜¯å¯¹è±¡ï¼Œè¢«åˆå§‹åŒ–ä¸º<code>nil</code>ï¼‰</li>
<li>è‡ªåŠ¨è°ƒç”¨<code>initæ–¹æ³•</code>ï¼Œä¹‹åå¯¹è±¡è¿›å…¥å¯ç”¨çŠ¶æ€</li>
</ol>
<p><strong>æ‰©å±•ï¼š</strong>åœ¨<code>initæ–¹æ³•ä¸­</code>ä½¿ç”¨<code>if (self = [super init])</code>æ˜¯ä¸ºäº†å®Œæˆçˆ¶ç±»çš„åˆå§‹åŒ–å¹¶ç¡®ä¿çˆ¶ç±»è¿”å›çš„å¯¹è±¡å’Œä¸€å¼€å§‹åˆ›å»ºçš„å¯¹è±¡æ˜¯ä¸€è‡´çš„ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// --------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Tire</span> : <span class="title">NSObject</span></span></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Tire</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Tire</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSString</span> *) description</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="string">@"I am a tire. I last a while"</span>);</span><br><span class="line">&#125; <span class="comment">// description</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Tire</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// --------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Engine</span> : <span class="title">NSObject</span></span></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Engine</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Engine</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSString</span> *) description</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="string">@"I am an engine.  Vrooom!"</span>);</span><br><span class="line">&#125; <span class="comment">// description</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Engine</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// --------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Car</span> : <span class="title">NSObject</span></span></span><br><span class="line">&#123;</span><br><span class="line">    Engine *engine;</span><br><span class="line">    Tire *tires[<span class="number">4</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) print;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Car</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Car</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>) init</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">super</span> init]) &#123;</span><br><span class="line">        engine = [Engine new];</span><br><span class="line">        </span><br><span class="line">        tires[<span class="number">0</span>] = [Tire new];</span><br><span class="line">        tires[<span class="number">1</span>] = [Tire new];</span><br><span class="line">        tires[<span class="number">2</span>] = [Tire new];</span><br><span class="line">        tires[<span class="number">3</span>] = [Tire new];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">self</span>);</span><br><span class="line">    </span><br><span class="line">&#125; <span class="comment">// init</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) print</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, engine);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, tires[<span class="number">0</span>]);</span><br><span class="line">    <span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, tires[<span class="number">1</span>]);</span><br><span class="line">    <span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, tires[<span class="number">2</span>]);</span><br><span class="line">    <span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, tires[<span class="number">3</span>]);</span><br><span class="line">    </span><br><span class="line">&#125; <span class="comment">// print</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Car</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// --------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main (<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span><br><span class="line">&#123;</span><br><span class="line">    Car *car;</span><br><span class="line">    </span><br><span class="line">    car = [Car new];</span><br><span class="line">    [car print];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> (<span class="number">0</span>);</span><br><span class="line">    </span><br><span class="line">&#125; <span class="comment">// main</span></span><br></pre></td></tr></table></figure>
<h2 id="5-3-å­˜å–æ–¹æ³•"><a href="#5-3-å­˜å–æ–¹æ³•" class="headerlink" title="5.3    å­˜å–æ–¹æ³•"></a>5.3    å­˜å–æ–¹æ³•</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ˜¯ç”¨æ¥è¯»å–æˆ–æ”¹å˜æŸä¸ªå¯¹è±¡å±æ€§çš„æ–¹æ³•ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>å­˜å–æ–¹æ³•</th>
<th>æ–¹æ³•å‘½åï¼ˆCocoaæƒ¯ä¾‹ï¼‰</th>
<th>ç”¨é€”</th>
</tr>
</thead>
<tbody>
<tr>
<td>getter</td>
<td>getPropertyName</td>
<td>è¿”å›å®ä¾‹å˜é‡çš„å€¼</td>
</tr>
<tr>
<td>setter</td>
<td>propertyName</td>
<td>å°†å®ä¾‹å˜é‡çš„å€¼èµ‹ä¸ºå‚æ•°æ‰€æŒ‡å‘çš„å€¼</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>å»ºè®®ï¼š</strong>å¦‚æœè¦å¯¹å¯¹è±¡ä¸­çš„å±æ€§è¿›è¡Œæ“ä½œï¼Œå› è¯¥å°½é‡ä½¿ç”¨å¯¹è±¡æä¾›çš„å­˜å–æ–¹æ³•ï¼Œè€Œä¸æ˜¯ç›´æ¥æ”¹å˜å¯¹è±¡é‡Œé¢çš„å€¼ã€‚<br><strong>æ³¨æ„ï¼š</strong>ä¸è¦å°†<code>get</code>ä½œä¸ºgetteræ–¹æ³•çš„å‰ç¼€ï¼Œå› ä¸º<code>get</code>å‡ºç°åœ¨<code>Cocoa</code>çš„æ–¹æ³•åç§°ä¸­æ„å‘³ç€è¿™ä¸ªæ–¹æ³•ä¼šå°†ä½ ä¼ é€’çš„å‚æ•°ä½œä¸ºæŒ‡é’ˆæ¥è¿”å›æ•°å€¼ã€‚</p>
</blockquote>
<h3 id="5-3-1-è®¾ç½®-engine-å±æ€§çš„å­˜å–æ–¹æ³•"><a href="#5-3-1-è®¾ç½®-engine-å±æ€§çš„å­˜å–æ–¹æ³•" class="headerlink" title="5.3.1    è®¾ç½® engine å±æ€§çš„å­˜å–æ–¹æ³•"></a>5.3.1    è®¾ç½® engine å±æ€§çš„å­˜å–æ–¹æ³•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨<code>@interface</code>å’Œ<code>@implementation</code>ä¸­åŒæ—¶å¢åŠ å­˜å–æ–¹æ³•ã€‚<br><strong>æ‰©å±•ï¼š</strong>åœ¨å†…å­˜ç®¡ç†å’Œå¯¹è±¡çš„å¤šæœ‰æƒæ–¹é¢<code>Engin</code>çš„<code>getter</code>æ–¹æ³•å’Œ<code>setter</code>æ–¹æ³•è¿˜å­˜åœ¨ç€é—®é¢˜ã€‚</p>
</blockquote>
<h3 id="5-3-2-è®¾ç½®-tires-å±æ€§çš„å­˜å–æ–¹æ³•"><a href="#5-3-2-è®¾ç½®-tires-å±æ€§çš„å­˜å–æ–¹æ³•" class="headerlink" title="5.3.2    è®¾ç½® tires å±æ€§çš„å­˜å–æ–¹æ³•"></a>5.3.2    è®¾ç½® tires å±æ€§çš„å­˜å–æ–¹æ³•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸ä»…è¦çŸ¥é“æ–°è½®èƒï¼Œè¿˜è¦çŸ¥é“æ–°è½®èƒçš„ä½ç½®ã€‚<br><strong>æ³¨æ„ï¼š</strong><code>é˜²å¾¡å¼ç¼–ç¨‹</code><br>å¯¹æ— æ•ˆç´¢å¼•è¿›è¡Œé˜²å¾¡ã€‚</p>
</blockquote>
<h3 id="5-3-3-Car-ç±»ä»£ç çš„å…¶ä»–å˜åŒ–"><a href="#5-3-3-Car-ç±»ä»£ç çš„å…¶ä»–å˜åŒ–" class="headerlink" title="5.3.3    Car ç±»ä»£ç çš„å…¶ä»–å˜åŒ–"></a>5.3.3    Car ç±»ä»£ç çš„å…¶ä»–å˜åŒ–</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// --------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Tire</span> : <span class="title">NSObject</span></span></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Tire</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Tire</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSString</span> *) description</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="string">@"I am a tire. I last a while"</span>);</span><br><span class="line">&#125; <span class="comment">// description</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Tire</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// --------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Engine</span> : <span class="title">NSObject</span></span></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Engine</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Engine</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSString</span> *) description</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> (<span class="string">@"I am an engine.  Vrooom!"</span>);</span><br><span class="line">&#125; <span class="comment">// description</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Engine</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// --------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Car</span> : <span class="title">NSObject</span></span></span><br><span class="line">&#123;</span><br><span class="line">	Engine *engine;</span><br><span class="line">	Tire *tires[<span class="number">4</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (Engine *) engine;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) setEngine: (Engine *) newEngine;</span><br><span class="line"></span><br><span class="line">- (Tire *) tireAtIndex: (<span class="keyword">int</span>) index;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) setTire: (Tire *) tire</span><br><span class="line">		 atIndex: (<span class="keyword">int</span>) index;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) print;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Car</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Car</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>) init</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">super</span> init]) &#123;</span><br><span class="line">		engine = [Engine new];</span><br><span class="line">		</span><br><span class="line">		tires[<span class="number">0</span>] = [Tire new];</span><br><span class="line">		tires[<span class="number">1</span>] = [Tire new];</span><br><span class="line">		tires[<span class="number">2</span>] = [Tire new];</span><br><span class="line">		tires[<span class="number">3</span>] = [Tire new];</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> (<span class="keyword">self</span>);</span><br><span class="line">	</span><br><span class="line">&#125; <span class="comment">// init</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (Engine *) engine</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> (engine);</span><br><span class="line">&#125; <span class="comment">// engine</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) setEngine: (Engine *) newEngine</span><br><span class="line">&#123;</span><br><span class="line">	engine = newEngine;</span><br><span class="line">&#125; <span class="comment">// setEngine</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) setTire: (Tire *) tire</span><br><span class="line">		 atIndex: (<span class="keyword">int</span>) index</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt; <span class="number">3</span>) &#123;</span><br><span class="line">		<span class="built_in">NSLog</span> (<span class="string">@"bad index (%d) in setTire:atIndex:"</span>,</span><br><span class="line">			   index);</span><br><span class="line">		exit (<span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	tires[index] = tire;</span><br><span class="line">	</span><br><span class="line">&#125; <span class="comment">// setTire:atIndex:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (Tire *) tireAtIndex: (<span class="keyword">int</span>) index</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt; <span class="number">3</span>) &#123;</span><br><span class="line">		<span class="built_in">NSLog</span> (<span class="string">@"bad index (%d) in tireAtIndex:"</span>,</span><br><span class="line">			   index);</span><br><span class="line">		exit (<span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> (tires[index]);</span><br><span class="line">	</span><br><span class="line">&#125; <span class="comment">// tireAtIndex:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) print</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, engine);</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, tires[<span class="number">0</span>]);</span><br><span class="line">	<span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, tires[<span class="number">1</span>]);</span><br><span class="line">	<span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, tires[<span class="number">2</span>]);</span><br><span class="line">	<span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, tires[<span class="number">3</span>]);</span><br><span class="line">	</span><br><span class="line">&#125; <span class="comment">// print</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Car</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// --------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main (<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) </span><br><span class="line">&#123;</span><br><span class="line">	Car *car = [Car new];</span><br><span class="line">	</span><br><span class="line">	Engine *engine = [Engine new];</span><br><span class="line">	[car setEngine: engine];</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">		Tire *tire = [Tire new];</span><br><span class="line">		</span><br><span class="line">		[car setTire: tire atIndex: i];</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	[car print];</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> (<span class="number">0</span>);</span><br><span class="line">	</span><br><span class="line">&#125; <span class="comment">// main</span></span><br></pre></td></tr></table></figure>
<h2 id="5-4-æ‰©å±•-CarParts-ç¨‹åº"><a href="#5-4-æ‰©å±•-CarParts-ç¨‹åº" class="headerlink" title="5.4    æ‰©å±• CarParts ç¨‹åº"></a>5.4    æ‰©å±• CarParts ç¨‹åº</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç»“åˆ<code>ç»§æ‰¿</code>å’Œ<code>å¤åˆ</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// --------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Tire</span> : <span class="title">NSObject</span></span></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Tire</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Tire</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSString</span> *) description</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="string">@"I am a tire. I last a while"</span>);</span><br><span class="line">&#125; <span class="comment">// description</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Tire</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// --------------------------------------------------</span></span><br><span class="line"><span class="comment">// æ–°å‹è½®èƒ</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">AllWeatherRadial</span> : <span class="title">Tire</span></span></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// AllWeatherRadial</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">AllWeatherRadial</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSString</span> *) description</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> (<span class="string">@"I am a tire for rain or shine."</span>);</span><br><span class="line">&#125; <span class="comment">// description</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// AllWeatherRadial</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// --------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Engine</span> : <span class="title">NSObject</span></span></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Engine</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Engine</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSString</span> *) description</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> (<span class="string">@"I am an engine.  Vrooom!"</span>);</span><br><span class="line">&#125; <span class="comment">// description</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Engine</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// --------------------------------------------------</span></span><br><span class="line"><span class="comment">// æ–°å‹å¼•æ“</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Slant6</span> : <span class="title">Engine</span></span></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Slant6</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Slant6</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSString</span> *) description</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> (<span class="string">@"I am a slant-6. VROOOM!"</span>);</span><br><span class="line">&#125; <span class="comment">// description</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Slant6</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// --------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Car</span> : <span class="title">NSObject</span></span></span><br><span class="line">&#123;</span><br><span class="line">	Engine *engine;</span><br><span class="line">	Tire *tires[<span class="number">4</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (Engine *) engine;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) setEngine: (Engine *) newEngine;</span><br><span class="line"></span><br><span class="line">- (Tire *) tireAtIndex: (<span class="keyword">int</span>) index;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) setTire: (Tire *) tire atIndex: (<span class="keyword">int</span>) index;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) print;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Car</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Car</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>) init</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">super</span> init]) &#123;</span><br><span class="line">		engine = [Engine new];</span><br><span class="line">		</span><br><span class="line">		tires[<span class="number">0</span>] = [Tire new];</span><br><span class="line">		tires[<span class="number">1</span>] = [Tire new];</span><br><span class="line">		tires[<span class="number">2</span>] = [Tire new];</span><br><span class="line">		tires[<span class="number">3</span>] = [Tire new];</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> (<span class="keyword">self</span>);</span><br><span class="line">	</span><br><span class="line">&#125; <span class="comment">// init</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (Engine *) engine</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> (engine);</span><br><span class="line">&#125; <span class="comment">// engine</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) setEngine: (Engine *) newEngine</span><br><span class="line">&#123;</span><br><span class="line">	engine = newEngine;</span><br><span class="line">&#125; <span class="comment">// setEngine</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) setTire: (Tire *) tire atIndex: (<span class="keyword">int</span>) index</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt; <span class="number">3</span>) &#123;</span><br><span class="line">		<span class="built_in">NSLog</span> (<span class="string">@"bad index (%d) in setTire:atIndex:"</span>, index);</span><br><span class="line">		exit (<span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	tires[index] = tire;</span><br><span class="line">	</span><br><span class="line">&#125; <span class="comment">// setTire:atIndex:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (Tire *) tireAtIndex: (<span class="keyword">int</span>) index</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt; <span class="number">3</span>) &#123;</span><br><span class="line">		<span class="built_in">NSLog</span> (<span class="string">@"bad index (%d) in tireAtIndex:"</span>, index);</span><br><span class="line">		exit (<span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> (tires[index]);</span><br><span class="line">	</span><br><span class="line">&#125; <span class="comment">// tireAtIndex:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) print</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, engine);</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, tires[<span class="number">0</span>]);</span><br><span class="line">	<span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, tires[<span class="number">1</span>]);</span><br><span class="line">	<span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, tires[<span class="number">2</span>]);</span><br><span class="line">	<span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, tires[<span class="number">3</span>]);</span><br><span class="line">	</span><br><span class="line">&#125; <span class="comment">// print</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Car</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// --------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main (<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) </span><br><span class="line">&#123;</span><br><span class="line">	Car *car = [Car new];</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">		Tire *tire = [AllWeatherRadial new];</span><br><span class="line">		</span><br><span class="line">		[car setTire: tire</span><br><span class="line">			 atIndex: i];</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	Engine *engine = [Slant6 new];</span><br><span class="line">	[car setEngine: engine];</span><br><span class="line">	</span><br><span class="line">	[car print];</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> (<span class="number">0</span>);</span><br><span class="line">	</span><br><span class="line">&#125; <span class="comment">// main</span></span><br></pre></td></tr></table></figure>
<h2 id="5-5-å¤åˆè¿˜æ˜¯ç»§æ‰¿"><a href="#5-5-å¤åˆè¿˜æ˜¯ç»§æ‰¿" class="headerlink" title="5.5    å¤åˆè¿˜æ˜¯ç»§æ‰¿"></a>5.5    å¤åˆè¿˜æ˜¯ç»§æ‰¿</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨è¿›è¡Œé¢å‘å¯¹è±¡ç¼–ç¨‹æ—¶é€šå¸¸ä¼šçŠ¯è¿™æ ·çš„é”™è¯¯ï¼ä»»ä½•ä¸œè¥¿éƒ½æƒ³ä½¿ç”¨ç»§æ‰¿ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>æ¯”è¾ƒ</th>
<th>ç±»ä¹‹é—´çš„å…³ç³»</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç»§æ‰¿</td>
<td><code>is a</code></td>
</tr>
<tr>
<td>å¤åˆ</td>
<td><code>has a</code></td>
</tr>
</tbody>
</table>
<h2 id="5-6-å°ç»“"><a href="#5-6-å°ç»“" class="headerlink" title="5.6    å°ç»“"></a>5.6    å°ç»“</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_04  ç»§æ‰¿/" itemprop="url">
                  4 ç»§æ‰¿
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T10:36:44+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_04  ç»§æ‰¿/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_04  ç»§æ‰¿/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¤„ç†ç±»å’Œå¯¹è±¡çš„å…³ç³»æ—¶ï¼Œè¦é‡è§†<code>OOP</code>çš„ä¸¤ä¸ªæ–¹é¢</p>
<ul>
<li><strong>ç»§æ‰¿ï¼š</strong>å®šä¹‰ä¸€ä¸ªå…·æœ‰çˆ¶ç±»æ‰€æœ‰åŠŸèƒ½çš„æ–°ç±»</li>
<li><strong>å¤åˆï¼š</strong>åœ¨å¯¹è±¡ä¸­å¼•ç”¨å…¶ä»–å¯¹è±¡</li>
</ul>
</blockquote>
<h2 id="4-1-ä¸ºä½•ä½¿ç”¨ç»§æ‰¿"><a href="#4-1-ä¸ºä½•ä½¿ç”¨ç»§æ‰¿" class="headerlink" title="4.1    ä¸ºä½•ä½¿ç”¨ç»§æ‰¿"></a>4.1    ä¸ºä½•ä½¿ç”¨ç»§æ‰¿</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†æ‰€æœ‰é‡å¤çš„å†…å®¹åˆå¹¶åœ¨ä¸€èµ·ï¼Œå¹¶åœ¨éœ€è¦çš„åœ°æ–¹æ‹¥æœ‰è‡ªå®šä¹‰çš„æ–¹æ³•ã€‚<br><strong>ä¸ä½¿ç”¨ç»§æ‰¿çš„æ¶æ„</strong><br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-02%20%E4%B8%8B%E5%8D%887.34.10.png" alt="Alt text"><br><strong>ä½¿ç”¨ç»§æ‰¿åçš„æ¶æ„</strong><br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-02%20%E4%B8%8B%E5%8D%887.35.04.png" alt="Alt text"></p>
</blockquote>
<h2 id="4-2-ç»§æ‰¿çš„è¯­æ³•æ ¼å¼"><a href="#4-2-ç»§æ‰¿çš„è¯­æ³•æ ¼å¼" class="headerlink" title="4.2    ç»§æ‰¿çš„è¯­æ³•æ ¼å¼"></a>4.2    ç»§æ‰¿çš„è¯­æ³•æ ¼å¼</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>@interface å­ç±»å: çˆ¶ç±»å</code></p>
</blockquote>
<table>
<thead>
<tr>
<th>æœ¯è¯­</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>è¶…ç±»ï¼ˆæˆ–çˆ¶ç±»ï¼‰</td>
<td>ç»§æ‰¿çš„ç±»</td>
</tr>
<tr>
<td>å­ç±»ï¼ˆæˆ–å­©å­ç±»ï¼‰</td>
<td>æ‰§è¡Œç»§æ‰¿çš„ç±»</td>
</tr>
<tr>
<td>é‡å†™</td>
<td>å¦‚æœæƒ³æ”¹å˜æ–¹æ³•çš„å®ç°ï¼Œéœ€è¦é‡å†™ç»§æ‰¿çš„æ–¹æ³•</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong><code>O-C</code>ä¸æ”¯æŒå¤šç»§æ‰¿ï¼ˆå¯ä»¥ä½¿ç”¨ç±»åˆ«å’Œåè®®æ¨¡æ‹Ÿå¤šç»§æ‰¿æ•ˆæœï¼‰</p>
</blockquote>
<h2 id="4-3-ç»§æ‰¿çš„å·¥ä½œæœºåˆ¶"><a href="#4-3-ç»§æ‰¿çš„å·¥ä½œæœºåˆ¶" class="headerlink" title="4.3    ç»§æ‰¿çš„å·¥ä½œæœºåˆ¶"></a>4.3    ç»§æ‰¿çš„å·¥ä½œæœºåˆ¶</h2><h3 id="4-3-1-æ–¹æ³•è°ƒåº¦"><a href="#4-3-1-æ–¹æ³•è°ƒåº¦" class="headerlink" title="4.3.1    æ–¹æ³•è°ƒåº¦"></a>4.3.1    æ–¹æ³•è°ƒåº¦</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å½“å‘é€æ¶ˆæ¯æ—¶ï¼Œ<code>O-C</code>çš„æ–¹æ³•è°ƒåº¦æœºåˆ¶å°†åœ¨å½“å‰çš„ç±»ä¸­æœç´¢ç›¸åº”çš„æ–¹æ³•ã€‚å¦‚æœæ— æ³•åœ¨æ¥æ”¶æ¶ˆæ¯çš„å¯¹è±¡çš„ç±»æ–‡ä»¶ä¸­æ‰¾åˆ°ç›¸åº”çš„æ–¹æ³•ï¼Œå®ƒå°±ä¼šåœ¨è¯¥å¯¹è±¡çš„è¶…ç±»ä¸­è¿›è¡ŒæŸ¥æ‰¾ã€‚<br><strong>æ³¨æ„ï¼š</strong>å¦‚æœåœ¨æœ€é¡¶å±‚çš„<code>NSObject</code>ç±»ä¸­ä¹Ÿæ²¡æœ‰æ‰¾åˆ°è¯¥æ–¹æ³•ï¼Œåˆ™ä¼šå‡ºç°ä¸€ä¸ªè¿è¡Œæ—¶é”™è¯¯ã€‚</p>
</blockquote>
<h3 id="4-3-2-å®ä¾‹å˜é‡"><a href="#4-3-2-å®ä¾‹å˜é‡" class="headerlink" title="4.3.2    å®ä¾‹å˜é‡"></a>4.3.2    å®ä¾‹å˜é‡</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>O-C</code> ä¸­å›¾å’Œè®¿é—®å®ä¾‹å˜é‡</p>
<ul>
<li>å­ç±»ä¼šä»çˆ¶ç±»ç»§æ‰¿å®ä¾‹å˜é‡</li>
<li>å­ç±»æ ¹æ®è‡ªå·±çš„æƒ…å†µæ·»åŠ é¢å¤–çš„è‡ªå·±çš„å®ä¾‹å˜é‡</li>
<li>æ¯ä¸ªæ–¹æ³•è¢«è°ƒç”¨æ—¶éƒ½è·å¾—äº†ä¸€ä¸ªåä¸º<code>self</code>çš„å‚æ•°ï¼Œ<code>self</code>æŒ‡å‘ç»§æ‰¿é“¾ä¸­ç¬¬ä¸€ä¸ªç±»ä¸­çš„ç¬¬ä¸€ä¸ªå®ä¾‹å˜é‡ã€‚</li>
</ul>
<p><strong>å¤šæ€æ€§ï¼š</strong>ä½¿ç”¨æ›´å…·ä½“ç§ç±»çš„å¯¹è±¡æ¥ä»£æ›¿ä¸€èˆ¬ç±»å‹ï¼Œè¿™ç§èƒ½åŠ›è¢«ç§°ä¸º<code>å¤šæ€æ€§</code>ã€‚<br><strong>æ‰©å±•ï¼š</strong>é€šè¿‡<code>å¯¹è±¡åŸºåœ°å€</code>ï¼ˆç¬¬ä¸€ä¸ªå®ä¾‹å˜é‡çš„é¦–ä¸ªå­—èŠ‚åœ¨å†…å­˜ä¸­çš„ä½ç½®ï¼‰åŠ ä¸Š<code>åç§»åœ°å€</code>ï¼Œç¼–è¯‘å™¨å°±å¯ä»¥æŸ¥æ‰¾å…¶ä»–å®ä¾‹å˜é‡çš„ä½ç½®ã€‚è¿™ä¸ªæœºåˆ¶å«åš<code>åŸºåœ°å€åŠ åç§»</code>ï¼Œé€šè¿‡ç¡¬ç¼–ç å®ç°ï¼Œä½†å­˜åœ¨<code>è„†å¼±çš„åŸºç±»é—®é¢˜</code>ï¼Œ<code>Leopard</code>ç³»ç»Ÿä¸­é€šè¿‡å¼•å…¥64ä½<code>Objective-C</code>è¿è¡Œæ—¶ï¼ˆä½¿ç”¨é—´æ¥å¯»å€æ–¹å¼ç¡®å®šå˜é‡çš„ä½ç½®ï¼‰è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</p>
</blockquote>
<h2 id="4-4-é‡å†™æ–¹æ³•"><a href="#4-4-é‡å†™æ–¹æ³•" class="headerlink" title="4.4    é‡å†™æ–¹æ³•"></a>4.4    é‡å†™æ–¹æ³•</h2><h3 id="superå…³é”®å­—"><a href="#superå…³é”®å­—" class="headerlink" title="superå…³é”®å­—"></a>superå…³é”®å­—</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ©ç”¨<code>super</code>ï¼Œæ—¢å¯ä»¥é‡å†™æ–¹æ³•çš„å®ç°ï¼Œåˆèƒ½è°ƒç”¨è¶…ç±»ä¸­çš„å®ç°æ–¹å¼ã€‚<br><strong>åŸç†ï¼š</strong>æ—¢ä¸æ˜¯å‚æ•°ä¹Ÿä¸æ˜¯å®ä¾‹å˜é‡ï¼Œè€Œæ˜¯ç”±<code>Objective-C</code>ç¼–è¯‘å™¨æä¾›çš„ä¸€ç§ç¥å¥‡çš„åŠŸèƒ½ã€‚å½“æƒ³<code>super</code>å‘é€æ¶ˆæ¯æ—¶ï¼Œå®é™…ä¸Šæ˜¯åœ¨è¯·æ±‚<code>Obective-C</code>å‘è¯¥ç±»çš„è¶…ç±»å‘é€æ¶ˆæ¯ã€‚å¦‚æœè¶…ç±»ä¸­æ²¡æœ‰å®šä¹‰è¯¥æ¶ˆæ¯ï¼Œåˆ™å‘å¹³å¸¸ä¸€æ ·ç»§ç»­åœ¨<code>ç»§æ‰¿é“¾</code>ä¸Šä¸€çº§ä¸­æŸ¥æ‰¾ã€‚</p>
</blockquote>
<h2 id="4-5-å°ç»“"><a href="#4-5-å°ç»“" class="headerlink" title="4.5    å°ç»“"></a>4.5    å°ç»“</h2><h2 id="4-6-ä¸¾ä¸ªæ —å­"><a href="#4-6-ä¸¾ä¸ªæ —å­" class="headerlink" title="4.6    ä¸¾ä¸ªæ —å­"></a>4.6    ä¸¾ä¸ªæ —å­</h2><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_03  é¢å‘å¯¹è±¡ç¼–ç¨‹çš„åŸºç¡€çŸ¥è¯†/" itemprop="url">
                  3 é¢å‘å¯¹è±¡ç¼–ç¨‹çš„åŸºç¡€çŸ¥è¯†
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T10:35:54+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_03  é¢å‘å¯¹è±¡ç¼–ç¨‹çš„åŸºç¡€çŸ¥è¯†/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_03  é¢å‘å¯¹è±¡ç¼–ç¨‹çš„åŸºç¡€çŸ¥è¯†/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>OOPå†å²ï¼š</strong>æ¼”å˜è‡ª20ä¸–çºª60å¹´ä»£çš„<code>Simula</code>ã€70å¹´ä»£çš„<code>SmallTalk</code>ã€80å¹´ä»£çš„<code>Clascal</code>ä»¥åŠå…¶ä»–ç›¸å…³è¯­è¨€ã€‚<code>C++</code>ã€<code>Java</code>ã€<code>Python</code>å’Œ<code>Objective-C</code>ç­‰ç°ä»£ç¼–ç¨‹è¯­è¨€éƒ½ä»è¿™ä¸ªæ—©æœŸçš„è¯­è¨€ä¸­è·å¾—äº†çµæ„Ÿã€‚</p>
</blockquote>
<h2 id="3-1-é—´æ¥"><a href="#3-1-é—´æ¥" class="headerlink" title="3.1    é—´æ¥"></a>3.1    é—´æ¥</h2><p><code>åªè¦åœ¨å¤šåŠ ä¸€å±‚é—´æ¥ï¼Œè®¡ç®—æœºç§‘å­¦ä¸­å°±æ²¡æœ‰è§£å†³ä¸äº†çš„é—®é¢˜</code>ã€‚</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æŒ‡çš„å°±æ˜¯é¢å‘å¯¹è±¡çš„<code>å¤šæ€æ€§</code>ã€‚<br><strong>åŸç†ï¼š</strong>åœ¨ç¨‹åºè¿è¡ŒæœŸé—´ï¼Œé€šè¿‡æŒ‡é’ˆé—´æ¥è·å–æŸä¸ªå€¼ï¼Œè€Œä¸æ˜¯ç›´æ¥è·å–ï¼ˆ<code>æŒ‡é’ˆæŒ‡å‘</code>çš„å˜åŒ–å¯¹ç¨‹åºå‘˜ä¸å¯è§ï¼‰ã€‚</p>
</blockquote>
<h3 id="3-1-1-å˜é‡ä¸é—´æ¥"><a href="#3-1-1-å˜é‡ä¸é—´æ¥" class="headerlink" title="3.1.1    å˜é‡ä¸é—´æ¥"></a>3.1.1    å˜é‡ä¸é—´æ¥</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åŸºæœ¬å˜é‡å°±æ˜¯é—´æ¥æ€æƒ³çš„ä¸€ç§å®é™…åº”ç”¨ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    <span class="comment">// é€šè¿‡ä¿®æ”¹ count é—´æ¥æ§åˆ¶åé¢å¾ªç¯çš„æ¬¡æ•°ï¼Œæœ¬èº«å°±è•´å«ç€é—´æ¥çš„æ€æƒ³</span></span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">5</span>;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"The numbers from 1 to %d:"</span>, count);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= count; i++) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%d\n"</span>, i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-1-2-ä½¿ç”¨æ–‡ä»¶åçš„é—´æ¥"><a href="#3-1-2-ä½¿ç”¨æ–‡ä»¶åçš„é—´æ¥" class="headerlink" title="3.1.2    ä½¿ç”¨æ–‡ä»¶åçš„é—´æ¥"></a>3.1.2    ä½¿ç”¨æ–‡ä»¶åçš„é—´æ¥</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç¨‹åºä¸­ä½¿ç”¨æ–‡ä»¶ï¼ˆè€Œä¸æ˜¯å†™æ­»åœ¨ä»£ç ä¸­ï¼‰ä¹Ÿæ˜¯é—´æ¥æ€æƒ³çš„è¿ç”¨ã€‚<br><strong>æŠ€å·§ï¼š</strong><code>xcode</code>ä¸­è¿è¡Œç¨‹åºæ—¶æä¾›æ–‡ä»¶è·¯å¾„çš„æ–¹å¼</p>
<ol>
<li>æ‰“å¼€è®¾ç½®é¢æ¿ï¼šProductï¼ˆèœå•ï¼‰-&gt; Scheme -&gt; Edit Scheme</li>
<li>åœ¨é¢æ¿ä¸­æ·»åŠ å‚æ•°ï¼šArguments -&gt; Arguments Passed On Launchâ€”&gt;ç‚¹å‡»<code>+</code>æ·»åŠ </li>
</ol>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    <span class="comment">// å‘½ä»¤ä¸­æ²¡æœ‰æä¾›æ–‡ä»¶åï¼Œåˆ™é€€å‡ºç¨‹åº</span></span><br><span class="line">    <span class="keyword">if</span> (argc == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"you need to provide a file name"</span>);</span><br><span class="line">        <span class="keyword">return</span> (<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 1. æ‰“å¼€æ–‡ä»¶</span></span><br><span class="line">    FILE *wordFile = fopen(argv[<span class="number">1</span>], <span class="string">"r"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2. è®¿é—®æ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">char</span> word[<span class="number">100</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä¸€è¡Œä¸€è¡Œåœ°è¯»åŒº</span></span><br><span class="line">    <span class="keyword">while</span> (fgets(word, <span class="number">100</span>, wordFile)) &#123;</span><br><span class="line">        <span class="comment">// å°†æ¯è¡Œæœ€åçš„æ¢è¡Œç¬¦æ›¿æ¢ä¸ºå­—ç¬¦ä¸²ç»“æŸç¬¦ï¼ˆä»è€Œä¸ä¼šè¢«åé¢çš„ strlen è®¡å…¥å­—ç¬¦ä¸²çš„é•¿åº¦ï¼‰</span></span><br><span class="line">        word[strlen(word) - <span class="number">1</span>] = <span class="string">'\0'</span>;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%s is %lu characters long"</span>, word, strlen(word));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 3. å…³é—­æ–‡ä»¶</span></span><br><span class="line">    fclose(wordFile);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-2-åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ä½¿ç”¨é—´æ¥"><a href="#3-2-åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ä½¿ç”¨é—´æ¥" class="headerlink" title="3.2    åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ä½¿ç”¨é—´æ¥"></a>3.2    åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ä½¿ç”¨é—´æ¥</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>OOP</code>çš„æ ¸å¿ƒåœ¨äºä½¿ç”¨é—´æ¥æ¥è°ƒç”¨ä»£ç ï¼ˆè€Œä¸æ˜¯ç›´æ¥è°ƒç”¨å‡½æ•°ï¼‰</p>
</blockquote>
<h3 id="3-2-1-è¿‡ç¨‹å¼ç¼–ç¨‹"><a href="#3-2-1-è¿‡ç¨‹å¼ç¼–ç¨‹" class="headerlink" title="3.2.1    è¿‡ç¨‹å¼ç¼–ç¨‹"></a>3.2.1    è¿‡ç¨‹å¼ç¼–ç¨‹</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨è¿‡ç¨‹å¼ç¼–ç¨‹ä¸­ï¼Œæ•°æ®é€šå¸¸ä¿å­˜åœ¨ç®€å•çš„æ•°æ®ç»“æ„ä¸­ã€‚è¦èŠ±æ—¶é—´è¿æ¥æ•°æ®å’Œç”¨æ¥å¤„ç†æ•°æ®çš„å‡½æ•°ã€‚<br><strong>è¯­è¨€ä¸¾ä¾‹ï¼š</strong><code>BASIC</code>ã€<code>C</code>ã€<code>Tcl</code>å’Œ<code>Perl</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"><span class="comment">/******* æšä¸¾ï¼šå›¾å½¢çš„åŸºæœ¬å…ƒç´  *******/</span></span><br><span class="line"><span class="comment">// å›¾å½¢ç±»å‹</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> &#123;</span><br><span class="line">    kCircle,</span><br><span class="line">    kRectangle,</span><br><span class="line">    kEgg</span><br><span class="line">&#125; ShapeType;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å›¾å½¢é¢œè‰²</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> &#123;</span><br><span class="line">    kRedColor,</span><br><span class="line">    kGreenColor,</span><br><span class="line">    kBlueColor</span><br><span class="line">&#125; ShapeColor;</span><br><span class="line"></span><br><span class="line"><span class="comment">/****** ç»“æ„ä½“ï¼šå›¾å½¢ç±»å‹ ******/</span></span><br><span class="line"><span class="comment">// ç»˜å›¾åŒºåŸŸ</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> &#123;</span><br><span class="line">    <span class="keyword">int</span> x, y, width, height;<span class="comment">// åæ ‡å’Œè¾¹é•¿</span></span><br><span class="line">&#125; ShapeRect;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å›¾å½¢</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> &#123;</span><br><span class="line">    ShapeType type;<span class="comment">// ç±»å‹</span></span><br><span class="line">    ShapeColor fillColor;<span class="comment">// å¡«å……è‰²</span></span><br><span class="line">    ShapeRect bounds;<span class="comment">// è¾¹æ¡†</span></span><br><span class="line">&#125; Shape;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * å°†ä¼ å…¥çš„é¢œè‰²å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²æè¿°</span><br><span class="line"> * @param &#123;ShapeColor&#125; colorName å›¾å½¢é¢œè‰²</span><br><span class="line"> * @return &#123;NSString&#125; æšä¸¾ç±»å‹çš„é¢œè‰²å¯¹åº”çš„å­—ç¬¦ä¸²</span><br><span class="line"> */</span></span><br><span class="line"><span class="built_in">NSString</span> *colorName (ShapeColor colorName) &#123;</span><br><span class="line">    <span class="keyword">switch</span> (colorName) &#123;</span><br><span class="line">        <span class="keyword">case</span> kRedColor:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">@"red"</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> kGreenColor:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">@"green"</span>;</span><br><span class="line">        <span class="keyword">case</span> kBlueColor:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">@"blue"</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * ç»˜åˆ¶åœ†å½¢</span><br><span class="line"> * @param &#123;ShapeRect&#125; bounds ç»˜åˆ¶åŒºåŸŸ</span><br><span class="line"> * @param &#123;ShapeColor&#125; fillColor å›¾å½¢å¡«å……è‰²</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">void</span> drawCircle (ShapeRect bounds, ShapeColor fillColor) &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"drawing a circle at (%d %d %d %d) in %@"</span>, bounds.x, bounds.y, bounds.height, bounds.width, colorName(fillColor));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * ç»˜åˆ¶çŸ©å½¢</span><br><span class="line"> * @param &#123;ShapeRect&#125; bounds ç»˜åˆ¶åŒºåŸŸ</span><br><span class="line"> * @param &#123;ShapeColor&#125; fillColor å›¾å½¢å¡«å……è‰²</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">void</span> drawRectangle (ShapeRect bounds, ShapeColor fillColor) &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"drawing a rectangle at (%d %d %d %d) in %@"</span>, bounds.x, bounds.y, bounds.height, bounds.width, colorName(fillColor));&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * ç»˜åˆ¶æ¤­åœ†å½¢</span><br><span class="line"> * @param &#123;ShapeRect&#125; bounds ç»˜åˆ¶åŒºåŸŸ</span><br><span class="line"> * @param &#123;ShapeColor&#125; fillColor å›¾å½¢å¡«å……è‰²</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">void</span> drawEgg (ShapeRect bounds, ShapeColor fillColor) &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"drawing a egg at (%d %d %d %d) in %@"</span>, bounds.x, bounds.y, bounds.height, bounds.width, colorName(fillColor));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> *  ç»˜åˆ¶å›¾å½¢</span><br><span class="line"> * @param &#123;Shape[]&#125; shapes è¦ç»˜åˆ¶çš„ä¸€ç»„å›¾å½¢</span><br><span class="line"> * @param &#123;int&#125; count ç»˜åˆ¶æ•°ç»„ä¸­çš„å‰countä¸ªå›¾å½¢</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">void</span> drawShapes (Shape shapes[], <span class="keyword">int</span> count) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count; i++) &#123;</span><br><span class="line">        <span class="keyword">switch</span> (shapes[i].type) &#123;</span><br><span class="line">            <span class="keyword">case</span> kCircle:</span><br><span class="line">                drawCircle (shapes[i].bounds, shapes[i].fillColor);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> kRectangle:</span><br><span class="line">                drawRectangle (shapes[i].bounds, shapes[i].fillColor);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> kEgg:</span><br><span class="line">                drawEgg(shapes[i].bounds, shapes[i].fillColor);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    <span class="comment">// å­˜æ”¾å›¾å½¢å®ä¾‹çš„æ•°ç»„</span></span><br><span class="line">    Shape shapes[<span class="number">3</span>];</span><br><span class="line">    <span class="comment">// çº¢è‰²åœ†å½¢</span></span><br><span class="line">    ShapeRect rect0 = &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">10</span>, <span class="number">30</span>&#125;;</span><br><span class="line">    shapes[<span class="number">0</span>].type = kCircle;</span><br><span class="line">    shapes[<span class="number">0</span>].fillColor = kRedColor;</span><br><span class="line">    shapes[<span class="number">0</span>].bounds = rect0;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ç»¿è‰²çŸ©å½¢</span></span><br><span class="line">    ShapeRect rect1 = &#123;<span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>, <span class="number">60</span>&#125;;</span><br><span class="line">    shapes[<span class="number">1</span>].type = kRectangle;</span><br><span class="line">    shapes[<span class="number">1</span>].fillColor = kGreenColor;</span><br><span class="line">    shapes[<span class="number">1</span>].bounds = rect1;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è“è‰²æ¤­åœ†</span></span><br><span class="line">    ShapeRect rect2 = &#123;<span class="number">15</span>, <span class="number">18</span>, <span class="number">37</span>, <span class="number">29</span>&#125;;</span><br><span class="line">    shapes[<span class="number">2</span>].type = kEgg;</span><br><span class="line">    shapes[<span class="number">2</span>].fillColor = kBlueColor;</span><br><span class="line">    shapes[<span class="number">2</span>].bounds = rect2;</span><br><span class="line">    </span><br><span class="line">    drawShapes(shapes, <span class="number">3</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">2016-01-02 00:50:43.911 3.2.1-procedureOriented[834:55458] drawing a circle at (0 0 30 10) <span class="keyword">in</span> red</span><br><span class="line">2016-01-02 00:50:43.912 3.2.1-procedureOriented[834:55458] drawing a rectangle at (30 40 60 50) <span class="keyword">in</span> green</span><br><span class="line">2016-01-02 00:50:43.912 3.2.1-procedureOriented[834:55458] drawing a egg at (15 18 29 37) <span class="keyword">in</span> blue</span><br><span class="line">Program ended with <span class="built_in">exit</span> code: 0</span><br></pre></td></tr></table></figure>
<h3 id="3-2-2-å®ç°é¢å‘å¯¹è±¡ç¼–ç¨‹"><a href="#3-2-2-å®ç°é¢å‘å¯¹è±¡ç¼–ç¨‹" class="headerlink" title="3.2.2    å®ç°é¢å‘å¯¹è±¡ç¼–ç¨‹"></a>3.2.2    å®ç°é¢å‘å¯¹è±¡ç¼–ç¨‹</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è¿‡ç¨‹å¼ç¼–ç¨‹å»ºç«‹åœ¨å‡½æ•°ä¹‹ä¸Šï¼Œæ•°æ®ä¸ºå‡½æ•°æœåŠ¡ï¼Œè€Œé¢å‘å¯¹è±¡ç¼–ç¨‹åˆ™ä»¥ç¨‹åºçš„æ•°æ®ä¸ºä¸­å¿ƒï¼Œå‡½æ•°ä¸ºæ•°æ®æœåŠ¡ã€‚<br><strong>åŸç†ï¼š</strong>æ•°æ®é€šè¿‡<code>é—´æ¥æ–¹å¼</code>å¼•ç”¨ç›¸åº”ä»£ç å¯¹æ•°æ®è¿›è¡Œæ“ä½œï¼ˆæ•°æ®èƒ½å¤ŸçŸ¥é“å¦‚ä½•æŸ¥æ‰¾ç›¸åº”çš„å‡½æ•°ï¼‰ã€‚</p>
</blockquote>
<h4 id="idï¼ˆæ ‡è¯†ç¬¦ï¼‰"><a href="#idï¼ˆæ ‡è¯†ç¬¦ï¼‰" class="headerlink" title="idï¼ˆæ ‡è¯†ç¬¦ï¼‰"></a>idï¼ˆæ ‡è¯†ç¬¦ï¼‰</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>identifier</code>ï¼Œæ˜¯ä¸€ç§æ³›å‹ï¼Œå¯ä»¥ç”¨æ¥å®šä¹‰å¼•ç”¨ä»»ä½•ç±»å‹å¯¹è±¡çš„å˜é‡ã€‚</p>
</blockquote>
<h4 id="å‘é€æ¶ˆæ¯"><a href="#å‘é€æ¶ˆæ¯" class="headerlink" title="å‘é€æ¶ˆæ¯"></a>å‘é€æ¶ˆæ¯</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šçŸ¥å¯¹è±¡æ‰§è¡ŒæŸç§æ“ä½œï¼Œä¹Ÿå«åš<code>è°ƒç”¨æ–¹æ³•</code></p>
</blockquote>
<h4 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a>ç±»</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸åŒäºå…¶ä»–<code>OOP</code>ç³»ç»Ÿï¼Œåœ¨<code>O-C</code>ä¸­ï¼Œå¦‚æœåœ¨è¿è¡Œæ—¶æ”¹å˜æŸä¸ªç±»ï¼Œåˆ™è¯¥ç±»çš„æ‰€æœ‰å¯¹è±¡ä¼š<code>è‡ªåŠ¨ç»§æ‰¿è¿™äº›å˜åŒ–</code>ã€‚</p>
</blockquote>
<h2 id="3-3-æœ‰å…³æœ¯è¯­"><a href="#3-3-æœ‰å…³æœ¯è¯­" class="headerlink" title="3.3    æœ‰å…³æœ¯è¯­"></a>3.3    æœ‰å…³æœ¯è¯­</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æœ‰å…³<code>é¢å‘å¯¹è±¡</code>çš„æœ¯è¯­</p>
</blockquote>
<table>
<thead>
<tr>
<th>æœ¯è¯­</th>
<th>è¯´æ˜</th>
<th>è¯­æ³•</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>ç±»(class)</strong></td>
<td>ä¸€ç§è¡¨ç¤ºå¯¹è±¡ç±»å‹çš„ç»“æ„ä½“</td>
<td>ç±»åé¦–å­—æ¯å¤§å†™</td>
<td>å¯¹è±¡é€šè¿‡å®ƒçš„ç±»æ¥è·å–è‡ªèº«çš„å„ç§ä¿¡æ¯</td>
</tr>
<tr>
<td><strong>å¯¹è±¡æˆ–å®ä¾‹(object)</strong></td>
<td>ä¸€ç§åŒ…å«å€¼å’ŒæŒ‡å‘å…¶ç±»çš„éšè—æŒ‡é’ˆçš„ç»“æ„ä½“</td>
<td>æŒ‡å‘å¯¹è±¡çš„å˜é‡é€šå¸¸é¦–å­—æ¯ä¸è¦å¤§äº›</td>
<td></td>
</tr>
<tr>
<td><strong>æ¶ˆæ¯(message)</strong></td>
<td>å¯¹è±¡å¯ä»¥æ‰§è¡Œçš„æ“ä½œï¼Œç”¨äºé€šçŸ¥å¯¹è±¡åšä»€ä¹ˆ</td>
<td></td>
</tr>
<tr>
<td><strong>æ–¹æ³•(method)</strong></td>
<td>å“åº”æ¶ˆæ¯è¿è¡Œçš„ä»£ç </td>
<td></td>
<td>æ ¹æ®å¯¹è±¡çš„ç±»ï¼Œæ¶ˆæ¯å¯ä»¥è°ƒç”¨ä¸åŒçš„æ–¹æ³•</td>
</tr>
<tr>
<td><strong>æ–¹æ³•è°ƒåº¦(method dispatcher)</strong></td>
<td>ç”¨äºæ¨æµ‹æ‰§è¡Œä»€ä¹ˆæ–¹æ³•ä»¥å“åº”æŸä¸ªç‰¹å®šçš„æ¶ˆæ¯</td>
<td></td>
</tr>
<tr>
<td><strong>æ¥å£(interface)</strong></td>
<td>ç±»ä¸ºå¯¹è±¡æä¾›çš„ç‰¹æ€§æè¿°</td>
<td></td>
</tr>
<tr>
<td><strong>å®ç°(implementation)</strong></td>
<td>ä½¿æ¥å£èƒ½æ­£å¸¸å·¥ä½œçš„ä»£ç </td>
</tr>
</tbody>
</table>
<h2 id="3-4-Object-Cè¯­è¨€ä¸­çš„OOP"><a href="#3-4-Object-Cè¯­è¨€ä¸­çš„OOP" class="headerlink" title="3.4    Object-Cè¯­è¨€ä¸­çš„OOP"></a>3.4    Object-Cè¯­è¨€ä¸­çš„OOP</h2><h3 id="3-4-1-interfaceéƒ¨åˆ†"><a href="#3-4-1-interfaceéƒ¨åˆ†" class="headerlink" title="3.4.1    @interfaceéƒ¨åˆ†"></a>3.4.1    @interfaceéƒ¨åˆ†</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å®šä¹‰ç±»çš„å…¬å…±æ¥å£ï¼ŒçœŸæ­£è¿è¡Œçš„ä»£ç ä½äº<code>@implementation</code>ä¸­ã€‚<br><strong>ç”¨é€”ï¼š</strong>åœ¨ç‰¹å®šç±»çš„å¯¹è±¡è¢«åˆ›å»ºæ—¶ï¼Œä¸ºç¼–è¯‘å™¨æä¾›æœ‰å…³è¯¥ç±»çš„ä¿¡æ¯ï¼Œå°¤å…¶æ˜¯å¯¹è±¡çš„æ•°æ®æˆå‘˜åŠå…¶æä¾›çš„åŠŸèƒ½ã€‚<br><strong>ç»„æˆï¼š</strong>è¯­æ³•ä¸ŠåŒ…å«ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†</p>
<ul>
<li>ç»§æ‰¿å…¶å®ƒ<code>interface</code></li>
<li>å®ç°<code>protocol</code></li>
<li>å®ä¾‹å˜é‡</li>
<li>æ–¹æ³•å£°æ˜</li>
</ul>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> ç±»å: çˆ¶ç±»å </span>&#123;</span><br><span class="line">	<span class="comment">// å®ä¾‹å±æ€§</span></span><br><span class="line">	å±æ€§ç±»å‹ å±æ€§å;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ–¹æ³•å£°æ˜</span></span><br><span class="line">- (è¿”å›å€¼ç±»å‹) æ–¹æ³•å: (å‚æ•°<span class="number">1</span>ç±»å‹)å‚æ•°<span class="number">1</span>åç§°, (å‚æ•°<span class="number">2</span>ç±»å‹)å‚æ•°<span class="number">2</span>åç§°;</span><br><span class="line"><span class="keyword">@end</span><span class="comment">// ç±»åï¼ˆä¾¿äºä»£ç é˜…è¯»ï¼‰</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong>åœ¨å£°æ˜æ–¹æ³•æ—¶ï¼Œå¦‚æœæ–¹æ³•æœ‰å‚æ•°ï¼Œåˆ™éœ€è¦å†’å·ï¼Œå¦åˆ™ä¸éœ€è¦ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Circleç±»</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Circle</span>: <span class="title">NSObject</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å®ä¾‹å˜é‡</span></span><br><span class="line">    <span class="keyword">@private</span></span><br><span class="line">    ShapeColor fillColor;</span><br><span class="line">    ShapeRect bounds;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ–¹æ³•å£°æ˜</span></span><br><span class="line">- (<span class="keyword">void</span>) setFillCollor: (ShapeColor) fillColor;</span><br><span class="line">- (<span class="keyword">void</span>) setBounds: (ShapeRect) bounds;</span><br><span class="line">- (<span class="keyword">void</span>) draw;</span><br><span class="line"><span class="keyword">@end</span><span class="comment">// Circle</span></span><br></pre></td></tr></table></figure>
<h3 id="3-4-2-implementationéƒ¨åˆ†"><a href="#3-4-2-implementationéƒ¨åˆ†" class="headerlink" title="3.4.2    @implementationéƒ¨åˆ†"></a>3.4.2    @implementationéƒ¨åˆ†</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>@implementation</code>æ˜¯ä¸€ä¸ªç¼–è¯‘å™¨æŒ‡ä»¤ï¼Œè¡¨æ˜å°†ä¸ºæŸä¸ªç±»æä¾›ä»£ç </p>
<ul>
<li>æ–¹æ³•çš„å®šä¹‰ä¸å¿…æŒ‰ç…§åœ¨<code>@interface</code>æŒ‡ä»¤ä¸­çš„é¡ºåºå‡ºç°</li>
<li>å¯ä»¥å®šä¹‰æ²¡æœ‰åœ¨<code>@interface</code>ä¸­å£°æ˜è¿‡çš„æ–¹æ³•</li>
<li>åŒä¸€ä¸ªç±»ä¸­ï¼Œæ–¹æ³•çš„å‚æ•°åä¸å¯ä»¥å’Œå®ä¾‹å±æ€§åç›¸åŒï¼Œå¦åˆ™æ–¹æ³•è¢«è°ƒç”¨æ—¶ä¼šè¦†ç›–å®ä¾‹å±æ€§çš„å€¼</li>
</ul>
<p><strong>æ‰©å±•ï¼š</strong></p>
<ul>
<li><strong>å®ä¾‹å˜é‡åï¼š</strong>å¦‚æœå®ä¾‹å˜é‡å–ä¸€ä¸ªå’Œæ–¹æ³•åç›¸åŒçš„åå­—ï¼Œ<code>Cocoa</code>è¿˜å¯ä»¥å‘æŒ¥å‡ºæŸäº›ç¥å¥‡çš„å¨åŠ›</li>
<li><strong>è¿è¡Œæ—¶ï¼š</strong><code>O-Cè¿è¡Œæ—¶</code>æ˜¯æŒ‡ç”¨æˆ·åº”ç”¨ç¨‹åºæ—¶ï¼Œæ”¯æŒè¿™äº›åº”ç”¨ç¨‹åºçš„ä»£ç å—</li>
<li><strong>selfï¼š</strong>ç±»çš„æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œä¸€ä¸ªåä¸º<code>self</code>çš„ç§˜å¯†éšè—å‚æ•°å°†è¢«ä¼ é€’ç»™æ¥å—å¯¹è±¡ï¼Œè€Œè¿™ä¸ªå‚æ•°å¼•ç”¨çš„å°±æ˜¯è¯¥æ¥æ”¶å¯¹è±¡</li>
</ul>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Circle</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * è®¾ç½®å›¾å½¢å¡«å……è‰²</span><br><span class="line"> * @param &#123;ShapeColor&#125; c é¢œè‰²</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>) setFillCollor:(ShapeColor)c &#123;</span><br><span class="line">    fillColor = c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * è®¾ç½®ç»˜å›¾åŒºåŸŸ</span><br><span class="line"> * @param &#123;ShapeRect&#125; b ç»˜å›¾åŒºåŸŸ</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>) setBounds:(ShapeRect)b &#123;</span><br><span class="line">    bounds = b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h3 id="3-4-3-å®ä¾‹åŒ–å¯¹è±¡"><a href="#3-4-3-å®ä¾‹åŒ–å¯¹è±¡" class="headerlink" title="3.4.3    å®ä¾‹åŒ–å¯¹è±¡"></a>3.4.3    å®ä¾‹åŒ–å¯¹è±¡</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å®ä¾‹åŒ–å¯¹è±¡æ—¶ï¼Œéœ€è¦åˆ†é…å†…å­˜ï¼Œç„¶åå°†è¿™äº›å†…å­˜åˆå§‹åŒ–å¹¶ä¿å­˜ä¸ºæœ‰ç”¨çš„é»˜è®¤å€¼ã€‚<br><strong>è¯­æ³•ï¼š</strong>å‘ç›¸åº”çš„<code>ç±»</code>(æˆ–å·²ç»å­˜åœ¨çš„<code>å¯¹è±¡</code>)å‘é€<code>new</code>æ¶ˆæ¯ï¼Œè¯¥ç±»æ¥æ”¶å¹¶å¤„ç†å®Œ<code>new</code>æ¶ˆæ¯åï¼Œæˆ‘ä»¬å°±ä¼šå¾—åˆ°ä¸€ä¸ªå¯ä»¥ä½¿ç”¨çš„æ–°å¯¹è±¡å®ä¾‹ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"><span class="comment">// --------------------------------------------------</span></span><br><span class="line"><span class="comment">// å›¾å½¢ç±»å‹</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> &#123;</span><br><span class="line">    kCircle,</span><br><span class="line">    kRectangle,</span><br><span class="line">    kEgg</span><br><span class="line">&#125; ShapeType;</span><br><span class="line"></span><br><span class="line"><span class="comment">// --------------------------------------------------</span></span><br><span class="line"><span class="comment">// å›¾å½¢é¢œè‰²</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> &#123;</span><br><span class="line">    kRedColor,</span><br><span class="line">    kGreenColor,</span><br><span class="line">    kBlueColor</span><br><span class="line">&#125; ShapeColor;</span><br><span class="line"></span><br><span class="line"><span class="comment">// --------------------------------------------------</span></span><br><span class="line"><span class="comment">// ç»˜å›¾åŒºåŸŸ</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> &#123;</span><br><span class="line">    <span class="keyword">int</span> x, y, width, height;<span class="comment">// åæ ‡å’Œè¾¹é•¿</span></span><br><span class="line">&#125; ShapeRect;</span><br><span class="line"></span><br><span class="line"><span class="comment">// --------------------------------------------------</span></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * å°†ä¼ å…¥çš„é¢œè‰²å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²æè¿°</span><br><span class="line"> * @param &#123;ShapeColor&#125; colorName å›¾å½¢é¢œè‰²</span><br><span class="line"> * @return &#123;NSString&#125; æšä¸¾ç±»å‹çš„é¢œè‰²å¯¹åº”çš„å­—ç¬¦ä¸²</span><br><span class="line"> */</span></span><br><span class="line"><span class="built_in">NSString</span> *colorName (ShapeColor colorName) &#123;</span><br><span class="line">    <span class="keyword">switch</span> (colorName) &#123;</span><br><span class="line">        <span class="keyword">case</span> kRedColor:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">@"red"</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> kGreenColor:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">@"green"</span>;</span><br><span class="line">        <span class="keyword">case</span> kBlueColor:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">@"blue"</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// --------------------------------------------------</span></span><br><span class="line"><span class="comment">// Circleç±»</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Circle</span>: <span class="title">NSObject</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å®ä¾‹å˜é‡</span></span><br><span class="line">    <span class="keyword">@private</span></span><br><span class="line">    ShapeColor fillColor;</span><br><span class="line">    ShapeRect bounds;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ–¹æ³•å£°æ˜</span></span><br><span class="line">- (<span class="keyword">void</span>) setFillCollor: (ShapeColor) fillColor;</span><br><span class="line">- (<span class="keyword">void</span>) setBounds: (ShapeRect) bounds;</span><br><span class="line">- (<span class="keyword">void</span>) draw;</span><br><span class="line"><span class="keyword">@end</span><span class="comment">// Circle</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Circleç±»çš„å®ç°</span></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Circle</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * è®¾ç½®å›¾å½¢å¡«å……è‰²</span><br><span class="line"> * @param &#123;ShapeColor&#125; c é¢œè‰²</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>) setFillCollor:(ShapeColor)c &#123;</span><br><span class="line">    fillColor = c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * è®¾ç½®ç»˜å›¾åŒºåŸŸ</span><br><span class="line"> * @param &#123;ShapeRect&#125; b ç»˜å›¾åŒºåŸŸ</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>) setBounds:(ShapeRect)b &#123;</span><br><span class="line">    bounds = b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * ç»˜åˆ¶</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>) draw &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"drawing a circle at (%d %d %d %d) in %@"</span>, bounds.x, bounds.y, bounds.width, bounds.height, colorName(fillColor));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// --------------------------------------------------</span></span><br><span class="line"><span class="comment">// Rectangleç±»</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Rectangle</span>: <span class="title">NSObject</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å®ä¾‹å˜é‡</span></span><br><span class="line"><span class="keyword">@private</span></span><br><span class="line">    ShapeColor fillColor;</span><br><span class="line">    ShapeRect bounds;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ–¹æ³•å£°æ˜</span></span><br><span class="line">- (<span class="keyword">void</span>) setFillCollor: (ShapeColor) fillColor;</span><br><span class="line">- (<span class="keyword">void</span>) setBounds: (ShapeRect) bounds;</span><br><span class="line">- (<span class="keyword">void</span>) draw;</span><br><span class="line"><span class="keyword">@end</span><span class="comment">// Rectangle</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Rectangleç±»çš„å®ç°</span></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Rectangle</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * è®¾ç½®å›¾å½¢å¡«å……è‰²</span><br><span class="line"> * @param &#123;ShapeColor&#125; c é¢œè‰²</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>) setFillCollor:(ShapeColor)c &#123;</span><br><span class="line">    fillColor = c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * è®¾ç½®ç»˜å›¾åŒºåŸŸ</span><br><span class="line"> * @param &#123;ShapeRect&#125; b ç»˜å›¾åŒºåŸŸ</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>) setBounds:(ShapeRect)b &#123;</span><br><span class="line">    bounds = b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * ç»˜åˆ¶</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>) draw &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"drawing a rectangle at (%d %d %d %d) in %@"</span>, bounds.x, bounds.y, bounds.width, bounds.height, colorName(fillColor));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// --------------------------------------------------</span></span><br><span class="line"><span class="comment">// Eggç±»</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Egg</span>: <span class="title">NSObject</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å®ä¾‹å˜é‡</span></span><br><span class="line"><span class="keyword">@private</span></span><br><span class="line">    ShapeColor fillColor;</span><br><span class="line">    ShapeRect bounds;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ–¹æ³•å£°æ˜</span></span><br><span class="line">- (<span class="keyword">void</span>) setFillCollor: (ShapeColor) fillColor;</span><br><span class="line">- (<span class="keyword">void</span>) setBounds: (ShapeRect) bounds;</span><br><span class="line">- (<span class="keyword">void</span>) draw;</span><br><span class="line"><span class="keyword">@end</span><span class="comment">// Egg</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Eggç±»çš„å®ç°</span></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Egg</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * è®¾ç½®å›¾å½¢å¡«å……è‰²</span><br><span class="line"> * @param &#123;ShapeColor&#125; c é¢œè‰²</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>) setFillCollor:(ShapeColor)c &#123;</span><br><span class="line">    fillColor = c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * è®¾ç½®ç»˜å›¾åŒºåŸŸ</span><br><span class="line"> * @param &#123;ShapeRect&#125; b ç»˜å›¾åŒºåŸŸ</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>) setBounds:(ShapeRect)b &#123;</span><br><span class="line">    bounds = b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * ç»˜åˆ¶</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>) draw &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"drawing a egg at (%d %d %d %d) in %@"</span>, bounds.x, bounds.y, bounds.width, bounds.height, colorName(fillColor));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// --------------------------------------------------</span></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> *  ç»˜åˆ¶å›¾å½¢</span><br><span class="line"> * @param &#123;id[]&#125; shapes è¦ç»˜åˆ¶çš„ä¸€ç»„å›¾å½¢</span><br><span class="line"> * @param &#123;int&#125; count ç»˜åˆ¶æ•°ç»„ä¸­çš„å‰countä¸ªå›¾å½¢</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">void</span> drawShapes (<span class="keyword">id</span> shapes[], <span class="keyword">int</span> count) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count; i++) &#123;</span><br><span class="line">        <span class="keyword">id</span> shape = shapes[i];</span><br><span class="line">        [shape draw];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    <span class="keyword">id</span> shapes[<span class="number">3</span>];</span><br><span class="line">    <span class="comment">// çº¢è‰²åœ†å½¢</span></span><br><span class="line">    ShapeRect rect0 =&#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">10</span>, <span class="number">30</span>&#125;;</span><br><span class="line">    shapes[<span class="number">0</span>] = [Circle new];</span><br><span class="line">    [shapes[<span class="number">0</span>] setBounds: rect0];</span><br><span class="line">    [shapes[<span class="number">0</span>] setFillCollor:kRedColor];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ç»¿è‰²çŸ©å½¢</span></span><br><span class="line">    ShapeRect rect1 = &#123;<span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>, <span class="number">60</span>&#125;;</span><br><span class="line">    shapes[<span class="number">1</span>] = [Rectangle new];</span><br><span class="line">    [shapes[<span class="number">1</span>] setBounds: rect1];</span><br><span class="line">    [shapes[<span class="number">1</span>] setFillCollor:kGreenColor];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è“è‰²æ¤­åœ†</span></span><br><span class="line">    ShapeRect rect2 = &#123;<span class="number">15</span>, <span class="number">18</span>, <span class="number">37</span>, <span class="number">29</span>&#125;;</span><br><span class="line">    shapes[<span class="number">2</span>] = [Egg new];</span><br><span class="line">    [shapes[<span class="number">2</span>] setBounds: rect2];</span><br><span class="line">    [shapes[<span class="number">2</span>] setFillCollor:kBlueColor];</span><br><span class="line">    </span><br><span class="line">    drawShapes(shapes, <span class="number">3</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-4-4-æ‰©å±•-Shapes-Object-ç¨‹åº"><a href="#3-4-4-æ‰©å±•-Shapes-Object-ç¨‹åº" class="headerlink" title="3.4.4    æ‰©å±• Shapes-Object ç¨‹åº"></a>3.4.4    æ‰©å±• Shapes-Object ç¨‹åº</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è½¯ä»¶å®ä½“åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œè€Œå¯¹ä¿®æ”¹å…³é—­</p>
</blockquote>
<h2 id="3-5-å°ç»“"><a href="#3-5-å°ç»“" class="headerlink" title="3.5    å°ç»“"></a>3.5    å°ç»“</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/12/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_02  å¯¹Cçš„æ‰©å±•/" itemprop="url">
                  2 å¯¹cçš„æ‰©å±•
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-12T22:36:43+08:00" content="2016-05-12">
              2016-05-12
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/12/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_02  å¯¹Cçš„æ‰©å±•/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/12/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_02  å¯¹Cçš„æ‰©å±•/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="2-1-æœ€ç®€å•çš„-Objective-C-ç¨‹åº"><a href="#2-1-æœ€ç®€å•çš„-Objective-C-ç¨‹åº" class="headerlink" title="2.1   æœ€ç®€å•çš„ Objective-C ç¨‹åº"></a>2.1   æœ€ç®€å•çš„ Objective-C ç¨‹åº</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é¡¹ç›®åˆ›å»ºè¿‡ç¨‹å¦‚ä¸‹</p>
<ol>
<li>åˆ›å»º workspaceï¼šFile-New-Workspace</li>
<li>åˆ›å»º projectï¼šFile-New-&gt;Project</li>
</ol>
<ul>
<li>é€‰æ‹©æ¨¡ç‰ˆï¼šOS X-&gt;Applicetion-&gt; Command Line</li>
<li>é€‰æ‹©è¯­è¨€ï¼šObject-C</li>
<li>é€‰æ‹© Workspace</li>
</ul>
</blockquote>
<h2 id="2-2-è§£æ„-Hello-Objective-C-ç¨‹åº"><a href="#2-2-è§£æ„-Hello-Objective-C-ç¨‹åº" class="headerlink" title="2.2   è§£æ„ Hello Objective-C ç¨‹åº"></a>2.2   è§£æ„ Hello Objective-C ç¨‹åº</h2><blockquote>
<p><strong>é»˜è®¤ç¼–è¯‘å™¨ï¼š</strong> XCode çš„é»˜è®¤ç¼–è¯‘å™¨ä¸º<code>LLVM</code>ï¼Œå¯ä»¥å¤„ç†<code>C</code>ï¼ˆ.cæ–‡ä»¶ï¼‰ã€<code>C++</code>ï¼ˆ.cppï¼‰ã€<code>Objective-C</code>ï¼ˆ.mï¼‰ã€‚<br><strong>æ‰©å±•ï¼š</strong>æ‰©å±•å<code>.m</code>ä»£è¡¨<code>message</code>ï¼Œå®ƒå€¼å¾—æ˜¯<code>Object-C</code>çš„ä¸€ä¸ªä¸»è¦ç‰¹å¾ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// O-C æ”¯æŒçš„æ¨¡å—å¯¼å…¥æ–¹å¼</span></span><br><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// main çš„å£°æ˜è¯­å¥å’Œç»“å°¾çš„ return è¯­å¥å’Œ C ä¸€æ ·</span></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    <span class="keyword">@autoreleasepool</span> &#123;</span><br><span class="line">        <span class="comment">// insert code here...</span></span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"Hello, World!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-2-1-import-è¯­å¥"><a href="#2-2-1-import-è¯­å¥" class="headerlink" title="2.2.1    #import è¯­å¥"></a>2.2.1    #import è¯­å¥</h3><blockquote>
<p><strong>åŠŸèƒ½ï¼š</strong>é€šçŸ¥ç¼–è¯‘å™¨æŸ¥è¯¢å¤´æ–‡ä»¶ä¸­ç›¸åº”çš„ä»£ç å¹¶å¯¼å…¥ï¼Œä¸€ä¸ªæ–‡ä»¶ä¸­åªä¼šè¢«åŒ…å«ä¸€æ¬¡ï¼ˆæ— è®ºè°ƒç”¨å¤šå°‘æ¬¡<code>#import</code>è¯­å¥ï¼‰<br><strong>è¯´æ˜ï¼š</strong>ç›¸æ¯”<code>C</code>çš„<code>#include</code>ï¼Œ<code>#import</code>èƒ½é¿å…æ–‡ä»¶ç›¸äº’åŒ…å«çš„æƒ…å†µå¯¼è‡´çš„é”™è¯¯ï¼ˆ<code>C</code>è¯­è¨€é€šè¿‡<code>ifdef</code>å®ç°ï¼‰ã€‚<br><strong>æ³¨æ„ï¼š</strong><code>Foundation</code>æ¡†æ¶çš„å¤´æ–‡ä»¶å ç”¨äº†è¿‘1MBçš„ç£ç›˜ç©ºé—´ï¼Œä½¿ç”¨<code>#import &lt;Foundation/Foundation.h&gt;</code>åŒ…å«å¤´æ–‡ä»¶æ—¶ï¼ŒXcodeä½¿ç”¨<code>é¢„ç¼–è¯‘å¤´æ–‡ä»¶</code>åŠ å¿«è¯»å–é€Ÿåº¦ã€‚</p>
</blockquote>
<h3 id="2-2-2-æ¡†æ¶"><a href="#2-2-2-æ¡†æ¶" class="headerlink" title="2.2.2    æ¡†æ¶"></a>2.2.2    æ¡†æ¶</h3><blockquote>
<p><strong>æ¡†æ¶ï¼š</strong>æ˜¯ä¸€ç§æŠŠ<code>å¤´æ–‡ä»¶ã€åº“ã€å›¾ç‰‡ã€å£°éŸ³ç­‰å†…å®¹</code>èšé›†åœ¨ä¸€ä¸ªç‹¬ç«‹å•å…ƒä¸­çš„é›†åˆä½“ã€‚<br><strong>æ¡†æ¶é›†ï¼š</strong>ä¸€ç³»åˆ—æ¡†æ¶çš„é›†åˆã€‚</p>
</blockquote>
<h4 id="è‹¹æœå…¬å¸æä¾›çš„æ¡†æ¶é›†"><a href="#è‹¹æœå…¬å¸æä¾›çš„æ¡†æ¶é›†" class="headerlink" title="è‹¹æœå…¬å¸æä¾›çš„æ¡†æ¶é›†"></a>è‹¹æœå…¬å¸æä¾›çš„æ¡†æ¶é›†</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è‹¹æœå…¬å¸å°†<code>Cocoa</code>ã€<code>Carbon</code>ã€<code>QuickTime</code>ã€<code>OpenGL</code>ç­‰æŠ€æœ¯ä½œä¸ºæ¡†æ¶é›†æ¥æä¾›ã€‚<br><strong>Cocoaæ¡†æ¶é›†ï¼š</strong>åŒ…æ‹¬ä»¥ä¸‹æ¡†æ¶</p>
<ul>
<li>Foundation</li>
<li>Application Kitï¼ˆç®€ç§°AppKitï¼‰</li>
<li>æ”¯æŒæ€§æ¡†æ¶ï¼ˆCore Animation å’Œ Core Imageï¼‰</li>
</ul>
<p><strong>æ‰©å±•ï¼š</strong><a href="">Learn Cocoa On The Mac</a></p>
</blockquote>
<h3 id="2-2-3-NSLog-å’Œ-quot-å­—ç¬¦ä¸²-quot"><a href="#2-2-3-NSLog-å’Œ-quot-å­—ç¬¦ä¸²-quot" class="headerlink" title="2.2.3    NSLog()å’Œ@&quot;å­—ç¬¦ä¸²&quot;"></a>2.2.3    <code>NSLog()</code>å’Œ<code>@&quot;å­—ç¬¦ä¸²&quot;</code></h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>Cocoa</code>ç»™å…¶æ‰€æœ‰å‡½æ•°ã€å¸¸é‡å’Œç±»å‹åéƒ½æ·»åŠ äº†<code>NSå‰ç¼€</code>ï¼ˆä½¿ç”¨<code>NS</code>è€Œä¸æ˜¯<code>Cocoa</code>æºè‡ªå†å²é—ç•™ï¼š<code>Cocoa</code>çš„å‰èº«ä¸º<code>NextSTEP</code>å·¥å…·åŒ…ï¼‰ã€‚</p>
</blockquote>
<h4 id="NSLogå‡½æ•°"><a href="#NSLogå‡½æ•°" class="headerlink" title="NSLogå‡½æ•°"></a>NSLogå‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç”¨äºå‘æ§åˆ¶å°è¾“å‡ºå†…å®¹<br><strong>åŸå‹ï¼š</strong><code>NSObjCRuntime.h</code><br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">** @param &#123;NSString *&#125; format å­—ç¬¦ä¸²ï¼ˆå¯ä»¥åŒ…å«æ ¼å¼è¯´æ˜ç¬¦ï¼‰ </span><br><span class="line">** @param &#123;...&#125; å¯¹åº”æ ¼å¼ä¸²ä¸­æ ¼å¼è¯´æ˜ç¬¦å¯å˜å‚æ•°</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">void</span> <span class="built_in">NSLog</span>(<span class="built_in">NSString</span> *format, ...)</span><br></pre></td></tr></table></figure></p>
<p><strong>æŠ€å·§ï¼š</strong>å»ºè®®åœ¨<code>O-C</code>ä¸­ä½¿ç”¨<code>NSLog</code>æ›¿ä»£<code>printf</code>ï¼Œå› ä¸ºå®ƒæ·»åŠ äº†ä¸€äº›ç‰¹æ€§ï¼Œæ¯”å¦‚</p>
<ul>
<li>æ—¶é—´æˆ³</li>
<li>æ—¥æœŸæˆ³</li>
<li>è‡ªåŠ¨é™„å¸¦æ¢è¡Œç¬¦<code>\n</code>ç­‰</li>
</ul>
</blockquote>
<h4 id="NSString-quot-å­—ç¬¦ä¸²-quot"><a href="#NSString-quot-å­—ç¬¦ä¸²-quot" class="headerlink" title="NSString(@&quot;å­—ç¬¦ä¸²&quot;)"></a>NSString(<code>@&quot;å­—ç¬¦ä¸²&quot;</code>)</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>Cocoa</code>æä¾›çš„<code>NSString</code>é›†æˆäº†å¤§é‡<code>C</code>è¯­è¨€å­—ç¬¦ä¸²æ²¡æœ‰çš„ç‰¹æ€§ã€‚<code>@&quot;å­—ç¬¦ä¸²&quot;</code>è¡¨æ˜å…¶ä¸­çš„<code>å­—ç¬¦ä¸²</code>ä½œä¸º<code>Cocoa</code>çš„<code>NSString</code>å…ƒç´ æ¥å¤„ç†ã€‚</p>
<ul>
<li>å­—ç¬¦ä¸²çš„é•¿åº¦</li>
<li>å­—ç¬¦ä¸²æ¯”è¾ƒ</li>
<li>è½¬æ¢ä¸ºæ•´æ•°å’Œæµ®ç‚¹æ•°</li>
</ul>
<p><strong>æ ¼å¼ä¸²ï¼š</strong>è¾“å‡ºå¯¹è±¡ä½¿ç”¨<code>%@</code>ï¼Œä¼šè°ƒç”¨å¯¹è±¡çš„<code>description</code>æ–¹æ³•</p>
</blockquote>
<h2 id="2-3-å¸ƒå°”ç±»å‹"><a href="#2-3-å¸ƒå°”ç±»å‹" class="headerlink" title="2.3   å¸ƒå°”ç±»å‹"></a>2.3   å¸ƒå°”ç±»å‹</h2><blockquote>
<p><strong>å…³é”®å­—ï¼š</strong><code>BOOL</code>(æ¯”<code>C</code>è¯­è¨€çš„<code>bool</code>æ—©åå¤šå¹´)<br><strong>è¯´æ˜ï¼š</strong>æœ¬è´¨æ˜¯<code>signed char</code>ï¼ˆé€šè¿‡<code>typedef</code>å®šä¹‰ï¼‰ï¼Œä½¿ç”¨8ä½å­˜å‚¨ç©ºé—´</p>
<ul>
<li><code>NO</code>ï¼šæœ¬è´¨æ˜¯<code>signed char</code>å€¼0</li>
<li><code>YES</code>ï¼šæœ¬è´¨æ˜¯<code>signed char</code>å€¼1</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong><code>O-C</code>çš„<code>BOOL</code>ä¸ä»…èƒ½ä¿å­˜<code>NO</code>å’Œ<code>YES</code>ï¼Œç¼–è¯‘å™¨å°†å…¶ä½œä¸º<code>8ä½äºŒè¿›åˆ¶æ•°</code>å¤„ç†ï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥èµ‹å€¼å…¶å®ƒæ•´æ•°å’Œ<code>char</code>ç±»å‹å€¼ï¼ˆå¤§äºä¸€ä¸ªå­—èŠ‚å°†æº¢å‡ºï¼‰ã€‚</p>
</blockquote>
<h3 id="2-3-1-BOOL-å¼ºå¤§çš„å®ç”¨åŠŸèƒ½"><a href="#2-3-1-BOOL-å¼ºå¤§çš„å®ç”¨åŠŸèƒ½" class="headerlink" title="2.3.1    BOOL å¼ºå¤§çš„å®ç”¨åŠŸèƒ½"></a>2.3.1    BOOL å¼ºå¤§çš„å®ç”¨åŠŸèƒ½</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * æ¯”è¾ƒä¸¤ä¸ª int å‹å€¼æ˜¯å¦ç›¸ç­‰</span><br><span class="line"> * @param &#123;int&#125; thing1 ç¬¬ä¸€ä¸ªå€¼</span><br><span class="line"> * @param &#123;int&#125; thing2 ç¬¬äºŒä¸ªå€¼</span><br><span class="line"> * @return &#123;BOOL&#125; YES ç›¸ç­‰ï¼Œ NO ä¸ç›¸ç­‰</span><br><span class="line"> */</span></span><br><span class="line"><span class="built_in">BOOL</span> areIntsDifferent (<span class="keyword">int</span> thing1, <span class="keyword">int</span> thing2) &#123;</span><br><span class="line">    <span class="keyword">if</span> (thing1 == thing2) &#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="literal">NO</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="literal">YES</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * è¾“å‡º BOOL å€¼å¯¹åº”çš„æè¿°</span><br><span class="line"> * @param &#123;BOOL&#125; yesNo BOOLå€¼</span><br><span class="line"> * @return &#123;NSString&#125; YES "YES", NO "NO"</span><br><span class="line"> */</span></span><br><span class="line"><span class="built_in">NSString</span> *boolString (<span class="built_in">BOOL</span> yesNo) &#123;</span><br><span class="line">    <span class="keyword">if</span> (yesNo == <span class="literal">NO</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="string">@"NO"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="string">@"YES"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    <span class="built_in">BOOL</span> areTheyDifferent;</span><br><span class="line">    <span class="comment">// è°ƒç”¨areTheDifferentå‡½æ•°</span></span><br><span class="line">    areTheyDifferent = areIntsDifferent(<span class="number">5</span>, <span class="number">5</span>);</span><br><span class="line">    <span class="comment">// è°ƒç”¨boolStringå‡½æ•°</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"are %d and %d different? %@"</span>, <span class="number">5</span>, <span class="number">5</span>, boolString(areTheyDifferent));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-4-å°ç»“"><a href="#2-4-å°ç»“" class="headerlink" title="2.4   å°ç»“"></a>2.4   å°ç»“</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/12/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_01 å¯ç¨‹/" itemprop="url">
                  1 å¯ç¨‹
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-12T11:14:49+08:00" content="2016-05-12">
              2016-05-12
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/12/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_01 å¯ç¨‹/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/12/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_01 å¯ç¨‹/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-1-é¢„å¤‡çŸ¥è¯†"><a href="#1-1-é¢„å¤‡çŸ¥è¯†" class="headerlink" title="1.1 é¢„å¤‡çŸ¥è¯†"></a>1.1 é¢„å¤‡çŸ¥è¯†</h2><h2 id="1-2-å†å²"><a href="#1-2-å†å²" class="headerlink" title="1.2 å†å²"></a>1.2 å†å²</h2><blockquote>
<p><strong>Objective-Cï¼š</strong>20ä¸–çºª80å¹´ä»£ï¼Œ<code>Brad Cox</code>ä¸ºäº†èåˆæµè¡Œçš„ã€å¯ç§»æ¤çš„<code>Cè¯­è¨€</code>å’Œ<code>Smalltalkè¯­è¨€</code>çš„ä¼˜åŠ¿ï¼Œè®¾è®¡å‡ºäº†<code>Objective-Cè¯­è¨€</code>ã€‚ <strong>NeXTå…¬å¸ï¼š</strong>1985å¹´ï¼Œ<code>å²è’‚å¤«.ä¹”å¸ƒæ–¯</code>åˆ›å»ºï¼Œè‡´åŠ›äºåˆ›å»ºåŠŸèƒ½å¼ºå¤§ä¸”ç»æµå®æƒ çš„å·¥ä½œç«™ã€‚<br><strong>NextSTEPï¼š</strong>ä½¿ç”¨<code>Object-C</code>å¼€å‘çš„ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„ç”¨æˆ·ç•Œé¢å·¥å…·åŒ…ã€‚ <strong>Cocoaï¼š</strong>1996å¹´ï¼Œè‹¹æœæ”¶è´­äº†<code>NeXT</code>,ä¹‹å<code>NextSTEP</code>æ›´åä¸º<code>Cocoa</code>ã€‚</p>
</blockquote>
<h2 id="1-3-å†…å®¹ç®€ä»‹"><a href="#1-3-å†…å®¹ç®€ä»‹" class="headerlink" title="1.3 å†…å®¹ç®€ä»‹"></a>1.3 å†…å®¹ç®€ä»‹</h2><h2 id="1-4-å‡†å¤‡å·¥ä½œ"><a href="#1-4-å‡†å¤‡å·¥ä½œ" class="headerlink" title="1.4 å‡†å¤‡å·¥ä½œ"></a>1.4 å‡†å¤‡å·¥ä½œ</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/11/25 å›½é™…åŒ–ç‰¹æ€§/" itemprop="url">
                  25 å›½é™…åŒ–ç‰¹æ€§
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-11T21:30:56+08:00" content="2016-05-11">
              2016-05-11
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/11/25 å›½é™…åŒ–ç‰¹æ€§/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/11/25 å›½é™…åŒ–ç‰¹æ€§/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>åœ°åŒºï¼š</strong>å¯èƒ½æ˜¯å›½å®¶ã€æ´²æˆ–çœæ´»ç€ä¸€ç§ç‰¹å®šçš„æ–‡åŒ–ã€‚<br><strong>æ‰©å±•ï¼š</strong>1994å¹´é€šè¿‡çš„<code>ISO Cæ ‡å‡†ä¿®æ­£è‰æ¡ˆ1</code>æä¾›äº†ç¼–å†™é¢å¤–å›½é™…åŒ–ç¨‹åºå¢åŠ çš„é¢å¤–åº“</p>
<ul>
<li>iso646.h</li>
<li>wctype.h</li>
<li>wchar.h</li>
</ul>
</blockquote>
<h2 id="25-1-locale-hï¼šæœ¬åœ°åŒ–"><a href="#25-1-locale-hï¼šæœ¬åœ°åŒ–" class="headerlink" title="25.1 locale.hï¼šæœ¬åœ°åŒ–"></a>25.1 locale.hï¼šæœ¬åœ°åŒ–</h2><blockquote>
<p><strong>æ ‡å‡†åº“ä¸­ä¾èµ–åœ°åŒºçš„éƒ¨åˆ†ï¼š</strong></p>
<ul>
<li><strong>æ•°å€¼çš„æ ¼å¼ï¼š</strong>ä¾‹å¦‚ï¼Œä¸€äº›åœ°åŒºå°æ•°ç‚¹æ˜¯ä¸€ä¸ªåœ†ç‚¹ï¼ˆ297.48ï¼‰ï¼Œè€Œåœ¨å¦ä¸€äº›åœ°æ–¹åˆ™æ˜¯é€—å·ï¼ˆ297,48ï¼‰<br><strong>è´§å¸çš„æ ¼å¼ï¼š</strong>ä¾‹å¦‚ï¼Œä¸åŒå›½å®¶çš„è´§å¸ç¬¦å·ä¸åŒ<br><strong>å­—ç¬¦é›†ï¼š</strong>ä¾‹å¦‚ï¼Œäºšæ´²å›½å®¶é€šå¸¸æ¯”è¥¿æ–¹å›½å®¶éœ€è¦æ›´å¤§çš„å­—ç¬¦é›†<br><strong>æ—¥æœŸå’Œæ—¶é—´çš„è¡¨ç¤ºå½¢å¼ï¼š</strong>ä¾‹å¦‚ï¼Œä¸€äº›åœ°æ–¹ä¹ æƒ¯åœ¨å†™æ—¥æœŸæ—¶å…ˆå†™æœˆï¼ˆ8/24/97ï¼‰ï¼Œè€Œå¦ä¸€äº›åœ°æ–¹ä¹ æƒ¯å…ˆå†™æ—¥ï¼ˆ24/8/97ï¼‰</li>
</ul>
</blockquote>
<h3 id="25-1-1-ç±»åˆ«"><a href="#25-1-1-ç±»åˆ«" class="headerlink" title="25.1.1    ç±»åˆ«"></a>25.1.1    ç±»åˆ«</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>locale.h</code>æä¾›äº†ä¸€ç³»åˆ—çš„ä»¥<code>LC_</code>å¼€å¤´çš„å®æ¥ï¼Œè¿™äº›å®åˆ†åˆ«å¯¹æŸäº›åº“çš„æŸäº›æ–¹é¢çš„è¡Œä¸ºäº§ç”Ÿå½±å“ã€‚<br><strong>æ‰©å±•ï¼š</strong>Cè¯­è¨€çš„å®ç°æä¾›äº†å…¶å®ƒç±»å‹å¹¶ä¸”å®šä¹‰äº†ä¸Šé¢æœªåˆ—å‡ºçš„ä»¥<code>LC_</code>å¼€å¤´çš„å®ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>å®</th>
<th>å½±å“</th>
<th>å¤´æ–‡ä»¶</th>
<th>ç›¸å…³ç« èŠ‚</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>LC_COLLATE</td>
<td>strcollå‡½æ•°</td>
<td>string.h</td>
<td><a href="">23.5</a></td>
<td>å­—ç¬¦ä¸²æ¯”è¾ƒå‡½æ•°</td>
</tr>
<tr>
<td></td>
<td>strxfrmå‡½æ•°</td>
<td>string.h</td>
<td><a href="">23.5</a></td>
<td>å­—ç¬¦ä¸²æ¯”è¾ƒå‡½æ•°</td>
</tr>
<tr>
<td>LC_CTYPES</td>
<td>isdigitå‡½æ•°</td>
<td>ctype.h</td>
<td><a href="">23.4</a></td>
<td></td>
</tr>
<tr>
<td></td>
<td>isxdigitå‡½æ•°</td>
<td>ctype.h</td>
<td><a href="">23.4</a></td>
<td></td>
</tr>
<tr>
<td></td>
<td>å¤šå­—èŠ‚å‡½æ•°</td>
<td>stdlib.h</td>
<td><a href="">25.2.1</a></td>
<td></td>
</tr>
<tr>
<td>LC_MONETARY</td>
<td>localeconvå‡½æ•°</td>
<td>locale.h</td>
<td></td>
<td>å½±å“è¯¥å‡½æ•°è¿”å›çš„è´§å¸æ ¼å¼ä¿¡æ¯</td>
</tr>
<tr>
<td>LC_NUMERIC</td>
<td>æ ¼å¼åŒ–è¾“å…¥è¾“å‡ºå‡½æ•°ä¸­ä½¿ç”¨çš„å°æ•°ç‚¹å­—ç¬¦</td>
<td>stdio.h</td>
<td><a href="">22</a></td>
<td>æ¯”å¦‚<code>printf</code>å’Œ<code>scanf</code></td>
</tr>
<tr>
<td></td>
<td>å­—ç¬¦ä¸²è½¬æ¢å‡½æ•°</td>
<td>stdlib.h</td>
<td><a href="">26.2.1</a></td>
<td><code>atof</code>å’Œ<code>strtod</code></td>
</tr>
<tr>
<td></td>
<td>localeconvå‡½æ•°</td>
<td>locale.h</td>
<td></td>
<td>è¯¥å‡½æ•°è¿”å›çš„éè´§å¸æ ¼å¼ä¿¡æ¯</td>
</tr>
<tr>
<td>LC_TIME</td>
<td>strftimeå‡½æ•°</td>
<td>time.h</td>
<td><a href="">26.3.2</a></td>
<td>è¯¥å‡½æ•°ç”¨äºå°†æ—¶é—´è½¬æ¢ä¸ºå­—ç¬¦ä¸²</td>
</tr>
</tbody>
</table>
<h3 id="25-1-2-setlocaleå‡½æ•°"><a href="#25-1-2-setlocaleå‡½æ•°" class="headerlink" title="25.1.2    setlocaleå‡½æ•°"></a>25.1.2    setlocaleå‡½æ•°</h3><hr>
<blockquote>
<p><strong>æè¿°ï¼š</strong>ç”¨æ¥ä¿®æ”¹å½“å‰çš„åœ°åŒºï¼Œä¹Ÿå¯ä»¥ç”¨æ¥è·å–å½“å‰åœ°åŒºçš„ä¿¡æ¯ã€‚<br><strong>å‚æ•°ï¼š</strong><br><strong>1ï¼š</strong> å¯ä»¥é’ˆå¯¹ä¸€ç§ç±»å‹ï¼Œä¹Ÿå¯ä»¥é’ˆå¯¹æ‰€æœ‰ç±»å‹</p>
</blockquote>
<table>
<thead>
<tr>
<th>å‚æ•°1å–å€¼</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>LC_COLLATEã€LC_CTYPEã€LC_MONETARY ã€LC_NUMERICã€LC_TIME</td>
<td>é’ˆå¯¹ä¸€ç§ç±»å‹</td>
</tr>
<tr>
<td>LC_ALL</td>
<td>é’ˆå¯¹æ‰€æœ‰ç±»å‹</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>2ï¼š</strong> Cè¯­è¨€æ ‡å‡†ä¸ºç¬¬äºŒä¸ªå‚æ•°ä»…å®šä¹‰äº†ä¸¤ç§å¯èƒ½å€¼ï¼šâ€câ€æˆ–â€ â€œã€‚å…¶ä»–åœ°åŒºå¯ä»¥é’ˆå¯¹ä¸åŒçš„å®ç°å®šä¹‰ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>å‚æ•°äºŒå–å€¼</th>
<th>è¯´æ˜</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&quot;C&quot;</code></td>
<td>æŒ‰æ­£å¸¸æ–¹å¼æ‰§è¡Œï¼Œå°æ•°ç‚¹æ˜¯ä¸€ä¸ªå¥ç‚¹</td>
<td></td>
</tr>
<tr>
<td><code>&quot; &quot;</code></td>
<td>æ¢åˆ°<code>æœ¬åœ°æ¨¡å¼ï¼ˆnative localeï¼‰</code></td>
<td><code>Cè¯­è¨€æ ‡å‡†</code>æ²¡æœ‰å®šä¹‰åˆ‡æ¢åˆ°æœ¬åœ°æ¨¡å¼çš„å…·ä½“å½±å“</td>
</tr>
<tr>
<td><code>&quot;Germany&quot;</code></td>
<td>å¾·å›½</td>
<td>éƒ¨åˆ†ç¼–è¯‘å™¨æ”¯æŒ</td>
</tr>
<tr>
<td>ç±»ä¼¼<code>en_GB.WIN1252</code>æ ¼å¼çš„å­—ç¬¦ä¸²</td>
<td>è‹±è¯­_è‹±å›½.Windowså¤šè¯­è¨€å­—ç¬¦é›†</td>
<td>ä¸€äº›å¸¸ç”¨ç¼–è¯‘å™¨æ”¯æŒ</td>
</tr>
<tr>
<td><code>NULL</code></td>
<td>ä¸è®¾ç½®ä»»ä½•ä¸œè¥¿</td>
<td>ä»…ä»…è¿”å›æŒ‡å‘ä¸å½“å‰åœ°åŒºç±»å‹çš„è®¾ç½®ç›¸å…³è”çš„å­—ç¬¦ä¸²</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æŠ€å·§ï¼š</strong>å¦‚æœéœ€è¦è·å¾—ä¸å½“å‰åœ°åŒºå…³è”å­—ç¬¦ä¸²ï¼Œå¯ä»¥åœ¨è°ƒç”¨setlocaleå‡½æ•°æ—¶ç¬¬ä¸€ä¸ªå‚æ•°ç»™<code>LC_ALL</code>ï¼Œç¬¬äºŒä¸ªå‚æ•°ç»™<code>NULL</code>.<br><strong>åŸå‹ï¼š</strong><code>locale.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;int&#125; category  æŒ‡å®šå½±å“å“ªäº›åº“çš„å“ªäº›æ–¹é¢</span><br><span class="line">* @param &#123;char *&#125; locale æŒ‡å®šåœ°åŒº</span><br><span class="line">* @return &#123;char *&#125; æŒ‡å‘å­—ç¬¦ä¸²ï¼ˆå¯èƒ½æ˜¯åœ°ç‚¹åå­—è‡ªèº«ï¼‰ï¼šæˆåŠŸï¼›ç©ºæŒ‡é’ˆï¼šè°ƒç”¨å¤±è´¥</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">setlocale</span><span class="params">(<span class="keyword">int</span> category, <span class="keyword">const</span> <span class="keyword">char</span> *locale)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»»æ„ç¨‹åºæ‰§è¡Œå¼€å§‹æ—¶ï¼Œéƒ½ä¼šéšå«æ‰§è¡Œè°ƒç”¨</span></span><br><span class="line">setlocale(LC_ALL, <span class="string">"C"</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* è·å–åœ°åŒºä¿¡æ¯å­—ç¬¦ä¸² */</span></span><br><span class="line"><span class="keyword">char</span> *temp, *old_locale;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* è·å–å½“å‰åœ°åŒºä¿¡æ¯ */</span></span><br><span class="line">temp = setlocale(LC_ALL, NULL);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ£€æŸ¥æ˜¯å¦è·å–åˆ°ä¿¡æ¯ */</span></span><br><span class="line"><span class="keyword">if</span> (temp == <span class="literal">NULL</span>) &#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* ä¸ºä¿¡æ¯çš„å‰¯æœ¬åˆ†é…ç©ºé—´ */</span></span><br><span class="line">old_locale = <span class="built_in">malloc</span>(strlen(temp) + <span class="number">1</span>);</span><br><span class="line"><span class="keyword">if</span> (old_locale == <span class="literal">NULL</span>) &#123;</span><br><span class="line">	<span class="comment">/* åˆ†é…å†…å­˜å¤±è´¥ */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* å°†ä¿¡æ¯æ‹·è´è¿›å» */</span></span><br><span class="line"><span class="built_in">strcpy</span>(old_locale, temp);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åˆ‡æ¢åˆ°æœ¬åœ°æ¨¡å¼ */</span></span><br><span class="line">setlocale(LC_ALL, <span class="string">""</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æŒ‰ç…§å­˜å‚¨çš„ä¿¡æ¯æ¢å¤å°±çš„åœ°åŒºè®¾ç½® */</span></span><br><span class="line">setlocale(LU_ALL, old_locale);</span><br></pre></td></tr></table></figure>
<h3 id="25-1-3-localeconvå‡½æ•°"><a href="#25-1-3-localeconvå‡½æ•°" class="headerlink" title="25.1.3    localeconvå‡½æ•°"></a>25.1.3    localeconvå‡½æ•°</h3><hr>
<blockquote>
<p><strong>æè¿°ï¼š</strong>è·å–å½“å‰åœ°åŒºçš„å„ç§ä¿¡æ¯<br><strong>åŸå‹ï¼š</strong><code>locale.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @return &#123;struct lconv *&#125; æŒ‡å‘åŒ…å«å½“å‰åœ°åŒºçš„è¯¦ç»†ä¿¡æ¯çš„ç»“æ„ä½“æŒ‡é’ˆ</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">struct</span> lconv *<span class="title">localeconv</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="struct-lconv"><a href="#struct-lconv" class="headerlink" title="struct lconv"></a>struct lconv</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å­˜å‚¨å½“å‰åœ°åŒºçš„å„ç§ä¿¡æ¯çš„ç»“æ„ä½“<br><strong>ç»“æ„æˆå‘˜ï¼š</strong>æœ‰<code>char *</code>å’Œ<code>char</code>ä¸¤ç§ç±»å‹</p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:center">char *å‹æˆå‘˜</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-10-18%20%E4%B8%8B%E5%8D%889.50.57.png" alt="Alt text"></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:center">charå‹æˆå‘˜</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-10-18%20%E4%B8%8B%E5%8D%889.53.18.png" alt="Alt text"></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>p_sign_posnå’Œn_sign_posnçš„å€¼ï¼š</strong><br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-10-18%20%E4%B8%8B%E5%8D%889.56.18.png" alt="Alt text"></p>
</blockquote>
<p><strong>æ¡ˆä¾‹ï¼šç”¨äºç¾å›½å’Œæ„å¤§åˆ©ä¸¤å›½çš„lconvç»“æ„æˆå‘˜çš„è´§å¸å‹å¸¸ç”¨å€¼</strong><br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-10-18%20%E4%B8%8B%E5%8D%889.57.34.png" alt="Alt text"></p>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-10-18%20%E4%B8%8B%E5%8D%889.59.18.png" alt="Alt text"></p>
<h2 id="25-2-å¤šå­—èŠ‚å­—ç¬¦å’Œå®½å­—ç¬¦"><a href="#25-2-å¤šå­—èŠ‚å­—ç¬¦å’Œå®½å­—ç¬¦" class="headerlink" title="25.2 å¤šå­—èŠ‚å­—ç¬¦å’Œå®½å­—ç¬¦"></a>25.2 å¤šå­—èŠ‚å­—ç¬¦å’Œå®½å­—ç¬¦</h2><blockquote>
<p><strong>å­—ç¬¦é›†ï¼ˆç¾å›½ï¼‰ï¼š</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>åˆ†ç±»</th>
<th>åœ°ä½</th>
</tr>
</thead>
<tbody>
<tr>
<td>ASCII</td>
<td>ä¸»æµè®¡ç®—æœºé‡‡ç”¨</td>
</tr>
<tr>
<td>EBCDIC</td>
<td>å…¶ä»–è®¡ç®—æœº</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>å¯æ‰©å±•å­—ç¬¦é›†ï¼š</strong>Cè¯­è¨€å…è®¸ç¼–è¯‘å™¨æä¾›ä¸€ç§å¯æ‰©å±•çš„å­—ç¬¦é›†</p>
</blockquote>
<table>
<thead>
<tr>
<th>å¯æ‰©å±•å­—ç¬¦é›†ç¼–ç </th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>å¤šå­—èŠ‚å­—ç¬¦ï¼ˆmultibyte characterï¼‰</td>
<td>ä¸€ä¸ªæˆ–å¤šä¸ªå­—èŠ‚è¡¨ç¤ºä¸€ä¸ªå¯æ‰©å±•çš„å­—ç¬¦</td>
</tr>
<tr>
<td>å®½å­—ç¬¦ï¼ˆwide characterï¼‰</td>
<td>ä¸€ç§å…¶å€¼è¡¨ç¤ºå­—ç¬¦çš„æ•´æ•°ï¼Œå…·æœ‰ç›¸åŒçš„å­—èŠ‚æ•°</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>åŸºæœ¬å­—ç¬¦ï¼š</strong>ä»»ä½•å¯æ‰©å±•çš„å­—ç¬¦é›†å¿…é¡»åŒ…å«Cè¯­è¨€è¦æ±‚çš„<code>åŸºæœ¬å­—ç¬¦</code>ï¼ˆå³<code>å­—æ¯</code>ã€<code>æ•°å­—</code>ã€<code>è¿ç®—ç¬¦</code>ã€<code>æ ‡ç‚¹ç¬¦</code>ã€<code>ç©ºç™½å­—ç¬¦</code>ï¼‰ï¼Œè€Œä¸”è¿™äº›å­—ç¬¦è¦æ±‚æ˜¯å•å­—èŠ‚çš„ã€‚<br><strong>ç”¨é€”ï¼š</strong>cè¯­è¨€åŒæ—¶æä¾›äº†å¤šå­—èŠ‚å­—ç¬¦å’Œå®½å­—ç¬¦ç”¨äºä¸åŒçš„ç›®çš„</p>
<ul>
<li><strong>å¤šå­—èŠ‚å­—ç¬¦ï¼š</strong>å¤šç”¨äºè¾“å…¥ï¼è¾“å‡ºï¼Œå› ä¸ºè¾“å…¥ï¼è¾“å‡ºè®¾å¤‡ç»å¸¸æ˜¯é¢å‘å­—èŠ‚çš„</li>
<li><strong>å®½å­—ç¬¦ï¼š</strong>æ›´é€‚ç”¨äºç¨‹åºå†…éƒ¨ï¼Œå› ä¸ºæ²¡ä¸ªå®½å­—ç¬¦å æœ‰ç›¸åŒçš„ç©ºé—´ï¼Œä¾¿äºç¨‹åºå†…éƒ¨æ“ä½œã€‚</li>
</ul>
<p><strong>æŠ€å·§ï¼š</strong>ç¨‹åºå¯ä»¥è¯»å…¥å¤šå­—èŠ‚å­—ç¬¦ï¼Œç„¶åè½¬ä¸ºä¾¿äºç¨‹åºå†…éƒ¨æ“ä½œçš„å®½å­—ç¬¦æ ¼å¼ï¼Œè°ˆåå†æŠŠå®½å­—ç¬¦è½¬æ¢å›ç”¨äºè¾“å‡ºçš„å¤šå­—èŠ‚æ ¼å¼ã€‚</p>
</blockquote>
<h3 id="25-2-1-å¤šå­—èŠ‚å­—ç¬¦"><a href="#25-2-1-å¤šå­—èŠ‚å­—ç¬¦" class="headerlink" title="25.2.1    å¤šå­—èŠ‚å­—ç¬¦"></a>25.2.1    å¤šå­—èŠ‚å­—ç¬¦</h3><blockquote>
<p><strong>ç©ºå­—ç¬¦(<code>\0</code>)ï¼š</strong>æ— è®ºç§»ä½çŠ¶æ€å¦‚ä½•ï¼Œcæ ‡å‡†éƒ½è¦æ±‚<code>\0</code>å§‹ç»ˆç”¨æ¥è¡¨ç¤ºç©ºå­—ç¬¦ã€‚è€Œä¸”ï¼Œ<code>\0</code>ä¸èƒ½æ˜¯å¤šå­—èŠ‚å­—ç¬¦çš„ç¬¬äºŒä¸ªï¼ˆæˆ–ä¹‹åï¼‰å­—èŠ‚ã€‚<br><strong>æŒ‰æ˜¯å¦ä¾èµ–çŠ¶æ€åˆ†ç±»ï¼š</strong><code>mblenå‡½æ•°</code>ã€<code>mbtowcå‡½æ•°</code>ã€<code>wctombå‡½æ•°</code>éƒ½å¯ç”¨æ£€æµ‹å¯¹å­—èŠ‚å­—ç¬¦æ˜¯å¦æ˜¯ä¾èµ–çŠ¶æ€çš„ã€‚åªè¦å…¶char *å‹å‚æ•°ç»™äºˆNULLå®å‚ï¼Œåˆ™è¿”å›éé›¶è¯´æ˜ä¾èµ–çŠ¶æ€ï¼›è¿”å›é›¶è¯´æ˜ä¾èµ–çŠ¶æ€ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>åˆ†ç±»</th>
<th>è¯´æ˜</th>
<th>ä¾‹å­</th>
</tr>
</thead>
<tbody>
<tr>
<td>ä¾èµ–çŠ¶æ€ç¼–ç ï¼ˆstate-dependent encidingï¼‰</td>
<td>æ¯ä¸ªå¤šå­—èŠ‚å­—ç¬¦åºåˆ—éƒ½ä»¥<code>åˆå§‹ç§»ä½çŠ¶æ€ï¼ˆinitial shift stateï¼‰</code>å¼€å§‹ï¼Œåºåˆ—ä¸­ç¨åé‡åˆ°çš„ä¸€äº›å¤šå­—èŠ‚å­—ç¬¦ä¼šæ”¹å˜ç§»ä½çŠ¶æ€ï¼Œå¹¶ä¸”ä¼šå½±å“åç»­å­—èŠ‚çš„å«ä¹‰</td>
<td>æ—¥æœ¬çš„JISç¼–ç </td>
</tr>
<tr>
<td>ä¸ä¾èµ–çŠ¶æ€ç¼–ç </td>
<td>æ¯ä¸ªå­—ç¬¦è¦æ±‚ä¸€ä¸ªæˆ–è€…ä¸¤ä¸ªå­—èŠ‚ï¼Œä½†æ˜¯åŒå­—èŠ‚å­—ç¬¦çš„ç¬¬ä¸€ä¸ªå­—èŠ‚å¯ä»¥å§‹ç»ˆåŒºåˆ«ä¸å•å­—èŠ‚å­—ç¬¦</td>
<td>æ—¥æœ¬çš„Shift-JISç¼–ç </td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>ç›¸å…³å®ï¼š</strong>ä¸¤ä¸ª</p>
</blockquote>
<table>
<thead>
<tr>
<th>å®</th>
<th>å¤´æ–‡ä»¶</th>
<th>å«ä¹‰</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>MB_LEN_MAX</td>
<td>limit.h</td>
<td>ä»»æ„æ”¯æŒåŒºåŸŸçš„æœ€å¤§å€¼</td>
<td></td>
</tr>
<tr>
<td>MB_CUR_MAX</td>
<td>stdlib.h</td>
<td>å½“å‰åŒºåŸŸçš„æœ€å¤§å€¼</td>
<td>æ”¹å˜åœ°åŒºå¯èƒ½ä¼šå½±å“å¤šå­—èŠ‚å­—ç¬¦çš„è§£é‡Š</td>
</tr>
</tbody>
</table>
<h3 id="25-2-2-å®½å­—ç¬¦"><a href="#25-2-2-å®½å­—ç¬¦" class="headerlink" title="25.2.2    å®½å­—ç¬¦"></a>25.2.2    å®½å­—ç¬¦</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é‡‡ç”¨ç‰¹æ®Šå®ç°ï¼ˆæ¯”å¦‚<code>unsigned short int</code>ï¼‰æ”¯æŒçš„æ‰€æœ‰å®½å­—ç¬¦éƒ½è¦æ±‚ç›¸åŒçš„å­—èŠ‚æ•°ã€‚<br><strong>å®½å­—ç¬¦ç±»å‹ï¼š</strong><code>wchar_t</code> (<code>stddef.h</code>ã€<code>stdlib.h</code>)<br><strong>å®½å­—ç¬¦å¸¸é‡å’Œå®½å­—ç¬¦ä¸²å¸¸é‡ï¼š</strong><code>Lå­—ç¬¦ï¼ˆä¸²ï¼‰å¸¸é‡</code></p>
<ul>
<li>å®½å­—ç¬¦å¸¸é‡ï¼š<code>L&#39;a&#39;</code></li>
<li>å®½å­—ç¬¦ä¸²å¸¸é‡ï¼š<code>L&quot;abc&quot;</code></li>
</ul>
</blockquote>
<h4 id="Unicode"><a href="#Unicode" class="headerlink" title="Unicode"></a>Unicode</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>éå¸¸é‡è¦çš„å›ºå®šé•¿åº¦ç¼–ç çš„å­—ç¬¦é›†ã€‚<br><strong>å­—ç¬¦å®½åº¦ï¼š</strong>ä¸¤ä¸ªå­—èŠ‚</p>
</blockquote>
<h3 id="25-2-3-å¤šå­—èŠ‚å­—ç¬¦ï¼å®½å­—ç¬¦è½¬æ¢å‡½æ•°"><a href="#25-2-3-å¤šå­—èŠ‚å­—ç¬¦ï¼å®½å­—ç¬¦è½¬æ¢å‡½æ•°" class="headerlink" title="25.2.3    å¤šå­—èŠ‚å­—ç¬¦ï¼å®½å­—ç¬¦è½¬æ¢å‡½æ•°"></a>25.2.3    å¤šå­—èŠ‚å­—ç¬¦ï¼å®½å­—ç¬¦è½¬æ¢å‡½æ•°</h3><h4 id="mblenå‡½æ•°"><a href="#mblenå‡½æ•°" class="headerlink" title="mblenå‡½æ•°"></a>mblenå‡½æ•°</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ£€æµ‹sæ˜¯å¦æŒ‡å‘å½¢æˆç”±æ•ˆå¤šå­—èŠ‚å­—ç¬¦çš„å­—èŠ‚åºåˆ—<br><strong>åŸå‹ï¼š</strong><code>stdlib.h</code><br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; s å¤šå­—èŠ‚å­—ç¬¦çš„å­—èŠ‚åºåˆ—</span><br><span class="line">* @param &#123;size_t&#125; a æœ€å¤šèƒ½å°†æµ‹çš„å­—èŠ‚çš„æ•°é‡ï¼ˆé€šå¸¸ä¸ºMB_CUR_MAXï¼‰</span><br><span class="line">* @return &#123;int&#125;  å­—ç¬¦ä¸­çš„å­—èŠ‚æ•°ï¼šæ˜¯å¤šå­—èŠ‚å­—ç¬¦åºåˆ—ï¼›0:ç©ºå­—ç¬¦ï¼›-1ï¼šä¸æ˜¯å¤šå­—èŠ‚å­—ç¬¦åºåˆ—</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">mblen</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *s, size_t a)</span></span>;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* ç¡®å®šå­—ç¬¦ä¸²æ˜¯å¦ç”±æœ‰æ•ˆçš„å¤šå­—èŠ‚å­—ç¬¦æ„æˆ</span><br><span class="line">* @param &#123;char *s&#125; æŒ‡å‘ä»¥ç©ºå­—ç¬¦ç»“å°¾çš„æ™®é€šå­—ç¬¦ä¸²</span><br><span class="line">* @return &#123;int&#125; 0æˆ–ï¼1</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">mbcheck</span> <span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *s)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="comment">// é€šè¿‡mblen(NULL, 0)è®¾ç½®è¯¥å‡½æ•°çš„ç§»ä½çŠ¶æ€ï¼Œä»¥ä¾¿å¯ä»¥æ­£ç¡®è§£é‡Šå­—ç¬¦ä¸²ä¸­ç¨åçš„å­—ç¬¦</span></span><br><span class="line">	<span class="keyword">for</span> (mblen(NULL, <span class="number">0</span>); ; s += n) &#123;</span><br><span class="line">		<span class="comment">// å½“</span></span><br><span class="line">		<span class="keyword">if</span> ((n = mblen(s, MB_CUR_MAX)) &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">			return n;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="mbtowcå‡½æ•°"><a href="#mbtowcå‡½æ•°" class="headerlink" title="mbtowcå‡½æ•°"></a>mbtowcå‡½æ•°</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†å¤šå­—èŠ‚å­—ç¬¦ä¸²è½¬æ¢ä¸ºå®½å­—ç¬¦<br><strong>åŸå‹ï¼š</strong><code>stdlib.h.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;wchar_t *&#125; pwc å‡½æ•°å°†å­˜å‚¨ç»“æœçš„å˜é‡</span><br><span class="line">* @para &#123;char *&#125; s å¤šå­—èŠ‚å­—ç¬¦</span><br><span class="line">* @param &#123;size_t&#125; n æœ€å¤§å°†æ£€æµ‹çš„å­—èŠ‚çš„æ•°é‡</span><br><span class="line">* @return &#123;int&#125;  å­—ç¬¦ä¸­çš„å­—èŠ‚æ•°ï¼šæ˜¯å¤šå­—èŠ‚å­—ç¬¦ï¼›0:ç©ºå­—ç¬¦ï¼›-1ï¼šä¸æ˜¯å¤šå­—èŠ‚å­—ç¬¦</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">mbtowc</span><span class="params">(wchar_t *pwc, <span class="keyword">const</span> <span class="keyword">char</span> *s, size_t n)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="wctombå‡½æ•°"><a href="#wctombå‡½æ•°" class="headerlink" title="wctombå‡½æ•°"></a>wctombå‡½æ•°</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æŠŠå®½å­—ç¬¦è½¬æ¢ä¸ºå¤šå­—èŠ‚å­—ç¬¦<br><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; s å­˜å‚¨ç»“æœçš„å˜é‡ï¼ˆä¸å›é™„åŠ ç©ºå­—ç¬¦ï¼‰</span><br><span class="line">* @param &#123;wchar_t&#125; wchar å¤šå­—èŠ‚å­—ç¬¦</span><br><span class="line">* @return &#123;int&#125; å­—ç¬¦ä¸­çš„å­—èŠ‚æ•°ï¼šæœ‰æ•ˆï¼›1ï¼šç©ºå­—ç¬¦ï¼›-1ï¼šæ— æ•ˆ</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">wctomb</span><span class="params">(<span class="keyword">char</span> *s, wchar_t wchar)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* å°†æµ‹æ˜¯å¦å¯ä»¥æŠŠå®½å­—ç¬¦çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºæœ‰æ•ˆçš„å¤šå­—èŠ‚å­—ç¬¦</span><br><span class="line">* @param &#123;wchar_t *&#125; wcs å®½å­—ç¬¦åºåˆ—</span><br><span class="line">* @return &#123;int&#125; -1ï¼šä¸å¯ä»¥ï¼›0ï¼šå¯ä»¥</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">wccheck</span> <span class="params">(wchar_t *wcs)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">char</span> buf[MB_len_max];</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="keyword">for</span> (wctpmb (NULL, <span class="number">0</span>); ; ++wcs) &#123;</span><br><span class="line">		<span class="keyword">if</span> ((n = wctomb(buf, *wcs)) &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">			return <span class="number">-1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (buf[n - <span class="number">1</span>] == <span class="string">'\0'</span>) &#123;</span><br><span class="line">			return <span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="25-2-4-å¤šå­—èŠ‚å­—ç¬¦ï¼å®½å­—ç¬¦ä¸²å‡½æ•°"><a href="#25-2-4-å¤šå­—èŠ‚å­—ç¬¦ï¼å®½å­—ç¬¦ä¸²å‡½æ•°" class="headerlink" title="25.2.4    å¤šå­—èŠ‚å­—ç¬¦ï¼å®½å­—ç¬¦ä¸²å‡½æ•°"></a>25.2.4    å¤šå­—èŠ‚å­—ç¬¦ï¼å®½å­—ç¬¦ä¸²å‡½æ•°</h3><h4 id="mbstowcså‡½æ•°"><a href="#mbstowcså‡½æ•°" class="headerlink" title="mbstowcså‡½æ•°"></a>mbstowcså‡½æ•°</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æŠŠå¤šå­—èŠ‚å­—ç¬¦åºåˆ—è½¬æ¢ä¸ºå®½å­—ç¬¦åºåˆ—</p>
<ul>
<li>å¦‚ä½•è¿›è¡Œè½¬æ¢ä¾èµ–äºå½“å‰åœ°åŒºçš„<code>LC_CTYPES</code>ç±»åˆ«</li>
<li>å½“è¾¾åˆ°ä¸Šé™æˆ–è€…é‡åˆ°ï¼ˆå­˜å‚¨åœ¨å®½å­—ç¬¦æ•°ç»„ä¸­çš„)<code>\0</code>æ—¶ï¼Œå‡½æ•°åœæ­¢</li>
<li>å‡è®¾è¦è½¬æ¢çš„å­—ç¬¦ä¸²ä»¥åˆå§‹è¿ç§»çŠ¶æ€å¼€å§‹</li>
</ul>
<p><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;whcar_t *&#125; pwcs å®½å­—ç¬¦æ•°ç»„</span><br><span class="line">* @param &#123;char *&#125; s å¾…è½¬æ¢çš„å¤šå­—èŠ‚å­—ç¬¦æ•°ç»„</span><br><span class="line">* @param &#123;size_t&#125; å¯ä»¥å­˜å‚¨åœ¨æ•°ç»„ä¸­çš„å®½å­—ç¬¦æ•°é‡</span><br><span class="line">* @return &#123;size_t&#125; ä¿®æ”¹çš„æ•°ç»„å…ƒç´ çš„æ•°é‡ï¼ˆä¸åŒ…æ‹¬æœ«å°¾çš„`\0`ï¼‰ï¼šä¸€åˆ‡é¡ºåˆ©ï¼›-1ï¼šé‡åˆ°æ— æ•ˆçš„å¤šå­—èŠ‚å­—ç¬¦</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">size_t</span> mbstowcs(<span class="keyword">wchar_t</span> * <span class="keyword">restrict</span> pwcs, <span class="keyword">const</span> <span class="keyword">char</span> * <span class="keyword">restrict</span> s, <span class="keyword">size_t</span> n);</span><br></pre></td></tr></table></figure>
<h4 id="wcstombså‡½æ•°"><a href="#wcstombså‡½æ•°" class="headerlink" title="wcstombså‡½æ•°"></a>wcstombså‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æŠŠå®½å­—ç¬¦åºåˆ—è½¬æ¢ä¸ºå¤šå­—èŠ‚å­—ç¬¦åºåˆ—</p>
<ul>
<li>å¦‚ä½•è¿›è¡Œè½¬æ¢ä¾èµ–äºå½“å‰åœ°åŒºçš„<code>LC_CTYPES</code>ç±»åˆ«</li>
<li>å½“è¾¾åˆ°ä¸Šé™æˆ–è€…é‡åˆ°ï¼ˆè‡ªå·±å­˜å…¥çš„)<code>\0</code>æ—¶ï¼Œå‡½æ•°åœæ­¢</li>
<li>äº§ç”Ÿçš„å­—ç¬¦ä¸²æ˜¯ä»¥åˆå§‹è¿ç§»çŠ¶æ€å¼€å§‹çš„</li>
</ul>
<p><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; s å¤šå­—èŠ‚å­—ç¬¦æ•°ç»„</span><br><span class="line">* @param &#123;whcar_t *&#125; pwcs å¾…è½¬æ¢çš„å®½å­—ç¬¦æ•°ç»„</span><br><span class="line">* @param &#123;size_t&#125; å¯ä»¥å­˜å‚¨åœ¨æ•°ç»„ä¸­çš„å¤šå­—èŠ‚å­—ç¬¦æ•°é‡</span><br><span class="line">* @return &#123;size_t&#125; ä¿®æ”¹çš„æ•°ç»„å…ƒç´ çš„æ•°é‡ï¼ˆä¸åŒ…æ‹¬æœ«å°¾çš„`\0`ï¼‰ï¼šä¸€åˆ‡é¡ºåˆ©ï¼›-1ï¼šé‡åˆ°æ— æ³•è½¬æ¢ä¸ºå¯¹åº”å¤šå­—èŠ‚å­—ç¬¦çš„å®½å­—ç¬¦</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">size_t</span> wcstombs(<span class="keyword">const</span> <span class="keyword">char</span> * <span class="keyword">restrict</span> s, <span class="keyword">wchar_t</span> * <span class="keyword">restrict</span> pwcs, <span class="keyword">size_t</span> n);</span><br></pre></td></tr></table></figure>
<h2 id="25-3-ä¸‰å­—ç¬¦åºåˆ—"><a href="#25-3-ä¸‰å­—ç¬¦åºåˆ—" class="headerlink" title="25.3    ä¸‰å­—ç¬¦åºåˆ—"></a>25.3    ä¸‰å­—ç¬¦åºåˆ—</h2><blockquote>
<p><strong>ä¸‰å­—ç¬¦åºåˆ—ï¼ˆtrigraph sequenceï¼‰ï¼š</strong>ç®€ç§°â€œä¸‰å­—ç¬¦â€ï¼Œæ˜¯ä¸€ç§ä¸‰ä¸ªå­—ç¬¦çš„å­—ç¬¦ç ã€‚ä»¥<code>??å­—ç¬¦</code>çš„å½¢å¼å‡ºç°ã€‚<br><strong>ç”¨é€”ï¼š</strong>å¯ä»¥æ›¿æ¢ASCIIä¸­çš„ä¸€äº›ç‰¹æ®Šå­—ç¬¦ã€‚<br><strong>å…¼å®¹æ€§ï¼š</strong>å°½ç®¡ä¸æ˜¯ä¸€ç›´éœ€è¦ï¼Œä½†æ˜¯æ‰€æœ‰æ ‡å‡†Cç¼–è¯‘å™¨éƒ½è¦æ±‚æ¥å—ä¸‰å­—ç¬¦åºåˆ—ã€‚<br><strong>æŠ€å·§ï¼š</strong>å­—ç¬¦ä¸²ä¸­çš„<code>??</code>å¯èƒ½ä¼šè¢«ç¼–è¯‘å™¨ä½œä¸ºä¸‰å­—ç¬¦åºåˆ—çš„å¼€å§‹æ ‡å¿—ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨<code>\</code>å°†ç¬¬äºŒä¸ª<code>?</code>è½¬ä¹‰ï¼ˆå³<code>?\?</code>ï¼‰æ¥é¿å…ã€‚<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-10-21%20%E4%B8%8A%E5%8D%889.53.05.png" alt="Alt text"></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Hello, world\n"</span>);</span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">??=include &lt;stdio.h&gt;</span><br><span class="line"><span class="keyword">int</span> main () ??&lt;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Hello, world??/n"</span>); </span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">??&gt;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/11/26 å…¶å®ƒåº“å‡½æ•°/" itemprop="url">
                  26 å…¶ä»–åº“å‡½æ•°
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-11T21:25:08+08:00" content="2016-05-11">
              2016-05-11
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/11/26 å…¶å®ƒåº“å‡½æ•°/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/11/26 å…¶å®ƒåº“å‡½æ•°/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="26-1-stdarg-hï¼šå¯å˜å®å‚"><a href="#26-1-stdarg-hï¼šå¯å˜å®å‚" class="headerlink" title="26.1    stdarg.hï¼šå¯å˜å®å‚"></a>26.1    stdarg.hï¼šå¯å˜å®å‚</h2><blockquote>
<p><strong>å¸¦æœ‰å¯å˜å‚æ•°çš„å‡½æ•°ï¼š</strong>å¸¦æœ‰å¯å˜æ•°é‡å‚æ•°çš„å‡½æ•°å¿…é¡»è‡³å°‘æœ‰ä¸€ä¸ªâ€œæ­£å¸¸çš„â€å½¢å¼å‚æ•°ï¼Œåœ¨æœ€åä¸€ä¸ªæ­£å¸¸å‚æ•°çš„åè¾¹å§‹ç»ˆä¼šæœ‰çœç•¥å·å‡ºç°åœ¨å‚æ•°åˆ—è¡¨çš„æœ«å°¾ã€‚<br><strong>å¯å˜éƒ¨åˆ†å®å‚æå‡ï¼š</strong>å½“è°ƒç”¨å¸¦æœ‰å¯å˜å®å‚åˆ—è¡¨çš„å‡½æ•°æ—¶ï¼Œç¼–è¯‘å™¨ä¼šåœ¨åŒ¹é…çœç•¥å·çš„å…¨éƒ¨å‚æ•°ä¸Šæ‰§è¡Œé»˜è®¤çš„<code>å®å‚æå‡</code>ï¼ˆ<a href="">9.3</a>ï¼‰</p>
<ul>
<li>char -&gt; int</li>
<li>short -&gt; int</li>
<li>float -&gt; double</li>
</ul>
</blockquote>
<h4 id="va-argå®ï¼ˆå‡½æ•°ï¼‰"><a href="#va-argå®ï¼ˆå‡½æ•°ï¼‰" class="headerlink" title="va_argå®ï¼ˆå‡½æ•°ï¼‰"></a>va_argå®ï¼ˆå‡½æ•°ï¼‰</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è·å¾—æ‰€åœ¨å‡½æ•°çš„å¯å˜å‚æ•°ä¸­çš„ä¸‹ä¸€ä¸ªå‚æ•°<br><strong>åŸå‹ï¼š</strong><code>stdarg.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;va_list&#125; ap æŒ‡å‘å¯å˜å‚æ•°åˆ—è¡¨çš„æŸä¸ªä½ç½®</span><br><span class="line">* @param &#123;ç±»å‹&#125; æœŸå¾…ç›¸åº”ä½ç½®å®å‚çš„ç±»å‹</span><br><span class="line">* @return &#123;ç±»å‹&#125; ç›¸åº”ä½ç½®(ä¸‹ä¸€ä¸ª)å®å‚</span><br><span class="line">*/</span></span><br><span class="line">ç±»å‹ va_arg(va_list ap, ç±»å‹);</span><br></pre></td></tr></table></figure>
<h4 id="va-startå®ï¼ˆå‡½æ•°ï¼‰"><a href="#va-startå®ï¼ˆå‡½æ•°ï¼‰" class="headerlink" title="va_startå®ï¼ˆå‡½æ•°ï¼‰"></a>va_startå®ï¼ˆå‡½æ•°ï¼‰</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šè¿‡æ”¯æŒå®å‚åˆ—è¡¨ä¸­å¯å˜é•¿åº¦éƒ¨åˆ†å¼€å§‹çš„ä½ç½®åˆå§‹åŒ–<code>va_list</code>ç±»å‹çš„å®å‚åˆ—è¡¨ã€‚<br><strong>åŸå‹ï¼š</strong><code>stdarg.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;va_list&#125; ap å­˜å‚¨å‚æ•°åˆ—è¡¨çš„å˜é‡</span><br><span class="line">* @param &#123;*&#125; paramN å¯å˜å‚æ•°å‰çš„æœ€åä¸€ä¸ªæ­£å¸¸å®å‚</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">va_start</span><span class="params">(va_list ap, paramN)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="va-endå®ï¼ˆå‡½æ•°ï¼‰"><a href="#va-endå®ï¼ˆå‡½æ•°ï¼‰" class="headerlink" title="va_endå®ï¼ˆå‡½æ•°ï¼‰"></a>va_endå®ï¼ˆå‡½æ•°ï¼‰</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ‰§è¡Œå¯¹<code>va_list</code>ç±»å‹å˜é‡çš„æ¸…ç†ï¼Œä½¿å…¶æ— æ³•è¢«ç»§ç»­ä½¿ç”¨ã€‚<br><strong>åŸå‹ï¼š</strong><code>stdarg.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;va_list&#125; ap å¯å˜å®å‚éƒ¨åˆ†çš„åˆ—è¡¨</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">va_end</span><span class="params">(va_list ap)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;int&#125; n åé¢å¯å˜å‚æ•°çš„æ•°é‡</span><br><span class="line">* @param &#123;*&#125; ... å¯å˜å‚æ•°éƒ¨åˆ†</span><br><span class="line">* @return &#123;int&#125; å¯å˜å®å‚ä¸­çš„æœ€å¤§å€¼</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">max_int</span> <span class="params">(<span class="keyword">int</span> n, ...)</span> </span>&#123;</span><br><span class="line">	<span class="comment">// å£°æ˜å­˜å‚¨å¯å˜å®å‚åˆ—è¡¨çš„å˜é‡</span></span><br><span class="line">	va_list ap;</span><br><span class="line">	<span class="keyword">int</span> i, current, largest;</span><br><span class="line">	<span class="comment">// åˆå§‹åŒ–å­˜å‚¨å¯å˜éƒ¨åˆ†çš„å®å‚çš„åˆ—è¡¨</span></span><br><span class="line">	va_start(ap, n);</span><br><span class="line">	<span class="comment">// éå†å¯»æ‰¾æœ€å¤§å€¼</span></span><br><span class="line">	largest = va_arg(ap, int);</span><br><span class="line">	<span class="keyword">for</span> (i = i; i &lt; n; i ++) &#123;</span><br><span class="line">		current = va_arg(ap, int);</span><br><span class="line">		<span class="keyword">if</span> (current &gt; largest) &#123;</span><br><span class="line">			largest = current;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// æ¸…ç†å­˜å‚¨å¯å˜å®å‚çš„åˆ—è¡¨</span></span><br><span class="line">	va_end(ap);</span><br><span class="line">	return largest;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="26-1-1-è°ƒç”¨å¯å˜å®å‚åˆ—è¡¨çš„å‡½æ•°"><a href="#26-1-1-è°ƒç”¨å¯å˜å®å‚åˆ—è¡¨çš„å‡½æ•°" class="headerlink" title="26.1.1    è°ƒç”¨å¯å˜å®å‚åˆ—è¡¨çš„å‡½æ•°"></a>26.1.1    è°ƒç”¨å¯å˜å®å‚åˆ—è¡¨çš„å‡½æ•°</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è°ƒç”¨å¸¦æœ‰å¯å˜å®å‚åˆ—è¡¨çš„å‡½æ•°å¸¦æœ‰ä¸€å®šé£é™©ï¼Œéœ€è¦ä¸€äº›æªæ–½è§„é¿</p>
<ul>
<li><p>ç¡®å®šå¯å˜å‚æ•°æ•°é‡</p>
<blockquote>
<p><strong>ä¾‹å­ï¼š</strong>max_intå‡½æ•°ä¾é ç¬¬ä¸€ä¸ªæ˜¯æƒ¨çŸ¥åè·Ÿéšå…¶åçš„å…¶ä»–å‚æ•°çš„æ•°é‡</p>
</blockquote>
</li>
<li><p>ç¡®å®šæ¯ç§å‚æ•°çš„ç±»å‹</p>
<blockquote>
<p><strong>ä¾‹å­ï¼š</strong>åƒprintfå‡½æ•°å’Œscanfå‡½æ•°ä¾é æ ¼å¼åŒ–å­—ç¬¦ä¸²æ¥æè¿°å…¶ä»–çš„å‚æ•°çš„æ•°é‡å’Œæ¯ç§å‚æ•°çš„ç±»å‹</p>
</blockquote>
</li>
<li><p>ç‰¹åˆ«å¤„ç†<code>NULL</code>ä½œä¸ºå‚æ•°ï¼šå½“æŠŠ<code>NULL</code>(0)ä¼ é€’ç»™å¸¦æœ‰å¯å˜å®å‚åˆ—è¡¨çš„å‡½æ•°æ—¶ï¼Œç¼–è¯‘å™¨ä¼šå‡å®šå®ƒè¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªæ•´æ•°</p>
<blockquote>
<p><strong>å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼š</strong><code>(void *) NULL</code>ä»£æ›¿<code>NULL</code></p>
</blockquote>
</li>
</ul>
</blockquote>
<h3 id="26-1-2-vâ€¦printfç±»å‡½æ•°"><a href="#26-1-2-vâ€¦printfç±»å‡½æ•°" class="headerlink" title="26.1.2    vâ€¦printfç±»å‡½æ•°"></a>26.1.2    vâ€¦printfç±»å‡½æ•°</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å’Œ<code>...printfç±»å‡½æ•°</code>ç›¸æ¯”ï¼Œç”±ä¸€ä¸ª<code>va_list</code>ç±»å‹çš„å‚æ•°å–ä»£äº†å¯å˜å‚æ•°éƒ¨åˆ†ã€‚<br><strong>ç”¨é€”ï¼š</strong>ç¼–å†™â€œåŒ…è£…â€å‡½æ•°ã€‚å¤–éƒ¨çš„åŒ…è£…å‡½æ•°æ¥å—å¯å˜æ•°é‡çš„å®å‚ï¼Œå¹¶ä¸”ç¨åæŠŠè¿™äº›å‚æ•°ä¼ é€’ç»™<code>v...printfç±»å‡½æ•°</code>ã€‚</p>
</blockquote>
<h4 id="vfprintfå‡½æ•°"><a href="#vfprintfå‡½æ•°" class="headerlink" title="vfprintfå‡½æ•°"></a>vfprintfå‡½æ•°</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å‘ç¬¬ä¸€ä¸ªå‚æ•°è¯´æ˜çš„æµï¼ˆä»»ä½•è¾“å‡ºæµï¼‰ä¸­å†™è¾“å‡ºã€‚<br><strong>å…³è”çš„å‡½æ•°ï¼š</strong><code>vfprintfå‡½æ•°</code>(<a href="">22.3.1</a>)<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;FILE *&#125; stream æ–‡ä»¶æŒ‡é’ˆï¼ˆæµï¼‰</span><br><span class="line">* @param &#123;char *&#125; format æ ¼å¼ä¸²</span><br><span class="line">* @param &#123;va_list&#125; arg å¯å˜å‚æ•°æ•°ç»„</span><br><span class="line">* @return &#123;int&#125; å†™å…¥çš„å­—ç¬¦æ•°ï¼šæˆåŠŸï¼›è´Ÿå€¼ï¼šå†™å…¥å‡ºé”™</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">vfprintf</span><span class="params">(FILE * <span class="keyword">restrict</span> stream, <span class="keyword">const</span> <span class="keyword">char</span> * <span class="keyword">restrict</span> format, va_list arg)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="vprintfå‡½æ•°"><a href="#vprintfå‡½æ•°" class="headerlink" title="vprintfå‡½æ•°"></a>vprintfå‡½æ•°</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å‘stdoutè¾“å‡ºï¼Œåˆ©ç”¨æ ¼å¼ä¸²æ§åˆ¶è¾“å‡ºçš„å½¢å¼<br><strong>å…³è”çš„å‡½æ•°ï¼š</strong><code>vprintfå‡½æ•°</code>(<a href="">22.3.1</a>)<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; format æ ¼å¼ä¸²</span><br><span class="line">* @param &#123;va_list&#125; arg å¯å˜å‚æ•°æ•°ç»„</span><br><span class="line">* @param &#123;int&#125; å†™å…¥çš„å­—ç¬¦æ•°ï¼šæˆåŠŸï¼›è´Ÿå€¼ï¼šå†™å…¥å‡ºé”™</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">vprintf</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> * <span class="keyword">restrict</span> format, va_list rga)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="vsprintfå‡½æ•°"><a href="#vsprintfå‡½æ•°" class="headerlink" title="vsprintfå‡½æ•°"></a>vsprintfå‡½æ•°</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç±»ä¼¼printfå‡½æ•°å’Œfprintfå‡½æ•°ï¼Œå”¯ä¸€çš„ä¸åŒæ˜¯è¯¥å‡½æ•°ä¼šæŠŠè¾“å‡ºå†™å…¥æŒ‡å®šå­—ç¬¦æ•°ç»„è€Œä¸æ˜¯æµä¸­ï¼ˆä¼šåœ¨æœ«å°¾æ·»åŠ ä¸€ä¸ªç©ºå­—ç¬¦ï¼‰ã€‚<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; s å­—ç¬¦æ•°ç»„</span><br><span class="line">* @param &#123;char *&#125; format æ ¼å¼ä¸²</span><br><span class="line">* @param &#123;va_list&#125; arg å¯å˜å‚æ•°æ•°ç»„</span><br><span class="line">* @return &#123;int&#125; å†™å…¥çš„å­—ç¬¦æ•°ï¼ˆä¸åŒ…æ‹¬ç©ºå­—ç¬¦ï¼‰ï¼šæˆåŠŸï¼›è´Ÿå€¼ï¼šå†™å…¥å‡ºé”™</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">vsprintf</span><span class="params">(<span class="keyword">char</span> * <span class="keyword">restrict</span> s, <span class="keyword">const</span> <span class="keyword">char</span> * <span class="keyword">restrict</span> format, va_list arg)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* å®šåˆ¶é”™è¯¯è¾“å‡º</span><br><span class="line">* @param &#123;char *&#125; format æ ¼å¼åŒ–å­—ç¬¦ä¸²</span><br><span class="line">* @param &#123;...*&#125; å¯å˜å‚æ•°éƒ¨åˆ†</span><br><span class="line">* @return &#123;int&#125; è¾“å‡ºçš„å­—ç¬¦æ•°</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">errorf</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *format, ...)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">int</span> num_errors = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="comment">// å£°æ˜å¯å˜æ•°ç»„åˆ—è¡¨</span></span><br><span class="line">	va_list ap;</span><br><span class="line">	num_errors++;</span><br><span class="line">	<span class="comment">// æ‰“å°éœ€è¦å¢å¼ºçš„éƒ¨åˆ†</span></span><br><span class="line">	<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">"** Error %d: "</span>, num_errors);</span><br><span class="line">	<span class="comment">// åˆå§‹åŒ–å¯å˜æ•°ç»„åˆ—è¡¨</span></span><br><span class="line">	va_start(ap, format);</span><br><span class="line">	<span class="comment">// æŒ‰ç…§æ ¼å¼ä¸²å‘stderrå†™å…¥å­—ç¬¦ä¸²ï¼ˆæ‰“å°åˆ°å±å¹•ï¼‰</span></span><br><span class="line">	n = <span class="built_in">vfprintf</span>(stderr, format, ap);</span><br><span class="line">	<span class="comment">// æ¸…ç†å¯å˜å‚æ•°åˆ—è¡¨</span></span><br><span class="line">	va_end(ap);</span><br><span class="line">	<span class="comment">// æŒ‰ç…§æ ¼å¼ä¸²å‘stderrå†™å…¥â€œæ¢è¡Œâ€</span></span><br><span class="line">	<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">"\n"</span>);</span><br><span class="line">	return n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="26-2-stdlib-h-é€šç”¨çš„ä½¿ç”¨å·¥å…·"><a href="#26-2-stdlib-h-é€šç”¨çš„ä½¿ç”¨å·¥å…·" class="headerlink" title="26.2    stdlib.h:    é€šç”¨çš„ä½¿ç”¨å·¥å…·"></a>26.2    stdlib.h:    é€šç”¨çš„ä½¿ç”¨å·¥å…·</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ¶µç›–ç´¯å…¨éƒ¨ä¸é€‚åˆäºä»»ä½•å…¶ä»–å¤´çš„å‡½æ•°ã€‚</p>
<ul>
<li>å­—ç¬¦ä¸²è½¬æ¢å‡½æ•°</li>
<li>ä¼ªéšæœºåºåˆ—ç”Ÿæˆå‡½æ•°</li>
<li>å†…å­˜ç®¡ç†å‡½æ•°</li>
<li>ä¸å¤–éƒ¨ç¯å¢ƒçš„é€šä¿¡</li>
<li>æœç´¢ä¸æ’åºä½¿ç”¨å·¥å…·</li>
<li>æ•´æ•°ç®—æœ¯è¿ç®—å‡½æ•°(<a href="">17</a>)</li>
<li>å¤šå­èŠ‚å­—ç¬¦å’Œå­—ç¬¦ä¸²å‡½æ•°(<a href="">25.2</a>)</li>
</ul>
</blockquote>
<h3 id="26-2-1-å­—ç¬¦ä¸²è½¬æ¢å‡½æ•°"><a href="#26-2-1-å­—ç¬¦ä¸²è½¬æ¢å‡½æ•°" class="headerlink" title="26.2.1    å­—ç¬¦ä¸²è½¬æ¢å‡½æ•°"></a>26.2.1    å­—ç¬¦ä¸²è½¬æ¢å‡½æ•°</h3><blockquote>
<p><strong>å­—ç¬¦ä¸²ä¸­çš„ç‰¹æ®Šå­ä¸²ï¼š</strong></p>
<ul>
<li><strong>åå…­è¿›åˆ¶æµ®ç‚¹æ•°</strong></li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th><code>0x(X)</code></th>
<th>ä¸€ä¸ªæˆ–å¤šä¸ª<code>åå…­è¿›åˆ¶æ•°å­—</code>ï¼ˆå¯èƒ½åŒ…æ‹¬<code>å°æ•°ç‚¹</code>ï¼‰</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<ul>
<li><strong>æ— ç©·æ•°</strong>ï¼š<code>INF</code>ï¼ˆä¸è¦æ±‚å¤§å°å†™ï¼‰æˆ–`INFINITYï¼ˆä¸è¦æ±‚å¤§å°å†™ï¼‰</li>
<li><strong>NaN</strong></li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th><code>NAN</code></th>
<th><code>(</code></th>
<th><code>ç©º</code>æˆ–<code>ä¸€ç³»åˆ—å­—ç¬¦</code></th>
<th><code>)</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>ä¸è¦æ±‚å¤§å°å†™</td>
<td></td>
<td>å¯ä»¥åŒ…å«å­—æ¯ã€æ•°ç»„æˆ–ä¸‹åˆ’çº¿ï¼Œç”¨äº<code>ä¸ºNaNå€¼çš„äºŒè¿›åˆ¶è¡¨ç¤ºæŒ‡å®šæŸäº›ä½</code>æˆ–è¢«<code>nanå‡½æ•°</code>(<a href="">23.4</a>)è°ƒç”¨</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="atofå‡½æ•°ï¼ˆc89ä¹‹å‰ï¼‰"><a href="#atofå‡½æ•°ï¼ˆc89ä¹‹å‰ï¼‰" class="headerlink" title="atofå‡½æ•°ï¼ˆc89ä¹‹å‰ï¼‰"></a>atofå‡½æ•°ï¼ˆc89ä¹‹å‰ï¼‰</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºç›¸åº”çš„<code>double</code>ç±»å‹</p>
<ul>
<li>ä¼šè·³è¿‡å­—ç¬¦ä¸²å¼€å§‹å¤„çš„ç©ºç™½å­—ç¬¦</li>
<li>å¯ä»¥ä»¥<code>+</code>ã€<code>-</code>å¼€å¤´</li>
<li>æŠŠæ¯ä¸ªå­—ç¬¦çœ‹ä½œç›¸åº”çš„æ•°å­—ï¼Œæ¯”å¦‚<code>&quot;234&quot;</code>ä¼šè¢«çœ‹ä½œ<code>234</code></li>
<li>åœ¨é‡åˆ°ç¬¬ä¸€ä¸ªä¸å±äºæ•°çš„å­—ç¬¦å¤„åœæ­¢</li>
</ul>
<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li>ä¸èƒ½æ”¯æŒè½¬æ¢è¿‡ç¨‹ä¸­å¤„ç†äº†å­—ç¬¦ä¸²ä¸­çš„å¤šå°‘å­—ç¬¦</li>
<li>ä¸èƒ½æ”¯æŒè½¬æ¢å¤±è´¥çš„å…·ä½“æƒ…å†µï¼ˆä¸èƒ½ä¿è¯ä¼šä¿®æ”¹<code>errno</code>å˜é‡çš„å€¼ï¼‰</li>
</ul>
<p><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span><br><span class="line">* @param &#123;char *&#125; nptr å­—ç¬¦ä¸²</span><br><span class="line">* @return &#123;double&#125; ç›¸åº”çš„æ•°å­—ï¼šæˆåŠŸï¼›0ï¼šä¸èƒ½æ‰§è¡Œè½¬æ¢ï¼ˆå­—ç¬¦ä¸²ä¸ºç©ºæˆ–é•‡å‰å¯¼ç©ºç™½ä¹‹åçš„å­—ç¬¦çš„å½¢å¼ä¸ç¬¦åˆå‡½æ•°çš„è¦æ±‚ï¼‰</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">atof</span> <span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *nptr)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="atoiå‡½æ•°ï¼ˆc89ä¹‹å‰ï¼‰"><a href="#atoiå‡½æ•°ï¼ˆc89ä¹‹å‰ï¼‰" class="headerlink" title="atoiå‡½æ•°ï¼ˆc89ä¹‹å‰ï¼‰"></a>atoiå‡½æ•°ï¼ˆc89ä¹‹å‰ï¼‰</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºç›¸åº”çš„<code>int</code>ç±»å‹</p>
<ul>
<li>ä¼šè·³è¿‡å­—ç¬¦ä¸²å¼€å§‹å¤„çš„ç©ºç™½å­—ç¬¦</li>
<li>å¯ä»¥ä»¥<code>+</code>ã€<code>-</code>å¼€å¤´</li>
<li>æŠŠæ¯ä¸ªå­—ç¬¦çœ‹ä½œç›¸åº”çš„æ•°å­—ï¼Œæ¯”å¦‚<code>&quot;234&quot;</code>ä¼šè¢«çœ‹ä½œ<code>234</code></li>
<li>åœ¨é‡åˆ°ç¬¬ä¸€ä¸ªä¸å±äºæ•°çš„å­—ç¬¦å¤„åœæ­¢</li>
</ul>
<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li>ä¸èƒ½æ”¯æŒè½¬æ¢è¿‡ç¨‹ä¸­å¤„ç†äº†å­—ç¬¦ä¸²ä¸­çš„å¤šå°‘å­—ç¬¦</li>
<li>ä¸èƒ½æ”¯æŒè½¬æ¢å¤±è´¥çš„å…·ä½“æƒ…å†µï¼ˆä¸èƒ½ä¿è¯ä¼šä¿®æ”¹<code>errno</code>å˜é‡çš„å€¼ï¼‰</li>
</ul>
<p><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">* @param &#123;char *&#125; nptr å­—ç¬¦ä¸²</span><br><span class="line">* @return &#123;int&#125; ç›¸åº”çš„æ•°å­—ï¼šæˆåŠŸï¼›0ï¼šä¸èƒ½æ‰§è¡Œè½¬æ¢ï¼ˆå­—ç¬¦ä¸²ä¸ºç©ºæˆ–é•‡å‰å¯¼ç©ºç™½ä¹‹åçš„å­—ç¬¦çš„å½¢å¼ä¸ç¬¦åˆå‡½æ•°çš„è¦æ±‚ï¼‰</span><br><span class="line">*/</span><br><span class="line">int atoi (const chat *nptr)ï¼›</span><br></pre></td></tr></table></figure>
<h4 id="atolå‡½æ•°ï¼ˆc89ä¹‹å‰ï¼‰"><a href="#atolå‡½æ•°ï¼ˆc89ä¹‹å‰ï¼‰" class="headerlink" title="atolå‡½æ•°ï¼ˆc89ä¹‹å‰ï¼‰"></a>atolå‡½æ•°ï¼ˆc89ä¹‹å‰ï¼‰</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºç›¸åº”çš„<code>long int</code>ç±»å‹</p>
<ul>
<li>ä¼šè·³è¿‡å­—ç¬¦ä¸²å¼€å§‹å¤„çš„ç©ºç™½å­—ç¬¦</li>
<li>å¯ä»¥ä»¥<code>+</code>ã€<code>-</code>å¼€å¤´</li>
<li>æŠŠæ¯ä¸ªå­—ç¬¦çœ‹ä½œç›¸åº”çš„æ•°å­—ï¼Œæ¯”å¦‚<code>&quot;234&quot;</code>ä¼šè¢«çœ‹ä½œ<code>234</code></li>
<li>åœ¨é‡åˆ°ç¬¬ä¸€ä¸ªä¸å±äºæ•°çš„å­—ç¬¦å¤„åœæ­¢</li>
</ul>
<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li>ä¸èƒ½æ”¯æŒè½¬æ¢è¿‡ç¨‹ä¸­å¤„ç†äº†å­—ç¬¦ä¸²ä¸­çš„å¤šå°‘å­—ç¬¦</li>
<li>ä¸èƒ½æ”¯æŒè½¬æ¢å¤±è´¥çš„å…·ä½“æƒ…å†µï¼ˆä¸èƒ½ä¿è¯ä¼šä¿®æ”¹<code>errno</code>å˜é‡çš„å€¼ï¼‰</li>
</ul>
<p><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span><br><span class="line">* @param &#123;char *&#125; nptr å­—ç¬¦ä¸²</span><br><span class="line">* @return &#123;long int&#125; ç›¸åº”çš„æ•°å­—ï¼šæˆåŠŸï¼›0ï¼šä¸èƒ½æ‰§è¡Œè½¬æ¢ï¼ˆå­—ç¬¦ä¸²ä¸ºç©ºæˆ–é•‡å‰å¯¼ç©ºç™½ä¹‹åçš„å­—ç¬¦çš„å½¢å¼ä¸ç¬¦åˆå‡½æ•°çš„è¦æ±‚ï¼‰</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">int</span> <span class="title">atol</span> <span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *nptr)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="strtodå‡½æ•°ï¼ˆc89ï¼‰"><a href="#strtodå‡½æ•°ï¼ˆc89ï¼‰" class="headerlink" title="strtodå‡½æ•°ï¼ˆc89ï¼‰"></a>strtodå‡½æ•°ï¼ˆc89ï¼‰</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º<code>double</code>ï¼Œç›¸æ¯”<code>atofå‡½æ•°ï¼ˆc89ä¹‹å‰ï¼‰</code></p>
<ul>
<li>è¿”å›å€¼ä¸º<code>double</code>è€Œä¸æ˜¯<code>float</code></li>
<li>å­—ç¬¦ä¸²å¯ä»¥<code>åŒ…å«16è¿›åˆ¶çš„æµ®ç‚¹æ•°</code>ã€<code>æ— ç©·æ•°</code>æˆ–<code>NaN</code>(åŒ<code>strtold</code>ã€<code>strtof</code>)</li>
<li><strong>å¯ä»¥æ£€æµ‹è¶…å‡ºèŒƒå›´ï¼š</strong>å¦‚æœè½¬æ¢å¾—åˆ°çš„å€¼è¶…å‡ºäº†å‡½æ•°è¿”å›ç±»å‹çš„è¡¨ç¤ºèŒƒå›´ï¼Œé‚£ä¹ˆä¼šåœ¨<code>errno</code>å˜é‡ä¸­å­˜å‚¨<code>ERANGE</code>ï¼Œä¸”è¿”å›æ­£æˆ–è´Ÿçš„<code>HUGE_VAL</code>(<a href="">23.3</a>)</li>
<li><strong>æ›´å¤æ‚ï¼š</strong>ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šåœæ­¢è½¬æ¢çš„ä½ç½®ï¼ˆå½“ä¼ é€’NULLæ˜¯å°†ä¸ä¼šæŒ‡å®šï¼‰</li>
<li><strong>å¯ä»¥æ£€æµ‹è½¬æ¢å¤±è´¥çš„ç»†èŠ‚ï¼š</strong>å¦‚æœä¸èƒ½è½¬æ¢ï¼Œå°†æŠŠè¦è½¬æ¢çš„å­—ç¬¦ä¸²èµ‹å€¼ç»™ç¬¬äºŒä¸ªå‚æ•°æŒ‡å‘çš„å˜é‡ï¼ˆå‰ææ˜¯è¯¥å‚æ•°é<code>NULL</code>ï¼‰<br><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span><br><span class="line">* @param &#123;char *&#125; nptr å­—ç¬¦ä¸²</span><br><span class="line">* @param &#123;char **&#125; endptr è½¬æ¢åœæ­¢çš„ä½ç½®</span><br><span class="line">* @return &#123;double&#125; æ­£æˆ–è´Ÿçš„HUGE_VAL(23.3)ï¼šè½¬æ¢å¾—åˆ°çš„å€¼è¶…è¿‡åå›ç±»å‹èŒƒå›´ï¼ˆå¹¶åœ¨errnoä¸­å­˜å‚¨RANGEï¼‰ï¼›æµ®ç‚¹æ•°ï¼šæˆåŠŸè½¬æ¢ï¼›0ï¼šä¸èƒ½è½¬æ¢</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">strtod</span> <span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> * <span class="keyword">restrict</span> nptr, <span class="keyword">char</span> ** <span class="keyword">restrict</span> endptr)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="strtolå‡½æ•°ï¼ˆc89ï¼‰"><a href="#strtolå‡½æ•°ï¼ˆc89ï¼‰" class="headerlink" title="strtolå‡½æ•°ï¼ˆc89ï¼‰"></a>strtolå‡½æ•°ï¼ˆc89ï¼‰</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º<code>long int</code>ï¼Œç›¸æ¯”<code>atolå‡½æ•°ï¼ˆc89ä¹‹å‰ï¼‰</code></p>
<ul>
<li><strong>å¯ä»¥æ£€æµ‹è¶…å‡ºèŒƒå›´ï¼š</strong>å¦‚æœè½¬æ¢å¾—åˆ°çš„å€¼è¶…å‡ºäº†å‡½æ•°è¿”å›ç±»å‹çš„è¡¨ç¤ºèŒƒå›´ï¼Œé‚£ä¹ˆä¼šåœ¨<code>errno</code>å˜é‡ä¸­å­˜å‚¨<code>ERANGE</code>ï¼Œä¸”è¿”å›<code>LONG_MIN</code>æˆ–<code>LONG_MAX</code></li>
<li><strong>æ›´å¤æ‚ï¼š</strong>ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šåœæ­¢è½¬æ¢çš„ä½ç½®ï¼ˆå½“ä¼ é€’NULLæ˜¯å°†ä¸ä¼šæŒ‡å®šï¼‰</li>
<li><strong>å¯ä»¥æ£€æµ‹è½¬æ¢å¤±è´¥çš„ç»†èŠ‚ï¼š</strong>å¦‚æœä¸èƒ½è½¬æ¢ï¼Œå°†æŠŠè¦è½¬æ¢çš„å­—ç¬¦ä¸²èµ‹å€¼ç»™ç¬¬äºŒä¸ªå‚æ•°æŒ‡å‘çš„å˜é‡ï¼ˆå‰ææ˜¯è¯¥å‚æ•°é<code>NULL</code>ï¼‰</li>
</ul>
<p><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span><br><span class="line">* @param &#123;char *&#125; nptr å­—ç¬¦ä¸²</span><br><span class="line">* @param &#123;char **&#125; endptr è½¬æ¢åœæ­¢çš„ä½ç½®</span><br><span class="line">* @param &#123;int&#125; base å¾…è½¬æ¢æ•°çš„åŸºæ•°ï¼ˆè¿›åˆ¶ï¼Œ2~36ï¼‰</span><br><span class="line">* @return &#123;long int&#125; LONG_MINæˆ–LONG_MAXï¼šè½¬æ¢å¾—åˆ°çš„å€¼è¶…è¿‡åå›ç±»å‹èŒƒå›´ï¼ˆå¹¶åœ¨errnoä¸­å­˜å‚¨RANGEï¼‰ï¼›æµ®ç‚¹æ•°ï¼šæˆåŠŸè½¬æ¢ï¼›0ï¼šä¸èƒ½è½¬æ¢</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">int</span> <span class="title">strtol</span> <span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> * <span class="keyword">restrict</span> nptr, <span class="keyword">char</span> ** <span class="keyword">restrict</span> endptr, <span class="keyword">int</span> base)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="strtoulå‡½æ•°ï¼ˆc89ï¼‰"><a href="#strtoulå‡½æ•°ï¼ˆc89ï¼‰" class="headerlink" title="strtoulå‡½æ•°ï¼ˆc89ï¼‰"></a>strtoulå‡½æ•°ï¼ˆc89ï¼‰</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º<code>long int</code></p>
<ul>
<li><strong>å¯ä»¥æ£€æµ‹è¶…å‡ºèŒƒå›´ï¼š</strong>å¦‚æœè½¬æ¢å¾—åˆ°çš„å€¼è¶…å‡ºäº†å‡½æ•°è¿”å›ç±»å‹çš„è¡¨ç¤ºèŒƒå›´ï¼Œé‚£ä¹ˆä¼šåœ¨<code>errno</code>å˜é‡ä¸­å­˜å‚¨<code>ERANGE</code>ï¼Œä¸”è¿”å›<code>LONG_MIN</code>æˆ–<code>LONG_MAX</code></li>
<li><strong>æ›´å¤æ‚ï¼š</strong>ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šåœæ­¢è½¬æ¢çš„ä½ç½®ï¼ˆå½“ä¼ é€’NULLæ˜¯å°†ä¸ä¼šæŒ‡å®šï¼‰</li>
<li><strong>å¯ä»¥æ£€æµ‹è½¬æ¢å¤±è´¥çš„ç»†èŠ‚ï¼š</strong>å¦‚æœä¸èƒ½è½¬æ¢ï¼Œå°†æŠŠè¦è½¬æ¢çš„å­—ç¬¦ä¸²èµ‹å€¼ç»™ç¬¬äºŒä¸ªå‚æ•°æŒ‡å‘çš„å˜é‡ï¼ˆå‰ææ˜¯è¯¥å‚æ•°é<code>NULL</code>ï¼‰</li>
</ul>
<p><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span><br><span class="line">* @param &#123;char *&#125; nptr å­—ç¬¦ä¸²</span><br><span class="line">* @param &#123;char **&#125; endptr è½¬æ¢åœæ­¢çš„ä½ç½®</span><br><span class="line">* @param &#123;int&#125; base å¾…è½¬æ¢æ•°çš„åŸºæ•°ï¼ˆè¿›åˆ¶ï¼Œ2~36ï¼‰</span><br><span class="line">* @return &#123;unsigned long int&#125; ULONG_MAXæˆ–ULONG_MINï¼šè½¬æ¢å¾—åˆ°çš„å€¼è¶…è¿‡åå›ç±»å‹èŒƒå›´ï¼ˆå¹¶åœ¨errnoä¸­å­˜å‚¨RANGEï¼‰ï¼›æµ®ç‚¹æ•°ï¼šæˆåŠŸè½¬æ¢ï¼›0ï¼šä¸èƒ½è½¬æ¢</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">int</span> <span class="title">strtoll</span> <span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> * <span class="keyword">restrict</span> nptr, <span class="keyword">char</span> ** <span class="keyword">restrict</span> endptr, <span class="keyword">int</span> base)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="strtoldå‡½æ•°-C99"><a href="#strtoldå‡½æ•°-C99" class="headerlink" title="strtoldå‡½æ•°(C99)"></a>strtoldå‡½æ•°(C99)</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º<code>long double</code>ï¼Œç›¸æ¯”<code>strtodå‡½æ•°ï¼ˆc89ï¼‰</code></p>
<ul>
<li>è½¬æ¢ä¸º<code>long double</code></li>
<li>å­—ç¬¦ä¸²å¯ä»¥<code>åŒ…å«16è¿›åˆ¶çš„æµ®ç‚¹æ•°</code>ã€<code>æ— ç©·æ•°</code>æˆ–<code>NaN</code>(åŒ<code>strtod</code>ã€<code>strtof</code>)</li>
</ul>
<p><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span><br><span class="line">* @param &#123;char *&#125; nptr å­—ç¬¦ä¸²</span><br><span class="line">* @param &#123;char **&#125; endptr è½¬æ¢åœæ­¢çš„ä½ç½®</span><br><span class="line">* @return &#123;long double&#125; æ­£æˆ–è´Ÿçš„HUGE_VAL(23.3)ï¼šè½¬æ¢å¾—åˆ°çš„å€¼è¶…è¿‡åå›ç±»å‹èŒƒå›´ï¼ˆå¹¶åœ¨errnoä¸­å­˜å‚¨RANGEï¼‰ï¼›æµ®ç‚¹æ•°ï¼šæˆåŠŸè½¬æ¢ï¼›0ï¼šä¸èƒ½è½¬æ¢</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">double</span> <span class="title">strtold</span> <span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> * <span class="keyword">restrict</span> nptr, <span class="keyword">char</span> ** <span class="keyword">restrict</span> endptr)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="atollå‡½æ•°-c99"><a href="#atollå‡½æ•°-c99" class="headerlink" title="atollå‡½æ•°(c99)"></a>atollå‡½æ•°(c99)</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º<code>long long int</code>ï¼Œå’Œ<code>atolå‡½æ•°ï¼ˆc89ä¹‹å‰ï¼‰</code>ç›¸æ¯”</p>
<ul>
<li>è½¬æ¢ä¸º<code>long long int</code></li>
<li>å­—ç¬¦ä¸²å¯ä»¥<code>åŒ…å«16è¿›åˆ¶çš„æµ®ç‚¹æ•°</code>ã€<code>æ— ç©·æ•°</code>æˆ–<code>NaN</code></li>
</ul>
<p><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span><br><span class="line">* @param &#123;char *&#125; nptr å­—ç¬¦ä¸²</span><br><span class="line">* @return &#123;long int&#125; ç›¸åº”çš„æ•°å­—ï¼šæˆåŠŸï¼›0ï¼šä¸èƒ½æ‰§è¡Œè½¬æ¢ï¼ˆå­—ç¬¦ä¸²ä¸ºç©ºæˆ–é•‡å‰å¯¼ç©ºç™½ä¹‹åçš„å­—ç¬¦çš„å½¢å¼ä¸ç¬¦åˆå‡½æ•°çš„è¦æ±‚ï¼‰</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> <span class="title">atol</span> <span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *nptr)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="strtofå‡½æ•°-C99"><a href="#strtofå‡½æ•°-C99" class="headerlink" title="strtofå‡½æ•°(C99)"></a>strtofå‡½æ•°(C99)</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º<code>float</code>ï¼Œç›¸æ¯”<code>strtodå‡½æ•°ï¼ˆc89ï¼‰</code></p>
<ul>
<li>è½¬æ¢ä¸º<code>float</code></li>
<li>å­—ç¬¦ä¸²å¯ä»¥<code>åŒ…å«16è¿›åˆ¶çš„æµ®ç‚¹æ•°</code>ã€<code>æ— ç©·æ•°</code>æˆ–<code>NaN</code>(åŒ<code>strtod</code>ã€<code>strtold</code>)</li>
</ul>
<p><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span><br><span class="line">* @param &#123;char *&#125; nptr å­—ç¬¦ä¸²</span><br><span class="line">* @param &#123;char **&#125; endptr è½¬æ¢åœæ­¢çš„ä½ç½®</span><br><span class="line">* @return &#123;float&#125; æ­£æˆ–è´Ÿçš„HUGE_VAL(23.3)ï¼šè½¬æ¢å¾—åˆ°çš„å€¼è¶…è¿‡åå›ç±»å‹èŒƒå›´ï¼ˆå¹¶åœ¨errnoä¸­å­˜å‚¨RANGEï¼‰ï¼›æµ®ç‚¹æ•°ï¼šæˆåŠŸè½¬æ¢ï¼›0ï¼šä¸èƒ½è½¬æ¢</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">strtof</span> <span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> * <span class="keyword">restrict</span> nptr, <span class="keyword">char</span> ** <span class="keyword">restrict</span> endptr)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="strtollå‡½æ•°-C99"><a href="#strtollå‡½æ•°-C99" class="headerlink" title="strtollå‡½æ•°(C99)"></a>strtollå‡½æ•°(C99)</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º<code>long long int</code>ï¼Œç±»ä¼¼<code>strtolå‡½æ•°ï¼ˆc89ï¼‰</code><br><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span><br><span class="line">* @param &#123;char *&#125; nptr å­—ç¬¦ä¸²</span><br><span class="line">* @param &#123;char **&#125; endptr è½¬æ¢åœæ­¢çš„ä½ç½®</span><br><span class="line">* @param &#123;int&#125; base å¾…è½¬æ¢æ•°çš„åŸºæ•°ï¼ˆè¿›åˆ¶ï¼Œ2~36ï¼‰</span><br><span class="line">* @return &#123;long int&#125; LONG_MINæˆ–LONG_MAXï¼šè½¬æ¢å¾—åˆ°çš„å€¼è¶…è¿‡åå›ç±»å‹èŒƒå›´ï¼ˆå¹¶åœ¨errnoä¸­å­˜å‚¨RANGEï¼‰ï¼›æµ®ç‚¹æ•°ï¼šæˆåŠŸè½¬æ¢ï¼›0ï¼šä¸èƒ½è½¬æ¢</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> <span class="title">strtoll</span> <span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> * <span class="keyword">restrict</span> nptr, <span class="keyword">char</span> ** <span class="keyword">restrict</span> endptr, <span class="keyword">int</span> base)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="strtoullå‡½æ•°-C99"><a href="#strtoullå‡½æ•°-C99" class="headerlink" title="strtoullå‡½æ•°(C99)"></a>strtoullå‡½æ•°(C99)</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º<code>unsigned long long int</code>ï¼Œç±»ä¼¼<code>strtoulå‡½æ•°(c89)</code><br><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span><br><span class="line">* @param &#123;char *&#125; nptr å­—ç¬¦ä¸²</span><br><span class="line">* @param &#123;char **&#125; endptr è½¬æ¢åœæ­¢çš„ä½ç½®</span><br><span class="line">* @param &#123;int&#125; base å¾…è½¬æ¢æ•°çš„åŸºæ•°ï¼ˆè¿›åˆ¶ï¼Œ2~36ï¼‰</span><br><span class="line">* @return &#123;unsigned long long int&#125; ULONG_MAXæˆ–ULONG_MINï¼šè½¬æ¢å¾—åˆ°çš„å€¼è¶…è¿‡åå›ç±»å‹èŒƒå›´ï¼ˆå¹¶åœ¨errnoä¸­å­˜å‚¨RANGEï¼‰ï¼›æµ®ç‚¹æ•°ï¼šæˆåŠŸè½¬æ¢ï¼›0ï¼šä¸èƒ½è½¬æ¢</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> <span class="title">strtoull</span> <span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> * <span class="keyword">restrict</span> nptr, <span class="keyword">char</span> ** <span class="keyword">restrict</span> endptr, <span class="keyword">int</span> base)</span></span>;</span><br></pre></td></tr></table></figure>
<h3 id="ç¨‹åºï¼šæµ‹è¯•æ•°å€¼è½¬æ¢å‡½æ•°"><a href="#ç¨‹åºï¼šæµ‹è¯•æ•°å€¼è½¬æ¢å‡½æ•°" class="headerlink" title="ç¨‹åºï¼šæµ‹è¯•æ•°å€¼è½¬æ¢å‡½æ•°"></a>ç¨‹åºï¼šæµ‹è¯•æ•°å€¼è½¬æ¢å‡½æ•°</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Test c89 numeric conversion functions</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;errno.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CHK_VALID printf(<span class="string">"    %s        %s\n"</span>, \</span><br><span class="line"> 					     errno != ERANGE ? <span class="string">"Yes"</span> : <span class="string">"No "</span>, \</span><br><span class="line"> 					     *ptr == <span class="string">'\0'</span> ? <span class="string">"Yes"</span> : <span class="string">"No"</span>);</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">char</span> *ptr;</span><br><span class="line">	<span class="comment">/* æ£€æµ‹ç¨‹åºå¯åŠ¨æ–¹å¼æ˜¯å¦æ­£ç¡® */</span></span><br><span class="line">	<span class="keyword">if</span> (argc != <span class="number">2</span>) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"usage: tnumconv string\n"</span>);</span><br><span class="line">		<span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/* ä½¿ç”¨c89ä¹‹å‰çš„3ä¸ªæ—§è½¬æ¢å‡½æ•° */</span> </span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Function Return Value\n"</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"--------    --------\n"</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"atof        %g\n"</span>, atof(argv[<span class="number">1</span>]));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"atoi        %d\n"</span>, atoi(argv[<span class="number">1</span>]));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"atol        %ld\n"</span>, atol(argv[<span class="number">1</span>]));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Function    Return Value    Valid?    "</span></span><br><span class="line">		   <span class="string">"String Consumed?\n"</span></span><br><span class="line">		   <span class="string">"--------    ------------    ------    "</span></span><br><span class="line">		   <span class="string">"------------------\n"</span>);</span><br><span class="line">    errno = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"strtod    %-12g\n"</span>, strtod(argv[<span class="number">1</span>], &amp;ptr));</span><br><span class="line">    CHK_VALID;</span><br><span class="line"></span><br><span class="line">    errno = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"strtol    %-12ld\n"</span>, strtol(argv[<span class="number">1</span>], &amp;ptr, <span class="number">10</span>));</span><br><span class="line">    CHK_VALID;</span><br><span class="line"></span><br><span class="line">    errno = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"strtoul    %-12lu\n"</span>, strtoul(argv[<span class="number">1</span>], &amp;ptr, <span class="number">10</span>));</span><br><span class="line">    CHK_VALID;</span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-10-24%20%E4%B8%8A%E5%8D%8810.36.50.png" alt="Alt text"></p>
<h3 id="26-2-3-ä¼ªéšæœºåºåˆ—ç”Ÿæˆå‡½æ•°"><a href="#26-2-3-ä¼ªéšæœºåºåˆ—ç”Ÿæˆå‡½æ•°" class="headerlink" title="26.2.3    ä¼ªéšæœºåºåˆ—ç”Ÿæˆå‡½æ•°"></a>26.2.3    ä¼ªéšæœºåºåˆ—ç”Ÿæˆå‡½æ•°</h3><h4 id="randå‡½æ•°"><a href="#randå‡½æ•°" class="headerlink" title="randå‡½æ•°"></a>randå‡½æ•°</h4><hr>
<blockquote>
<p><strong>æè¿°ï¼š</strong>è¿”å›ä¸€ä¸ª<code>0ï½RAND_MAX(stdlib.h)</code>çš„éšæœºæ•°ã€‚<br><strong>è¯´æ˜ï¼š</strong><code>randå‡½æ•°</code>è¿”å›çš„æ•°äº‹å®ä¸Šä¸æ˜¯éšæœºçš„ï¼Œè¿™äº›æ•°æ˜¯ç”±â€œç§å­â€å€¼ï¼ˆé»˜è®¤ä¸º1ï¼‰äº§ç”Ÿçš„ï¼Œä½†å¯¹äºå¶ç„¶çš„è§‚å¯Ÿè€…è€Œè¨€ï¼Œrandå‡½æ•°ä¼¼ä¹èƒ½èƒ½å¤Ÿäº§ç”Ÿä¸ç›¸å…³çš„æ•°å€¼åºåˆ—ã€‚<br><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @return &#123;int&#125; `0ï½RAND_MAX(stdlib.h)`çš„éšæœºæ•°</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">rand</span> <span class="params">(<span class="keyword">void</span>)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="srandå‡½æ•°"><a href="#srandå‡½æ•°" class="headerlink" title="srandå‡½æ•°"></a>srandå‡½æ•°</h4><blockquote>
<p><strong>æè¿°ï¼š</strong>åœ¨<code>randå‡½æ•°</code>æ‰§è¡Œå‰æ‰§è¡Œè¯¥å‡½æ•°æ¥ä¸º<code>randå‡½æ•°</code>æä¾›ç§å­å€¼ã€‚<br><strong>æ³¨æ„ï¼š</strong>åŒä¸€ä¸ªç§å­å€¼å¯¹åº”ç€ä¸€ç»„ç‰¹å®šçš„éšæœºåºåˆ—<br><strong>æŠ€å·§ï¼š</strong>æŠŠ<code>timeå‡½æ•°</code>çš„è¿”å›å€¼ä¼ é€’ç»™<code>srandå‡½æ•°</code>è®¾ç½®â€œéšæœºåŒ–â€çš„ç§å­å€¼ï¼Œè¿™æ ·å¯ä»¥ä½¿<code>randå‡½æ•°</code>åœ¨æ¯æ¬¡è¿è¡Œæ—¶çš„è¡Œä¸ºéƒ½ä¸ç›¸åŒã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Tests the pseudo-random sequence generation functions</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i, seed;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"This program displays the first five value of "</span></span><br><span class="line">		   <span class="string">"rand.\n"</span>);</span><br><span class="line">	<span class="keyword">for</span> (;;) &#123;</span><br><span class="line">		<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, rand());</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"\n\n"</span>);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Enter new seed value (0 to terminate):"</span>);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;seed);</span><br><span class="line">		<span class="keyword">if</span> (seed == <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		srand(seed);</span><br><span class="line">	&#125;</span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="26-2-3-ä¸ç¯å¢ƒçš„é€šä¿¡"><a href="#26-2-3-ä¸ç¯å¢ƒçš„é€šä¿¡" class="headerlink" title="26.2.3    ä¸ç¯å¢ƒçš„é€šä¿¡"></a>26.2.3    ä¸ç¯å¢ƒçš„é€šä¿¡</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸€ç»„ç®€å•çš„æ“ä½œç³»ç»Ÿæ¥å£ã€‚</p>
<ol>
<li>æ­£å¸¸æˆ–ä¸æ­£å¸¸åœ°ç»ˆæ­¢ç¨‹åºï¼Œå¹¶ä¸”æƒ³æ“ä½œç³»ç»Ÿåæ‚”ä¸€ä¸ªçŠ¶æ€ç </li>
<li>ä»ç”¨æˆ·çš„å¤–éƒ¨ç¯å¢ƒè·å–ä¿¡æ¯</li>
<li>æ‰§è¡Œæ“ä½œç³»ç»Ÿçš„å‘½ä»¤</li>
</ol>
</blockquote>
<h4 id="exitå‡½æ•°"><a href="#exitå‡½æ•°" class="headerlink" title="exitå‡½æ•°"></a>exitå‡½æ•°</h4><hr>
<blockquote>
<p><strong>æè¿°ï¼š</strong>ç»ˆæ­¢ç¨‹åºï¼Œå¹¶è¿”å›çŠ¶æ€ç ç»™æ“ä½œç³»ç»Ÿã€‚<br><strong>ç»†èŠ‚ï¼š</strong>é€šå¸¸è¿˜ä¼šåœ¨åå°åšä¸€äº›æœ€åçš„åŠ¨ä½œ</p>
<ul>
<li>æ¸…æ´—åŒ…å¥½æœªè¾“å‡ºæ•°æ®çš„è¾“å‡ºç¼“å†²åŒº</li>
<li>å…³é—­æ‰“å¼€çš„æµ</li>
<li>åˆ é™¤ä¸´æ—¶æ–‡ä»¶</li>
<li>è°ƒç”¨é€šè¿‡<code>atexitå‡½æ•°</code>æ³¨å†Œçš„åœ¨ç¨‹åºç»ˆæ­¢æ—¶è¦è°ƒç”¨çš„å‡½æ•°</li>
</ul>
<p><strong>è¯´æ˜ï¼š</strong>é€šå¸¸ç­‰ä»·äºåœ¨<code>mainå‡½æ•°</code>ä¸­æ‰§è¡Œ<code>return n</code>ï¼Œå…·æœ‰å¯ç§»æ¤æ€§çš„çŠ¶æ€ç åŒ…æ‹¬</p>
<ul>
<li><strong>EXIT_SUCCESSå®ï¼š</strong>æ­£å¸¸é€€å‡º(æ•´æ•°0)</li>
<li><strong>EXIT_FAILUREå®ï¼š</strong>éæ­£å¸¸é€€å‡º</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong><code>exitå‡½æ•°</code>å’Œ<code>returnè¯­å¥</code>çš„ä¸åŒè¡¨ç°åœ¨</p>
</blockquote>
<table>
<thead>
<tr>
<th>åŒºåˆ«</th>
<th>exitå‡½æ•°</th>
<th>returnè¯­å¥</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>mainå‡½æ•°</code>ä¸­å±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ</td>
<td>ä¸ç»“æŸ</td>
<td>ç»“æŸï¼ˆå¦‚æœç”¨<code>atexitå‡½æ•°</code>æ³¨å†Œçš„å‡½æ•°æˆ–<code>æ¸…æ´—è¾“å‡ºæµçš„ç¼“å†²åŒº</code>è®¿é—®è¿™äº›å˜é‡å°±ä¼šå‡ºç°é—®é¢˜ï¼‰</td>
</tr>
<tr>
<td>ä½¿ç”¨<code>int</code>ä¹‹å¤–çš„ç±»å‹</td>
<td>å¯ä»¥</td>
<td>å¿…é¡»å’Œ<code>mianå‡½æ•°</code>çš„è¿”å›ç±»å‹ä¿æŒä¸€è‡´ï¼Œå¦åˆ™</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;int&#125; status çŠ¶æ€ç </span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">exit</span> <span class="params">(<span class="keyword">int</span> status)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="atexitå‡½æ•°"><a href="#atexitå‡½æ•°" class="headerlink" title="atexitå‡½æ•°"></a>atexitå‡½æ•°</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å½“æŠŠå‡½æ•°æŒ‡é’ˆä¼ é€’ç»™<code>aexitå‡½æ•°</code>æ—¶ï¼Œå®ƒä¼šæŠŠæŒ‡é’ˆä¿å­˜èµ·æ¥ï¼Œå½“ç¨‹åºæ­£å¸¸ç»ˆæ­¢æ—¶ä¼šè¢«è°ƒç”¨ã€‚</p>
<ul>
<li>é€šè¿‡<code>exitå‡½æ•°</code>è¢«è°ƒç”¨æˆ–<code>mainå‡½æ•°</code>ä¸­çš„<code>return</code>è¯­å¥è§¦å‘</li>
<li>å¦‚æœæ³¨å†Œäº†ä¸¤ä¸ªæˆ–æ›´å¤šå‡½æ•°ï¼Œé‚£ä¹ˆå°†æŒ‰ç…§ä¸æ³¨å†Œé¡ºåº<code>ç›¸å</code>çš„é¡ºåºè°ƒç”¨å®ƒä»¬</li>
</ul>
<p><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">* @param &#123;void (*func)(void)&#125; func å‡½æ•°æŒ‡é’ˆ</span><br><span class="line">* @return &#123;int&#125; æœªçŸ¥</span><br><span class="line">*/</span><br><span class="line">int atexit (void (*func)(void));</span><br></pre></td></tr></table></figure>
<h4 id="Exitå‡½æ•°ï¼ˆc99ï¼‰"><a href="#Exitå‡½æ•°ï¼ˆc99ï¼‰" class="headerlink" title="_Exitå‡½æ•°ï¼ˆc99ï¼‰"></a>_Exitå‡½æ•°ï¼ˆc99ï¼‰</h4><hr>
<blockquote>
<p><strong>æè¿°ï¼š</strong>ç»ˆæ­¢ç¨‹åºï¼Œå¹¶è¿”å›çŠ¶æ€ç ç»™æ“ä½œç³»ç»Ÿ<br><strong>è¯´æ˜ï¼š</strong>ç±»ä¼¼<code>exitå‡½æ•°</code></p>
<ul>
<li>ä¸ä¸€å®šä¼šæ¸…æ´—è¾“å‡ºç¼“å†²åŒºï¼ˆç”±å®ç°å®šä¹‰ï¼‰</li>
<li>ä¸ä¸€å®šä¼šå…³é—­æ‰“å¼€çš„æµ</li>
<li>ä¸ä¸€å®šä¼šåˆ é™¤ä¸´æ—¶æ–‡ä»¶</li>
<li>ä¸ä¼šè°ƒç”¨é€šè¿‡<code>atexitå‡½æ•°</code>æ³¨å†Œçš„åœ¨ç¨‹åºç»ˆæ­¢æ—¶è¦è°ƒç”¨çš„å‡½æ•°</li>
<li>ä¸å›å‘é€ä¿¡å·è§¦å‘<code>signalå‡½æ•°</code>ï¼ˆ<a href="">24.3</a>ï¼‰æ³¨å†Œçš„å‡½æ•°</li>
</ul>
<p><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;int&#125; status çŠ¶æ€ç </span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">void</span> _Exit (<span class="keyword">int</span> status);</span><br></pre></td></tr></table></figure>
<h4 id="abortå‡½æ•°"><a href="#abortå‡½æ•°" class="headerlink" title="abortå‡½æ•°"></a>abortå‡½æ•°</h4><hr>
<blockquote>
<p><strong>æè¿°ï¼š</strong>é€šå¸¸ä¼šå¯¼è‡´å¼‚å¸¸çš„ç¨‹åºç»ˆæ­¢ï¼Œé•¿ç”Ÿ<code>SIGABRTä¿¡å·</code>å¹¶å‘ç³»ç»Ÿè¿”å›ä¸€ä¸ªè¡¨ç¤ºâ€œä¸æˆåŠŸâ€çš„çŠ¶æ€ç ã€‚<br><strong>æ³¨æ„ï¼š</strong>æœ‰ä¸€ç§æƒ…å†µä¸‹ä¸ä¼šå¯¼è‡´ç¨‹åºç»ˆæ­¢ï¼Œé‚£å°±æ˜¯é€šè¿‡<code>signalå‡½æ•°</code>ä¸º<code>SIGABRTä¿¡å·</code>æ³¨å†Œå¤„ç†å‡½æ•°ï¼Œä¸”å¤„ç†å‡½æ•°è°ƒç”¨äº†<code>longjmpå‡½æ•°</code>æ¢å¤åˆ°ä¹‹å‰çš„æ‰§è¡Œç¯å¢ƒã€‚<br><strong>è¯´æ˜ï¼š</strong>ç±»ä¼¼<code>exit</code>å‡½æ•°ï¼Œç‰¹ç‚¹æ˜¯</p>
<ul>
<li>ä¸ä¸€å®šä¼šæ¸…æ´—è¾“å‡ºç¼“å†²åŒºï¼ˆç”±å®ç°å®šä¹‰ï¼‰</li>
<li>ä¸ä¸€å®šä¼šå…³é—­æ‰“å¼€çš„æµ</li>
<li>ä¸ä¸€å®šä¼šåˆ é™¤ä¸´æ—¶æ–‡ä»¶</li>
</ul>
<p><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">abort</span> <span class="params">(<span class="keyword">void</span>)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="getenvå‡½æ•°"><a href="#getenvå‡½æ•°" class="headerlink" title="getenvå‡½æ•°"></a>getenvå‡½æ•°</h4><hr>
<blockquote>
<p><strong>æè¿°ï¼š</strong>æä¾›äº†è®¿é—®ç”¨æˆ·ç¯å¢ƒä¸­çš„ä»»æ„å­—ç¬¦ä¸²ï¼ˆç¯å¢ƒå˜é‡ï¼‰çš„åŠŸèƒ½ã€‚<br><strong>è¯´æ˜ï¼š</strong>è·å¾—çš„æŒ‡é’ˆæŒ‡å‘çš„å­—ç¬¦ä¸²æ˜¯é™æ€çš„ï¼Œæœ‰å¯èƒ½ä¼šè¢«å…¶å®ƒå‡½æ•°è°ƒç”¨æˆ–ç³»ç»Ÿè‡ªèº«ä¿®æ”¹ã€‚<br><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; name ç¯å¢ƒå˜é‡å</span><br><span class="line">* @return &#123;char *&#125; æŒ‡å‘é™æ€åˆ†é…çš„å­—ç¬¦ä¸²çš„æŒ‡é’ˆ</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">getenv</span> <span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *name)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* "/usr/local/bin:/bin:/usr/bin:." */</span></span><br><span class="line"><span class="keyword">char</span> *p = getenv(<span class="string">"PATH"</span>);</span><br></pre></td></tr></table></figure>
<h4 id="systemå‡½æ•°"><a href="#systemå‡½æ•°" class="headerlink" title="systemå‡½æ•°"></a>systemå‡½æ•°</h4><hr>
<blockquote>
<p><strong>æè¿°ï¼š</strong>è¿è¡Œå¦ä¸€ä¸ªcç¨‹åºï¼ˆå¯ä»¥æ˜¯æ“ä½œç³»ç»Ÿå‘½ä»¤ï¼‰<br><strong>è¯´æ˜ï¼š</strong>ç±»ä¼¼åœ¨æ“ä½œç³»ç»Ÿç»ˆç«¯ä½¿ç”¨å‘½ä»¤è¡Œ</p>
<ul>
<li><strong>å‚æ•°ï¼š</strong>ä»¥<code>NULL</code>ä½œä¸ºå‚æ•°æœ‰ç‰¹æ®Šå«ä¹‰</li>
<li><strong>è¿”å›å€¼</strong>ï¼šï¼ˆç”±å®ç°å®šä¹‰ï¼‰é€šå¸¸æƒ…å†µä¸‹è¿”å›è¦æ±‚å®ƒè¿è¡Œçš„é‚£ä¸ªç¨‹åºçš„ç»ˆæ­¢çŠ¶æ€ç </li>
</ul>
<p><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; string å‘½ä»¤</span><br><span class="line">* @return &#123;int&#125; ç”±å®ç°å®šä¹‰ï¼‰é€šå¸¸æƒ…å†µä¸‹è¿”å›è¦æ±‚å®ƒè¿è¡Œçš„é‚£ä¸ªç¨‹åºçš„ç»ˆæ­¢çŠ¶æ€ç </span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">system</span> <span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *<span class="built_in">string</span>)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è°ƒç”¨UNIX(Linux)çš„lså‘½ä»¤ï¼Œå¹¶å°†ç»“æœå­˜å…¥myfiles</span></span><br><span class="line">system(<span class="string">"ls &gt;myfiles"</span>);</span><br></pre></td></tr></table></figure>
<h3 id="26-2-4-æœç´¢å’Œæ’åºä½¿ç”¨å·¥å…·"><a href="#26-2-4-æœç´¢å’Œæ’åºä½¿ç”¨å·¥å…·" class="headerlink" title="26.2.4    æœç´¢å’Œæ’åºä½¿ç”¨å·¥å…·"></a>26.2.4    æœç´¢å’Œæ’åºä½¿ç”¨å·¥å…·</h3><h4 id="bsearchå‡½æ•°"><a href="#bsearchå‡½æ•°" class="headerlink" title="bsearchå‡½æ•°"></a>bsearchå‡½æ•°</h4><hr>
<blockquote>
<p><strong>æè¿°ï¼š</strong>æ ¹æ®é”®åœ¨<code>æœ‰åºæ•°ç»„</code>ä¸­æœç´¢ä¸€ä¸ªç‰¹å®šçš„å€¼ã€‚<br><strong>è¯´æ˜ï¼š</strong>é€šå¸¸ä¼šä½¿ç”¨<code>äºŒåˆ†æœç´¢ç®—æ³•</code>æ¥æœç´¢åœ¨æ•°ç»„ä¸­æœç´¢<br><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">* @param &#123;void *&#125; key æŒ‡å‘é”®ï¼ˆåŒ¹é…ä¾æ®ï¼‰çš„æŒ‡é’ˆ</span><br><span class="line">* @param &#123;void *&#125; base æ•°ç»„</span><br><span class="line">* @param &#123;size_t&#125; size æ¯ä¸ªå…ƒç´ çš„å¤§å°ï¼ˆå­—èŠ‚ï¼‰</span><br><span class="line">* @param &#123;Function *&#125; compar æŒ‡å‘æ¯”è¾ƒå‡½æ•°çš„æŒ‡é’ˆ</span><br><span class="line">* @return &#123;void *&#125; æŒ‡å‘ä¸é”®åŒ¹é…çš„æŒ‡é’ˆï¼šåŒ¹é…åˆ°ï¼›NULLï¼šæ²¡åŒ¹é…åˆ°</span><br><span class="line">*/</span><br><span class="line">void *bsearch (const void *key, const void *base, size_t nmemb, size_t size, int (*compar)(const void *, const void *));</span><br></pre></td></tr></table></figure>
<h4 id="qsortå‡½æ•°"><a href="#qsortå‡½æ•°" class="headerlink" title="qsortå‡½æ•°"></a>qsortå‡½æ•°</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸ºæ•°ç»„è¿›è¡Œæ’åº<br><strong>ç›¸å…³ï¼š</strong><a href="">17.1</a><br><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">* @param &#123;void *&#125; base æŒ‡å‘æ•°ç»„éœ€è¦æ’åºçš„éƒ¨åˆ†çš„ç¬¬ä¸€ä¸ªå…ƒç´ </span><br><span class="line">* @param &#123;size_t&#125; nmemb è¦æ’åºçš„å…ƒç´ çš„æ•°é‡</span><br><span class="line">* @param &#123;Function *&#125; compare æŒ‡å‘æ’åºå‡½æ•°çš„æŒ‡é’ˆ</span><br><span class="line">*/</span><br><span class="line">void qsort (void *base, size_t nmemb, size_t size, int (*compar)(const void *, const void *));</span><br></pre></td></tr></table></figure>
<h3 id="ç¨‹åºï¼šç¡®å®šèˆªç©ºé‡Œç¨‹"><a href="#ç¨‹åºï¼šç¡®å®šèˆªç©ºé‡Œç¨‹" class="headerlink" title="ç¨‹åºï¼šç¡®å®šèˆªç©ºé‡Œç¨‹"></a>ç¨‹åºï¼šç¡®å®šèˆªç©ºé‡Œç¨‹</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Determine air mileage from New York City.</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> city_info &#123;</span><br><span class="line">	<span class="keyword">char</span> *city;</span><br><span class="line">	<span class="keyword">int</span> miles;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">compare_cityes</span> <span class="params">(<span class="keyword">const</span> <span class="keyword">void</span> *key_ptr, <span class="keyword">const</span> <span class="keyword">void</span> *element_ptr)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">char</span> city_name[<span class="number">5</span>];</span><br><span class="line">	<span class="keyword">struct</span> city_info *ptr;</span><br><span class="line">	<span class="keyword">const</span> <span class="keyword">struct</span> city_info mileage[] = &#123;</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="string">"Berlin"</span>, <span class="number">3965</span></span><br><span class="line">		&#125;,</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="string">"Buenos Aires"</span>, <span class="number">5297</span></span><br><span class="line">		&#125;,</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="string">"Cairo"</span>, <span class="number">5602</span></span><br><span class="line">		&#125;,</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="string">"Calcutta"</span>, <span class="number">7918</span></span><br><span class="line">		&#125;,</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="string">"Cape Town"</span>, <span class="number">7764</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Enter city name:\n"</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%80[^\n]"</span>, city_name);</span><br><span class="line">	ptr = bsearch(city_name, mileage, sizeof(mileage) / sizeof(mileage[<span class="number">0</span>]), sizeof(mileage[<span class="number">0</span>]), compare_cityes);</span><br><span class="line">	<span class="keyword">if</span> (ptr != <span class="literal">NULL</span>) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%s is %d miles from New York City.\n"</span>, city_name, ptr-&gt;miles);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%s wasn't found."</span>, city_name);</span><br><span class="line">	&#125;</span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">compare_cityes</span> <span class="params">(<span class="keyword">const</span> <span class="keyword">void</span> *key_ptr, <span class="keyword">const</span> <span class="keyword">void</span> *element_ptr)</span> </span>&#123;</span><br><span class="line">	return <span class="built_in">strcmp</span>((char *) key_ptr, ((struct city_info *) element_ptr)-&gt;city);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="26-2-5-æ•´æ•°è¿ç®—å‡½æ•°"><a href="#26-2-5-æ•´æ•°è¿ç®—å‡½æ•°" class="headerlink" title="26.2.5    æ•´æ•°è¿ç®—å‡½æ•°"></a>26.2.5    æ•´æ•°è¿ç®—å‡½æ•°</h3><h4 id="abså‡½æ•°"><a href="#abså‡½æ•°" class="headerlink" title="abså‡½æ•°"></a>abså‡½æ•°</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è¿”å›<code>int</code>ç±»å‹çš„ç»å¯¹å€¼ã€‚<br><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;int&#125; j éœ€è¦æ±‚ç»å¯¹å€¼çš„æ•´æ•°</span><br><span class="line">* @return &#123;int&#125; ç»å¯¹å€¼</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">abs</span> <span class="params">(<span class="keyword">int</span> j)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="labså‡½æ•°"><a href="#labså‡½æ•°" class="headerlink" title="labså‡½æ•°"></a>labså‡½æ•°</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è¿”å›<code>long int</code>ç±»å‹çš„ç»å¯¹å€¼ã€‚<br><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;long int&#125; j éœ€è¦æ±‚ç»å¯¹å€¼çš„long intå€¼</span><br><span class="line">* @return &#123;long int&#125; ç»å¯¹å€¼</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">int</span> <span class="title">abs</span> <span class="params">(<span class="keyword">long</span> <span class="keyword">int</span> j)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="llabså‡½æ•°"><a href="#llabså‡½æ•°" class="headerlink" title="llabså‡½æ•°"></a>llabså‡½æ•°</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è¿”å›<code>long long int</code>ç±»å‹çš„ç»å¯¹å€¼ã€‚<br><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;long long int&#125; j éœ€è¦æ±‚ç»å¯¹å€¼çš„long intå€¼</span><br><span class="line">* @return &#123;long long int&#125; ç»å¯¹å€¼</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> <span class="title">abs</span> <span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> j)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="divå‡½æ•°"><a href="#divå‡½æ•°" class="headerlink" title="divå‡½æ•°"></a>divå‡½æ•°</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç”¨ç¬¬ä¸€ä¸ªå‚æ•°é™¤ä»¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¿”å›å«æœ‰<code>å•†</code>å’Œ<code>ä½™æ•°</code>çš„ç»“æ„ä½“ã€‚<br><strong>ä¼˜ç‚¹ï¼ˆç›¸æ¯”<code>%</code>å’Œ<code>/</code>ï¼‰ï¼š</strong>åŒ<code>ldiv</code><br>|æ¯”è¾ƒ|<code>div(ldiv)å‡½æ•°</code>|<code>%</code>å’Œ<code>/</code>|<br>|-|-|-|<br>|æ•ˆç‡|å¯èƒ½æ›´é«˜ï¼Œè®¸å¤šè®¡ç®—æœºå¯ä»¥åœ¨ä¸€æ¡è¯­å¥ä¸­è®¡ç®—å‡ºå•†å’Œä½™æ•°|æ•ˆç‡ä½ï¼Œéœ€è¦å¤šä¸ªæŒ‡ä»¤|<br>|è´Ÿæ“ä½œæ•°èˆå…¥æ–¹å¼|å•†ï¼šå‘é›¶èˆå…¥ï¼›ä½™æ•°ï¼š<code>n(åŸå§‹æ•°) = q(å•†) x d(é™¤æ•°) + r(ä½™æ•°)</code>|c89ä¸­ç”±å®ç°å®šä¹‰ï¼Œc99ä¸­åŒ<code>divï¼ˆldivï¼‰å‡½æ•°</code>|<br><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;int&#125; number é™¤æ•°</span><br><span class="line">* @param &#123;int&#125; denom è¢«é™¤æ•°</span><br><span class="line">* @return &#123;div_t&#125; å«æœ‰å•†ï¼ˆquotï¼‰å’Œä½™æ•°ï¼ˆremï¼‰çš„ç»“æ„ä½“</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">div_t</span> div (<span class="keyword">int</span> number, <span class="keyword">int</span> denom);</span><br></pre></td></tr></table></figure>
<h4 id="ldivå‡½æ•°ï¼ˆc99ï¼‰"><a href="#ldivå‡½æ•°ï¼ˆc99ï¼‰" class="headerlink" title="ldivå‡½æ•°ï¼ˆc99ï¼‰"></a>ldivå‡½æ•°ï¼ˆc99ï¼‰</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç”¨ç¬¬ä¸€ä¸ªå‚æ•°é™¤ä»¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¿”å›å«æœ‰<code>å•†</code>å’Œ<code>ä½™æ•°</code>çš„ç»“æ„ä½“ã€‚<br><strong>ä¼˜ç‚¹ï¼ˆç›¸æ¯”<code>%</code>å’Œ<code>/</code>ï¼‰ï¼š</strong>åŒ<code>div</code><br>|æ¯”è¾ƒ|<code>ldiv(div)å‡½æ•°</code>|<code>%</code>å’Œ<code>/</code>|<br>|-|-|-|<br>|æ•ˆç‡|å¯èƒ½æ›´é«˜ï¼Œè®¸å¤šè®¡ç®—æœºå¯ä»¥åœ¨ä¸€æ¡è¯­å¥ä¸­è®¡ç®—å‡ºå•†å’Œä½™æ•°|æ•ˆç‡ä½ï¼Œéœ€è¦å¤šä¸ªæŒ‡ä»¤|<br>|è´Ÿæ“ä½œæ•°èˆå…¥æ–¹å¼|å•†ï¼šå‘é›¶èˆå…¥ï¼›ä½™æ•°ï¼š<code>n(åŸå§‹æ•°) = q(å•†) x d(é™¤æ•°) + r(ä½™æ•°)</code>|c89ä¸­ç”±å®ç°å®šä¹‰ï¼Œc99ä¸­åŒ<code>ldivï¼ˆdivï¼‰å‡½æ•°</code>|<br><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;long int&#125; number é™¤æ•°</span><br><span class="line">* @param &#123;long  int&#125; denom è¢«é™¤æ•°</span><br><span class="line">* @return &#123;div_t&#125; å«æœ‰å•†ï¼ˆquotï¼‰å’Œä½™æ•°ï¼ˆremï¼‰çš„ç»“æ„ä½“</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">div_t</span> ldiv (<span class="keyword">long</span> <span class="keyword">int</span> number, <span class="keyword">long</span> <span class="keyword">int</span> denom);</span><br></pre></td></tr></table></figure>
<h4 id="lldivå‡½æ•°ï¼ˆc99ï¼‰"><a href="#lldivå‡½æ•°ï¼ˆc99ï¼‰" class="headerlink" title="lldivå‡½æ•°ï¼ˆc99ï¼‰"></a>lldivå‡½æ•°ï¼ˆc99ï¼‰</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç”¨ç¬¬ä¸€ä¸ªå‚æ•°é™¤ä»¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¿”å›å«æœ‰<code>å•†</code>å’Œ<code>ä½™æ•°</code>çš„ç»“æ„ä½“ã€‚<br><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;long long int&#125; number é™¤æ•°</span><br><span class="line">* @param &#123;long long int&#125; denom è¢«é™¤æ•°</span><br><span class="line">* @return &#123;div_t&#125; å«æœ‰å•†ï¼ˆquotï¼‰å’Œä½™æ•°ï¼ˆremï¼‰çš„ç»“æ„ä½“</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">div_t</span> ldiv (<span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> number, <span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> denom);</span><br></pre></td></tr></table></figure>
<h2 id="26-3-time-hï¼šæ—¥æœŸå’Œæ—¶é—´"><a href="#26-3-time-hï¼šæ—¥æœŸå’Œæ—¶é—´" class="headerlink" title="26.3    time.hï¼šæ—¥æœŸå’Œæ—¶é—´"></a>26.3    time.hï¼šæ—¥æœŸå’Œæ—¶é—´</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å­˜å‚¨æ—¶é—´çš„æ•°æ®ç»“æ„ã€‚</p>
<ul>
<li><code>clock_t</code>ï¼šæŒ‰ç…§â€œæ—¶é’Ÿæ»´ç­”â€è¿›è¡Œåº¦é‡çš„æ—¶é—´å€¼ã€‚</li>
<li><code>time_t</code>ï¼šç´§å‡‘çš„æ—¶é—´å’Œæ—¥æœŸç¼–ç ï¼ˆæ—¥å†æ—¶é—´ï¼‰</li>
<li><code>struct tm</code>ï¼šåŒ…å«åˆ†è§£çš„æ—¶é—´çš„ç»“æ„ä½“<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-11-02%20%E4%B8%8B%E5%8D%889.40.49.png" alt="Alt text"><br>â¶ å…è®¸ä¸¤ä¸ªé¢å¤–çš„â€œé—°ç§’â€ã€‚c99ä¸­æœ€å¤§å€¼ä¸º60ã€‚<br>â· å¦‚æœå¤ä»¤æ—¶æœ‰æ•ˆï¼Œå°±ä¸ºæ­£æ•°ï¼›å¦‚æœæ— æ•ˆï¼Œä¸ºé›¶ï¼›å¦‚æœè¿™ä¸€ä¿¡æ¯æœªçŸ¥ï¼Œå°±ä¸ºè´Ÿæ•°ã€‚</li>
</ul>
</blockquote>
<h3 id="26-3-1-æ—¶é—´å¤„ç†å‡½æ•°"><a href="#26-3-1-æ—¶é—´å¤„ç†å‡½æ•°" class="headerlink" title="26.3.1    æ—¶é—´å¤„ç†å‡½æ•°"></a>26.3.1    æ—¶é—´å¤„ç†å‡½æ•°</h3><h4 id="clockå‡½æ•°"><a href="#clockå‡½æ•°" class="headerlink" title="clockå‡½æ•°"></a>clockå‡½æ•°</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è¿”å›ç¨‹åºä»å¼€å§‹æ‰§è¡Œåˆ°å½“å‰æ—¶åˆ»çš„å¤„ç†å™¨æ—¶é—´ï¼ˆæ—¶é’Ÿæ•°ï¼‰ã€‚<br><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @return &#123;clock_t&#125; ç¨‹åºä»æ­¤å¯åŠ¨åˆ°å½“å‰ç»è¿‡çš„å¤„ç†å™¨æ—¶é—´</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">clock_t</span> clock (<span class="keyword">void</span>);</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>æŠ€å·§ï¼š</strong></p>
<ul>
<li>ä¸ºäº†å°†å¤„ç†å™¨æ—¶é—´è½¬æ¢ä¸ºç§’ï¼Œå°†å…¶é™¤ä»¥<code>CLOCK_PER_SEC</code>(å®šä¹‰åœ¨<code>time.h</code>)ã€‚</li>
<li>å½“ç”¨<code>clock</code>å‡½æ•°æ¥ç¡®å®šç¨‹åºå·²ç»è¿è¡Œå¤šé•¿æ—¶é—´æ—¶ï¼ˆä¸åŒ…æ‹¬åˆ°è¾¾<code>mainå‡½æ•°</code>ä¹‹å‰çš„æ—¶é—´ï¼‰ï¼Œä¹ æƒ¯åšæ³•æ—¶è°ƒç”¨<code>clockå‡½æ•°</code>ä¸¤æ¬¡ï¼šä¸€æ¬¡åœ¨<code>mainå‡½æ•°</code>å¼€å§‹å¤„ï¼Œä¸€æ¬¡åœ¨ç¨‹åºè¦ç»ˆæ­¢ä¹‹å‰ã€‚</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#inlcude &lt;stdio.h&gt;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="comment">/* ç¬¬ä¸€æ¬¡è°ƒç”¨ */</span></span><br><span class="line">	<span class="keyword">clock_t</span> start_clock = clock();</span><br><span class="line">	...</span><br><span class="line">	<span class="comment">/* ç¬¬äºŒæ¬¡è°ƒç”¨ */</span></span><br><span class="line">	<span class="comment">/* CLOCK_PER_SECï¼šç±»å‹ç”±å®ç°å®šä¹‰ï¼Œc99æŒ‡å®šå…¶ä¸ºclock_tç±»å‹ */</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Processor time used: %g sec.\n"</span>, (clock() - start_clock / (double) CLOCKS_PER_SEC);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="timeå‡½æ•°"><a href="#timeå‡½æ•°" class="headerlink" title="timeå‡½æ•°"></a>timeå‡½æ•°</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è¿”å›å½“å‰çš„æ—¥å†æ—¶é—´ã€‚</p>
<ul>
<li>å¦‚æœå‚æ•°ä¸ä¸º<code>NULL</code>,é‚£ä¹ˆ<code>timeå‡½æ•°</code>è¿˜ä¼šæŠŠæ—¥å†æ—¶é—´å­˜å‚¨åœ¨å®å‚æŒ‡å‘çš„ç©ºé—´ä¸­ã€‚</li>
</ul>
<p><strong>åŸå‹ï¼š</strong><code>time.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;time_t *&#125; timer æŒ‡å‘å­˜å‚¨å½“å‰æ—¥å†æ—¶é—´çš„å­˜å‚¨ç©ºé—´ï¼ˆå¯ä»¥ä¸ºNULLï¼‰</span><br><span class="line">* @return &#123;time_t&#125; å½“å‰çš„æ—¥å†æ—¶é—´ </span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">time_t</span> time (<span class="keyword">time_t</span> *timer);</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ–¹å¼ä¸€ï¼šä½¿ç”¨è¿”å›å€¼</span></span><br><span class="line">cur_time = time(NULL);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–¹å¼äºŒï¼šé€šè¿‡å‚æ•°æŒ‡å®šå­˜å‚¨çš„ä½ç½®</span></span><br><span class="line">time(&amp;cur_time);</span><br></pre></td></tr></table></figure>
<h4 id="difftimeå‡½æ•°"><a href="#difftimeå‡½æ•°" class="headerlink" title="difftimeå‡½æ•°"></a>difftimeå‡½æ•°</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šè¿‡ä¸¤ä¸ªæ—¶é—´ç‚¹çš„æ—¥å†æ—¶é—´ï¼Œè¿”å›ä¸¤ä¸ªæ—¶é—´ç‚¹ä¹‹é—´çš„æ—¶é—´å·®ï¼ˆç§’ï¼‰<br><strong>ç”¨é€”ï¼š</strong>è®¡ç®—ç¨‹åºçš„è¿è¡Œæ—¶é—´ã€‚<br><strong>åŸå‹ï¼š</strong><code>time.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;time_t&#125; æ—¥å†æ—¶é—´</span><br><span class="line">* @param &#123;time_t&#125; æ—¥å†æ—¶é—´ï¼ˆè¾ƒæ—©çš„æ—¶é—´ï¼‰</span><br><span class="line">* @return &#123;double&#125; time0å’Œtime1ä¹‹é—´æŒ‰ç§’è¡¡é‡çš„å·®å€¼</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">difftime</span><span class="params">(time_t time1, time_t time0)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="comment">// ç¬¬ä¸€ä¸ªæ—¥å†æ—¶é—´</span></span><br><span class="line">	<span class="keyword">time_t</span> start_time = time(NUULL);</span><br><span class="line">	...</span><br><span class="line">	<span class="comment">// ç¬¬äºŒä¸ªæ—¥å†æ—¶é—´ï¼Œå¹¶è®¡ç®—æ—¶é—´å·®</span></span><br><span class="line">	ptintf(<span class="string">"Return time: %g sec.\n"</span>, difftime(NULL), start_time);</span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="mktimeå‡½æ•°"><a href="#mktimeå‡½æ•°" class="headerlink" title="mktimeå‡½æ•°"></a>mktimeå‡½æ•°</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æŠŠ<code>struct tm</code>(åˆ†è§£æ—¶é—´)ç±»å‹çš„æ—¶é—´è½¬æ¢ä¸ºæ—¥å†æ—¶é—´å¹¶è¿”å›ã€‚<br><strong>ç”¨é€”ï¼š</strong>å¯¹äºå’Œæ—¶é—´ã€æ—¥æœŸç›¸å…³çš„è®¡ç®—éå¸¸æœ‰ç”¨ã€‚<br><strong>å‰¯ä½œç”¨ï¼š</strong>ä¼šæŒ‰ç…§ä¸€å®šè§„åˆ™è°ƒæ•´ç»“æ„çš„æˆå‘˜</p>
<ul>
<li><strong>æ”¹å˜å€¼ä¸åœ¨åˆæ³•èŒƒå›´å†…çš„æˆå‘˜ï¼š</strong>ä¸€ä¸ªæˆå‘˜çš„æ•°å€¼çš„è°ƒæ•´å¯èƒ½ä¼šå¯¼è‡´æ¥è¿å¯¹å…¶å®ƒæˆå‘˜çš„è°ƒæ•´ï¼Œç›´åˆ°å…¨éƒ¨åˆæ³•ã€‚</li>
<li>åˆå§‹åŒ–<code>tm_wday</code>ï¼ˆä¸€æ˜ŸæœŸçš„ç¬¬å‡ å¤©ï¼‰å’Œ<code>tm_yday</code>ï¼ˆä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©ï¼‰</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* å£°æ˜åˆ†è§£æ—¶é—´ */</span></span><br><span class="line"><span class="keyword">struct</span> tm t;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åˆå§‹åŒ–åˆ†è§£æ—¶é—´ */</span></span><br><span class="line">t.tm_mday = <span class="number">27</span>;<span class="comment">/* æ—¥ */</span></span><br><span class="line">t.tm_mon = <span class="number">6</span>;<span class="comment">/* æœˆ */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä¿è¯å…¶ä»–æˆå‘˜è¢«æ­£ç¡®åˆå§‹åŒ– */</span></span><br><span class="line">t.tm_sec = <span class="number">0</span>;</span><br><span class="line">t.tm_min = <span class="number">0</span>;</span><br><span class="line">t.tm_hour = <span class="number">0</span>;</span><br><span class="line">t.tm_isdst = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åˆ¶é€ è¶…å‡ºå–å€¼èŒƒå›´çš„æƒ…å†µ */</span></span><br><span class="line">t.tm_mday = += <span class="number">16</span>; <span class="comment">/* 43 */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* å°†åˆ†è§£æ—¶é—´è½¬ä¸ºæ—¥å†æ—¶é—´ï¼Œå°†å¯¼è‡´åŸæœ¬çš„åˆ†è§£æ—¶é—´æˆå‘˜è¢«ä¿®æ”¹ */</span></span><br><span class="line">mktime(&amp;t);</span><br></pre></td></tr></table></figure>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-11-03%20%E4%B8%8B%E5%8D%886.42.02.png" alt="Alt text"></p>
<h3 id="26-3-2-æ—¶é—´è½¬æ¢å‡½æ•°"><a href="#26-3-2-æ—¶é—´è½¬æ¢å‡½æ•°" class="headerlink" title="26.3.2    æ—¶é—´è½¬æ¢å‡½æ•°"></a>26.3.2    æ—¶é—´è½¬æ¢å‡½æ•°</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è½¬æ¢ç¤ºæ„å›¾<br> <img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-11-03%20%E4%B8%8B%E5%8D%886.44.39.png" alt="Alt text"><br><strong>æ³¨æ„ï¼š</strong>å…¶ä¸­çš„<code>mktimeå‡½æ•°</code>è¢«Cæ ‡å‡†å®šä¹‰ä¸º<code>å¤„ç†å‡½æ•°</code>è€Œä¸æ˜¯<code>è½¬æ¢å‡½æ•°</code>ã€‚</p>
</blockquote>
<h4 id="gmtimeå‡½æ•°"><a href="#gmtimeå‡½æ•°" class="headerlink" title="gmtimeå‡½æ•°"></a>gmtimeå‡½æ•°</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†æ—¥å†æ—¶é—´è½¬æ¢ä¸ºåˆ†è§£æ—¶é—´ï¼Œæ˜¯<code>UTC</code>(åè°ƒä¸–ç•Œæ—¶é—´)ã€‚<br><strong>æ³¨æ„ï¼š</strong>è¿”å›å€¼æŒ‡å‘çš„æ˜¯ä¸€ä¸ªé™æ€åˆ†é…çš„ç»“æ„ï¼Œä¼šè¢«åç»­çš„<code>getimeå‡½æ•°</code>æˆ–<code>localtimeå‡½æ•°</code>è°ƒç”¨ä¿®æ”¹ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;time_t&#125; timer æ—¥å†æ—¶é—´</span><br><span class="line">* @return &#123;struct tm&#125; åˆ†è§£æ—¶é—´</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">struct</span> tm *<span class="title">gmtime</span> <span class="params">(<span class="keyword">const</span> time_t *timer)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="localtimeå‡½æ•°"><a href="#localtimeå‡½æ•°" class="headerlink" title="localtimeå‡½æ•°"></a>localtimeå‡½æ•°</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†æ—¥å†æ—¶é—´è½¬æ¢ä¸ºåˆ†è§£æ—¶é—´ï¼Œæ˜¯æœ¬åœ°æ—¶é—´ã€‚<br><strong>åŸå‹ï¼š</strong><code>time.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;&#125;</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">struct</span> tm *<span class="title">localtime</span> <span class="params">(<span class="keyword">const</span> time_t *timer)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="asctimeå‡½æ•°"><a href="#asctimeå‡½æ•°" class="headerlink" title="asctimeå‡½æ•°"></a>asctimeå‡½æ•°</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†åˆ†è§£æ—¶é—´è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ ¼å¼ã€‚</p>
<blockquote>
<p><code>Sun Jun 3 17:48:34 2007\n</code></p>
</blockquote>
<p><strong>æ³¨æ„ï¼š</strong>è¿”å›çš„å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªé™æ€åˆ†é…çš„ç»“æ„ï¼Œä¼šè¢«åç»­çš„<code>asctimeå‡½æ•°</code>æˆ–<code>strftimeå‡½æ•°</code>è°ƒç”¨ä¿®æ”¹ã€‚<br><strong>åŸå‹ï¼š</strong><code>time.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;struct tm *&#125; timeptr æŒ‡å‘åˆ†è§£æ—¶é—´ç»“æ„ä½“çš„æŒ‡é’ˆ</span><br><span class="line">* @return &#123;char *&#125; å­—ç¬¦ä¸²å½¢å¼çš„æ—¶é—´(ASCIIæ—¶é—´)</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">asctime</span> <span class="params">(<span class="keyword">const</span> <span class="keyword">struct</span> tm *timeptr)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="ctimeå‡½æ•°"><a href="#ctimeå‡½æ•°" class="headerlink" title="ctimeå‡½æ•°"></a>ctimeå‡½æ•°</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†æ—¥å†æ—¶é—´è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ ¼å¼ã€‚<br><strong>æ³¨æ„ï¼š</strong>è¿”å›çš„å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªé™æ€åˆ†é…çš„ç»“æ„ï¼Œä¼šè¢«åç»­çš„<code>asctimeå‡½æ•°</code>æˆ–<code>strftimeå‡½æ•°</code>è°ƒç”¨ä¿®æ”¹ã€‚<br><strong>åŸå‹ï¼š</strong><code>time.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;time_t&#125; time æ—¥å†æ—¶é—´</span><br><span class="line">* @return &#123;char *&#125; æè¿°æœ¬åœ°æ—¶é—´çš„å­—ç¬¦ä¸²</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">ctime</span> <span class="params">(<span class="keyword">const</span> time_t *time)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="strftimeå‡½æ•°"><a href="#strftimeå‡½æ•°" class="headerlink" title="strftimeå‡½æ•°"></a>strftimeå‡½æ•°</h4><hr>
<blockquote>
<p><strong>æè¿°ï¼š</strong>æŠŠåˆ†è§£æ—¶é—´è½¬æ¢æˆå­—ç¬¦ä¸²æ ¼å¼ã€‚<br><strong>æ³¨æ„ï¼š</strong>å‡½æ•°å¯¹åœ°åŒºæ•æ„Ÿï¼Œæ”¹å˜<code>LC_TIME</code>å¯èƒ½ä¼šå½±å“è½¬æ¢è¯´æ˜ç¬¦çš„è¡Œä¸ºã€‚<br><strong>è½¬æ¢è¯´æ˜ç¬¦ï¼š</strong></p>
<ul>
<li>é’ˆå¯¹<code>&quot;C&quot;</code>åœ°åŒºï¼ˆc89~c99ï¼‰ï¼Œæ”¯æŒ<code>ISO 8601</code><br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-11-03%20%E4%B8%8B%E5%8D%8810.54.27.png" alt="Alt text"><br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-11-03%20%E4%B8%8B%E5%8D%8810.55.24.png" alt="Alt text"></li>
<li>ä¸€äº›è½¬æ¢è¯´æ˜ç¬¦åœ¨<code>&quot;C&quot;</code>åœ°åŒºçš„æ›¿æ¢å­—ç¬¦ä¸²ï¼ˆc99ï¼‰<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-11-03%20%E4%B8%8B%E5%8D%8810.58.53.png" alt="Alt text"></li>
<li><code>E</code>æˆ–<code>O</code>ä¿®é¥°ç¬¦ï¼šä¿®æ”¹ç‰¹å®šçš„è½¬æ¢è¯´æ˜ç¬¦ï¼Œæ›¿æ¢ä¸ºä¾èµ–å½“å‰åœ°åŒºçš„å¤‡é€‰æ ¼å¼ï¼ˆ<code>&quot;C&quot;</code>åœ°åŒºå¿½ç•¥<code>E</code>æˆ–<code>O</code>ï¼‰ï¼ˆc99ï¼‰<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-11-03%20%E4%B8%8B%E5%8D%8811.04.15.png" alt="Alt text"></li>
</ul>
<p><strong>è¯´æ˜ï¼š</strong>ç±»ä¼¼<code>asctimeå‡½æ•°</code>ï¼Œä½†æä¾›äº†å¤§é‡å¯¹æ—¶é—´è¿›è¡Œæ ¼å¼åŒ–çš„æ§åˆ¶ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; s æŒ‡å‘ç”¨æ¥å­˜å‚¨å­—ç¬¦ä¸²å½¢å¼çš„æ—¶é—´çš„ç©ºé—´</span><br><span class="line">* @param &#123;size_t&#125; maxsize å­˜å‚¨åœ¨sä¸­çš„å­—ç¬¦æ•°é‡ä¸Šé™</span><br><span class="line">* @param &#123;char *&#125; format æ ¼å¼ä¸²</span><br><span class="line">* @param &#123;struct tm *&#125; timeptr åˆ†è§£æ—¶é—´</span><br><span class="line">* @return &#123;size_t&#125; </span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">size_t</span> strftime (<span class="keyword">char</span> * <span class="keyword">restrict</span> s, <span class="keyword">size_t</span> maxsize, <span class="keyword">const</span> <span class="keyword">char</span> * <span class="keyword">restrict</span> format, <span class="keyword">const</span> <span class="keyword">struct</span> tm * restricy timeptr);</span><br></pre></td></tr></table></figure>
<h3 id="ç¨‹åºï¼šæ˜¾ç¤ºæ—¥æœŸå’Œæ—¶é—´"><a href="#ç¨‹åºï¼šæ˜¾ç¤ºæ—¥æœŸå’Œæ—¶é—´" class="headerlink" title="ç¨‹åºï¼šæ˜¾ç¤ºæ—¥æœŸå’Œæ—¶é—´"></a>ç¨‹åºï¼šæ˜¾ç¤ºæ—¥æœŸå’Œæ—¶é—´</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Display the current date and time in three formats</span><br><span class="line"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span> </span>&#123;</span><br><span class="line">	<span class="comment">/* 1. è·å¾—æ—¥å†æ—¶é—´ */</span></span><br><span class="line">	<span class="keyword">time_t</span> current = time(NULL);</span><br><span class="line">	<span class="keyword">struct</span> tm *ptr;</span><br><span class="line">	<span class="keyword">char</span> date_time[<span class="number">21</span>];</span><br><span class="line">	<span class="keyword">int</span> hour;</span><br><span class="line">	<span class="keyword">char</span> am_or_pm;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/* 2. æ‰“å°æ—¥æœŸæ—¶é—´ï¼šctimeé»˜è®¤çš„çš„å­—ç¬¦ä¸²å½¢å¼ */</span></span><br><span class="line">	<span class="built_in">puts</span>(ctime(&amp;current));</span><br><span class="line"></span><br><span class="line">	<span class="comment">/* 2. æ‰“å°æ—¥æœŸæ—¶é—´ï¼šstrftimeé»˜è®¤çš„å­—ç¬¦ä¸²å½¢å¼ */</span></span><br><span class="line">	strftime(date_time, <span class="keyword">sizeof</span>(date_time), <span class="string">"%m-%d-%Y %I:%M%p\n"</span>, localtime(&amp;current));</span><br><span class="line">	<span class="built_in">puts</span>(date_time);</span><br><span class="line"></span><br><span class="line">	<span class="comment">/* 2. æ‰“å°æ—¥æœŸå’Œæ—¶é—´ï¼šä½¿ç”¨printfç»“åˆåˆ†è§£æ—¶é—´ */</span></span><br><span class="line">	ptr = localtime(&amp;current);</span><br><span class="line">	hour = ptr-&gt;tm_hour;</span><br><span class="line">	<span class="keyword">if</span> (hour &lt;= <span class="number">11</span>) &#123;</span><br><span class="line">		am_or_pm = <span class="string">'a'</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		hour -= <span class="number">12</span>;</span><br><span class="line">		am_or_pm = <span class="string">'p'</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (hour == <span class="number">0</span>) &#123;</span><br><span class="line">		hour = <span class="number">12</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%.2d-%.2d-%.2d %2d:%.2d%c\n"</span>, ptr-&gt;tm_mon + <span class="number">1</span>, ptr-&gt;tm_mday, ptr-&gt;tm_year + <span class="number">1900</span>, hour, ptr-&gt;tm_min, am_or_pm);</span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ ./datetime</span><br><span class="line"> Wed Nov  4 10:41:12  2015</span><br><span class="line"></span><br><span class="line"> 11-04-2015 10:41AM</span><br><span class="line"></span><br><span class="line"> 11-04-2015 10:41a</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/11/24 é”™è¯¯å¤„ç†/" itemprop="url">
                  24 é”™è¯¯å¤„ç†
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-11T11:42:41+08:00" content="2016-05-11">
              2016-05-11
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/11/24 é”™è¯¯å¤„ç†/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/11/24 é”™è¯¯å¤„ç†/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>Cè¯­è¨€çš„å¼±é¡¹ï¼š</strong>é”™è¯¯çš„æ£€æµ‹å’Œå¤„ç†å¹¶ä¸æ˜¯cè¯­è¨€çš„å¼ºé¡¹</p>
<ul>
<li>Cè¯­è¨€å¯¹è¿è¡Œæ—¶é”™è¯¯ä»¥å¤šç§å½¢å¼è¡¨ç¤ºï¼Œè€Œæ²¡æœ‰æä¾›ä¸€ç§ç»Ÿä¸€çš„æ–¹å¼</li>
<li>ç¨‹åºå‘˜å¿…é¡»å°†æ£€æµ‹é”™è¯¯çš„ä»£ç ç¼–å†™åœ¨ç¨‹åºä»£ç ä¸­ï¼Œå› æ­¤å¾ˆå®¹æ˜“å¿½ç•¥ä¸€äº›é”™è¯¯</li>
</ul>
<p><strong>æ‰©å±•ï¼š</strong>C++è¯­è¨€å¯¹Cè¯­è¨€çš„è¿™ä¸€å¼±ç‚¹è¿›è¡Œäº†æ”¹è¿›ï¼Œæä¾›äº†ä¸€ç§æ–°çš„é”™è¯¯é”™è¯¯çš„æ–¹å¼ï¼å¼‚å¸¸å¤„ç†ï¼ˆexception handlingï¼‰ã€‚</p>
</blockquote>
<h2 id="24-1-assert-hï¼šè¯Šæ–­"><a href="#24-1-assert-hï¼šè¯Šæ–­" class="headerlink" title="24.1    assert.hï¼šè¯Šæ–­"></a>24.1    <code>assert.h</code>ï¼šè¯Šæ–­</h2><h4 id="assertå®ï¼ˆå‡½æ•°ï¼‰"><a href="#assertå®ï¼ˆå‡½æ•°ï¼‰" class="headerlink" title="assertå®ï¼ˆå‡½æ•°ï¼‰"></a>assertå®ï¼ˆå‡½æ•°ï¼‰</h4><blockquote>
<p><strong>æ–­è¨€ï¼š</strong>ä¸€ä¸ªæˆ‘ä»¬è®¤ä¸ºåœ¨æ­£å¸¸æƒ…å†µä¸‹ä¸€é¡¶ä¸ºçœŸçš„è¡¨è¾¾å¼ã€‚<br><strong>é”™è¯¯ä¿¡æ¯ï¼š</strong>æ ‡å‡†Cè¦æ±‚åœ¨æ˜¾ç¤ºçš„æ¶ˆæ¯ä¸­æŒ‡æ˜ä»¥ä¸‹å†…å®¹</p>
<ul>
<li>ä¼ é€’ç»™assertå‡½æ•°çš„å‚æ•°</li>
<li>åŒ…æ‹¬assertè°ƒç”¨çš„æ–‡ä»¶å</li>
<li>assertè°ƒç”¨æ‰€åœ¨çš„è¡Œå·</li>
</ul>
<p><strong>è¯´æ˜ï¼š</strong>æ£€æŸ¥æ–­è¨€ï¼Œå¦‚æœå€¼ä¸ä¸º0ï¼Œä¼šå‘<code>stderr</code>è¾“å‡ºä¸€æ¡ä¿¡æ¯ï¼Œå¹¶è°ƒç”¨<code>abortå‡½æ•°</code>ç»ˆæ­¢ç¨‹åºã€‚<br><strong>æŠ€å·§ï¼š</strong>å› ä¸ºå¼•å…¥äº†é¢å¤–çš„æ£€æŸ¥ï¼Œå› æ­¤ä¼šå¢åŠ ç¨‹åºçš„è¿è¡Œæ—¶é—´ã€‚å¯ä»¥åœ¨æµ‹è¯•æ²¡é—®é¢˜åé€šè¿‡<code>NDEBUG</code>ï¼ˆå®ï¼‰è¿›åˆ¶<code>assert</code>è°ƒç”¨ã€‚<br><strong>æ³¨æ„ï¼š</strong>å› ä¸ºassertå¯èƒ½ä¼šè¢«ç¦ç”¨ï¼Œå› æ­¤ä¸è¦åœ¨assertè°ƒç”¨ä¸­ä½¿ç”¨æœ‰å‰¯ä½œç”¨çš„è¡¨è¾¾å¼ã€‚<br><strong>åŸå‹</strong><code>assert.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;int&#125; expresstion æ–­è¨€</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">assert</span><span class="params">(<span class="keyword">int</span> expression)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a[i];</span><br><span class="line">assert(<span class="number">0</span> &lt;= i &amp;&amp; i &lt; N);<span class="comment">// ä¿è¯ä¸‹æ ‡ä¸å›æº¢å‡º</span></span><br><span class="line">a [i] = <span class="number">0</span>;</span><br></pre></td></tr></table></figure>
<p><em>ç¦æ­¢assertè°ƒç”¨</em></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NDEBUG<span class="comment">// å€¼ä¸é‡è¦ï¼Œå®šä¹‰äº†å°±è¡Œ</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;assert.h&gt;</span></span></span><br></pre></td></tr></table></figure>
<h2 id="24-2-errno-hï¼šé”™è¯¯"><a href="#24-2-errno-hï¼šé”™è¯¯" class="headerlink" title="24.2    errno.hï¼šé”™è¯¯"></a>24.2    <code>errno.h</code>ï¼šé”™è¯¯</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é™¤äº†<code>EDOM</code>å’Œ<code>ERANGE</code>,è¿˜å®šä¹‰äº†å…¶ä»–å®ï¼Œè¿™æ˜¯åˆæ³•çš„ï¼Œä½†å‘½åè¦éµå¾ªCæ ‡å‡†ï¼Œå³<code>Eæ•°ç»„æˆ–å¤§å†™å­—æ¯</code></p>
</blockquote>
<h4 id="errnoå®"><a href="#errnoå®" class="headerlink" title="errnoå®"></a>errnoå®</h4><hr>
<blockquote>
<p><strong>æè¿°ï¼š</strong>å¦‚æœç¡®å®æ˜¯å®ï¼ŒCè¯­è¨€æ ‡å‡†è¦æ±‚å®ƒè¡¨ç¤ºå·¦å€¼<a href="">4.2.2</a>ï¼Œä»¥ä¾¿å’Œå˜é‡ä¸€æ ·ä½¿ç”¨ã€‚<br><strong>è¯´æ˜ï¼š</strong>å¦‚æœç¡®å®æ˜¯å®ï¼ŒCè¯­è¨€æ ‡å‡†è¦æ±‚å®ƒè¡¨ç¤ºå·¦å€¼<a href="">4.2.2</a>ï¼Œä»¥ä¾¿å’Œæ™®é€šå˜é‡ä¸€æ ·ä½¿ç”¨ã€‚<br><strong>ç”¨é€”ï¼š</strong>å‡½æ•°è¢«è°ƒç”¨åä¼šä¼šä¸º<code>errno</code>èµ‹å€¼ï¼Œå¦‚æœ<code>errno</code>ä¸ä¸º0ï¼Œä»£è¡¨å‡½æ•°è°ƒç”¨è¿‡ç¨‹ä¸­æœ‰é”™è¯¯å‘ç”Ÿã€‚<br><strong>åº”ç”¨ï¼š</strong>å¤§éƒ¨åˆ†ä½¿ç”¨<code>errno</code>å˜é‡çš„å‡½æ•°é›†ä¸­åœ¨<code>math.h</code>ï¼Œä¹Ÿæœ‰ä¸€äº›åœ¨æ ‡å‡†åº“çš„å…¶ä»–éƒ¨åˆ†ã€‚<br><strong>ç›¸å…³å®ï¼š</strong><code>EDOM</code>å’Œ<code>ERANGE</code>,errnoä¸­å­˜å‚¨çš„å€¼é€šå¸¸æ˜¯è¿™ä¸¤ä¸ªå®</p>
</blockquote>
<table>
<thead>
<tr>
<th>å®ï¼ˆerrnoçš„å€¼ï¼‰</th>
<th>é”™è¯¯ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>EDOM</td>
<td>å®šä¹‰åŸŸé”™è¯¯</td>
<td>ä¼ é€’ç»™å‡½æ•°çš„ä¸€ä¸ªå‚æ•°ä¸å±äºå‡½æ•°çš„å®šä¹‰åŸŸ</td>
</tr>
<tr>
<td>ERANGE</td>
<td>å–å€¼èŒƒå›´é”™è¯¯</td>
<td>å‡½æ•°çš„è¿”å›å€¼å¤ªå¤§ï¼Œæ— æ³•ç”¨double</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">errno = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨åº“å‡½æ•°</span></span><br><span class="line">y = <span class="built_in">sqrt</span>(x);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (errno != <span class="number">0</span>) &#123;</span><br><span class="line">	<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">"sqrt"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="perrorå‡½æ•°"><a href="#perrorå‡½æ•°" class="headerlink" title="perrorå‡½æ•°"></a>perrorå‡½æ•°</h4><hr>
<blockquote>
<p><strong>æè¿°ï¼š</strong>å‘<code>stderr</code>è¾“å‡ºä¸€æ¡é”™è¯¯ä¿¡æ¯ã€‚<br><strong>é”™è¯¯ä¿¡æ¯ï¼š</strong><code>sqrt error: Math argument</code>ï¼ˆå®šä¹‰åŸŸé”™è¯¯ï¼‰</p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:center">perrorçš„å‚æ•°</th>
<th style="text-align:center">åˆ†å·</th>
<th style="text-align:center">ç©ºæ ¼</th>
<th style="text-align:center">å‡ºé”™æ¶ˆæ¯</th>
<th style="text-align:center">æ¢è¡Œç¬¦</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">sqrt error</td>
<td style="text-align:center">:</td>
<td style="text-align:center"></td>
<td style="text-align:center">Math argument</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; s é”™è¯¯æè¿°</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">perror</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *s)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">errno = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨sqrt</span></span><br><span class="line">y = <span class="built_in">sqrt</span>(x);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ£€æµ‹è¿è¡ŒçŠ¶å†µ</span></span><br><span class="line"><span class="keyword">if</span> (errno != <span class="number">0</span>) &#123;</span><br><span class="line">	perror(<span class="string">"sqrt error"</span>);</span><br><span class="line">	<span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="strerrorå‡½æ•°"><a href="#strerrorå‡½æ•°" class="headerlink" title="strerrorå‡½æ•°"></a>strerrorå‡½æ•°</h4><hr>
<blockquote>
<p><strong>æè¿°ï¼š</strong>æ ¹æ®é”™è¯¯ç±»å‹è¡Œå€¼è¿”å›æŒ‡å‘é”™è¯¯å­—ç¬¦ä¸²çš„æŒ‡é’ˆã€‚<br><strong>åŸå‹ï¼š</strong><code>string.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;int&#125; errnum é”™è¯¯ç±»å‹å€¼</span><br><span class="line">* @return &#123;char *&#125; å¯¹åº”çš„é”™è¯¯å­—ç¬¦ä¸² </span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">strerror</span><span class="params">(<span class="keyword">int</span> errnum)</span></span>;</span><br></pre></td></tr></table></figure>
<h2 id="24-3-signal-hï¼šä¿¡å·å¤„ç†"><a href="#24-3-signal-hï¼šä¿¡å·å¤„ç†" class="headerlink" title="24.3    signal.hï¼šä¿¡å·å¤„ç†"></a>24.3    <code>signal.h</code>ï¼šä¿¡å·å¤„ç†</h2><blockquote>
<p><strong>ä¿¡å·ï¼ˆsignalï¼‰ï¼š</strong>å¤„ç†å¼‚å¸¸æƒ…å†µçš„å·¥å…·</p>
<ul>
<li><p>è¿è¡Œæ—¶é”™è¯¯</p>
<blockquote>
<p>ä¾‹å¦‚ï¼šé™¤ä»¥0</p>
</blockquote>
</li>
<li><p>ç¨‹åºä»¥å¤–å¯¼è‡´çš„äº‹ä»¶</p>
<blockquote>
<p>ä¾‹å¦‚ï¼šè®¸å¤šæ“ä½œç³»ç»Ÿéƒ½å…è®¸ç”¨æˆ·ç»ˆç«¯æˆ–ç»ˆæ­¢è¿è¡Œçš„ç¨‹åº</p>
</blockquote>
</li>
</ul>
<p><strong>å¼‚æ­¥çš„ï¼š</strong>å®ƒä»¬å¯ä»¥åœ¨ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­çš„ä»»æ„æ—¶åˆ»å‘ç”Ÿï¼Œè€Œä¸ä»…æ˜¯åœ¨ç¨‹åºå‘˜æ‰€çŸ¥é“çš„ç‰¹å®šæ—¶åˆ»å‘ç”Ÿ</p>
</blockquote>
<h3 id="24-3-1-ä¿¡å·å®"><a href="#24-3-1-ä¿¡å·å®" class="headerlink" title="24.3.1    ä¿¡å·å®"></a>24.3.1    ä¿¡å·å®</h3><blockquote>
<p><strong>å…¼å®¹æ€§ï¼š</strong>Cæ ‡å‡†ä¸è¦æ±‚ä¸‹é¢åˆ—è¡¨ä¸­çš„ä¿¡å·éƒ½ä¼šå‘ç”Ÿï¼Œå¤§å¤šæ•°Cè¯­è¨€çš„å®ç°éƒ½è‡³å°‘æ”¯æŒå…¶ä¸­ä¸€éƒ¨åˆ†ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>å®å</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>SIGABRT</td>
<td>å¼‚å¸¸ç»ˆæ­¢ï¼ˆå¯èƒ½ç”±äºè°ƒç”¨abortå¯¼è‡´ï¼‰</td>
</tr>
<tr>
<td>SIGFPE</td>
<td>åœ¨æ•°å­¦è¿ç®—ä¸­å‘ç”Ÿé”™è¯¯ï¼ˆå¯èƒ½æ˜¯é™¤ä»¥0æˆ–æº¢å‡ºï¼‰</td>
</tr>
<tr>
<td>SIGILL</td>
<td>éæ³•æŒ‡ä»¤</td>
</tr>
<tr>
<td>SIGINT</td>
<td>ä¸­æ–­</td>
</tr>
<tr>
<td>SIGSEGV</td>
<td>éæ³•å­˜å‚¨è®¿é—®</td>
</tr>
<tr>
<td>SIGTERM</td>
<td>ç»ˆæ­¢è¯·æ±‚</td>
</tr>
</tbody>
</table>
<h3 id="24-3-2-signalå‡½æ•°"><a href="#24-3-2-signalå‡½æ•°" class="headerlink" title="24.3.2    signalå‡½æ•°"></a>24.3.2    signalå‡½æ•°</h3><hr>
<blockquote>
<p><strong>æè¿°ï¼š</strong>ä¸ºæŒ‡å®šä¿¡å·æ³¨å†ŒæŒ‡å®šå¤„ç†å‡½æ•°ã€‚<br><strong>ç›¸å…³å®ï¼š</strong><code>SIG_ERR</code></p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å½“æ³¨å†Œå¤±è´¥æ—¶ä¼šè¿”å›è¯¥å€¼<br><strong>ç”¨é€”ï¼š</strong>æ£€æµ‹æ³¨å†Œå¤„ç†å‡½æ•°æ˜¯å¦æˆåŠŸ</p>
</blockquote>
<p><strong>ç‰¹ç‚¹</strong></p>
<blockquote>
<p><strong>å¤šå¯¹ä¸€ï¼š</strong><code>ä¿¡å·</code>ä¸å¤„ç†å‡½æ•°æ˜¯<code>å¤šå¯¹ä¸€</code>çš„å…³ç³»</p>
<ul>
<li>å¯ä»¥å¯¹å¤šç§ä¿¡å·ç»‘å®šåŒä¸€ä¸ªå¤„ç†å‡½æ•°ï¼Œå¤„ç†å‡½æ•°å¯ä»¥æ ¹æ®ä¼ å…¥çš„å‚æ•°ï¼ˆä¿¡å·ç±»å‹ï¼‰å†³å®šè¿›è¡Œå“ªç§æ“ä½œ</li>
<li>ä¹Ÿå¯ä»¥å¯¹åŒä¸€ä¸ªä¿¡å·æ³¨å†Œå¤šä¸ªå¤„ç†ç¨‹åºï¼Œä½†å‰é¢æ³¨å†Œçš„ä¼šè¢«åé¢æ³¨å†Œçš„å¤„ç†å‡½æ•°è¦†ç›–ã€‚</li>
</ul>
<p><strong>åŒæ­¥æ€§ï¼š</strong>å‘å‡ºä¿¡å·çš„è¡Œä¸ºæ˜¯å¼‚æ­¥çš„ï¼Œä½†å¤„ç†å‡½æ•°å¤„ç†çš„è¿‡ç¨‹æ˜¯åŒæ­¥çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ³¨å†Œäº†å¤„ç†å‡½æ•°çš„ä¿¡å·å‡ºç°åï¼Œç¨‹åºä¼šæš‚åœå¹¶æ‰§è¡Œä¿¡å·å¤„ç†å‡½æ•°ï¼Œè¿”å›åæš‚åœçš„ç¨‹åºä»ä¿¡å·å‘ç”Ÿç‚¹æ¢å¤å¹¶ç»§ç»­æ‰§è¡Œã€‚</p>
</blockquote>
</blockquote>
<table>
<thead>
<tr>
<th>ä¿¡å·</th>
<th>å¤„ç†å‡½æ•°è¿”å›åç¨‹åºè¡Œä¸º</th>
</tr>
</thead>
<tbody>
<tr>
<td>SIGABRT</td>
<td>ç»ˆæ­¢</td>
</tr>
<tr>
<td>SIGFPE</td>
<td>å¤„ç†å‡½æ•°è¿”å›åçš„ç¨‹åºè¡Œä¸ºæœªå®šä¹‰</td>
</tr>
<tr>
<td>å…¶å®ƒ</td>
<td>æš‚åœçš„ç¨‹åºä»ä¿¡å·å‘ç”Ÿç‚¹æ¢å¤å¹¶ç»§ç»­æ‰§è¡Œ</td>
</tr>
</tbody>
</table>
<blockquote>
<blockquote>
<p><strong>ä¸€æ¬¡æ€§ï¼š</strong>ä¿¡å·å¤„ç†å®Œä¹‹åï¼Œé™¤éå¤„ç†å‡½æ•°è¢«é‡æ–°æ³¨å†Œï¼Œå¦åˆ™è¯¥ä¿¡å·ä¸å›è¢«åŒä¸€ä¸ªå‡½æ•°å¤„ç†ä¸¤éã€‚<br><strong>æ— é™é€’å½’é—®é¢˜ï¼š</strong>å¦‚æœä¿¡å·æ˜¯ç”±å¤„ç†è¿™ä¸ªä¿¡å·çš„å‡½æ•°å¼•å‘çš„ï¼Œå¦‚æœæ²¡æœ‰å…¶å®ƒæœºåˆ¶å°†ä¼šå‘ç”Ÿæ— é™é€’å½’ã€‚æ‰€ä»¥ï¼ŒCè¯­è¨€è¦æ±‚ï¼Œé™¤äº†<code>SIGTLL</code>ï¼Œå½“ä¸€ä¸ªä¿¡å·çš„å¤„ç†å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œè¯¥ä¿¡å·å¯¹åº”çš„å¤„ç†å‡½æ•°è¦ä¹ˆè¦è¢«é‡ç½®ä¸º<code>SIG_DFL</code>æˆ–ä»¥å…¶å®ƒæ–¹å¼åŠ ä»¥å°é”ã€‚</p>
</blockquote>
<p><strong>é™åˆ¶ï¼š</strong>å¤„ç†å‡½æ•°å’Œæ™®é€šå‡½æ•°ç›¸æ¯”å¤šäº†ä¸€äº›é™åˆ¶</p>
</blockquote>
<table>
<thead>
<tr>
<th>å¯ä»¥</th>
<th>ä¸å¯ä»¥</th>
</tr>
</thead>
<tbody>
<tr>
<td>å¯ä»¥å¿½ç•¥è¯¥ä¿¡å·</td>
<td>è‡ªç”±è°ƒç”¨åº“å‡½æ•°</td>
</tr>
<tr>
<td>æ‰§è¡Œä¸€äº›é”™è¯¯ä¿®å¤</td>
<td>è®¿é—®é™æ€å­˜å‚¨æœŸé™çš„å˜é‡</td>
</tr>
<tr>
<td>ç»ˆæ­¢ç¨‹åº</td>
<td></td>
</tr>
<tr>
<td>å¯ä»¥è°ƒç”¨<code>signal</code>ï¼Œåªè¦ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ­£è¢«å¤„ç†çš„ä¿¡å·</td>
<td></td>
</tr>
<tr>
<td>è°ƒç”¨åº“å‡½æ•°ï¼Œåªè¦ä¿¡å·å¤„ç†å‡½æ•°æ˜¯ç”±raiseæˆ–abortè°ƒç”¨çš„</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>åŸå‹ï¼š</strong><code>signal.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;int&#125; sig ä¿¡å·ç±»å‹</span><br><span class="line">* @param &#123;func *&#125; func å¤„ç†å‡½æ•°</span><br><span class="line">* @return &#123;func *&#125; æŒ‡å‘æ³¨å†Œè¿‡åŒæ ·ä¿¡å·çš„ä¸Šä¸€ä¸ªå¤„ç†å‡½æ•°çš„æŒ‡é’ˆï¼šæˆåŠŸï¼›SIG_ERRï¼šæ³¨å†Œå¤±è´¥ï¼ˆåŒæ—¶ä¼šåœ¨errnoä¸­å­˜å‚¨ä¸€ä¸ªæ­£å€¼ï¼‰</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">void</span> *(*signal)(<span class="keyword">int</span> sig, <span class="keyword">void</span> (*func)(int));<span class="comment">// ä¹¦ä¸Šå†™æ³•æ˜¯ï¼švoid (*signal(int sig, void (*func)(int)))(int);</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜å‡½æ•°æŒ‡é’ˆ</span></span><br><span class="line"><span class="keyword">void</span> (*orig_handler)(<span class="keyword">int</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸ºä¸­æ–­æ³¨å†Œå¤„ç†å‡½æ•°ï¼Œå¹¶å°†ä¹‹å‰çš„å¤„ç†å‡½æ•°å­˜å‚¨ä¸‹æ¥</span></span><br><span class="line">orig_handler = signal(SIGINT, handler);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (orig_handler == SIG_ERR) &#123;</span><br><span class="line">	<span class="comment">// æ³¨å†Œå¤„ç†å‡½æ•°å¤±è´¥</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¢æˆåŸæ¥çš„å¤„ç†å‡½æ•°</span></span><br><span class="line">signal(SIGINT, SIG_DFL);</span><br></pre></td></tr></table></figure>
<h3 id="24-3-3-é¢„å®šä¹‰çš„ä¿¡å·å¤„ç†å‡½æ•°"><a href="#24-3-3-é¢„å®šä¹‰çš„ä¿¡å·å¤„ç†å‡½æ•°" class="headerlink" title="24.3.3    é¢„å®šä¹‰çš„ä¿¡å·å¤„ç†å‡½æ•°"></a>24.3.3    é¢„å®šä¹‰çš„ä¿¡å·å¤„ç†å‡½æ•°</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å‡ºäº†ç¼–å†™æˆ‘ä»¬è‡ªå·±çš„ä¿¡å·å¤„ç†å‡½æ•°ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€‰æ‹©ä½¿ç”¨<code>signal.h</code>æä¾›çš„é¢„å®šä¹‰çš„å¤„ç†å‡½æ•°ã€‚<br><strong>é¢„å®šä¹‰çš„ä¿¡å·å¤„ç†å‡½æ•°å‘½åè§„åˆ™ï¼š</strong></p>
<blockquote>
<p><code>SIG_</code>å¤§å†™å­—æ¯</p>
</blockquote>
</blockquote>
<h4 id="SIG-DFLå®ï¼ˆå‡½æ•°ï¼‰"><a href="#SIG-DFLå®ï¼ˆå‡½æ•°ï¼‰" class="headerlink" title="SIG_DFLå®ï¼ˆå‡½æ•°ï¼‰"></a>SIG_DFLå®ï¼ˆå‡½æ•°ï¼‰</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æŒ‰â€œé»˜è®¤â€çš„æ–¹å¼å¤„ç†<br><strong>æè¿°ï¼š</strong>è¡Œä¸ºç”±å®ç°å®šä¹‰ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ä¼šå¯¼è‡´ç¨‹åºç»ˆæ­¢ã€‚<br><strong>åŸå‹ï¼š</strong><code>signal.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;int&#125; signal ä¿¡å·ç±»å‹</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SIG_DFL</span><span class="params">(<span class="keyword">int</span> signal)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">signal(SIGINT, SIG_IGN); <span class="comment">// ä½¿ç”¨é»˜è®¤è¡Œä¸ºå“åº”â€œä¸­æ–­â€ä¿¡å·</span></span><br></pre></td></tr></table></figure>
<h4 id="SIG-IGNå®ï¼ˆå‡½æ•°ï¼‰"><a href="#SIG-IGNå®ï¼ˆå‡½æ•°ï¼‰" class="headerlink" title="SIG_IGNå®ï¼ˆå‡½æ•°ï¼‰"></a>SIG_IGNå®ï¼ˆå‡½æ•°ï¼‰</h4><hr>
<blockquote>
<p><strong>æè¿°ï¼š</strong>ä»€ä¹ˆéƒ½ä¸åšï¼Œå¿½ç•¥ä¿¡å·<br><strong>åŸå‹ï¼š</strong><code>signal.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;int&#125; signal ä¿¡å·ç±»å‹</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SIG_IGN</span><span class="params">(<span class="keyword">int</span> signal)</span></span>;</span><br></pre></td></tr></table></figure>
<h3 id="24-3-4-raiseå‡½æ•°"><a href="#24-3-4-raiseå‡½æ•°" class="headerlink" title="24.3.4    raiseå‡½æ•°"></a>24.3.4    raiseå‡½æ•°</h3><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è§¦å‘ä¿¡å·<br><strong>åŸå‹ï¼š</strong><code>signal.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;int&#125; sig ä¿¡å·ç±»å‹</span><br><span class="line">* @return &#123;int&#125; 0ï¼šæˆåŠŸï¼›é0ï¼šå¤±è´¥</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">raise</span><span class="params">(<span class="keyword">int</span> sig)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è§¦å‘SIGABORT</span></span><br><span class="line">raise(SIGABOUT);</span><br></pre></td></tr></table></figure>
<h3 id="24-3-5-ç¨‹åºï¼šæµ‹è¯•ä¿¡å·"><a href="#24-3-5-ç¨‹åºï¼šæµ‹è¯•ä¿¡å·" class="headerlink" title="24.3.5    ç¨‹åºï¼šæµ‹è¯•ä¿¡å·"></a>24.3.5    ç¨‹åºï¼šæµ‹è¯•ä¿¡å·</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Tests signals</span><br><span class="line"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;signal.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;errno.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">handler</span><span class="params">(<span class="keyword">int</span> sig)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">raise_sig</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="comment">// å£°æ˜å‡½æ•°æŒ‡é’ˆ</span></span><br><span class="line">	<span class="keyword">void</span> (*orig_handler)(<span class="keyword">int</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">/*1. ç¬¬ä¸€æ¬¡å®éªŒ*/</span></span><br><span class="line">	<span class="comment">// æ³¨å†Œå¤„ç†å‡½æ•°</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"---first--- %d\n"</span>, SIGILL);</span><br><span class="line">	signal(SIGILL, handler);</span><br><span class="line">	<span class="comment">// è§¦å‘ä¿¡å·</span></span><br><span class="line">	raise_sig();</span><br><span class="line"></span><br><span class="line">	<span class="comment">/*2. ç¬¬äºŒæ¬¡å®éªŒ*/</span></span><br><span class="line">	<span class="comment">// å†æ¬¡æ³¨å†Œ,å¿½ç•¥ç›¸åº”ä¿¡å·</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"---second---\n"</span>);</span><br><span class="line">	orig_handler = signal(SIGILL, SIG_IGN);</span><br><span class="line">	raise_sig();</span><br><span class="line"></span><br><span class="line">	<span class="comment">/*3. ç¬¬ä¸‰æ¬¡å®éªŒ*/</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"---third---\n"</span>);</span><br><span class="line">	<span class="comment">// æ›´æ”¹ä¸ºç¬¬ä¸€æ¬¡å®éªŒä½¿ç”¨çš„å¤„ç†å‡½æ•°</span></span><br><span class="line">	signal(SIGILL, orig_handler);</span><br><span class="line">	raise_sig();</span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">handler</span> <span class="params">(<span class="keyword">int</span> sig)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Handler called for signal %d\n"</span>, sig);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">raise_sig</span> <span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">	raise(SIGILL);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ ./tsignal</span><br><span class="line"> ---first--- 4</span><br><span class="line"> Handler called <span class="keyword">for</span> signal 4</span><br><span class="line"> ---second---</span><br><span class="line"> ---third---</span><br><span class="line"> Handler called <span class="keyword">for</span> signal 4</span><br></pre></td></tr></table></figure>
<h2 id="24-4-setjmp-hï¼šéå±€éƒ¨è·³è½¬"><a href="#24-4-setjmp-hï¼šéå±€éƒ¨è·³è½¬" class="headerlink" title="24.4    setjmp.hï¼šéå±€éƒ¨è·³è½¬"></a>24.4    setjmp.hï¼šéå±€éƒ¨è·³è½¬</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šå¸¸æƒ…å†µä¸‹ï¼Œå‡½æ•°è°ƒç”¨åä¼šå›åˆ°å®ƒè¢«è°ƒç”¨çš„ä½ç½®ã€‚ä½†<code>setjmp.h</code>æä¾›äº†ä½¿ä¸€ä¸ªå‡½æ•°ç›´æ¥è·³è½¬åˆ°å¦ä¸€ä¸ªå‡½æ•°ï¼ˆè€Œä¸”ä¸éœ€è¦è¿”å›ï¼‰çš„æ–¹å¼ã€‚<br><strong>gotoï¼š</strong>åªèƒ½é…åˆæ ‡è®°å®ç°<code>å±€éƒ¨è·³è½¬</code>ï¼Œä¹Ÿå°±æ˜¯åœ¨åŒä¸€ä¸ªå‡½æ•°å†…éƒ¨è·³è½¬ã€‚</p>
</blockquote>
<h3 id="setjmpå®ï¼ˆå‡½æ•°ï¼‰"><a href="#setjmpå®ï¼ˆå‡½æ•°ï¼‰" class="headerlink" title="setjmpå®ï¼ˆå‡½æ•°ï¼‰"></a>setjmpå®ï¼ˆå‡½æ•°ï¼‰</h3><blockquote>
<p><strong>æè¿°ï¼š</strong>æ ‡è®°ç¨‹åºä¸­çš„ä¸€ä¸ªâ€œä½ç½®â€<br><strong>åº”ç”¨ï¼š</strong>ç”Ÿæˆæ ‡è®°ä½ç½®ï¼Œç¨åæä¾›ç»™<code>longjmpå‡½æ•°</code><br><strong>é™åˆ¶ï¼š</strong>æŒ‰ç…§<code>æ ‡å‡†C</code>ï¼Œåªæœ‰ä¸¤ç§ä½¿ç”¨setjmpçš„æ–¹å¼æ˜¯åˆæ³•çš„(å¦åˆ™ä¸å…·å¤‡å¯ç§»æ¤æ€§)</p>
<ul>
<li>ä½œä¸ºè¡¨è¾¾å¼è¯­å¥ï¼ˆå¯èƒ½ä¼šå‰ç½®è½¬æ¢æˆvoidï¼‰</li>
<li>ä½œä¸º<code>ifã€switchã€whileã€doã€for</code>è¯­å¥ä¸­æ§åˆ¶è¡¨è¾¾å¼çš„ä¸€éƒ¨åˆ†(<code>constexp</code>ï¼šè®¡ç®—ç»“æœä¸ºæ•´æ•°çš„<em>å¸¸é‡è¡¨è¾¾å¼</em>ï¼›<code>op</code>ï¼š<em>å…³ç³»</em>æˆ–<em>åˆ¤ç­‰</em>è¿ç®—ç¬¦)</li>
</ul>
<ol>
<li>setjmp(â€¦)</li>
<li>!setjmp(â€¦)</li>
<li><code>constexp</code> <code>op</code> <code>constexp</code></li>
<li>setjmp(â€¦) <code>op</code> <code>constexp</code></li>
</ol>
<p><strong>åŸå‹ï¼š</strong><code>setjmp.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;jmp_buf&#125; env ç”¨æ¥ä¿å­˜ç”Ÿæˆçš„è¢«è°ƒç”¨æ—¶æ‰€å¤„çš„â€œä½ç½®â€(æ•°ç»„)</span><br><span class="line">* @return &#123;int&#125; 0ï¼šç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶è¿”å›ï¼›é0ï¼šlongjmpå°†æ§åˆ¶æƒé‡æ–°è½¬ç»™æœ€åˆçš„setjmpå®è°ƒç”¨ï¼Œåè€…è¿™æ¬¡çš„è¿”å›å€¼éé›¶</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">setjmp</span><span class="params">(jmp_buf env)</span></span>;</span><br></pre></td></tr></table></figure>
<h3 id="longjmpå‡½æ•°"><a href="#longjmpå‡½æ•°" class="headerlink" title="longjmpå‡½æ•°"></a>longjmpå‡½æ•°</h3><hr>
<blockquote>
<p><strong>æè¿°ï¼š</strong>é¦–å…ˆæ ¹æ®å‚æ•°envçš„å€¼æ¢å¤å½“å‰ç¯å¢ƒï¼Œç„¶åä»<code>setjmpå®</code>è°ƒç”¨ä¸­è¿”å›<br><strong>æ³¨æ„ï¼š</strong>ä¸€å®šè¦ç¡®ä¿å‚æ•°envå·²ç»è¢«<code>setjmpå®</code>åˆå§‹åŒ–äº†ï¼Œå¦åˆ™ç¨‹åºå¯èƒ½ä¼šå´©æºƒã€‚<br><strong>åº”ç”¨ï¼š</strong>å¯ä»¥ç”±å¤šç§æ½œåœ¨çš„ç”¨é€”ï¼Œä½†ä¸»è¦è¢«ç”¨äºé”™è¯¯å¤„ç†ã€‚<br><strong>åŸå‹ï¼š</strong><code>setjmp.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;jmp_buf&#125; env</span><br><span class="line">* @param &#123;int&#125; val</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">longjmp</span><span class="params">(jmp_buf env, <span class="keyword">int</span> val)</span></span>;</span><br></pre></td></tr></table></figure>
<h3 id="ç¨‹åºï¼šæµ‹è¯•setjmpå’Œlongjmp"><a href="#ç¨‹åºï¼šæµ‹è¯•setjmpå’Œlongjmp" class="headerlink" title="ç¨‹åºï¼šæµ‹è¯•setjmpå’Œlongjmp"></a>ç¨‹åºï¼šæµ‹è¯•setjmpå’Œlongjmp</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Tests setjmp/longjmp</span><br><span class="line"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;setjmp.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * @type &#123;jmp_buf&#125; env å­˜å‚¨ä½ç½®æ•°æ®çš„å…¨å±€å˜é‡</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">static</span> jmp_buf env;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f1</span> <span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f2</span> <span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> ret;</span><br><span class="line">	<span class="comment">// è·å¾—å­˜å‚¨ä½ç½®</span></span><br><span class="line">	ret = setjmp(env);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"setjmp returned %d\n"</span>, ret);</span><br><span class="line"></span><br><span class="line">	<span class="comment">// ç¬¬äºŒæ¬¡æ‰§è¡Œåˆ°è¿™é‡Œçš„æ—¶å€™å€¼ä¸ä¸º0</span></span><br><span class="line">	<span class="keyword">if</span> (ret != <span class="number">0</span>) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Program terminates: longjmp called\n"</span>);</span><br><span class="line">		return <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	f1();</span><br><span class="line"></span><br><span class="line">	<span class="comment">// ä¸‹é¢è¿™å¥ä¸ä¼šæ‰§è¡Œ</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Program terminates normally\n"</span>);</span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f1</span> <span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"f1 begins\n"</span>);</span><br><span class="line">	f2();</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"f1 returns\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f2</span> <span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"f2 begins\n"</span>);</span><br><span class="line">	<span class="comment">// æŒ‰ç…§envçš„å€¼è·³è½¬åˆ°æŒ‡å®šçš„ç¯å¢ƒ</span></span><br><span class="line">	longjmp(env, <span class="number">1</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"f2 returns\n"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ ./tsetjmp               </span><br><span class="line"> setjmp returned <span class="number">0</span></span><br><span class="line"> f1 begins</span><br><span class="line"> f2 begins</span><br><span class="line"> setjmp returned <span class="number">1</span></span><br><span class="line"> Program terminates: longjmp called</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/10/23 åº“å¯¹æ•°å€¼å’Œå­—ç¬¦æ•°æ®çš„æ”¯æŒ/" itemprop="url">
                  23 åº“å¯¹æ•°å€¼å’Œå­—ç¬¦æ•°æ®çš„æ”¯æŒ
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-10T23:31:50+08:00" content="2016-05-10">
              2016-05-10
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/10/23 åº“å¯¹æ•°å€¼å’Œå­—ç¬¦æ•°æ®çš„æ”¯æŒ/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/10/23 åº“å¯¹æ•°å€¼å’Œå­—ç¬¦æ•°æ®çš„æ”¯æŒ/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="23-1-float-h-æµ®ç‚¹å‹çš„ç‰¹æ€§"><a href="#23-1-float-h-æµ®ç‚¹å‹çš„ç‰¹æ€§" class="headerlink" title="23.1    float.h:æµ®ç‚¹å‹çš„ç‰¹æ€§"></a>23.1    <code>float.h</code>:æµ®ç‚¹å‹çš„ç‰¹æ€§</h2><p><strong>è¯´æ˜ï¼š</strong>æä¾›äº†ç”¨æ¥å®šä¹‰æµ®ç‚¹å‹çš„èŒƒå›´å’Œç²¾åº¦çš„å®ï¼ˆæ²¡æœ‰ç±»å‹å’Œå‡½æ•°çš„å®šä¹‰ï¼‰ã€‚<br><strong>åº”ç”¨ï¼š</strong>ç”±äºåªæœ‰è¿›è¡Œæ•°å€¼åˆ†æçš„ä¸“å®¶æ‰ä¼šå¯¹ä¸Šè¿°<code>float.h</code>ä¸­å®šä¹‰çš„å®æ„Ÿå…´è¶£ï¼Œè¿™å¯èƒ½æ˜¯æ ‡ç –å“­ä¸­æœ€ä¸å¸¸ç”¨çš„å®ã€‚</p>
<h3 id="23-1-1-å¯¹æµ®ç‚¹æ•°é€šç”¨çš„å®"><a href="#23-1-1-å¯¹æµ®ç‚¹æ•°é€šç”¨çš„å®" class="headerlink" title="23.1.1    å¯¹æµ®ç‚¹æ•°é€šç”¨çš„å®"></a>23.1.1    å¯¹æµ®ç‚¹æ•°é€šç”¨çš„å®</h3><h4 id="FLT-ROUNDå®"><a href="#FLT-ROUNDå®" class="headerlink" title="FLT_ROUNDå®"></a>FLT_ROUNDå®</h4><p><strong>è¯´æ˜ï¼š</strong>æµ®ç‚¹åŠ æ³•çš„èˆå…¥æ¨¡å¼ï¼Œå­˜åœ¨5ä¸­å¯èƒ½<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-10-08%20%E4%B8%8A%E5%8D%8810.12.40.png" alt="Alt text"></p>
<h4 id="FLT-RADIXå®"><a href="#FLT-RADIXå®" class="headerlink" title="FLT_RADIXå®"></a>FLT_RADIXå®</h4><p><strong>è¯´æ˜ï¼š</strong>æŒ‡å®šäº†åŸºæ•°çš„å½¢å¼ï¼Œæœ€å°å€¼æ˜¯2ï¼ˆäºŒè¿›åˆ¶ï¼‰</p>
<h3 id="23-1-2-å…¶å®ƒå®"><a href="#23-1-2-å…¶å®ƒå®" class="headerlink" title="23.1.2    å…¶å®ƒå®"></a>23.1.2    å…¶å®ƒå®</h3><p><strong>è¯´æ˜ï¼š</strong>å…¶ä»–å®ç”¨æ¥æè¿°ç‰¹å®šç±»å‹çš„ç‰¹æ€§ã€‚<br><strong>å®å‘½åï¼š</strong>æ ¹æ®å®æ˜¯é’ˆå¯¹çš„æµ®ç‚¹ç±»å‹æœ‰ä¸åŒçš„å‰ç¼€</p>
<table>
<thead>
<tr>
<th>å®å‰ç¼€</th>
<th>é’ˆå¯¹çš„æµ®ç‚¹ç±»å‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>FLT</td>
<td>float</td>
</tr>
<tr>
<td>DBL</td>
<td>double</td>
</tr>
<tr>
<td>LDBL</td>
<td>long double</td>
</tr>
</tbody>
</table>
<h4 id="ä¸æœ‰æ•ˆæ•°å­—ä¸ªæ•°ç›¸å…³çš„å®"><a href="#ä¸æœ‰æ•ˆæ•°å­—ä¸ªæ•°ç›¸å…³çš„å®" class="headerlink" title="ä¸æœ‰æ•ˆæ•°å­—ä¸ªæ•°ç›¸å…³çš„å®"></a>ä¸æœ‰æ•ˆæ•°å­—ä¸ªæ•°ç›¸å…³çš„å®</h4><p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-10-08%20%E4%B8%8A%E5%8D%8810.19.57.png" alt="Alt text"></p>
<h4 id="ä¸æŒ‡æ•°ç›¸å…³çš„å®"><a href="#ä¸æŒ‡æ•°ç›¸å…³çš„å®" class="headerlink" title="ä¸æŒ‡æ•°ç›¸å…³çš„å®"></a>ä¸æŒ‡æ•°ç›¸å…³çš„å®</h4><p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-10-08%20%E4%B8%8A%E5%8D%8810.20.46.png" alt="Alt text"></p>
<h4 id="å…¶å®ƒå®"><a href="#å…¶å®ƒå®" class="headerlink" title="å…¶å®ƒå®"></a>å…¶å®ƒå®</h4><p><strong>è¯´æ˜ï¼š</strong>æè¿°äº†æœ€å¤§å€¼ã€æœ€æ¥è¿‘0çš„å€¼ï¼ˆæœ€å°æ­£æ•°ï¼‰ï¼Œä¸¤ä¸ªæ•°ä¹‹é—´çš„æœ€å°å·®å€¼ã€‚<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-10-08%20%E4%B8%8A%E5%8D%8810.22.22.png" alt="Alt text"></p>
<h2 id="23-2-limit-hï¼šæ•´å€¼ç±»å‹çš„å¤§å°"><a href="#23-2-limit-hï¼šæ•´å€¼ç±»å‹çš„å¤§å°" class="headerlink" title="23.2    limit.hï¼šæ•´å€¼ç±»å‹çš„å¤§å°"></a>23.2    <code>limit.h</code>ï¼šæ•´å€¼ç±»å‹çš„å¤§å°</h2><p><strong>è¯´æ˜ï¼š</strong>æä¾›äº†ç”¨äºå®šä¹‰æ¯ç§æ•´å‹å’Œå­—ç¬¦å‹å–å€¼èŒƒå›´çš„å®ï¼ˆæ²¡æœ‰ç±»å‹æˆ–å‡½æ•°ï¼‰ã€‚</p>
<h3 id="23-2-1-ç”¨äºå­—ç¬¦å‹çš„å®"><a href="#23-2-1-ç”¨äºå­—ç¬¦å‹çš„å®" class="headerlink" title="23.2.1    ç”¨äºå­—ç¬¦å‹çš„å®"></a>23.2.1    ç”¨äºå­—ç¬¦å‹çš„å®</h3><p><strong>è¯´æ˜ï¼š</strong><code>charã€signed charã€unsigned char</code><br><strong>æ³¨æ„ï¼š</strong>charç±»å‹åœ¨æœ‰äº›æœºå™¨ä¸Šé»˜è®¤ä¸ºunsigned charï¼Œæœ‰äº›é»˜è®¤ä¸ºsigned charã€‚CHAR_MINå’ŒCHAR_MAXçš„å€¼å› ä¸åŒæƒ…å†µæœ‰æ‰€ä¸åŒã€‚<br>â‘ </p>
<table>
<thead>
<tr>
<th>å­—ç¬¦ç±»å‹</th>
<th>CHAR_MIN</th>
</tr>
</thead>
<tbody>
<tr>
<td>signed char</td>
<td>SCHAR_MIN</td>
</tr>
<tr>
<td>unsigned char</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>â‘¡</p>
<table>
<thead>
<tr>
<th>å­—ç¬¦ç±»å‹</th>
<th>CHAR_MAX</th>
</tr>
</thead>
<tbody>
<tr>
<td>signed char</td>
<td>SCHAR_MAX</td>
</tr>
<tr>
<td>unsigned char</td>
<td>UCHAR_MAX</td>
</tr>
</tbody>
</table>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-10-09%20%E4%B8%8A%E5%8D%8810.08.05.png" alt="Alt text"></p>
<h3 id="23-2-2-ç”¨äºæ•´å‹çš„å®"><a href="#23-2-2-ç”¨äºæ•´å‹çš„å®" class="headerlink" title="23.2.2    ç”¨äºæ•´å‹çš„å®"></a>23.2.2    ç”¨äºæ•´å‹çš„å®</h3><p><strong>è¯´æ˜ï¼š</strong><code>[{signed|unsigned}] [{short|long}] int</code><br><strong>ç”¨é€”ï¼š</strong>åœ¨æŸ¥çœ‹ç¼–è¯‘å™¨æ˜¯å¦æ”¯æŒç‰¹å®šå¤§å°çš„æ•´æ•°æ—¶ååˆ†æ–¹ä¾¿<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-10-09%20%E4%B8%8A%E5%8D%8810.27.34.png" alt="Alt text"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨é¢„å¤„ç†æŒ‡ä»¤åˆ¤æ–­intå‹æ˜¯å¦å¯ä»¥ç”¨æ¥å­˜å‚¨100 000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> INT_MAX &lt; 100000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">error</span> int type is too small<span class="comment">// ç»ˆæ­¢ç¼–è¯‘</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€‰æ‹©æ­£ç¡®çš„ç±»å‹å®šä¹‰</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> INT_MAX &gt;= 100000</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> Quantity;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">int</span> Quantity;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<h2 id="23-3-math-hï¼šæ•°å­¦è®¡ç®—"><a href="#23-3-math-hï¼šæ•°å­¦è®¡ç®—" class="headerlink" title="23.3    math.hï¼šæ•°å­¦è®¡ç®—"></a>23.3    <code>math.h</code>ï¼šæ•°å­¦è®¡ç®—</h2><p><strong>è¯´æ˜ï¼š</strong>åŒ…å«5ä¸­ç±»å‹</p>
<ol>
<li>ä¸‰è§’å‡½æ•°</li>
<li>åŒæ›²å‡½æ•°</li>
<li>æŒ‡æ•°å’Œå¯¹æ•°å‡½æ•°</li>
<li>å¹‚å‡½æ•°</li>
<li>å°±è¿‘å–æ•´å‡½æ•°ç»å¯¹å€¼å‡½æ•°å’Œå–ä½™å‡½æ•°</li>
</ol>
<h3 id="23-3-1-é”™è¯¯"><a href="#23-3-1-é”™è¯¯" class="headerlink" title="23.3.1    é”™è¯¯"></a>23.3.1    é”™è¯¯</h3><p><strong>ç›¸å…³åº“ï¼š</strong><code>errno.h</code><br><strong>ç‰¹ç‚¹ï¼š</strong><code>math.h</code>ä¸­ï¼Œå¤§å¤šæ•°å‡½æ•°ä¼šå°†ä¸€ä¸ªé”™è¯¯ä»£ç å­˜å‚¨åˆ°ä¸€ä¸ªåå­—ä¸º<code>errno</code>ï¼ˆ<code>math.h</code>ï¼‰çš„ç‰¹å®šå˜é‡ä¸­ï¼ˆè¿™ä¸€ç‚¹ä¸åŒäºå…¶ä»–åº“ï¼‰ã€‚<br><strong>ç›¸å…³å®ï¼š</strong><code>HUGE_VAL</code>(<code>math.h</code>ï¼Œ IEEEæ ‡å‡†)</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨<code>math.h</code>ä¸­å®šä¹‰ï¼Œdoubleç±»å‹ï¼Œä¸ä¸€å®šæ˜¯ä¸€ä¸ªæ™®é€šçš„æ•°ï¼Œä»£è¡¨æ— ç©·å¤§ï¼ˆ<a href="">7.2</a>ï¼‰ã€‚<br><strong>ç”¨é€”ï¼š</strong>å½“å‡½æ•°çš„è¿”å›å€¼å¤§äºdoubleç±»å‹çš„æœ€å¤§å€¼æ—¶ï¼Œä¼šè¿”å›<code>HUGE_VAL</code>ã€‚<br><strong>æ›´å¤šé”™è¯¯ï¼š</strong><a href="">é™„å½•D</a></p>
</blockquote>
<h4 id="å‚æ•°è¶…å‡ºå®šä¹‰åŸŸ"><a href="#å‚æ•°è¶…å‡ºå®šä¹‰åŸŸ" class="headerlink" title="å‚æ•°è¶…å‡ºå®šä¹‰åŸŸ"></a>å‚æ•°è¶…å‡ºå®šä¹‰åŸŸ</h4><p><strong>æè¿°ï¼š</strong>å‡½æ•°çš„æ˜¯æƒ¨è¶…å‡ºäº†å‡½æ•°çš„å®šä¹‰åŸŸã€‚<br><strong>ä¼šè¢«å­˜å‚¨åˆ°<code>errno</code>ä¸­çš„å®ï¼š</strong><code>EDOM</code>(å®šä¹‰åŸŸé”™è¯¯)<br><strong>è¿”å›å€¼ï¼š</strong><code>NAN</code>(<code>math.h</code>ï¼Œ IEEEæ ‡å‡†)</p>
<h4 id="è¿”å›å€¼è¶…å‡ºå–å€¼èŒƒå›´"><a href="#è¿”å›å€¼è¶…å‡ºå–å€¼èŒƒå›´" class="headerlink" title="è¿”å›å€¼è¶…å‡ºå–å€¼èŒƒå›´"></a>è¿”å›å€¼è¶…å‡ºå–å€¼èŒƒå›´</h4><p><strong>æè¿°ï¼š</strong>å‡½æ•°çš„è¿”å›å€¼è¶…å‡ºäº†doubleç±»å‹çš„å–å€¼èŒƒå›´ã€‚<br><strong>ä¼šè¢«å­˜å‚¨åˆ°<code>errno</code>ä¸­çš„å®ï¼š</strong><code>ERANGE</code>(å–å€¼èŒƒå›´é”™è¯¯)ï¼Œç»å¯¹å€¼è¿‡å°ï¼ˆä¸‹æº¢å‡ºï¼‰çš„æƒ…å†µåˆå¯èƒ½ä¸å­˜å‚¨<code>ERANGE</code><br><strong>è¿”å›å€¼ï¼š</strong>åˆ†ä¸¤ç§æƒ…å†µ</p>
<ol>
<li><strong>ç»å¯¹å€¼è¿‡å¤§ï¼š</strong>æ ¹æ®è¿”å›å€¼çš„æ­£è´Ÿè¿”å›æ­£æˆ–è´Ÿçš„<code>HIGE_VAL</code></li>
<li><strong>ç»å¯¹å€¼è¿‡å°ï¼š</strong>è¿”å›0</li>
</ol>
<h3 id="23-3-2-ä¸‰è§’å‡½æ•°"><a href="#23-3-2-ä¸‰è§’å‡½æ•°" class="headerlink" title="23.3.2    ä¸‰è§’å‡½æ•°"></a>23.3.2    ä¸‰è§’å‡½æ•°</h3><h4 id="coså‡½æ•°"><a href="#coså‡½æ•°" class="headerlink" title="coså‡½æ•°"></a>coså‡½æ•°</h4><p><strong>è¯´æ˜ï¼š</strong>ä½™å¼¦<br><strong>åŸå‹ï¼š</strong><code>math.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;double&#125; x å¼§åº¦</span><br><span class="line">* @return &#123;double&#125; ä½™å¼¦å€¼</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">cos</span><span class="params">(<span class="keyword">double</span> x)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="sinå‡½æ•°"><a href="#sinå‡½æ•°" class="headerlink" title="sinå‡½æ•°"></a>sinå‡½æ•°</h4><p><strong>è¯´æ˜ï¼š</strong>æ­£å¼¦<br><strong>åŸå‹ï¼š</strong><code>math.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;double&#125; x å¼§åº¦</span><br><span class="line">* @return &#123;double&#125; æ­£å¼¦å€¼</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">sin</span><span class="params">(<span class="keyword">double</span> x)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="tanå‡½æ•°"><a href="#tanå‡½æ•°" class="headerlink" title="tanå‡½æ•°"></a>tanå‡½æ•°</h4><p><strong>è¯´æ˜ï¼š</strong>æ­£åˆ‡<br><strong>åŸå‹ï¼š</strong><code>math.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;double&#125; x å¼§åº¦</span><br><span class="line">* @return &#123;double&#125; æ­£åˆ‡å€¼</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">tan</span><span class="params">(<span class="keyword">double</span> x)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="acoså‡½æ•°"><a href="#acoså‡½æ•°" class="headerlink" title="acoså‡½æ•°"></a>acoså‡½æ•°</h4><p><strong>è¯´æ˜ï¼š</strong>åä½™å¼¦<br><strong>åŸå‹ï¼š</strong><code>math.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;double&#125; x ä½™å¼¦å€¼</span><br><span class="line">* @return &#123;double&#125; ä½™å¼¦å€¼å¯¹åº”çš„å¼§åº¦ï¼ˆ0~Ï€ï¼‰</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">acos</span><span class="params">(<span class="keyword">double</span> x)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="asinå‡½æ•°"><a href="#asinå‡½æ•°" class="headerlink" title="asinå‡½æ•°"></a>asinå‡½æ•°</h4><p><strong>è¯´æ˜ï¼š</strong>åæ­£å¼¦<br><strong>åŸå‹ï¼š</strong><code>math.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;double&#125; x æ­£å¼¦å€¼</span><br><span class="line">* @return &#123;double&#125; æ­£å¼¦å€¼å¯¹åº”çš„å¼§åº¦ï¼ˆ-Ï€/2~Ï€/2ï¼‰</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">asin</span><span class="params">(<span class="keyword">double</span> x)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="atanå‡½æ•°"><a href="#atanå‡½æ•°" class="headerlink" title="atanå‡½æ•°"></a>atanå‡½æ•°</h4><p><strong>è¯´æ˜ï¼š</strong>åæ­£åˆ‡<br><strong>åŸå‹ï¼š</strong><code>math.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;double&#125; x æ­£åˆ‡å€¼</span><br><span class="line">* @return &#123;double&#125; æ­£åˆ‡å€¼å¯¹åº”çš„å¼§åº¦ï¼ˆ-Ï€/2~Ï€/2ï¼‰</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">atan</span><span class="params">(<span class="keyword">double</span> x)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="atan2å‡½æ•°"><a href="#atan2å‡½æ•°" class="headerlink" title="atan2å‡½æ•°"></a>atan2å‡½æ•°</h4><p><strong>è¯´æ˜ï¼š</strong>åæ­£åˆ‡ï¼Œ<code>atan(x)&lt;==&gt;atan2(x, 1.0)</code><br><strong>åŸå‹ï¼š</strong><code>math.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;double&#125; y y</span><br><span class="line">* @param &#123;double&#125; x x</span><br><span class="line">* @return &#123;double&#125; æ­£åˆ‡å€¼å¯¹åº”çš„å¼§åº¦ï¼ˆ-Ï€ï½Ï€ï¼‰</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">atan2</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">double</span> y)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cos</span>(PI/<span class="number">4</span>);<span class="comment">// 0.707107</span></span><br><span class="line"><span class="built_in">sin</span>(PI/<span class="number">4</span>);<span class="comment">// 0.707107</span></span><br><span class="line"><span class="built_in">tan</span>(PI/<span class="number">4</span>);<span class="comment">// 1.0</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">acos</span>(<span class="number">1.0</span>);<span class="comment">// 0.0</span></span><br><span class="line"><span class="built_in">asin</span>(<span class="number">1.0</span>);<span class="comment">// 1.5708</span></span><br><span class="line"><span class="built_in">atan</span>(<span class="number">1.0</span>);<span class="comment">// 0.785398</span></span><br></pre></td></tr></table></figure>
<h3 id="23-3-4-åŒæ›²å‡½æ•°"><a href="#23-3-4-åŒæ›²å‡½æ•°" class="headerlink" title="23.3.4    åŒæ›²å‡½æ•°"></a>23.3.4    åŒæ›²å‡½æ•°</h3><h4 id="coshå‡½æ•°"><a href="#coshå‡½æ•°" class="headerlink" title="coshå‡½æ•°"></a>coshå‡½æ•°</h4><p><strong>è¯´æ˜ï¼š</strong>è®¡ç®—åŒæ›²ä½™å¼¦<br><strong>åŸå‹ï¼š</strong><code>math.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;double&#125; x å¼§åº¦</span><br><span class="line">* @return &#123;double&#125; åŒæ›²ä½™å¼¦å€¼</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">cosh</span><span class="params">(<span class="keyword">double</span> x)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="sinhå‡½æ•°"><a href="#sinhå‡½æ•°" class="headerlink" title="sinhå‡½æ•°"></a>sinhå‡½æ•°</h4><p><strong>è¯´æ˜ï¼š</strong>è®¡ç®—åŒæ›²æ­£å¼¦<br><strong>åŸå‹ï¼š</strong><code>math.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;double&#125; x å¼§åº¦</span><br><span class="line">* @return &#123;double&#125; åŒæ›²æ­£å¼¦å€¼</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">sinh</span><span class="params">(<span class="keyword">double</span> x)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="tanhå‡½æ•°"><a href="#tanhå‡½æ•°" class="headerlink" title="tanhå‡½æ•°"></a>tanhå‡½æ•°</h4><p><strong>è¯´æ˜ï¼š</strong>è®¡ç®—åŒæ›²æ­£åˆ‡<br><strong>åŸå‹ï¼š</strong><code>math.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;double&#125; x å¼§åº¦</span><br><span class="line">* @return &#123;double&#125; åŒæ›²æ­£åˆ‡å€¼</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">tanh</span><span class="params">(<span class="keyword">double</span> x)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cosh</span>(<span class="number">0.5</span>);<span class="comment">// 1.12763</span></span><br><span class="line"><span class="built_in">sinh</span>(<span class="number">0.5</span>);<span class="comment">// 0.521095</span></span><br><span class="line"><span class="built_in">tanh</span>(<span class="number">0.5</span>);<span class="comment">// 0.462117</span></span><br></pre></td></tr></table></figure>
<h3 id="22-3-4-æŒ‡æ•°å‡½æ•°å’Œå¯¹æ•°å‡½æ•°"><a href="#22-3-4-æŒ‡æ•°å‡½æ•°å’Œå¯¹æ•°å‡½æ•°" class="headerlink" title="22.3.4 æŒ‡æ•°å‡½æ•°å’Œå¯¹æ•°å‡½æ•°"></a>22.3.4 æŒ‡æ•°å‡½æ•°å’Œå¯¹æ•°å‡½æ•°</h3><h4 id="expå‡½æ•°"><a href="#expå‡½æ•°" class="headerlink" title="expå‡½æ•°"></a>expå‡½æ•°</h4><p><strong>è¯´æ˜ï¼š</strong>è¿”å›eçš„å¹‚<br><strong>åŸå‹ï¼š</strong><code>math.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;double&#125; x æŒ‡æ•°</span><br><span class="line">* @return &#123;double&#125; eçš„xæ¬¡å¹‚</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">exp</span><span class="params">(<span class="keyword">double</span> x)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// eçš„3æ¬¡å¹‚</span></span><br><span class="line"><span class="built_in">exp</span>(<span class="number">3.0</span>);<span class="comment">// 20.0855</span></span><br></pre></td></tr></table></figure>
<h4 id="logå‡½æ•°"><a href="#logå‡½æ•°" class="headerlink" title="logå‡½æ•°"></a>logå‡½æ•°</h4><p><strong>è¯´æ˜ï¼š</strong>ä»¥eä¸ºåº•çš„å¯¹æ•°ï¼ˆexpå‡½æ•°çš„é€†è¿ç®—ï¼‰<br><strong>åŸå‹ï¼š</strong>math.h``</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;double&#125; x çœŸæ•°</span><br><span class="line">* @return double ä»¥eä¸ºåº•xçš„å¯¹æ•°</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">log</span><span class="params">(<span class="keyword">double</span> x)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">log</span>(<span class="number">20.0855</span>);<span class="comment">// 3.0</span></span><br></pre></td></tr></table></figure>
<h4 id="log10å‡½æ•°"><a href="#log10å‡½æ•°" class="headerlink" title="log10å‡½æ•°"></a>log10å‡½æ•°</h4><p><strong>è¯´æ˜ï¼š</strong>è®¡ç®—å¸¸ç”¨å¯¹æ•°ï¼ˆä»¥10ä¸ºåº•çš„å¯¹æ•°ï¼‰<br><strong>åŸå‹ï¼š</strong><code>math.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;double&#125; x çœŸæ•°</span><br><span class="line">* @return &#123;double&#125; ä»¥10ä¸ºåº•xçš„å¯¹æ•°</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">log10</span><span class="params">(<span class="keyword">double</span> x)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">log10</span>(<span class="number">1000</span>);<span class="comment">// 3.0</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* å¯¹ä»»æ„çš„xå’Œbï¼Œè®¡ç®—ä»¥bä¸ºåº•xçš„å¯¹æ•°</span><br><span class="line">* @param &#123;double&#125; x çœŸæ•°</span><br><span class="line">* @param &#123;double&#125; b åº•æ•°</span><br><span class="line">* @return &#123;double&#125; ä»¥bä¸ºåº•xçš„å¯¹æ•°</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">logb</span><span class="params">(<span class="keyword">double</span> x. <span class="keyword">double</span> b)</span> </span>&#123;</span><br><span class="line">	return <span class="built_in">log</span>(x) / <span class="built_in">log</span>(b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="frexpå‡½æ•°"><a href="#frexpå‡½æ•°" class="headerlink" title="frexpå‡½æ•°"></a>frexpå‡½æ•°</h4><p><strong>è¯´æ˜ï¼š</strong>å°†æµ®ç‚¹æ•°æ‹†æˆå°æ•°éƒ¨åˆ†få’ŒæŒ‡æ•°éƒ¨åˆ†nï¼Œä½¿å¾—åŸå§‹å€¼ç­‰äº<code>f x 2^n</code>ã€‚<br><strong>ç”¨é€”ï¼š</strong>ä¸»è¦ä¾›<code>math.h</code>ä¸­çš„å…¶ä»–å‡½æ•°ç‚¹ç”¨ï¼Œå¾ˆå°‘åœ¨ç¨‹åºä¸­ç›´æ¥ä½¿ç”¨<br><strong>åŸå‹ï¼š</strong><code>math.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;double&#125; value æµ®ç‚¹æ•°åŸå§‹å€¼</span><br><span class="line">* @param &#123;double *&#125; iptr å­˜å‚¨nçš„åœ°å€</span><br><span class="line">* @return &#123;double&#125; fï¼ˆ0.5&lt;=f&lt;=1ï¼‰</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">lfexp</span><span class="params">(<span class="keyword">double</span> value, <span class="keyword">double</span> *iptr)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">frexp</span>(<span class="number">12.0</span>, &amp;<span class="built_in">exp</span>);<span class="comment">// .75, exp: 4</span></span><br><span class="line"><span class="built_in">frexp</span>(<span class="number">0.25</span>, &amp;<span class="built_in">exp</span>);<span class="comment">// 0.5, exp: -1</span></span><br></pre></td></tr></table></figure>
<h4 id="ldexpå‡½æ•°"><a href="#ldexpå‡½æ•°" class="headerlink" title="ldexpå‡½æ•°"></a>ldexpå‡½æ•°</h4><p><strong>è¯´æ˜ï¼š</strong>å°†å°æ•°éƒ¨åˆ†få’Œæ•´æ•°éƒ¨åˆ†expç»„åˆä¸ºï¼Œä¸€èˆ¬è€Œè¨€ä¸º<code>f x 2^exp</code>(frexpå‡½æ•°çš„é€†å‡½æ•°)<br><strong>åŸå‹ï¼š</strong><code>math.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;double&#125; f å°æ•°éƒ¨åˆ†</span><br><span class="line">* @param &#123;int&#125; exp æ•´æ•°éƒ¨åˆ†</span><br><span class="line">* @return &#123;double&#125; f x 2^exp</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">ldexp</span><span class="params">(<span class="keyword">double</span> f <span class="keyword">int</span> <span class="built_in">exp</span>)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ldexp</span>(<span class="number">.75</span>, <span class="number">4</span>);<span class="comment">// 12.0</span></span><br><span class="line"><span class="built_in">ldexp</span>(<span class="number">0.5</span>, <span class="number">-1</span>);<span class="comment">// 0.25</span></span><br></pre></td></tr></table></figure>
<h4 id="modfå‡½æ•°"><a href="#modfå‡½æ•°" class="headerlink" title="modfå‡½æ•°"></a>modfå‡½æ•°</h4><p><strong>è¯´æ˜ï¼š</strong>å°†ä¸€ä¸ªæµ®ç‚¹æ•°çš„æ•´æ•°éƒ¨åˆ†å’Œå°æ•°éƒ¨åˆ†æ‹†è§£å¼€ï¼Œè¿”å›å°æ•°éƒ¨åˆ†ï¼Œå¹¶å°†æ•´æ•°éƒ¨åˆ†å­˜å…¥ç¬¬äºŒä¸ªå‚æ•°æ‰€æŒ‡å‘çš„å˜é‡ä¸­<br><strong>ç”¨é€”ï¼š</strong>ä¸»è¦ä¾›<code>math.h</code>ä¸­çš„å…¶ä»–å‡½æ•°ç‚¹ç”¨ï¼Œå¾ˆå°‘åœ¨ç¨‹åºä¸­ç›´æ¥ä½¿ç”¨<br><strong>åŸå‹ï¼š</strong><code>math.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;double&#125; value åŸå§‹æµ®ç‚¹æ•°</span><br><span class="line">* @param &#123;double *&#125; iptr å­˜å‚¨æ•´æ•°éƒ¨åˆ†çš„åœ°å€</span><br><span class="line">* @return &#123;double&#125; å°æ•°éƒ¨åˆ† </span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">modf</span><span class="params">(<span class="keyword">double</span> value, <span class="keyword">double</span> *iptr)</span></span>;</span><br></pre></td></tr></table></figure>
<h3 id="23-3-5-å¹‚å‡½æ•°"><a href="#23-3-5-å¹‚å‡½æ•°" class="headerlink" title="23.3.5    å¹‚å‡½æ•°"></a>23.3.5    å¹‚å‡½æ•°</h3><h4 id="powå‡½æ•°"><a href="#powå‡½æ•°" class="headerlink" title="powå‡½æ•°"></a>powå‡½æ•°</h4><p><strong>è¯´æ˜ï¼š</strong>è®¡ç®—xçš„yæ¬¡å¹‚<br><strong>åŸå‹ï¼š</strong><code>math.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;double&#125; x åº•æ•°</span><br><span class="line">* @param &#123;double&#125; y æŒ‡æ•°</span><br><span class="line">* @param &#123;double&#125; x^y</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">pow</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">double</span> y)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">pow</span>(<span class="number">3.0</span>, <span class="number">2.0</span>);<span class="comment">// 9.0</span></span><br><span class="line"><span class="built_in">pow</span>(<span class="number">3.0</span>, <span class="number">0.5</span>);<span class="comment">// 1.73205</span></span><br><span class="line"><span class="built_in">pow</span>(<span class="number">3.0</span>, <span class="number">-3.0</span>);<span class="comment">// 0.037037</span></span><br></pre></td></tr></table></figure>
<h4 id="sqrtå‡½æ•°"><a href="#sqrtå‡½æ•°" class="headerlink" title="sqrtå‡½æ•°"></a>sqrtå‡½æ•°</h4><p><strong>è¯´æ˜ï¼š</strong>è®¡ç®—å¹³æ–¹æ ¹ï¼ˆç®—æ•°å¹³æ–¹æ ¹ï¼‰ï¼Œ<code>sqrt(x)</code>ç›¸å½“äº<code>pow(x, 0.5)</code><br><strong>åŸå‹ï¼š</strong><code>math.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;double&#125; x å¼€æ”¾æ•°</span><br><span class="line">* @return &#123;double&#125; å¹³æ–¹æ ¹</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">sqrt</span><span class="params">(<span class="keyword">double</span> x)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sqrt</span>(<span class="number">3.0</span>);<span class="comment">// 1.73205</span></span><br></pre></td></tr></table></figure>
<h3 id="23-3-6-å°±è¿‘å–æ•´å‡½æ•°ã€ç»å¯¹å€¼å‡½æ•°å’Œå–ä½™å‡½æ•°"><a href="#23-3-6-å°±è¿‘å–æ•´å‡½æ•°ã€ç»å¯¹å€¼å‡½æ•°å’Œå–ä½™å‡½æ•°" class="headerlink" title="23.3.6    å°±è¿‘å–æ•´å‡½æ•°ã€ç»å¯¹å€¼å‡½æ•°å’Œå–ä½™å‡½æ•°"></a>23.3.6    å°±è¿‘å–æ•´å‡½æ•°ã€ç»å¯¹å€¼å‡½æ•°å’Œå–ä½™å‡½æ•°</h3><h4 id="ceilå‡½æ•°"><a href="#ceilå‡½æ•°" class="headerlink" title="ceilå‡½æ•°"></a>ceilå‡½æ•°</h4><p><strong>è¯´æ˜ï¼š</strong>å‘ä¸Šèˆå…¥ï¼ˆè®¡ç®—å¤§äºæˆ–ç­‰äºå…¶å‚æ•°çš„æœ€å°æ•´æ•°ï¼‰<br><strong>åŸå‹ï¼š</strong><code>math.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;double&#125; x </span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">ceil</span><span class="params">(<span class="keyword">double</span> x)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="floorå‡½æ•°"><a href="#floorå‡½æ•°" class="headerlink" title="floorå‡½æ•°"></a>floorå‡½æ•°</h4><p><strong>è¯´æ˜ï¼š</strong>å‘ä¸‹èˆå…¥ï¼ˆè®¡ç®—å°äºæˆ–ç­‰äºå…¶å‚æ•°çš„æœ€å¤§æ•´æ•°ï¼‰<br><strong>åŸå‹ï¼š</strong><code>math.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;double&#125; x </span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">floor</span><span class="params">(<span class="keyword">double</span> x)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‘ä¸Šå–æ•´</span></span><br><span class="line"><span class="built_in">ceil</span>(<span class="number">7.1</span>);<span class="comment">// 8.0</span></span><br><span class="line"><span class="built_in">ceil</span>(<span class="number">7.8</span>);<span class="comment">// 8.0</span></span><br><span class="line"><span class="built_in">ceil</span>(<span class="number">-7.1</span>);<span class="comment">// -7.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘ä¸‹å–æ•´</span></span><br><span class="line"><span class="built_in">floor</span>(<span class="number">7.1</span>);<span class="comment">// 7.0</span></span><br><span class="line"><span class="built_in">floor</span>(<span class="number">7.8</span>);<span class="comment">// 7.0</span></span><br><span class="line"><span class="built_in">floor</span>(<span class="number">-7.1</span>);<span class="comment">// -8.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line">* å®ç°â€œå››èˆäº”å…¥â€ï¼ˆæ ‡å‡†åº“æ²¡å®ç°ï¼‰</span><br><span class="line">* @param &#123;double&#125; x åŸå§‹çš„æµ®ç‚¹æ•°</span><br><span class="line">* @return &#123;double&#125; å››èˆäº”å…¥åçš„</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">round</span><span class="params">(<span class="keyword">double</span> x)</span> </span>&#123;</span><br><span class="line">	return x &lt; <span class="number">0.07</span> ? <span class="built_in">ceil</span>(x - <span class="number">0.5</span>) : <span class="built_in">floor</span>(x + <span class="number">0.5</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="fabså‡½æ•°"><a href="#fabså‡½æ•°" class="headerlink" title="fabså‡½æ•°"></a>fabså‡½æ•°</h4><p><strong>è¯´æ˜ï¼š</strong>è®¡ç®—å‚æ•°çš„ç»å¯¹å€¼<br><strong>åŸå‹ï¼š</strong><code>math.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;double&#125; x åŸå§‹æµ®ç‚¹æ•°</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">fabs</span><span class="params">(<span class="keyword">double</span> x)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">fabs</span>(<span class="number">7.1</span>);<span class="comment">// 7.1</span></span><br><span class="line"><span class="built_in">fabs</span>(<span class="number">-7.1</span>);<span class="comment">// 7.1</span></span><br></pre></td></tr></table></figure>
<h4 id="fmodå‡½æ•°"><a href="#fmodå‡½æ•°" class="headerlink" title="fmodå‡½æ•°"></a>fmodå‡½æ•°</h4><p><strong>è¯´æ˜ï¼š</strong>å–ä½™ï¼ˆç¬¬ä¸€ä¸ªå‚æ•°é™¤ä»¥ç¬¬äºŒä¸ªå‚æ•°æ‰€å¾—çš„ä½™æ•°ï¼‰<br><strong>æ³¨æ„ï¼š</strong><code>%</code>åªèƒ½ç”¨äºæ•´æ•°ï¼Œä¸èƒ½ç”¨äºæµ®ç‚¹æ•°<br><strong>åŸå‹ï¼š</strong><code>math.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span><br><span class="line">* @param &#123;double&#125; x è¢«é™¤æ•°</span><br><span class="line">* @param &#123;double&#125; y é™¤æ•°</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">fmod</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">double</span> y)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">fmod</span>(<span class="number">5.5</span>, <span class="number">2.2</span>);<span class="comment">// 1.1</span></span><br></pre></td></tr></table></figure>
<h2 id="23-4-ctype-hï¼šå­—ç¬¦å¤„ç†"><a href="#23-4-ctype-hï¼šå­—ç¬¦å¤„ç†" class="headerlink" title="23.4    ctype.hï¼šå­—ç¬¦å¤„ç†"></a>23.4    <code>ctype.h</code>ï¼šå­—ç¬¦å¤„ç†</h2><p><strong>è¯´æ˜ï¼š</strong><code>ctype.h</code>æä¾›äº†ä¸¤ç±»å‡½æ•°</p>
<ol>
<li><p>å­—ç¬¦æµ‹è¯•å‡½æ•°</p>
<blockquote>
<p><strong>ä¸¾ä¾‹</strong><br><code>isdigitå‡½æ•°</code>ï¼šç”¨æ¥æ£€æµ‹ä¸€ä¸ªå­—ç¬¦æ˜¯å¦æ˜¯æ•°å­—</p>
</blockquote>
</li>
<li><p>å­—ç¬¦å¤§å°å†™è½¬æ¢å‡½æ•°</p>
<blockquote>
<p><strong>ä¸¾ä¾‹</strong><br><code>toupperå‡½æ•°</code>ï¼šç”¨æ¥å°†ä¸€ä¸ªå°å†™å­—æ¯è½¬æ¢æˆå¤§å†™å­—æ¯</p>
</blockquote>
</li>
</ol>
<p><strong>æŠ€å·§ï¼š</strong>å»ºè®®ä½¿ç”¨<code>ctype.h</code>ä¸­æä¾›çš„å‡½æ•°è€Œä¸æ˜¯ç”¨å…¶ä»–æ‰‹æ®µæµ‹è¯•å­—ç¬¦æˆ–è¿›è¡Œå¤§å°å†™è½¬æ¢</p>
<ol>
<li>æ€§èƒ½æ›´å¥½ï¼ˆå¤§å¤šæ•°æ˜¯ç”¨å®å®ç°çš„ï¼‰</li>
<li>å¯ç§»æ¤æ€§æ›´å¥½ï¼ˆå¯ä»¥åœ¨ä»»ä½•å­—ç¬¦é›†ä¸Šè¿è¡Œï¼‰</li>
<li>å›½é™…åŒ–ï¼ˆå¯ä»¥æ­£ç¡®è¿è¡Œåœ¨ä¸–ç•Œä¸Šä¸åŒåœ°ç‚¹ï¼‰</li>
</ol>
<p><strong>ç‰¹ç‚¹ï¼ˆå‚æ•°å’Œè¿”å›å€¼ç±»å‹ï¼‰</strong><code>ctype.h</code>ä¸­çš„å‡½æ•°éƒ½ä»¥<code>int</code>ç±»å‹ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ª<code>int</code>ç±»å‹çš„å€¼ï¼ˆCè¯­è¨€å¯ä»¥è‡ªåŠ¨å°†<code>char</code>ç±»å‹çš„å‚æ•°è½¬æ¢ä¸º<code>int</code>ç±»å‹ï¼Œæˆ–å°†<code>int</code>ç±»å‹çš„è¿”å›å€¼è½¬æ¢æˆ<code>char</code>ç±»å‹ï¼‰ã€‚</p>
<h3 id="23-4-1-å­—ç¬¦æµ‹è¯•å‡½æ•°"><a href="#23-4-1-å­—ç¬¦æµ‹è¯•å‡½æ•°" class="headerlink" title="23.4.1    å­—ç¬¦æµ‹è¯•å‡½æ•°"></a>23.4.1    å­—ç¬¦æµ‹è¯•å‡½æ•°</h3><p><strong>è¯´æ˜ï¼š</strong>è¿™äº›å‡½æ•°å…·æœ‰ä¸€æ ·çš„<code>å‚æ•°ç±»å‹</code>å’Œ<code>è¿”å›å€¼ç±»å‹</code>ã€‚<br><strong>åŸå‹ï¼š</strong><code>ctype.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;int&#125; c è¦æµ‹è¯•çš„å­—ç¬¦</span><br><span class="line">* @param &#123;int&#125; 1:æµ‹è¯•ç¬¦åˆæœŸå¾…ï¼›0:æµ‹è¯•ä¸ç¬¦åˆæœŸå¾…</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">int</span> å‡½æ•°å(<span class="keyword">int</span> c);</span><br></pre></td></tr></table></figure>
<h4 id="å­—ç¬¦æµ‹è¯•å‡½æ•°åˆ—è¡¨"><a href="#å­—ç¬¦æµ‹è¯•å‡½æ•°åˆ—è¡¨" class="headerlink" title="å­—ç¬¦æµ‹è¯•å‡½æ•°åˆ—è¡¨"></a>å­—ç¬¦æµ‹è¯•å‡½æ•°åˆ—è¡¨</h4><table>
<thead>
<tr>
<th>å­—ç¬¦æµ‹è¯•å‡½æ•°</th>
<th>æµ‹è¯•ç±»å‹</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>isalnum</code></td>
<td>å­—æ¯æˆ–æ•°å­—</td>
</tr>
<tr>
<td><code>isalpha</code></td>
<td>å­—æ¯</td>
</tr>
<tr>
<td><code>iscntrl</code></td>
<td>æ§åˆ¶å­—ç¬¦</td>
<td>åŒ…æ‹¬<code>\0x00~\0x1f</code>ã€<code>\0x7f</code></td>
</tr>
<tr>
<td><code>isdigit</code></td>
<td>åè¿›åˆ¶æ•°å­—</td>
</tr>
<tr>
<td><code>isgraph</code></td>
<td>å¯æ˜¾ç¤ºå­—ç¬¦ï¼ˆé™¤ç©ºæ ¼å¤–ï¼‰</td>
</tr>
<tr>
<td><code>islower</code></td>
<td>å°å†™å­—æ¯</td>
</tr>
<tr>
<td><code>isprint</code></td>
<td>å¯æ˜¾ç¤ºå­—ç¬¦ï¼ˆåŒ…æ‹¬ç©ºæ ¼ï¼‰</td>
</tr>
<tr>
<td><code>ispunct</code></td>
<td>æ ‡ç‚¹ç¬¦å·</td>
<td>ç©ºæ ¼ã€å­—æ¯ã€æ•°å­—ä»¥å¤–çš„å¯æ˜¾ç¤ºå­—ç¬¦</td>
</tr>
<tr>
<td><code>isspace</code></td>
<td>ç©ºç™½å­—ç¬¦</td>
<td>ç©ºæ ¼ã€æ¢é¡µç¬¦(<code>\f</code>)ã€æ¢è¡Œç¬¦(<code>\n</code>)ã€å›è½¦ç¬¦(<code>\r</code>)ã€æ¨ªå‘åˆ¶è¡¨ç¬¦(<code>\t</code>)ã€çºµå‘åˆ¶è¡¨ç¬¦(<code>\v</code>)</td>
</tr>
<tr>
<td><code>isupper</code></td>
<td>å¤§å†™å­—æ¯</td>
</tr>
<tr>
<td><code>isxdigit</code></td>
<td>åå…­è¿›åˆ¶æ•°å­—</td>
</tr>
</tbody>
</table>
<h3 id="23-4-2-ç¨‹åºï¼šæµ‹è¯•å­—ç¬¦æµ‹è¯•å‡½æ•°"><a href="#23-4-2-ç¨‹åºï¼šæµ‹è¯•å­—ç¬¦æµ‹è¯•å‡½æ•°" class="headerlink" title="23.4.2    ç¨‹åºï¼šæµ‹è¯•å­—ç¬¦æµ‹è¯•å‡½æ•°"></a>23.4.2    ç¨‹åºï¼šæµ‹è¯•å­—ç¬¦æµ‹è¯•å‡½æ•°</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ctype.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TEST(f) printf(<span class="string">"%6c"</span>, f(*p) ? <span class="string">'x'</span> : <span class="string">' '</span>);</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">char</span> *p;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"   alnum cntrl graph print space xdigit alpha digit lower punc       upper\n"</span>);</span><br><span class="line">	<span class="keyword">for</span> (p = <span class="string">"azAZ0	!\t"</span>; *p != <span class="string">'0'</span>; p++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">iscntrl</span>(*p)) &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"\\x%02x:"</span>, *p);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%5c:"</span>, *p);</span><br><span class="line">		&#125;</span><br><span class="line">		TEST(<span class="built_in">isalnum</span>);</span><br><span class="line">		TEST(<span class="built_in">iscntrl</span>);</span><br><span class="line">		TEST(<span class="built_in">isgraph</span>);</span><br><span class="line">		TEST(<span class="built_in">isprint</span>);</span><br><span class="line">		TEST(<span class="built_in">isspace</span>);</span><br><span class="line">		TEST(<span class="built_in">isxdigit</span>);</span><br><span class="line">		TEST(<span class="built_in">isalpha</span>);</span><br><span class="line">		TEST(<span class="built_in">isdigit</span>);</span><br><span class="line">		TEST(<span class="built_in">islower</span>);</span><br><span class="line">		TEST(<span class="built_in">ispunct</span>);</span><br><span class="line">		TEST(<span class="built_in">isupper</span>);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-10-13%20%E4%B8%8B%E5%8D%882.01.33.png" alt="Alt text"></p>
<h3 id="23-4-3-å­—ç¬¦å¤§å°å†™è½¬æ¢å‡½æ•°"><a href="#23-4-3-å­—ç¬¦å¤§å°å†™è½¬æ¢å‡½æ•°" class="headerlink" title="23.4.3    å­—ç¬¦å¤§å°å†™è½¬æ¢å‡½æ•°"></a>23.4.3    å­—ç¬¦å¤§å°å†™è½¬æ¢å‡½æ•°</h3><h4 id="tolowerå‡½æ•°"><a href="#tolowerå‡½æ•°" class="headerlink" title="tolowerå‡½æ•°"></a>tolowerå‡½æ•°</h4><p><strong>è¯´æ˜ï¼š</strong>è¿”å›ä¸ä½œä¸ºå‚æ•°çš„å­—æ¯ç›¸å¯¹åº”çš„å°å†™å­—æ¯<br><strong>åŸå‹ï¼š</strong><code>math.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;int&#125; c åŸå§‹å­—ç¬¦ï¼ˆå­—æ¯ï¼‰</span><br><span class="line">* @return &#123;int&#125; å¯¹åº”çš„å°å†™å­—æ¯</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">tolower</span><span class="params">(<span class="keyword">int</span> c)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="toupperå‡½æ•°"><a href="#toupperå‡½æ•°" class="headerlink" title="toupperå‡½æ•°"></a>toupperå‡½æ•°</h4><hr>
<p><strong>è¯´æ˜ï¼š</strong>è¿”å›ä¸ä½œä¸ºå‚æ•°çš„å­—æ¯ç›¸å¯¹åº”çš„å¤§å†™å­—æ¯<br><strong>åŸå‹ï¼š</strong><code>math.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;int&#125; c åŸå§‹å­—ç¬¦ï¼ˆå­—æ¯ï¼‰</span><br><span class="line">* @return &#123;int&#125; å¯¹åº”çš„å¤§å†™å­—æ¯</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">toupper</span><span class="params">(<span class="keyword">int</span> c)</span></span>;</span><br></pre></td></tr></table></figure>
<h3 id="23-4-4-ç¨‹åºï¼šæµ‹è¯•å¤§å°å†™è½¬æ¢å‡½æ•°"><a href="#23-4-4-ç¨‹åºï¼šæµ‹è¯•å¤§å°å†™è½¬æ¢å‡½æ•°" class="headerlink" title="23.4.4    ç¨‹åºï¼šæµ‹è¯•å¤§å°å†™è½¬æ¢å‡½æ•°"></a>23.4.4    ç¨‹åºï¼šæµ‹è¯•å¤§å°å†™è½¬æ¢å‡½æ•°</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ctype.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">char</span> *p;</span><br><span class="line">	<span class="keyword">for</span> (p = <span class="string">"aA0!"</span>; *p != <span class="string">'\0'</span>; p++) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"tolower('%c') is '%c';\n"</span>, *p, <span class="built_in">tolower</span>(*p));</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"toupper('%c') is '%c'\n"</span>, *p, <span class="built_in">toupper</span>(*p));</span><br><span class="line">	&#125;</span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-10-13%20%E4%B8%8B%E5%8D%882.39.11.png" alt="Alt text"></p>
<h2 id="23-5-string-hï¼šå­—ç¬¦ä¸²å¤„ç†"><a href="#23-5-string-hï¼šå­—ç¬¦ä¸²å¤„ç†" class="headerlink" title="23.5    string.hï¼šå­—ç¬¦ä¸²å¤„ç†"></a>23.5    <code>string.h</code>ï¼šå­—ç¬¦ä¸²å¤„ç†</h2><p><strong>ç›¸å…³ç« èŠ‚ï¼š</strong><a href="">13.5</a><br><strong>å‡½æ•°åˆ†ç±»ï¼š</strong>å¯ä»¥åˆ†ä¸º5ç±»</p>
<table>
<thead>
<tr>
<th style="text-align:center">åˆ†ç±»</th>
<th style="text-align:center">è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">å¤åˆ¶å‡½æ•°</td>
<td style="text-align:center">å°†å­—ç¬¦ä»å†…å­˜ä¸­çš„ä¸€å¤„å¤åˆ¶åˆ°å¦ä¸€å¤„</td>
</tr>
<tr>
<td style="text-align:center">æ‹¼æ¥å‡½æ•°</td>
<td style="text-align:center">å‘å­—ç¬¦ä¸²æœ«å°¾è¿½åŠ å­—ç¬¦</td>
</tr>
<tr>
<td style="text-align:center">æ¯”è¾ƒå‡½æ•°</td>
<td style="text-align:center">æ¯”è¾ƒå­—ç¬¦æ•°ç»„çš„å‡½æ•°</td>
</tr>
<tr>
<td style="text-align:center">æœç´¢å‡½æ•°</td>
<td style="text-align:center">åœ¨å­—ç¬¦æ•°ç»„ä¸­æœç´¢ç‰¹å®šå­—ç¬¦ã€å­—ç¬¦ç»„æˆ–å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td style="text-align:center">å…¶ä»–å‡½æ•°</td>
<td style="text-align:center">åˆå§‹åŒ–å­—ç¬¦æ•°ç»„æˆ–è®¡ç®—å­—ç¬¦ä¸²çš„é•¿åº¦</td>
</tr>
</tbody>
</table>
<h3 id="23-5-1-å¤åˆ¶å‡½æ•°"><a href="#23-5-1-å¤åˆ¶å‡½æ•°" class="headerlink" title="23.5.1    å¤åˆ¶å‡½æ•°"></a>23.5.1    å¤åˆ¶å‡½æ•°</h3><p><strong>è¯´æ˜ï¼š</strong>å…±4ä¸ªå‡½æ•°ï¼Œç”¨äºå°†å­—ç¬¦ï¼ˆå­—èŠ‚ï¼‰å°†å†…å­˜çš„ä¸€å¤„ï¼ˆæºï¼‰ç§»åŠ¨åˆ°å¦ä¸€å¤„ï¼ˆç›®çš„ï¼‰ã€‚è¦æ±‚ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å‘ç›®çš„ï¼Œç¬¬äºŒä¸ªå‚æ•°æŒ‡å‘æºï¼Œå¹¶è¿”å›ç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆå³æŒ‡å‘ç›®çš„çš„æŒ‡é’ˆï¼‰ã€‚</p>
<h4 id="memcpyå‡½æ•°"><a href="#memcpyå‡½æ•°" class="headerlink" title="memcpyå‡½æ•°"></a>memcpyå‡½æ•°</h4><hr>
<p><strong>è¯´æ˜ï¼š</strong>ä»æºå‘ç›®çš„å¤åˆ¶nä¸ªå­—èŠ‚ï¼ˆå½“æºå’Œç›®çš„é‡å æ—¶æ— æ³•æ­£å¸¸å·¥ä½œï¼‰<br><strong>å¯¹æºçš„è¦æ±‚ï¼š</strong>ä¸è¦æ±‚å­—ç¬¦ä¸²ä»¥ç©ºå­—ç¬¦ç»“å°¾ï¼Œå¯¹ä»»æ„å†…å­˜å—æ­£å¸¸å·¥ä½œã€‚<br><strong>é™åˆ¶ï¼š</strong>å½“ä»ä¸€å—å†…å­˜åŒºåŸŸå¤åˆ¶åˆ°å¦ä¸€å—å¯èƒ½é‡å çš„å†…å­˜åŒºåŸŸæ—¶ï¼Œä¸èƒ½ä¿è¯æ­£å¸¸å·¥ä½œã€‚<br><strong>æ€§èƒ½ï¼š</strong>æ¯”<code>memmoveå‡½æ•°</code>å¿«ä¸€äº›<br><strong>åŸå‹ï¼š</strong><code>string.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;void *&#125; s1 ç›®çš„åœ°åœ°å€</span><br><span class="line">* @param &#123;void *&#125; s2 æºä½ç½®åœ°å€</span><br><span class="line">* @param &#123;size_t&#125; n ä¸ä¼šå¤åˆ¶å¤šäºnä¸ªå­—ç¬¦</span><br><span class="line">* @return &#123;void *&#125; ç›®çš„åœ°å€</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> *<span class="title">memcpy</span><span class="params">(<span class="keyword">void</span> * <span class="keyword">restrict</span> s1, <span class="keyword">const</span> <span class="keyword">void</span> * <span class="keyword">restrict</span> s2, size_t n)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> source[] = &#123;<span class="string">'h'</span>, <span class="string">'0'</span>, <span class="string">'t'</span>, <span class="string">'\0'</span>, <span class="string">'t'</span>, <span class="string">'e'</span>, <span class="string">'a'</span>&#125;;</span><br><span class="line"><span class="keyword">char</span> dest[<span class="number">7</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">memcpy</span>(dest, source, <span class="number">3</span>);<span class="comment">// h, o, t</span></span><br><span class="line"><span class="built_in">memcpy</span>(dest, source, <span class="number">4</span>);<span class="comment">// h, o, t, \0</span></span><br><span class="line"><span class="built_in">memcpy</span>(dest, source, <span class="number">7</span>);<span class="comment">// h, o, t, \0, t, e, a</span></span><br></pre></td></tr></table></figure>
<h4 id="memmoveå‡½æ•°"><a href="#memmoveå‡½æ•°" class="headerlink" title="memmoveå‡½æ•°"></a>memmoveå‡½æ•°</h4><hr>
<p><strong>è¯´æ˜ï¼š</strong>ä»æºå‘ç›®çš„å¤åˆ¶nä¸ªå­—èŠ‚ï¼ˆå½“æºå’Œç›®çš„é‡å æ—¶ä»ç„¶å¯ä»¥æ­£å¸¸å·¥ä½œï¼‰<br><strong>å¯¹æºçš„è¦æ±‚ï¼š</strong>ä¸è¦æ±‚å­—ç¬¦ä¸²ä»¥ç©ºå­—ç¬¦ç»“å°¾ï¼Œå¯¹ä»»æ„å†…å­˜å—æ­£å¸¸å·¥ä½œã€‚<br><strong>æ€§èƒ½ï¼š</strong>æ¯”<code>memcpyå‡½æ•°</code>æ€§èƒ½å·®ä¸€äº›<br><strong>åŸå‹ï¼š</strong><code>string.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;void *&#125; s1 ç›®çš„åœ°åœ°å€</span><br><span class="line">* @param &#123;void *&#125; s2 æºä½ç½®åœ°å€</span><br><span class="line">* @return &#123;void *&#125; ç›®çš„åœ°å€</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> *<span class="title">memmove</span><span class="params">(<span class="keyword">void</span> * <span class="keyword">restrict</span> s1, <span class="keyword">const</span> <span class="keyword">void</span> * <span class="keyword">restrict</span> s2, size_t n)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> source[] = &#123;<span class="string">'h'</span>, <span class="string">'0'</span>, <span class="string">'t'</span>, <span class="string">'\0'</span>, <span class="string">'t'</span>, <span class="string">'e'</span>, <span class="string">'a'</span>&#125;;</span><br><span class="line"><span class="keyword">char</span> dest[<span class="number">7</span>];</span><br><span class="line"></span><br><span class="line">memmove(dest, source, <span class="number">3</span>);<span class="comment">// h, o, t</span></span><br><span class="line">memmove(dest, source, <span class="number">3</span>);<span class="comment">// h, o, t, \0</span></span><br><span class="line">memmove(dest, source, <span class="number">3</span>);<span class="comment">// h, o, t, \0, t, e, a</span></span><br></pre></td></tr></table></figure>
<h4 id="strcpyå‡½æ•°"><a href="#strcpyå‡½æ•°" class="headerlink" title="strcpyå‡½æ•°"></a>strcpyå‡½æ•°</h4><hr>
<p><strong>è¯´æ˜ï¼š</strong>å°†ä¸€ä¸ªä»¥ç©ºå­—ç¬¦ç»“å°¾çš„å­—ç¬¦ä¸²ä»æºå¤åˆ¶åˆ°ç›®çš„ï¼Œä¼šæŒç»­è‚¤è´¨å­—ç¬¦ï¼ŒçŸ¥é“é‡åˆ°ä¸€ä¸ªç©ºå­—ç¬¦ä¸ºæ­¢ã€‚<br><strong>å¯¹æºçš„è¦æ±‚ï¼š</strong>è¦æ±‚å­—ç¬¦ä¸²ä»¥ç©ºå­—ç¬¦ç»“å°¾ã€‚<br><strong>åŸå‹ï¼š</strong><code>string.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;void *&#125; s1 ç›®çš„åœ°åœ°å€</span><br><span class="line">* @param &#123;void *&#125; s2 æºä½ç½®åœ°å€</span><br><span class="line">* @return &#123;char *&#125; </span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">strcpy</span><span class="params">(<span class="keyword">char</span> * <span class="keyword">restrict</span> s1, <span class="keyword">const</span> <span class="keyword">char</span> * <span class="keyword">restrict</span> s2)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> source[] = &#123;<span class="string">'h'</span>, <span class="string">'0'</span>, <span class="string">'t'</span>, <span class="string">'\0'</span>, <span class="string">'t'</span>, <span class="string">'e'</span>, <span class="string">'a'</span>&#125;;</span><br><span class="line"><span class="keyword">char</span> dest[<span class="number">7</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">strcpy</span>(dest, souce);<span class="comment">// h, o, t, \0</span></span><br></pre></td></tr></table></figure>
<h4 id="strncpyå‡½æ•°"><a href="#strncpyå‡½æ•°" class="headerlink" title="strncpyå‡½æ•°"></a>strncpyå‡½æ•°</h4><hr>
<p><strong>è¯´æ˜ï¼š</strong>å°†ä¸€ä¸ªä»¥ç©ºå­—ç¬¦ç»“å°¾çš„å­—ç¬¦ä¸²ä»æºå¤åˆ¶åˆ°ç›®çš„ï¼Œ<code>strcpyå‡½æ•°</code>çš„å¢å¼ºç‰ˆ<br><strong>å¯¹æºçš„è¦æ±‚ï¼š</strong>ä¸è¦æ±‚å­—ç¬¦ä¸²ä»¥ç©ºå­—ç¬¦ä¸²ç»“å°¾ï¼Œå¯¹ä»»æ„å†…å­˜å—æ­£å¸¸å·¥ä½œã€‚<br><strong>å®‰å…¨ï¼š</strong>æ¯”<code>strcpyå‡½æ•°</code>æ›´å®‰å…¨<br><strong>æ€§èƒ½ï¼š</strong>æ¯”<code>strcpy</code>å·®ä¸€äº›<br><strong>åŸå‹ï¼š</strong><code>string.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;void *&#125; s1 ç›®çš„åœ°åœ°å€</span><br><span class="line">* @param &#123;void *&#125; s2 æºä½ç½®åœ°å€</span><br><span class="line">* @param &#123;size_t&#125; n ä¸ä¼šå¤åˆ¶å¤šäºnä¸ªå­—ç¬¦ï¼ˆå¦‚æœï¼‰</span><br><span class="line">* @return &#123;char *&#125; </span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">strncpy</span><span class="params">(<span class="keyword">char</span> * <span class="keyword">restrict</span> s1, <span class="keyword">const</span> <span class="keyword">char</span> * <span class="keyword">restrict</span> s2, size_t n)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> source[] = &#123;<span class="string">'h'</span>, <span class="string">'0'</span>, <span class="string">'t'</span>, <span class="string">'\0'</span>, <span class="string">'t'</span>, <span class="string">'e'</span>, <span class="string">'a'</span>&#125;;</span><br><span class="line"><span class="keyword">char</span> dest[<span class="number">7</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">strncpy</span>(dest, source, <span class="number">3</span>);<span class="comment">// h, o, t</span></span><br><span class="line"><span class="built_in">strncpy</span>(dest, source, <span class="number">3</span>);<span class="comment">// h, o, t, \0</span></span><br><span class="line"><span class="built_in">strncpy</span>(dest, source, <span class="number">3</span>);<span class="comment">// h, o, t, \0, \0, \0, \0</span></span><br></pre></td></tr></table></figure>
<h3 id="23-5-2-æ‹¼æ¥å‡½æ•°"><a href="#23-5-2-æ‹¼æ¥å‡½æ•°" class="headerlink" title="23.5.2    æ‹¼æ¥å‡½æ•°"></a>23.5.2    æ‹¼æ¥å‡½æ•°</h3><h4 id="strcatå‡½æ•°"><a href="#strcatå‡½æ•°" class="headerlink" title="strcatå‡½æ•°"></a>strcatå‡½æ•°</h4><hr>
<p><strong>è¯´æ˜ï¼š</strong>å°†ç¬¬ä¸€ä¸ªå‚æ•°è¿½åŠ åˆ°ç¬¬ä¸€ä¸ªå‚æ•°çš„æœ«å°¾</p>
<ul>
<li><strong>å‚æ•°ï¼š</strong>è¦æ±‚ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯ä»¥<code>\0</code>ç»“å°¾çš„å­—ç¬¦ä¸²</li>
<li><strong>è¿”å›å€¼ï¼š</strong>è¿”å›çš„å­—ç¬¦ä¸²ä¼šè‡ªåŠ¨åœ¨æœ«å°¾æ·»åŠ <code>\0</code>ã€‚</li>
</ul>
<p><strong>åŸå‹ï¼š</strong><code>string.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; s1 åŸæœ¬çš„å­—ç¬¦ä¸²</span><br><span class="line">* @param &#123;char *&#125; s2 è¢«è¿½åŠ çš„éƒ¨åˆ†</span><br><span class="line">* @return &#123;char *&#125; æ‹¼æ¥åçš„å­—ç¬¦ä¸²(ç¬¬ä¸€ä¸ªå‚æ•°çš„æŒ‡é’ˆ)</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">strcat</span><span class="params">(<span class="keyword">char</span> *s1, <span class="keyword">const</span> <span class="keyword">char</span> * <span class="keyword">restrict</span> s2)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> str[<span class="number">7</span>] = <span class="string">"tea"</span>;</span><br><span class="line"><span class="built_in">strcat</span>(str, <span class="string">"bag"</span>);<span class="comment">// t, e, a, b, a, g, \0</span></span><br></pre></td></tr></table></figure>
<h4 id="strncatå‡½æ•°"><a href="#strncatå‡½æ•°" class="headerlink" title="strncatå‡½æ•°"></a>strncatå‡½æ•°</h4><hr>
<p><strong>è¯´æ˜ï¼š</strong><code>strcat</code>çš„å¢å¼ºç‰ˆï¼Œç¬¬3ä¸ªå‚æ•°ä¼šé™åˆ¶å¤åˆ¶çš„å­—ç¬¦çš„ä¸ªæ•°ã€‚<br><strong>åŸå‹ï¼š</strong><code>string.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; s1 åŸæœ¬çš„å­—ç¬¦ä¸²</span><br><span class="line">* @param &#123;char *&#125; s2 è¢«è¿½åŠ çš„éƒ¨åˆ†</span><br><span class="line">* @param &#123;size_t&#125; n é™åˆ¶å¤åˆ¶çš„å­—ç¬¦çš„ä¸ªæ•°</span><br><span class="line">* @return &#123;char *&#125; æ‹¼æ¥åçš„å­—ç¬¦ä¸²(ç¬¬ä¸€ä¸ªå‚æ•°çš„æŒ‡é’ˆ)</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">strcat</span><span class="params">(<span class="keyword">char</span> *s1, <span class="keyword">const</span> <span class="keyword">char</span> * <span class="keyword">restrict</span> s2)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> str[<span class="number">7</span>] = <span class="string">"tea"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">strncat</span>(str, <span class="string">"bag"</span>, <span class="number">2</span>);<span class="comment">// t, e, a, b, a, \0</span></span><br><span class="line"><span class="built_in">strncat</span>(str, <span class="string">"bag"</span>, <span class="number">3</span>);<span class="comment">// t, e, a, b, a, g, \0</span></span><br><span class="line"><span class="built_in">strncat</span>(str, <span class="string">"bag"</span>, <span class="number">4</span>);<span class="comment">// t, e, a, b, a, g, \0</span></span><br></pre></td></tr></table></figure>
<h3 id="23-5-3-æ¯”è¾ƒå‡½æ•°"><a href="#23-5-3-æ¯”è¾ƒå‡½æ•°" class="headerlink" title="23.5.3    æ¯”è¾ƒå‡½æ•°"></a>23.5.3    æ¯”è¾ƒå‡½æ•°</h3><p><strong>æ³¨æ„ï¼š</strong>ä¸‹é¢5ä¸ªå‡½æ•°å¯ä»¥åˆ†ä¸ºä¸¤ç±»</p>
<table>
<thead>
<tr>
<th>åˆ†ç»„</th>
<th>æ¯”è¾ƒä¾æ®</th>
<th>æ€§èƒ½</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>memcmpå‡½æ•°</code> ã€<code>strcmpå‡½æ•°</code>ã€<code>strncmpå‡½æ•°</code></td>
<td>è®¡ç®—æœºè‡ªèº«çš„æ’åºé¡ºåºï¼ˆé€šå¸¸æ˜¯ACILLï¼‰</td>
<td>å¥½</td>
</tr>
<tr>
<td><code>strcollå‡½æ•°</code>ã€<code>strxfrmå‡½æ•°</code></td>
<td>ä¾èµ–å½“å‰çš„æœ¬åœ°åŒ–è®¾ç½®</td>
<td>å·®</td>
</tr>
</tbody>
</table>
<h4 id="memcpmå‡½æ•°"><a href="#memcpmå‡½æ•°" class="headerlink" title="memcpmå‡½æ•°"></a>memcpmå‡½æ•°</h4><hr>
<p><strong>è¯´æ˜ï¼š</strong>æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²çš„å¤§å°(å…·æœ‰é™åˆ¶å‚ä¸æ¯”è¾ƒçš„å­—ç¬¦ä¸ªæ•°çš„å‚æ•°)<br><strong>åŸå‹ï¼š</strong><code>string.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;void *&#125; s1 å‚ä¸æ¯”è¾ƒçš„å­—ç¬¦ä¸²</span><br><span class="line">* @param &#123;void *&#125; s2 å‚ä¸æ¯”è¾ƒçš„å­—ç¬¦ä¸²</span><br><span class="line">* @param &#123;size_t&#125; n å‚ä¸æ¯”è¾ƒçš„å­—ç¬¦ä¸ªæ•°ä¸Šé™</span><br><span class="line">* @return &#123;int&#125; è´Ÿæ•´æ•°ï¼šs1 &lt; s2; 0ï¼šs1 == s2ï¼›æ­£æ•´æ•°ï¼šs1 &gt; s2</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">memcmp</span><span class="params">(<span class="keyword">const</span> <span class="keyword">void</span> *s1, <span class="keyword">const</span> <span class="keyword">void</span> *s2, size_t n)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> s1[] == &#123;<span class="string">'b'</span>, <span class="string">'i'</span>, <span class="string">'g'</span>, <span class="string">'\0'</span>, <span class="string">'c'</span>, <span class="string">'a'</span>, <span class="string">'r'</span>&#125;;</span><br><span class="line"><span class="keyword">char</span> s2[] == &#123;<span class="string">'b'</span>, <span class="string">'i'</span>, <span class="string">'g'</span>, <span class="string">'\0'</span>, <span class="string">'c'</span>, <span class="string">'a'</span>, <span class="string">'t'</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">memcmp</span>(s1, s2, <span class="number">3</span>) == <span class="number">0</span>) ...</span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">memcmp</span>(s1, s2, <span class="number">4</span>) == <span class="number">0</span>) ...</span><br><span class="line"><span class="comment">// false</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">memcmp</span>(s1, s2, <span class="number">7</span>) == <span class="number">0</span>) ...</span><br></pre></td></tr></table></figure>
<h4 id="strcpmå‡½æ•°"><a href="#strcpmå‡½æ•°" class="headerlink" title="strcpmå‡½æ•°"></a>strcpmå‡½æ•°</h4><hr>
<p><strong>è¯´æ˜ï¼š</strong>æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²ï¼ˆä¸èƒ½è®¾ç½®å‚ä¸æ¯”è¾ƒçš„å­—ç¬¦æ•°ä¸Šé™ï¼‰ï¼Œåœ¨å…¶ä¸­ä¸€ä¸ªå­—ç¬¦æ•°ç»„é‡åˆ°<code>\0</code>æ—¶åœæ­¢æ¯”è¾ƒã€‚</p>
<ul>
<li><strong>å‚æ•°ï¼š</strong>å¿…é¡»æ˜¯ä»¥<code>\0</code>ç»“å°¾çš„å­—ç¬¦ä¸²</li>
</ul>
<p><strong>åŸå‹ï¼š</strong><code>string.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; s1 å‚ä¸æ¯”è¾ƒçš„å­—ç¬¦ä¸²</span><br><span class="line">* @param &#123;char *&#125; s2 å‚ä¸æ¯”è¾ƒçš„å­—ç¬¦ä¸²</span><br><span class="line">* @return &#123;int&#125; è´Ÿæ•´æ•°ï¼šs1 &lt; s2; 0ï¼šs1 == s2ï¼›æ­£æ•´æ•°ï¼šs1 &gt; s2</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">strcmp</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *s1, <span class="keyword">const</span> <span class="keyword">char</span> *s2)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="strncmpå‡½æ•°"><a href="#strncmpå‡½æ•°" class="headerlink" title="strncmpå‡½æ•°"></a>strncmpå‡½æ•°</h4><hr>
<p><strong>è¯´æ˜ï¼š</strong>ç»“åˆ<code>memcmp</code>å’Œ<code>strcmp</code>ï¼Œå½“æ¯”è¾ƒçš„å­—ç¬¦æ•°è¾¾åˆ°å­—ç¬¦æ•°ä¸Šé™æˆ–ä»»æ„ä¸€ä¸ªå­—ç¬¦æ•°ç»„ä¸­é‡åˆ°<code>\0</code>æ—¶åœæ­¢æ¯”è¾ƒã€‚<br><strong>åŸå‹ï¼š</strong><code>string.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; s1 å‚ä¸æ¯”è¾ƒçš„å­—ç¬¦ä¸²</span><br><span class="line">* @param &#123;char *&#125; s2 å‚ä¸æ¯”è¾ƒçš„å­—ç¬¦ä¸²</span><br><span class="line">* @param &#123;size_t&#125; n å‚ä¸æ¯”è¾ƒçš„å­—ç¬¦ä¸ªæ•°ä¸Šé™</span><br><span class="line">* @return &#123;int&#125; è´Ÿæ•´æ•°ï¼šs1 &lt; s2; 0ï¼šs1 == s2ï¼›æ­£æ•´æ•°ï¼šs1 &gt; s2</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">strncmp</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *s1, <span class="keyword">const</span> <span class="keyword">char</span> *s2, size_t n)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="built_in">strncmp</span>(s1, s2, <span class="number">3</span>) == <span class="number">0</span>) ...<span class="comment">// true</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">strncmp</span>(s1, s2, <span class="number">4</span>) == <span class="number">0</span>) ...<span class="comment">// true</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">strncmp</span>(s1, s2, <span class="number">7</span>) == <span class="number">0</span>) ...<span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h4 id="strcollå‡½æ•°"><a href="#strcollå‡½æ•°" class="headerlink" title="strcollå‡½æ•°"></a>strcollå‡½æ•°</h4><hr>
<p><strong>è¯´æ˜ï¼š</strong>ç±»ä¼¼<code>strcmp</code>ï¼Œä¸åŒç‚¹åœ¨äºæ¯”è¾ƒç»“æœä¾èµ–æœ¬åœ°åŒ–è®¾ç½®ï¼ˆé€šè¿‡è°ƒç”¨<code>setlocaleå‡½æ•°</code><a href="">25.1.2</a>ï¼‰ã€‚<br><strong>ç¼ºç‚¹ï¼š</strong>æ€§èƒ½å·®ã€‚<br><strong>åº”ç”¨ï¼š</strong>é€‚ç”¨äºé‚£äº›æ ¹æ®ç¨‹åºè¿è¡Œçš„åœ°ç‚¹ä¸åŒè€Œå¯èƒ½æŒ‰ä¸åŒæ–¹å¼æ¯”è¾ƒçš„ç¨‹åºã€‚<br><strong>åŸå‹ï¼š</strong><code>string.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; s1 å‚ä¸æ¯”è¾ƒçš„å­—ç¬¦ä¸²</span><br><span class="line">* @param &#123;char *&#125; s2 å‚ä¸æ¯”è¾ƒçš„å­—ç¬¦ä¸²</span><br><span class="line">* @return &#123;int&#125; è´Ÿæ•´æ•°ï¼šs1 &lt; s2; 0ï¼šs1 == s2ï¼›æ­£æ•´æ•°ï¼šs1 &gt; s2</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">strcoll</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *s1, <span class="keyword">const</span> <span class="keyword">char</span> *s2)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="strxfrmå‡½æ•°"><a href="#strxfrmå‡½æ•°" class="headerlink" title="strxfrmå‡½æ•°"></a>strxfrmå‡½æ•°</h4><hr>
<p><strong>è¯´æ˜ï¼š</strong>æŒ‰ç…§æœ¬åœ°åŒ–è®¾ç½®è½¬æ¢å­—ç¬¦ä¸²ã€‚<br><strong>æŠ€å·§ï¼š</strong>éœ€è¦è€ƒè™‘æœ¬åœ°åŒ–æ—¶å¯ä»¥é…åˆ<code>strcmp</code>æ¥å–ä»£<code>strcoll</code>ã€‚å› ä¸ºå¯¹ä¸¤ä¸ªè½¬åŒ–åçš„å‚æ•°è°ƒç”¨<code>strcmp</code>ç­‰ä»·ç›´æ¥è°ƒç”¨<code>strcoll</code>ã€‚<br><strong>åŸå‹ï¼š</strong><code>string.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; s1 è½¬æ¢åçš„å­—ç¬¦ä¸²å­˜å‚¨åˆ°s1</span><br><span class="line">* @return &#123;char *&#125; s2 éœ€è¦è½¬æ¢çš„å­—ç¬¦ä¸²</span><br><span class="line">* @param &#123;char *&#125; size_t è½¬æ¢çš„å­—ç¬¦æ•°é‡ä¸Šé™</span><br><span class="line">* @return &#123;size_t&#125; è½¬æ¢åå­—ç¬¦ä¸²çš„é•¿åº¦</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">size_t</span> strxfrm(<span class="keyword">char</span> * <span class="keyword">restrict</span> s1, <span class="keyword">const</span> <span class="keyword">char</span> * restict s2, <span class="keyword">size_t</span> n);</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">size_t</span> len;</span><br><span class="line"><span class="keyword">char</span> *transformed;</span><br><span class="line"><span class="comment">// è·å–è½¬æ¢åå­—ç¬¦ä¸²çš„é•¿åº¦</span></span><br><span class="line">len = strxfrm(NULL, original, <span class="number">0</span>);</span><br><span class="line"><span class="comment">// åˆ†é…å†…å­˜</span></span><br><span class="line">transformed = <span class="built_in">malloc</span>(len + <span class="number">1</span>);</span><br><span class="line"><span class="comment">// å°†è½¬æ¢åçš„å­—ç¬¦ä¸²å­˜å‚¨åˆ°åˆ†é…çš„å†…å­˜ä¸­</span></span><br><span class="line">strxfrm(transformed, original, len);</span><br></pre></td></tr></table></figure>
<h3 id="23-5-4-æœç´¢å‡½æ•°"><a href="#23-5-4-æœç´¢å‡½æ•°" class="headerlink" title="23.5.4    æœç´¢å‡½æ•°"></a>23.5.4    æœç´¢å‡½æ•°</h3><h4 id="strchrå‡½æ•°"><a href="#strchrå‡½æ•°" class="headerlink" title="strchrå‡½æ•°"></a>strchrå‡½æ•°</h4><hr>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨å­—ç¬¦ä¸²ä¸­æœç´¢æŒ‡å®šå­—ç¬¦ã€‚<br><strong>åœæ­¢æœç´¢æ—¶æœºï¼š</strong>é‡åˆ°é¦–ä¸ª<code>\0</code><br><strong>åŸå‹ï¼š</strong><code>string.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; s å­—ç¬¦ä¸²</span><br><span class="line">* @param &#123;int&#125; c è¦æœç´¢çš„å­—ç¬¦</span><br><span class="line">* @return &#123;char *&#125; æŒ‡å‘sä¸­è¦æœç´¢çš„ç¬¬ä¸€ä¸ªcçš„æŒ‡é’ˆï¼šæœç´¢åˆ°äº†cï¼›ç©ºå­—ç¬¦ï¼šæ²¡æœ‰æœç´¢åˆ°c</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">char</span> <span class="title">strchr</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *s,  <span class="keyword">int</span> c)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> *p, str[] = <span class="string">"Form follows function."</span>;</span><br><span class="line">p = <span class="built_in">strchr</span>(str, <span class="string">'f'</span>);<span class="comment">// æ‰¾åˆ°ç¬¬ä¸€ä¸ª'f'</span></span><br><span class="line"></span><br><span class="line">p = <span class="built_in">strchr</span>(p + <span class="number">1</span>, <span class="string">'f'</span>);<span class="comment">// æ‰¾åˆ°ç¬¬äºŒä¸ª'f'</span></span><br></pre></td></tr></table></figure>
<h4 id="memchrå‡½æ•°"><a href="#memchrå‡½æ•°" class="headerlink" title="memchrå‡½æ•°"></a>memchrå‡½æ•°</h4><hr>
<p><strong>è¯´æ˜ï¼š</strong>ç±»ä¼¼<code>strchr</code>ï¼Œåœ¨å­—ç¬¦ä¸²ä¸­æœç´¢æŒ‡å®šå­—ç¬¦<br><strong>åœæ­¢æœç´¢æ—¶æœºï¼š</strong>æœç´¢äº†æŒ‡å®šæ•°é‡çš„å­—ç¬¦å<br><strong>ç”¨é€”ï¼š</strong>é€‚ç”¨äºä¸å¸Œæœ›å¯¹æ•´ä¸ªå­—ç¬¦ä¸²è¿›è¡Œæœç´¢æˆ–æœç´¢çš„å†…å­˜å—ä¸æ˜¯ä»¥<code>\0</code>ç»“å°¾æ—¶<br><strong>åŸå‹ï¼š</strong><code>string.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;void *&#125; s å­—ç¬¦ä¸²</span><br><span class="line">* @param &#123;int&#125; c è¦æœç´¢çš„å­—ç¬¦</span><br><span class="line">* @param &#123;size_t&#125; n è¦æœç´¢çš„å­—ç¬¦æ•°é‡ä¸Šé™</span><br><span class="line">* @return &#123;void *&#125; æŒ‡å‘sä¸­è¦æœç´¢çš„ç¬¬ä¸€ä¸ªcçš„æŒ‡é’ˆï¼šæœç´¢åˆ°äº†cï¼›ç©ºå­—ç¬¦ï¼šæ²¡æœ‰æœç´¢åˆ°c</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> *<span class="title">memchr</span><span class="params">(<span class="keyword">const</span> <span class="keyword">void</span> *s, <span class="keyword">int</span> c, size_t n)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="strrhrcå‡½æ•°"><a href="#strrhrcå‡½æ•°" class="headerlink" title="strrhrcå‡½æ•°"></a>strrhrcå‡½æ•°</h4><hr>
<p><strong>è¯´æ˜ï¼š</strong>å‡½æ•°ä¼šé¦–å…ˆæ‰¾åˆ°å­—ç¬¦ä¸²æœ«å°¾çš„ç©ºå­—ç¬¦ï¼Œç„¶ååå‘æŸ¥æ‰¾å­—ç¬¦ã€‚<br><strong>åŸå‹ï¼š</strong><code>string.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; s1 å­—ç¬¦ä¸²</span><br><span class="line">* @param &#123;int&#125; c è¦æœç´¢çš„å­—ç¬¦</span><br><span class="line">* @return &#123;void *&#125; æŒ‡å‘sä¸­è¦æœç´¢çš„ç¬¬ä¸€ä¸ªcçš„æŒ‡é’ˆï¼šæœç´¢åˆ°äº†cï¼›ç©ºå­—ç¬¦ï¼šæ²¡æœ‰æœç´¢åˆ°c</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">strrchr</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> * s1, <span class="keyword">int</span> c)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> *p, str[<span class="number">22</span>] = <span class="string">"Form follows function"</span>;</span><br><span class="line"><span class="comment">// åå‘æœç´¢å­—ç¬¦'f'</span></span><br><span class="line">p = <span class="built_in">memchr</span>(strr, <span class="string">'f'</span>, sizeof(str));</span><br></pre></td></tr></table></figure>
<h4 id="strpbrkå‡½æ•°"><a href="#strpbrkå‡½æ•°" class="headerlink" title="strpbrkå‡½æ•°"></a>strpbrkå‡½æ•°</h4><hr>
<p><strong>è¯´æ˜ï¼š</strong>è¿”å›æŒ‡å‘ç¬¬ä¸€ä¸ªå®é™…å‚æ•°ä¸­ä¸ç¬¬äºŒä¸ªå®å‚ä¸­ä»»æ„ä¸€ä¸ªå­—ç¬¦åŒ¹é…çš„æœ€å·¦è¾¹ä¸€ä¸ªå­—ç¬¦çš„æŒ‡é’ˆã€‚<br><strong>æ›´é€šç”¨ï¼š</strong><code>strchr</code>ç›¸å½“äº<code>strpbrk</code>çš„ç¬¬äºŒä¸ªå‚æ•°å­—ç¬¦ä¸²ä¸­åªç»™ä¸€ä¸ªå­—ç¬¦çš„æƒ…å†µã€‚<br><strong>åŸå‹ï¼š</strong><code>string.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; s1 å­—ç¬¦ä¸²</span><br><span class="line">* @param &#123;char *&#125; s2 åŒ¹é…å­—ç¬¦é›†</span><br><span class="line">* @return &#123;char *&#125; æŒ‡å‘åŒ¹é…åˆ°çš„å­—ç¬¦ï¼šåŒ¹é…åˆ°ï¼›æŒ‡é’ˆï¼šæ²¡æœ‰åŒ¹é…åˆ°</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">strpbrk</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *s1, <span class="keyword">const</span> <span class="keyword">char</span> *s2)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> *p, str[] = <span class="string">"Form follows function."</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æœç´¢ç¬¬ä¸€ä¸ª'm'æˆ–'n'</span></span><br><span class="line">p = <span class="built_in">strpbrk</span>(str, <span class="string">"mm"</span>);</span><br></pre></td></tr></table></figure>
<h4 id="strspnå‡½æ•°"><a href="#strspnå‡½æ•°" class="headerlink" title="strspnå‡½æ•°"></a>strspnå‡½æ•°</h4><hr>
<p><strong>è¯´æ˜ï¼š</strong>è¿”å›å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€ä¸ªä¸å±äºç»™å®šå­—ç¬¦é›†ä¸­çš„å­—ç¬¦çš„ä¸‹æ ‡ã€‚<br><strong>åŸå‹ï¼š</strong><code>string.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; s1 å­—ç¬¦ä¸²</span><br><span class="line">* @param &#123;char *&#125; s2 å­—ç¬¦é›†åˆ</span><br><span class="line">* @return &#123;size_t&#125;  å­—ç¬¦çš„ä¸‹æ ‡</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">size_t</span> <span class="built_in">strspn</span>(<span class="keyword">const</span> <span class="keyword">char</span> *s1, <span class="keyword">const</span> <span class="keyword">char</span> *s2);</span><br></pre></td></tr></table></figure>
<h4 id="strcspnå‡½æ•°"><a href="#strcspnå‡½æ•°" class="headerlink" title="strcspnå‡½æ•°"></a>strcspnå‡½æ•°</h4><hr>
<p><strong>è¯´æ˜ï¼š</strong>è¿”å›å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€ä¸ªå±äºç»™å®šå­—ç¬¦é›†ä¸­çš„å­—ç¬¦çš„ä¸‹æ ‡ã€‚<br><strong>åŸå‹ï¼š</strong><code>string.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; s1 å­—ç¬¦ä¸²</span><br><span class="line">* @param &#123;char *&#125; s2 å­—ç¬¦é›†åˆ</span><br><span class="line">* @return &#123;size_t&#125;  å­—ç¬¦çš„ä¸‹æ ‡</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">size_t</span> <span class="built_in">strcspn</span>(<span class="keyword">const</span> <span class="keyword">char</span> *s1, <span class="keyword">const</span> <span class="keyword">char</span> *s2);</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">size_t</span> len;</span><br><span class="line"><span class="keyword">char</span> str[] = <span class="string">"Form follows function."</span>;</span><br><span class="line"></span><br><span class="line">len = <span class="built_in">strspn</span>(str, <span class="string">"morF"</span>);<span class="comment">// 4</span></span><br><span class="line">len = <span class="built_in">strspn</span>(str, <span class="string">" \t\n"</span>);<span class="comment">// 0</span></span><br><span class="line">len = <span class="built_in">strcspn</span>(str, <span class="string">"morF"</span>);<span class="comment">// 0</span></span><br><span class="line">len = <span class="built_in">strcspn</span>(str, <span class="string">"morF"</span>);<span class="comment">// 4</span></span><br></pre></td></tr></table></figure>
<h4 id="strstrå‡½æ•°"><a href="#strstrå‡½æ•°" class="headerlink" title="strstrå‡½æ•°"></a>strstrå‡½æ•°</h4><hr>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨ç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆå­—ç¬¦ä¸²ï¼‰ä¸­æœç´¢èƒ½åŒ¹é…ç¬¬äºŒä¸ªå‚æ•°ï¼ˆå­—ç¬¦ä¸²ï¼‰çš„å­ä¸²ï¼Œå¹¶è¿”å›æ‰¾åˆ°çš„ç¬¬ä¸€å¤„åŒ¹é…å­ä¸²çš„æŒ‡é’ˆã€‚<br><strong>åŸå‹ï¼š</strong><code>string.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; s1 å­—ç¬¦ä¸²</span><br><span class="line">* @param &#123;char *&#125; s2 å­—ç¬¦ä¸²</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">strstr</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *s1, <span class="keyword">const</span> <span class="keyword">char</span> *s2)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> *p, str[] = <span class="string">"Form follows function."</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨strä¸­æœç´¢"fun"</span></span><br><span class="line">p = <span class="built_in">strstr</span>(str, <span class="string">"fun"</span>);</span><br></pre></td></tr></table></figure>
<h4 id="strtokå‡½æ•°"><a href="#strtokå‡½æ•°" class="headerlink" title="strtokå‡½æ•°"></a>strtokå‡½æ•°</h4><hr>
<p><strong>è¯´æ˜ï¼š</strong>åˆ†å‰²å‡ºä¸€æ®µå­å­—ç¬¦ä¸²ã€‚<br><strong>åŸç†ï¼š</strong>åœ¨s1ä¸­æœç´¢ï¼ŒæŒ‰ç…§s2æŒ‡å®šçš„åˆ†éš”ç¬¦æ‰¾å‡ºä¸€ç³»åˆ—éç©ºå­—ç¬¦ï¼ˆä¸åŒ…å«s2ä¸­æŒ‡å®šçš„å­—ç¬¦ï¼‰ã€‚<code>strtokå‡½æ•°</code>ä¼šå†™å…¥ä¸€ä¸ª<code>\0</code>æ¥æ ‡è®°å­—ç¬¦åºåˆ—çš„æœ«å°¾ï¼Œå¹¶è¿”å›æŒ‡å‘è¿™ä¸ªåºåˆ—çš„é¦–å­—ç¬¦çš„æŒ‡é’ˆã€‚<br><strong>åŸå‹ï¼š</strong><code>string.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; s1 å­—ç¬¦ä¸²</span><br><span class="line">* @param &#123;char *&#125; s2 å­—ç¬¦ä¸²ï¼ˆè¦ä½œä¸ºåˆ†å‰²å­—ç¬¦çš„å­—ç¬¦é›†åˆï¼‰</span><br><span class="line">* @return &#123;char *&#125; æŒ‡å‘æ–°åˆ†å‰²å‡ºæ¥çš„å­å­—ç¬¦ä¸²çš„æŒ‡é’ˆï¼ˆæŒ‡å‘é¦–å­—ç¬¦ï¼‰</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">strtok</span><span class="params">(<span class="keyword">char</span> * <span class="keyword">restrict</span> s1, <span class="keyword">const</span> <span class="keyword">char</span> * <span class="keyword">restrict</span> s2)</span></span>;</span><br></pre></td></tr></table></figure>
<ol>
<li>åŸå§‹å­—ç¬¦ä¸²çŠ¶æ€</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> *p, str[] = <span class="string">" Apri1  28,1990"</span>;</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th><code> </code></th>
<th>A</th>
<th>p</th>
<th>r</th>
<th>i</th>
<th>1</th>
<th><code> </code></th>
<th><code> </code></th>
<th>2</th>
<th>8</th>
<th>,</th>
<th>1</th>
<th>9</th>
<th>9</th>
<th>8</th>
<th>\0</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<ol>
<li>æœˆ</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ†å‰²å‡ºç¬¬ä¸€ä¸ªåºåˆ—ï¼Œä½¿ç”¨" \t"ä¸­çš„å­—ç¬¦ä½œä¸ºåˆ†éš”ç¬¦</span></span><br><span class="line"><span class="comment">// æœˆ</span></span><br><span class="line">p = strtok(str, <span class="string">" \t"</span>);</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th><code> </code></th>
<th><code>A</code></th>
<th><code>p</code></th>
<th><code>r</code></th>
<th><code>i</code></th>
<th><code>1</code></th>
<th><code>\0</code></th>
<th><code> </code></th>
<th>2</th>
<th>8</th>
<th>,</th>
<th>1</th>
<th>9</th>
<th>9</th>
<th>8</th>
<th>\0</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<ol>
<li>æ—¥</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»ä¸Šæ¬¡ç»“æŸçš„ä½ç½®ç»§ç»­æŸ¥æ‰¾</span></span><br><span class="line"><span class="comment">// æ—¥</span></span><br><span class="line">p = strtok(NULL, <span class="string">" \t"</span>);</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th><code> </code></th>
<th>A</th>
<th>p</th>
<th>r</th>
<th>i</th>
<th>1</th>
<th>\0</th>
<th><code> </code></th>
<th><code>2</code></th>
<th><code>8</code></th>
<th><code>\0</code></th>
<th>1</th>
<th>9</th>
<th>9</th>
<th>8</th>
<th>\0</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<ol>
<li>å¹´</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»ä¸Šæ¬¡ç»“æŸçš„ä½ç½®ç»§ç»­æŸ¥æ‰¾</span></span><br><span class="line"><span class="comment">// å¹´</span></span><br><span class="line">p = strtok(NULL, <span class="string">" \t"</span>);</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th><code> </code></th>
<th>A</th>
<th>p</th>
<th>r</th>
<th>i</th>
<th>1</th>
<th>\0</th>
<th><code> </code></th>
<th>2</th>
<th>8</th>
<th>\0</th>
<th><code>1</code></th>
<th><code>9</code></th>
<th><code>9</code></th>
<th><code>8</code></th>
<th><code>\0</code></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<h3 id="23-5-5-å…¶ä»–å‡½æ•°"><a href="#23-5-5-å…¶ä»–å‡½æ•°" class="headerlink" title="23.5.5    å…¶ä»–å‡½æ•°"></a>23.5.5    å…¶ä»–å‡½æ•°</h3><h4 id="memsetå‡½æ•°"><a href="#memsetå‡½æ•°" class="headerlink" title="memsetå‡½æ•°"></a>memsetå‡½æ•°</h4><hr>
<p><strong>è¯´æ˜ï¼š</strong>å°†ä¸€ä¸ªå­—ç¬¦çš„å¤šä¸ªå‰¯æœ¬å­˜å‚¨åˆ°æŒ‡å®šåŒºåŸŸã€‚<br><strong>åº”ç”¨ï¼š</strong>å°†æ•°ç»„å…ƒç´ å…¨éƒ¨åˆå§‹åŒ–ä¸º0<br><strong>åŸå‹ï¼š</strong><code>string.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;void *&#125; s æŒ‡å‘ç”¨æ¥å­˜å‚¨å­—ç¬¦å‰¯æœ¬çš„ç©ºé—´</span><br><span class="line">* @param &#123;int&#125; c ç”¨äºå¡«å……çš„å­—ç¬¦</span><br><span class="line">* @param &#123;size_t&#125; n ä»sæŒ‡å‘çš„åœ°å€å¾€åå¡«å……ç©ºé—´å¤§å°ï¼ˆå­—èŠ‚ï¼‰</span><br><span class="line">* @return &#123;void *&#125; ç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆç©ºé—´åœ°å€ï¼‰</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> *<span class="title">memset</span><span class="params">(<span class="keyword">void</span> *s, <span class="keyword">int</span> c, size_t n)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸ºpæŒ‡å‘çš„å†…å­˜çš„Nå“¥å­—èŠ‚å­˜å‚¨ç©ºæ ¼</span></span><br><span class="line"><span class="built_in">memset</span>(p, <span class="string">' '</span>, N);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†æ•°ç»„aåˆå§‹åŒ–ä¸º0</span></span><br><span class="line"><span class="built_in">memset</span>(a, <span class="number">0</span>, <span class="keyword">sizeof</span>(a));</span><br></pre></td></tr></table></figure>
<h4 id="strlenå‡½æ•°"><a href="#strlenå‡½æ•°" class="headerlink" title="strlenå‡½æ•°"></a>strlenå‡½æ•°</h4><hr>
<p><strong>è¯´æ˜ï¼š</strong>è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œä¸è®¡ç®—å­—ç¬¦ä¸²æœ«å°¾çš„<code>\0</code><br><strong>åŸå‹ï¼š</strong><code>string.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; s å­—ç¬¦ä¸²</span><br><span class="line">* @return &#123;size_t&#125; å­—ç¬¦ä¸²çš„å¸¸é€Ÿ</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">size_t</span> <span class="built_in">strlen</span>(<span class="keyword">const</span> <span class="keyword">char</span>* s);</span><br></pre></td></tr></table></figure>
<h4 id="strerrorå‡½æ•°"><a href="#strerrorå‡½æ•°" class="headerlink" title="strerrorå‡½æ•°"></a>strerrorå‡½æ•°</h4><p><strong>è¯´æ˜ï¼š</strong><a href="">24.2</a><br><strong>åŸå‹ï¼š</strong><code>errno.h</code></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/10/22 è¾“å…¥ï¼è¾“å‡º/" itemprop="url">
                  22 è¾“å…¥/è¾“å‡º
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-10T23:01:02+08:00" content="2016-05-10">
              2016-05-10
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/10/22 è¾“å…¥ï¼è¾“å‡º/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/10/22 è¾“å…¥ï¼è¾“å‡º/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="22-1-æµ"><a href="#22-1-æµ" class="headerlink" title="22.1    æµ"></a>22.1    æµ</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨Cè¯­è¨€ä¸­ï¼Œæœ¯è¯­æµæ„å‘³ç€ä»»æ„è¾“å…¥çš„æºæˆ–äººæ„è¾“å‡ºçš„ç›®çš„åœ°ã€‚<code>stdio.h</code>ä¸­çš„è®¸å¤šå‡½æ•°ä¸ä»…å¯ä»¥å¤„ç†è¡¨ç¤ºæˆæ–‡ä»¶çš„æµï¼Œè¿˜å¯ä»¥å¤„ç†æ‰€æœ‰å…¶å®ƒå½¢å¼çš„æµã€‚<br><strong>æµï¼š</strong>æµå¸¸å¸¸è¡¨ç¤ºä¸ºç£ç›˜ä¸Šçš„æ–‡ä»¶ï¼Œä½†å´å¯ä»¥å’Œå…¶å®ƒç±»å‹çš„è®¾å¤‡ç›¸å…³è”ï¼šè°ƒåˆ¶è§£è°ƒå™¨ã€ç½‘ç»œç«¯å£ã€æ‰“å°æœºã€å…‰ç›˜é©±åŠ¨å™¨ç­‰ã€‚</p>
</blockquote>
<h3 id="22-1-1-æ–‡ä»¶æŒ‡é’ˆ"><a href="#22-1-1-æ–‡ä»¶æŒ‡é’ˆ" class="headerlink" title="22.1.1    æ–‡ä»¶æŒ‡é’ˆ"></a>22.1.1    æ–‡ä»¶æŒ‡é’ˆ</h3><blockquote>
<p><strong>æ–‡ä»¶æŒ‡é’ˆï¼ˆfile pointerï¼‰ï¼š</strong><code>File *</code>(<code>File</code>å®šä¹‰åœ¨<code>stdio.h</code>ä¸­)<br><strong>ç”¨é€”ï¼š</strong>Cç¨‹åºä¸­æµçš„è®¿é—®æ˜¯é€šè¿‡<code>æ–‡ä»¶æŒ‡é’ˆ</code>å®ç°çš„<br><strong>é™åˆ¶ï¼š</strong>æ“ä½œç³»ç»Ÿé€šå¸¸ä¼šé™åˆ¶åœ¨ä»»æ„æŸæ—¶åˆ»å¯ä»¥æ‰“å¼€çš„æµçš„æ•°é‡ï¼ˆä½†æ˜¯ä¸€ä¸ªç¨‹åºä¸­å¯ä»¥å£°æ˜ä»»æ„æ•°é‡çš„<code>File *</code>å‹å˜é‡ï¼‰ã€‚</p>
</blockquote>
<h3 id="22-1-2-æ ‡å‡†æµå’Œé‡å®šå‘"><a href="#22-1-2-æ ‡å‡†æµå’Œé‡å®šå‘" class="headerlink" title="22.1.2    æ ‡å‡†æµå’Œé‡å®šå‘"></a>22.1.2    æ ‡å‡†æµå’Œé‡å®šå‘</h3><h4 id="æ ‡å‡†æµ"><a href="#æ ‡å‡†æµ" class="headerlink" title="æ ‡å‡†æµ"></a>æ ‡å‡†æµ</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç”±<code>stdio.h</code>æä¾›ï¼Œä¸€å…±3ç§</p>
</blockquote>
<table>
<thead>
<tr>
<th>æ–‡ä»¶æŒ‡é’ˆ</th>
<th>æµ</th>
<th>é»˜è®¤çš„å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>stdin</td>
<td>æ ‡å‡†è¾“å…¥</td>
<td>é”®ç›˜</td>
</tr>
<tr>
<td>stdout</td>
<td>æ ‡å‡†è¾“å‡º</td>
<td>å±å¹•</td>
</tr>
<tr>
<td>stderr</td>
<td>æ ‡å‡†é”™è¯¯</td>
<td>å±å¹•</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>ç›¸å…³çš„å‡½æ•°ï¼š</strong><code>printf</code>ã€<code>scanf</code>ã€<code>putchar</code>ã€<code>getchar</code>ã€<code>puts</code>ã€<code>gets</code></p>
</blockquote>
<h4 id="é‡å®šå‘"><a href="#é‡å®šå‘" class="headerlink" title="é‡å®šå‘"></a>é‡å®šå‘</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æŸäº›æ“ä½œç³»ç»Ÿï¼ˆæ¯”å¦‚UNIX/Linux/DOSï¼‰å…è®¸é€šè¿‡æ‰€è°“çš„<code>é‡å®šå‘ï¼ˆredirextionï¼‰</code>æœºåˆ¶æ¥æ”¹å˜æ ‡å‡†æµé»˜è®¤çš„å«ä¹‰ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>åˆ†ç±»</th>
<th>è¯´æ˜</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>è¾“å…¥é‡å®šå‘(input redirection)</td>
<td>ä½¿<code>stdinæµ</code>è¡¨ç¤ºä¸ºæ–‡ä»¶(è€Œéé”®ç›˜)</td>
<td>ç¨‹åºä¸å›æ„è¯†åˆ°æ­£åœ¨ä»æ–‡ä»¶è¯»å–æ•°æ®</td>
</tr>
<tr>
<td>è¾“å‡ºé‡å®šå‘(output redirection)</td>
<td>ä½¿<code>stdoutæµ</code>å’Œ<code>stderræµ</code>è¡¨ç¤ºä¸ºæ–‡ä»¶ï¼ˆè€Œé£å±å¹•ï¼‰</td>
<td>ç¨‹åºä¸ä¼šæ„è¯†åˆ°æ­£åœ¨å‘æ–‡ä»¶ä¸­å†™æ•°æ®</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¾“å…¥é‡å®šå‘</span></span><br><span class="line">demo &lt; in.dat</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å‡ºé‡å®šå‘</span></span><br><span class="line">demo &gt; out.dat</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå¹¶</span></span><br><span class="line">demo &lt; in.dat &gt;out.dat</span><br></pre></td></tr></table></figure>
<h3 id="22-1-3-æ–‡æœ¬æ–‡ä»¶ä¸äºŒè¿›åˆ¶æ–‡ä»¶"><a href="#22-1-3-æ–‡æœ¬æ–‡ä»¶ä¸äºŒè¿›åˆ¶æ–‡ä»¶" class="headerlink" title="22.1.3    æ–‡æœ¬æ–‡ä»¶ä¸äºŒè¿›åˆ¶æ–‡ä»¶"></a>22.1.3    æ–‡æœ¬æ–‡ä»¶ä¸äºŒè¿›åˆ¶æ–‡ä»¶</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>stdio.h</code>æ”¯æŒä¸¤ç§ç±»å‹çš„æ–‡ä»¶ï¼ˆæ–‡æœ¬æ–‡ä»¶å’ŒäºŒè¿›åˆ¶æ–‡ä»¶ï¼‰<br><strong>å­˜å‚¨æ–¹å¼ï¼š</strong>æ–‡æœ¬æ–‡ä»¶å’ŒäºŒè¿›åˆ¶æ–‡ä»¶éƒ½æ˜¯å­—èŠ‚çš„åºåˆ—ï¼Œä¸åŒç‚¹åœ¨äºå­˜å‚¨çš„æ•°æ®ç±»å‹ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>åˆ†ç±»</th>
<th>æ•°æ®ç±»å‹ï¼ˆå‡è®¾å­—ç¬¦é›†ä¸ºASCIIï¼Œ16ä½æœºå™¨ï¼‰</th>
<th>ç©ºé—´åˆ©ç”¨ç‡</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ–‡æœ¬æ–‡ä»¶(text file)</td>
<td>å­—ç¬¦ï¼ˆå ä¸€ä¸ªå­—èŠ‚ï¼‰</td>
<td>ä½</td>
</tr>
<tr>
<td>äºŒè¿›åˆ¶æ–‡ä»¶(binary file)</td>
<td>å­—ç¬¦ï¼ˆå ä¸€ä¸ªå­—èŠ‚ï¼‰ã€æ•´æ•°ï¼ˆä¸¤ä¸ªå­—èŠ‚ï¼‰ã€æµ®ç‚¹æ•°ï¼ˆå››ä¸ªå­—èŠ‚ï¼‰ç­‰</td>
<td>é«˜</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>ç»“æŸç¬¦ï¼š</strong></p>
<ul>
<li><strong>DOSç³»ç»Ÿï¼š</strong>æ–‡æœ¬æ–‡ä»¶å’ŒäºŒè¿›åˆ¶æ–‡ä»¶ä¸åŒ</li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th>ç»“æŸç¬¦åˆ†ç±»</th>
<th>æ–‡æœ¬æ–‡ä»¶</th>
<th>äºŒè¿›åˆ¶æ–‡ä»¶</th>
</tr>
</thead>
<tbody>
<tr>
<td>è¡Œçš„ç»“å°¾</td>
<td>å›è¡Œç¬¦ï¼‹å›è½¦ç¬¦</td>
<td>å›è¡Œç¬¦</td>
</tr>
<tr>
<td>æ–‡ä»¶æœ«å°¾</td>
<td>Ctrl+Z(\x1a)ï¼Œä½†ä¸æ˜¯å¿…éœ€çš„ï¼ˆæœ‰çš„ç¼–è¾‘å™¨ä¼šåŠ ä¸Š</td>
<td>æ— </td>
</tr>
</tbody>
</table>
<blockquote>
<ul>
<li><strong>UNIXç³»ç»Ÿï¼š</strong>å¯¹æ–‡æœ¬æ–‡ä»¶å’ŒäºŒè¿›åˆ¶æ–‡ä»¶ä¸è¿›è¡ŒåŒºåˆ†</li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th>ç»“æŸç¬¦åˆ†ç±»</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>è¡Œçš„ç»“å°¾</td>
<td>æ¢è¡Œç¬¦</td>
</tr>
<tr>
<td>æ–‡ä»¶æœ«å°¾</td>
<td>æ— </td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ol>
<li>åœ¨å±å¹•ä¸Šæ˜¾ç¤ºæ–‡ä»¶å†…å®¹çš„ç¨‹åºä¼šå‡è®¾æ–‡ä»¶ä¸ºæ–‡æœ¬æ–‡ä»¶</li>
<li>å¤åˆ¶æ–‡ä»¶æ—¶å¦‚æœè®¾å®šæ–‡ä»¶ä¸ºæ–‡æœ¬æ–‡ä»¶ï¼Œåªä¼šå¤åˆ¶åˆ°å‡ºç°æ–‡ä»¶æœ«å°¾ç¬¦å‡ºç°çš„åœ°æ–¹</li>
</ol>
<p><strong>æŠ€å·§ï¼š</strong>åœ¨æ— æ³•ç¡®å®šæ–‡ä»¶æ˜¯æ–‡æœ¬æ–‡ä»¶è¿˜æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶æ—¶ï¼Œå®‰å…¨çš„åšæ³•æ˜¯æŠŠæ–‡ä»¶å‡è®¾ä¸ºäºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p>
</blockquote>
<h2 id="22-2-æ–‡ä»¶æ“ä½œ"><a href="#22-2-æ–‡ä»¶æ“ä½œ" class="headerlink" title="22.2    æ–‡ä»¶æ“ä½œ"></a>22.2    æ–‡ä»¶æ“ä½œ</h2><h3 id="22-2-1-æ‰“å¼€æ–‡ä»¶"><a href="#22-2-1-æ‰“å¼€æ–‡ä»¶" class="headerlink" title="22.2.1    æ‰“å¼€æ–‡ä»¶"></a>22.2.1    æ‰“å¼€æ–‡ä»¶</h3><h4 id="fopenå‡½æ•°"><a href="#fopenå‡½æ•°" class="headerlink" title="fopenå‡½æ•°"></a>fopenå‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç”¨æµçš„æ–¹å¼æ‰“å¼€æ–‡ä»¶<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; filename å«æœ‰è¦å¤§å¼€æ–‡ä»¶åçš„å­—ç¬¦ä¸²ï¼ˆå¯èƒ½åŒ…å«æ–‡ä»¶ä½ç½®çš„ä¿¡æ¯ï¼Œä¾‹å¦‚é©±åŠ¨å·æˆ–è·¯å¾„ï¼‰</span><br><span class="line">* @param &#123;char *&#125; mode æ¨¡å¼å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚"r"ä»£è¡¨åªè¯»æ–¹å¼</span><br><span class="line">* @return &#123;FILE *&#125; æ–‡ä»¶æŒ‡é’ˆï¼ˆå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨æˆ–æœªè·å¾—æ‰“å¼€æ–‡ä»¶çš„è®¸å¯åˆ™è¿”å›ç©ºæŒ‡é’ˆï¼‰</span><br><span class="line">*/</span></span><br><span class="line"><span class="function">FILE *<span class="title">fopen</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *filename, <span class="keyword">const</span> <span class="keyword">char</span> *mode)</span></span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>æŠ€å·§ï¼š</strong>åœ¨DOSä¸­çš„æ–‡ä»¶åä¸­å«æœ‰â€\â€å­—ç¬¦è¦ç”¨â€\æ›¿ä»£â€<br><strong>æ³¨æ„ï¼š</strong>æ°¸è¿œä¸èƒ½å‡è®¾å¯ä»¥æ‰“å¼€æ–‡ä»¶ï¼Œä¸ºäº†ç¡®ä¿ä¸å›è¿”å›ç©ºæŒ‡é’ˆï¼Œéœ€è¦æµ‹è¯•<code>fopen</code>å‡½æ•°çš„è¿”å›å€¼ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FILE *fp = fopen(<span class="string">"c:\\project\\test1.dat"</span>, r); <span class="comment">// ä»¥åªè¯»æ–¹å¼æ‰“å¼€</span></span><br></pre></td></tr></table></figure>
<h3 id="22-2-2-æ¨¡å¼"><a href="#22-2-2-æ¨¡å¼" class="headerlink" title="22.2.2    æ¨¡å¼"></a>22.2.2    æ¨¡å¼</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ¨¡å¼å­—ç¬¦ä¸²ä¾æ®æ–‡ä»¶æ˜¯æ–‡æœ¬æ–‡ä»¶è¿˜æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶åˆ†ä¸ºä¸¤å¤§ç±»ã€‚<br><strong>æ³¨æ„ï¼š</strong>å¯è¯»ä¸”å¯å†™çš„æ¨¡å¼ï¼ˆåŒ…å«<code>+</code>ï¼‰å­˜åœ¨å¦‚ä¸‹é™åˆ¶</p>
<ul>
<li>è°ƒç”¨<code>æ–‡ä»¶å®šä½å‡½æ•°</code>åï¼Œå¯è¯»æ‰èƒ½è½¬æ¢ä¸ºå¯å†™</li>
<li>è°ƒç”¨<code>æ–‡ä»¶å®šä½å‡½æ•°</code>æˆ–<code>fflushå‡½æ•°</code>åï¼Œå¯å†™æ‰èƒ½è½¬æ¢ä¸ºå¯è¯»</li>
</ul>
</blockquote>
<h4 id="æ–‡æœ¬æ–‡ä»¶"><a href="#æ–‡æœ¬æ–‡ä»¶" class="headerlink" title="æ–‡æœ¬æ–‡ä»¶"></a>æ–‡æœ¬æ–‡ä»¶</h4><table>
<thead>
<tr>
<th>æ¨¡å¼å­—ç¬¦ä¸²</th>
<th>å«ä¹‰</th>
<th>æ˜¯å¦éœ€è¦æ–‡ä»¶å­˜åœ¨</th>
<th>å¦‚æœæ–‡ä»¶å­˜åœ¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>r</td>
<td>å¯è¯»</td>
<td>æ˜¯</td>
<td></td>
</tr>
<tr>
<td>w</td>
<td>å¯å†™</td>
<td>å¦</td>
<td></td>
</tr>
<tr>
<td>a</td>
<td>è¿½åŠ </td>
<td>å¦</td>
<td></td>
</tr>
<tr>
<td>r+</td>
<td>è¯»å’Œå†™</td>
<td>å¦</td>
<td>ä»æ–‡ä»¶å¤´å¼€å§‹ï¼ˆè¿½åŠ åˆ°å¤´éƒ¨ï¼‰</td>
</tr>
<tr>
<td>w+</td>
<td>è¯»å’Œå†™</td>
<td>å¦</td>
<td>æˆªå»ï¼ˆè¦†ç›–ï¼‰</td>
</tr>
<tr>
<td>a+</td>
<td>è¯»å’Œå†™</td>
<td>å¦</td>
<td>è¿½åŠ </td>
</tr>
</tbody>
</table>
<h4 id="äºŒè¿›åˆ¶æ–‡ä»¶"><a href="#äºŒè¿›åˆ¶æ–‡ä»¶" class="headerlink" title="äºŒè¿›åˆ¶æ–‡ä»¶"></a>äºŒè¿›åˆ¶æ–‡ä»¶</h4><table>
<thead>
<tr>
<th>æ¨¡å¼å­—ç¬¦ä¸²</th>
<th>å«ä¹‰</th>
<th>æ˜¯å¦éœ€è¦æ–‡ä»¶å­˜åœ¨</th>
<th>å¦‚æœæ–‡ä»¶å­˜åœ¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>rb</td>
<td>å¯è¯»</td>
<td>æ˜¯</td>
<td></td>
</tr>
<tr>
<td>wb</td>
<td>å¯å†™</td>
<td>å¦</td>
<td></td>
</tr>
<tr>
<td>ab</td>
<td>è¿½åŠ </td>
<td>å¦</td>
<td></td>
</tr>
<tr>
<td>r+bæˆ–rb+</td>
<td>è¯»å’Œå†™</td>
<td>å¦</td>
<td>ä»æ–‡ä»¶å¤´å¼€å§‹ï¼ˆè¿½åŠ åˆ°å¤´éƒ¨ï¼‰</td>
</tr>
<tr>
<td>w+bæˆ–wb+</td>
<td>è¯»å’Œå†™</td>
<td>å¦</td>
<td>æˆªå»ï¼ˆè¦†ç›–ï¼‰</td>
</tr>
<tr>
<td>a+bæˆ–ab+</td>
<td>è¯»å’Œå†™</td>
<td>å¦</td>
<td>è¿½åŠ </td>
</tr>
</tbody>
</table>
<h3 id="22-2-3-å…³é—­æ–‡ä»¶"><a href="#22-2-3-å…³é—­æ–‡ä»¶" class="headerlink" title="22.2.3    å…³é—­æ–‡ä»¶"></a>22.2.3    å…³é—­æ–‡ä»¶</h3><h4 id="fcloseå‡½æ•°"><a href="#fcloseå‡½æ•°" class="headerlink" title="fcloseå‡½æ•°"></a>fcloseå‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å…³é—­ä¸å†ä½¿ç”¨çš„æ–‡ä»¶<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;FILE *&#125; æ–‡ä»¶æŒ‡é’ˆï¼ˆæ¥è‡ªfopenå‡½æ•°æˆ–freopenå‡½æ•°ï¼‰</span><br><span class="line">* @return 0:å…³é—­æˆåŠŸï¼›EOF(stdio.hå®)ï¼šå…³é—­å¤±è´¥</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fclose</span><span class="params">(FILE *stream)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FILE_NAME <span class="string">"example.dat"</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">	FILE *fp;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 1.å¤§å¼€æ–‡ä»¶</span></span><br><span class="line">	fp = fopen(FILE_NAME, <span class="string">"r"</span>);</span><br><span class="line">	<span class="keyword">if</span> (fp == <span class="literal">NULL</span>) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Cant't open %s\n"</span>, FILE_NAME);</span><br><span class="line">		<span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Opened!\n"</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 2.æ“ä½œæ–‡ä»¶</span></span><br><span class="line">	<span class="comment">// ...</span></span><br><span class="line">	<span class="comment">// 3.å…³é—­æ–‡ä»¶</span></span><br><span class="line">	fclose(fp);</span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="22-2-4-ä¸ºæµé™„åŠ æ–‡ä»¶"><a href="#22-2-4-ä¸ºæµé™„åŠ æ–‡ä»¶" class="headerlink" title="22.2.4    ä¸ºæµé™„åŠ æ–‡ä»¶"></a>22.2.4    ä¸ºæµé™„åŠ æ–‡ä»¶</h3><h4 id="freopenå‡½æ•°"><a href="#freopenå‡½æ•°" class="headerlink" title="freopenå‡½æ•°"></a>freopenå‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸ºå·²ç»æ‰“å¼€çš„æµé™„åŠ ä¸€ä¸ªä¸åŒçš„æ–‡ä»¶<br><strong>åº”ç”¨ï¼š</strong>æŠŠæ–‡ä»¶å’Œä¸€ä¸ªæ ‡å‡†æµç›¸å…³è”<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; filename æ–‡ä»¶å</span><br><span class="line">* @param &#123;char *&#125; mode æ‰“å¼€æ¨¡å¼</span><br><span class="line">* @param &#123;FILE *&#125; stream æ ‡å‡†æµï¼ˆstdinæˆ–stdoutæˆ–stderrï¼‰</span><br><span class="line">* @return &#123;FILE *&#125; é™„åŠ æˆåŠŸï¼šæ–‡ä»¶æŒ‡é’ˆï¼›NULLï¼šæ‰“å¼€å¤±è´¥</span><br><span class="line">*/</span></span><br><span class="line"><span class="function">FILE *<span class="title">freopen</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *filename, <span class="keyword">const</span> <span class="keyword">char</span> *mode,  FILE* stream)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.å¦‚æœstdouté€šè¿‡å‘½ä»¤è¡Œé‡å®šå‘æˆ–è€…freopenå‡½æ•°å·²ç»å’Œå…¶å®ƒæ–‡ä»¶å…³è”ï¼Œåˆ™å…ˆå…³é—­ä¸stdoutç›¸å…³è”çš„æ–‡ä»¶</span></span><br><span class="line"><span class="comment">// fclose(frp); // fpæŒ‡å‘æ˜¯å’Œstdoutå…³è”çš„æµï¼ˆæ–‡ä»¶ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.æ‰“å¼€fooæ–‡ä»¶ï¼Œå¹¶ä½¿æ­¤æ–‡ä»¶å’Œstdoutç›¸å…³è”</span></span><br><span class="line"><span class="comment">// å¦‚æœæ— æ³•å…³é—­æ—§çš„æ–‡ä»¶ï¼Œé‚£ä¹ˆfreopenå‡½æ•°ä¼šå¿½ç•¥æ‰é”™è¯¯</span></span><br><span class="line">frp = freopen(<span class="string">"foo"</span>, <span class="string">"w"</span>, stdout)</span><br><span class="line"><span class="keyword">if</span> (frp == NULL) &#123;</span><br><span class="line">	<span class="comment">// æ‰“å¼€å¤±è´¥</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="22-2-5-ä»å‘½ä»¤è¡Œè·å–æ–‡ä»¶å"><a href="#22-2-5-ä»å‘½ä»¤è¡Œè·å–æ–‡ä»¶å" class="headerlink" title="22.2.5    ä»å‘½ä»¤è¡Œè·å–æ–‡ä»¶å"></a>22.2.5    ä»å‘½ä»¤è¡Œè·å–æ–‡ä»¶å</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">*</span><br><span class="line">* @param &#123;int&#125; argc å®é™…å‚æ•°çš„æ•°é‡</span><br><span class="line">* @param &#123;[].(char *)&#125;  ä¸€ä¸ªæŒ‡é’ˆæ•°ç»„ï¼Œargv[0]æŒ‡å‘ç¨‹åºçš„åå­—ï¼Œå…¶ä½™æŒ‡å‘å®é™…å‚æ•°</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># argv[0]: demo</span></span><br><span class="line"><span class="comment"># argv[1]: name.dat</span></span><br><span class="line"><span class="comment"># argv[2]: dates.dat.dat</span></span><br><span class="line">$ demo name.dat dates.dat</span><br></pre></td></tr></table></figure>
<h3 id="22-2-6-ç¨‹åºï¼šæ£€æŸ¥æ–‡ä»¶æ˜¯å¦å¯ä»¥æ‰“å¼€"><a href="#22-2-6-ç¨‹åºï¼šæ£€æŸ¥æ–‡ä»¶æ˜¯å¦å¯ä»¥æ‰“å¼€" class="headerlink" title="22.2.6    ç¨‹åºï¼šæ£€æŸ¥æ–‡ä»¶æ˜¯å¦å¯ä»¥æ‰“å¼€"></a>22.2.6    ç¨‹åºï¼šæ£€æŸ¥æ–‡ä»¶æ˜¯å¦å¯ä»¥æ‰“å¼€</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è‹¥æ–‡ä»¶å­˜åœ¨å°±å¯ä»¥æ‰“å¼€è¿›è¡Œè¯»å…¥ï¼Œåœ¨è¿è¡Œç¨‹åºæ—¶ï¼Œç”¨æˆ·å°†ç»™å‡ºè¦æ£€æµ‹çš„æ–‡ä»¶çš„åå­—ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Checks whether a file can be opened for reading</span><br><span class="line"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	FILE *fp;</span><br><span class="line">	<span class="comment">// å¦‚æœæ²¡æœ‰æ­£ç¡®è°ƒç”¨ï¼Œç»™å‡ºä½¿ç”¨æç¤º</span></span><br><span class="line">	<span class="keyword">if</span> (argc != <span class="number">2</span>) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"usage: canopen filanem\n"</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// å¦‚æœä¸èƒ½ä»¥åªè¯»æ–¹å¼æ‰“å¼€</span></span><br><span class="line">	<span class="keyword">if</span> ((fp = fopen(argv[<span class="number">1</span>], <span class="string">"r"</span>)) == <span class="literal">NULL</span>) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%s can't be opened\n"</span>, argv[<span class="number">1</span>]);</span><br><span class="line">		return <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// å¦‚æœèƒ½ä»¥åªè¯»çš„æ–¹å¼æ‰“å¼€ </span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%s can be opened\n"</span>, argv[<span class="number">1</span>]);</span><br><span class="line">	fclose(fp);</span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ canopen f1.dat</span><br></pre></td></tr></table></figure>
<h3 id="22-2-7-ä¸´æ—¶æ–‡ä»¶"><a href="#22-2-7-ä¸´æ—¶æ–‡ä»¶" class="headerlink" title="22.2.7    ä¸´æ—¶æ–‡ä»¶"></a>22.2.7    ä¸´æ—¶æ–‡ä»¶</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åªåœ¨ç¨‹åºè¿è¡Œæ—¶å­˜åœ¨çš„æ–‡ä»¶ã€‚<code>stdio.h</code>æä¾›äº†ä¸¤ä¸ªå‡½æ•°ç”¨æ¥å¤„ç†ä¸´æ—¶æ–‡ä»¶ï¼Œå³<code>tmpfile</code>å’Œ<code>tmpname</code></p>
</blockquote>
<h4 id="tmpfileå‡½æ•°"><a href="#tmpfileå‡½æ•°" class="headerlink" title="tmpfileå‡½æ•°"></a>tmpfileå‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>äº§ç”Ÿä¸´æ—¶æ–‡ä»¶ï¼Œè¿™äº›ä¸´æ—¶æ–‡ä»¶å°†å­˜åˆ°æ–‡ä»¶å…³é—­æ—¶æˆ–ç¨‹åºç»ˆæ­¢æ—¶ã€‚<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @ return &#123;FILE *&#125; æŒ‡å‘ä¸´æ—¶æ–‡ä»¶çš„æ–‡ä»¶æŒ‡é’ˆ(å¦‚æœåˆ›å»ºå¤±è´¥åˆ™ä¸ºNULL)</span><br><span class="line">*/</span></span><br><span class="line"><span class="function">FILE *<span class="title">tmpfile</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">FILE *tmpptr;</span><br><span class="line">Tempptr = tmpfile(); <span class="comment">//</span></span><br></pre></td></tr></table></figure>
<h4 id="tmpfileå‡½æ•°-1"><a href="#tmpfileå‡½æ•°-1" class="headerlink" title="tmpfileå‡½æ•°"></a>tmpfileå‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸ºä¸´æ—¶æ–‡ä»¶äº§ç”Ÿåå­—ã€‚<br><strong>ç”¨é€”ï¼š</strong>è§£å†³<code>tmpfileå‡½æ•°</code>æ— æ³•çŸ¥é“ä¸´æ—¶æ–‡ä»¶çš„åå­—çš„é—®é¢˜ã€‚<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">*  å¦‚æœå®é™…å‚æ•°ä¸ºNULLï¼Œé‚£ä¹ˆtmpnamå‡½æ•°ä¼šæŠŠæ–‡ä»¶åå­˜å‚¨åˆ°é™æ€å˜é‡ä¸­ï¼Œå¹¶ä¸”è¿”å›æŒ‡å‘æ­¤å˜é‡çš„æŒ‡é’ˆï¼›</span><br><span class="line">*  å¦åˆ™ï¼Œå¦‚æœæä¾›äº†å­—ç¬¦æ•°ç»„ä½œä¸ºå‚æ•°ï¼Œå‡½æ•°ä¼šæŠŠæ–‡ä»¶åå¤åˆ¶åˆ°ç¨‹åºå‘˜æä¾›çš„å­—ç¬¦æ•°ç»„ä¸­ã€‚</span><br><span class="line">*</span><br><span class="line">* @param &#123;char *&#125; NULLæˆ–è€…ä¸€ä¸ªå­—ç¬¦æ•°ç»„ï¼ˆå­—ç¬¦ä¸²ï¼‰</span><br><span class="line">* @return &#123;char *&#125; æŒ‡å‘é™æ€å˜é‡ï¼ˆå­˜å‚¨ç€ä¸´æ—¶æ–‡ä»¶åï¼‰çš„æŒ‡é’ˆï¼šå¦‚æœå‚æ•°ä¸ºNULLï¼›æŒ‡å‘ä¸´æ—¶æ–‡ä»¶åçš„æŒ‡é’ˆï¼ˆéé™æ€ï¼‰ï¼šå¦‚æœæä¾›äº†æœ‰æ•ˆçš„å‚æ•°</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">tmpnam</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *)</span></span>;</span><br></pre></td></tr></table></figure>
<p><em>å‚æ•°ä¸ºNULL</em></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> *filename;</span><br><span class="line">filename = tmpnam(NULL); <span class="comment">// åˆ›å»ºä¸´æ—¶æ–‡ä»¶å</span></span><br></pre></td></tr></table></figure>
<p><em>å‚æ•°ä¸ºå­—ç¬¦æ•°ç»„</em></p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>tmpnamå‡½æ•°</code>ä¼šæŠŠå£°ç§°çš„ä¸´æ—¶æ–‡ä»¶åå¤åˆ¶åˆ°ç¨‹åºå‘˜æä¾›çš„å­—ç¬¦æ•°ç»„ä¸­ï¼Œè€Œä¸”ä»ç„¶ä¼šè¿”å›æŒ‡å‘ä¸´æ—¶æ–‡ä»¶åçš„æŒ‡é’ˆã€‚<br><strong>æ³¨æ„ï¼š</strong>ä½œä¸ºå‚æ•°çš„å­—ç¬¦æ•°ç»„é•¿åº¦è‡³å°‘ä¸º<code>L_tmpnam</code>,äº§ç”Ÿçš„ä¸´æ—¶æ–‡ä»¶åçš„æœ€å¤§æ•°é‡ä¸èƒ½è¶…è¿‡<code>TMP_MAX</code>ã€‚</p>
<ul>
<li><code>L_tmpnam</code>ï¼šåœ¨<code>stdio.h</code>ä¸­å®šä¹‰çš„ä¸€ä¸ªå®ï¼Œä¿å­˜ç€ä¸´æ—¶æ–‡ä»¶åçš„å­—ç¬¦æ•°ç»„çš„é•¿åº¦ã€‚</li>
<li><code>TMP_MAX</code>ï¼šåœ¨<code>stdio.h</code>ä¸­å®šä¹‰çš„ä¸€ä¸ªå®ï¼Œä¿å­˜ç€ç¨‹åºæ‰§è¡ŒæœŸé—´<code>tmpnamå‡½æ•°</code>äº§ç”Ÿçš„ä¸´æ—¶æ–‡ä»¶åçš„æœ€å¤§æ•°é‡ã€‚</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> filename[L_tmpnam];</span><br><span class="line">tmpnam(filename);</span><br></pre></td></tr></table></figure>
<h3 id="22-2-8-æ–‡ä»¶ç¼“å†²"><a href="#22-2-8-æ–‡ä»¶ç¼“å†²" class="headerlink" title="22.2.8    æ–‡ä»¶ç¼“å†²"></a>22.2.8    æ–‡ä»¶ç¼“å†²</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç¼“å†²å‘ç”Ÿåœ¨å±å¹•çš„åå°ï¼Œè€Œä¸”é€šå¸¸ä¸ç”¨æ‹…å¿ƒå®ƒçš„æ“ä½œã€‚ç„¶è€Œï¼Œæå°‘çš„æƒ…å†µä¸‹å¯èƒ½éœ€è¦æˆ‘ä»¬æ‰¿æ‹…æ›´ä¸»åŠ¨çš„ä½œç”¨ï¼Œéœ€è¦ä½¿ç”¨<code>fflushå‡½æ•°</code>ã€<code>setbufå‡½æ•°</code>å’Œ<code>setbufå‡½æ•°</code>ã€‚<br><strong>è¾“å…¥æµç¼“å­˜ï¼š</strong>ä»ç¡¬ç›˜æˆ–ç£ç›˜è¯»å–ï¼ŒåŒ…å«æ¥è‡ªè¾“å…¥è®¾å¤‡ï¼ˆé”®ç›˜æˆ–ç£ç›˜ï¼‰çš„æ•°æ®<br><strong>å†™å…¥ï¼ˆè¾“å‡ºï¼‰æµç¼“å­˜ï¼š</strong>å‘è¾“å‡ºè®¾å¤‡ï¼ˆå±å¹•æˆ–ç£ç›˜ï¼‰å†™å…¥ï¼ŒåŒ…å«æ¥è‡ª</p>
</blockquote>
<h4 id="fflushå‡½æ•°"><a href="#fflushå‡½æ•°" class="headerlink" title="fflushå‡½æ•°"></a>fflushå‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é’ˆå¯¹è¾“å‡ºï¼ˆå†™å…¥ï¼‰æµï¼ŒæŠŠç¼“å†²åŒºçš„å†…å®¹ä¼ é€’ç»™ç£ç›˜ï¼ˆå½“ç¼“å†²åŒºæ»¡äº†æˆ–è€…å…³é—­æ–‡ä»¶æ—¶ï¼Œç¼“å†²åŒºä¼šè‡ªåŠ¨â€œæ¸…æ´—â€ï¼‰<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* æŠŠç¼“å†²åŒºçš„å†…å®¹ä¼ é€’ç»™ç£ç›˜</span><br><span class="line">* å½“å‚æ•°ä¸ºNULLæ—¶ï¼Œâ€œæ¸…æ´—â€æ‰€æœ‰ç¼“å†²åŒºï¼›å¦åˆ™ï¼Œåªæ¸…æ´—å’Œå‚æ•°æŒ‡å‘çš„æ–‡ä»¶ç›¸å…³çš„ç¼“å†²åŒº</span><br><span class="line">*</span><br><span class="line">* @param &#123;FILE *&#125; stream æ–‡ä»¶æŒ‡é’ˆ</span><br><span class="line">* @return &#123;int&#125; 0ï¼šæˆåŠŸï¼›EOFï¼šå‘ç”Ÿé”™è¯¯</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fflush</span><span class="params">(FILE *stream)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fflush(fp); <span class="comment">// ä¸ºfpæŒ‡å‘çš„æ–‡ä»¶</span></span><br><span class="line">fflush(<span class="literal">NULL</span>); <span class="comment">// æ¸…æ´—å…¨éƒ¨è¾“å‡ºæµ</span></span><br></pre></td></tr></table></figure>
<h4 id="setvbufå‡½æ•°"><a href="#setvbufå‡½æ•°" class="headerlink" title="setvbufå‡½æ•°"></a>setvbufå‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ”¹å˜ç¼“å†²æµçš„æ–¹å¼ï¼Œæ§åˆ¶ç¼“å†²åŒºçš„å¤§å°å’Œä½ç½®<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;FILE *&#125; stream æ–‡ä»¶æŒ‡é’ˆ</span><br><span class="line">* @param &#123;char *&#125; buf æœŸæœ›ç¼“å†²åŒºçš„åœ°å€</span><br><span class="line">* @param &#123;int&#125; æœŸæœ›ç¼“å†²åŒºçš„ç±»å‹&#123;_IOFBF|_IOLBF|IONBF&#125;</span><br><span class="line">* @param &#123;size_t&#125; ç¼“å†²åŒºå†…å­—èŠ‚çš„æ•°é‡</span><br><span class="line">* @return &#123;int&#125; 0ï¼šæˆåŠŸï¼›éé›¶ï¼šè¦æ±‚çš„ç¼“å†²åŒºæ¨¡å¼æ— æ•ˆæˆ–æ— æ³•æä¾›</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">setvbuf</span><span class="params">(FILE *stream, <span class="keyword">char</span> *buf, <span class="keyword">int</span> mode, size_t size)</span></span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>å‚æ•°è¦ç‚¹ï¼š</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>ç¬¬Nä¸ªå‚æ•°</th>
<th>å«ä¹‰</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>2</td>
<td>ç¼“å†²åŒºçš„åœ°å€</td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>ç¼“å†²åŒºçš„ç±»å‹</td>
<td>å€¼ä¸ºå®šä¹‰åœ¨<code>stdio.h</code>ä¸­çš„å®</td>
</tr>
<tr>
<td>4</td>
<td>ç¼“å†²åŒºçš„å¤§å°</td>
<td>è¾ƒå¤§çš„ç¼“å†²åŒºå¯ä»¥æä¾›æ›´å¥½çš„æ€§èƒ½ï¼Œè€Œè¾ƒå°çš„ç¼“å†²åŒºå¯ä»¥èŠ‚çº¦æ—¶é—´ã€‚</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>ç¼“å†²åŒºçš„ç±»å‹ï¼ˆå®ï¼‰</th>
<th>åå­—</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>_IOFBF</td>
<td>æ»¡ç¼“å†²</td>
<td>å½“ç¼“å†²åŒºä¸ºç©ºæ—¶ï¼Œä»æµè¯»å…¥æ•°æ®ï¼›æ´»ç€å½“ç¼“å†²åŒºæ»¡æ—¶ï¼Œå‘æµå†™å…¥æ•°æ®</td>
</tr>
<tr>
<td>_IONLF</td>
<td>è¡Œç¼“å†²</td>
<td>æ¯æ¬¡ä»æµè¯»å…¥æ•°æ®æ´»ç€ç›´æ¥å‘æµå†™å…¥æ•°æ®</td>
</tr>
<tr>
<td>_IOLBF</td>
<td>æ— ç¼“å†²</td>
<td>æ¯æ¬¡ä»æµè¯»å…¥æ•°æ®æ´»ç€ç›´æ¥å‘æµå¸ä¹³æ•°æ®ï¼Œè€Œæ²¡æœ‰ç¼“å†²åŒº</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>ç¼“å†²åŒºçš„å­˜å‚¨ç‰¹ç‚¹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>é™æ€å­˜å‚¨æœŸé™</td>
<td>å­˜åœ¨äºç¨‹åºè¿è¡Œçš„æ•´ä¸ªè¿‡ç¨‹ä¸­</td>
</tr>
<tr>
<td>è‡ªåŠ¨å­˜å‚¨æœŸé™</td>
<td>å…è®¸åœ¨å®ƒçš„ç©ºé—´åœ¨å—é€€å‡ºæ—¶è¢«è‡ªåŠ¨é‡å£°æ˜ï¼ˆ?ï¼‰</td>
</tr>
<tr>
<td>åŠ¨æ€åˆ†é…</td>
<td>åœ¨ä¸éœ€è¦æ—¶å¯ä»¥é‡Šæ”¾ç¼“å†²åŒº</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>é™åˆ¶ï¼š</strong>å¿…éœ€åœ¨æ‰“å¼€streamä¹‹åï¼Œåœ¨streamä¸Šæ‰§è¡Œä»»ä½•æ“ä½œä¹‹å‰è°ƒç”¨<code>setvbuf</code>ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.åˆ›å»ºç¼“å†²åŒº</span></span><br><span class="line"><span class="keyword">char</span> buffer[N];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.å¯¹ç¼“å†²åŒºè¿›è¡Œè®¾ç½®ï¼ˆå¿…éœ€åœ¨æ‰“å¼€streamä¹‹åï¼Œåœ¨streamä¸Šæ‰§è¡Œä»»ä½•æ“ä½œä¹‹å‰è°ƒç”¨setvbufï¼‰</span></span><br><span class="line">setvbuf(stream, buffer, _IOFBF, N);</span><br></pre></td></tr></table></figure>
<h3 id="22-2-9-å…¶ä»–æ–‡ä»¶æ“ä½œ"><a href="#22-2-9-å…¶ä»–æ–‡ä»¶æ“ä½œ" class="headerlink" title="22.2.9    å…¶ä»–æ–‡ä»¶æ“ä½œ"></a>22.2.9    å…¶ä»–æ–‡ä»¶æ“ä½œ</h3><h4 id="removeå‡½æ•°"><a href="#removeå‡½æ•°" class="headerlink" title="removeå‡½æ•°"></a>removeå‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ ¹æ®æ–‡ä»¶ååˆ é™¤æ–‡ä»¶<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; filename æ–‡ä»¶å</span><br><span class="line">* @return &#123;int&#125; 0ï¼šæˆåŠŸï¼›é0ï¼šå¤±è´¥</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">remove</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *filename)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">remove(<span class="string">"foo"</span>); <span class="comment">// åˆ é™¤åä¸ºfooçš„æ–‡ä»¶</span></span><br></pre></td></tr></table></figure>
<h4 id="renameå‡½æ•°"><a href="#renameå‡½æ•°" class="headerlink" title="renameå‡½æ•°"></a>renameå‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ–‡ä»¶é‡å‘½å<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; old æ—§æ–‡ä»¶å</span><br><span class="line">* @param &#123;char *&#125; new æ–°æ–‡ä»¶å</span><br><span class="line">* @return &#123;int&#125; 0ï¼šæˆåŠŸï¼›é0ï¼šå¤±è´¥</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">rename</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *old, <span class="keyword">const</span> <span class="keyword">char</span> *new)</span></span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>é™åˆ¶ï¼š</strong>ä¸€å®šè¦ç¡®ä¿åœ¨è°ƒç”¨<code>renameå‡½æ•°</code>ä¹‹å‰æ–‡ä»¶æ˜¯å…³é—­çš„ï¼Œå¦åˆ™æ— æ³•å¯¹æ–‡ä»¶é‡å‘½åã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename(<span class="string">"foo"</span>, <span class="string">"bar"</span>);</span><br></pre></td></tr></table></figure>
<h2 id="22-3-æ ¼å¼åŒ–çš„è¾“å…¥ï¼è¾“å‡º"><a href="#22-3-æ ¼å¼åŒ–çš„è¾“å…¥ï¼è¾“å‡º" class="headerlink" title="22.3    æ ¼å¼åŒ–çš„è¾“å…¥ï¼è¾“å‡º"></a>22.3    æ ¼å¼åŒ–çš„è¾“å…¥ï¼è¾“å‡º</h2><h3 id="22-3-1-â€¦printfç±»å‡½æ•°"><a href="#22-3-1-â€¦printfç±»å‡½æ•°" class="headerlink" title="22.3.1    â€¦printfç±»å‡½æ•°"></a>22.3.1    â€¦printfç±»å‡½æ•°</h3><h4 id="printfå‡½æ•°"><a href="#printfå‡½æ•°" class="headerlink" title="printfå‡½æ•°"></a>printfå‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å‘<code>stdout</code>è¾“å‡ºï¼Œåˆ©ç”¨æ ¼å¼ä¸²æ§åˆ¶è¾“å‡ºçš„å½¢å¼<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; format æ ¼å¼ä¸²</span><br><span class="line">* @param &#123;...*&#125; å¯¹åº”æ ¼å¼ä¸²ä¸­çš„è½¬æ¢è¯´æ˜çš„å‚æ•°</span><br><span class="line">* @return &#123;int&#125; å†™å…¥çš„å­—ç¬¦æ•°ï¼šæˆåŠŸï¼›è´Ÿå€¼ï¼šå†™å…¥å‡ºé”™</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">printf</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *format, ...)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">"Total: %d\n"</span>, total);</span><br></pre></td></tr></table></figure>
<h4 id="fprintfå‡½æ•°"><a href="#fprintfå‡½æ•°" class="headerlink" title="fprintfå‡½æ•°"></a>fprintfå‡½æ•°</h4><hr>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å’Œ<code>printfå‡½æ•°</code>å”¯ä¸€çš„ä¸åŒå°±æ˜¯ï¼Œ<code>printfå‡½æ•°</code>å§‹ç»ˆå‘æ ‡å‡†è¾“å‡ºæµ<code>stdout</code>å‘ä¸­å†™å…¥ï¼Œè€Œ<code>fprintfå‡½æ•°</code>åˆ™å‘ç¬¬ä¸€ä¸ªå‚æ•°è¯´æ˜çš„æµï¼ˆä»»ä½•è¾“å‡ºæµï¼‰ä¸­å†™è¾“å‡ºã€‚<br><strong>åº”ç”¨ï¼š</strong>å‘æ ‡å‡†é”™è¯¯<code>stderr</code>å†™å‡ºé”™ä¿¡æ¯ã€‚<br><strong>æ‰©å±•ï¼š</strong><code>stdio.h</code>ä¸­è¿˜æœ‰å…¶ä»–ä¸¤ç§å‡½æ•°ä¹Ÿå¯ä»¥å‘æµå†™å…¥æ ¼å¼åŒ–çš„è¾“å‡ºï¼Œåˆ†åˆ«æ˜¯<code>vfprintfå‡½æ•°</code>å’Œ<code>vprintfå‡½æ•°</code>,è€Œä¸”å®ƒä»¬éƒ½è¿˜ä¾èµ–<code>stdarg.h</code>(<a href="">26.1</a>)ã€‚<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;FILE *&#125; stream æ–‡ä»¶æŒ‡é’ˆ</span><br><span class="line">* @param &#123;char *&#125; format æ ¼å¼ä¸²</span><br><span class="line">* @param &#123;...*&#125; å¯¹åº”æ ¼å¼ä¸²ä¸­çš„è½¬æ¢è¯´æ˜çš„å‚æ•°</span><br><span class="line">* @return &#123;int&#125; å†™å…¥çš„å­—ç¬¦æ•°ï¼šæˆåŠŸï¼›è´Ÿå€¼ï¼šå†™å…¥å‡ºé”™</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fprintf</span><span class="params">(FILE *stream, <span class="keyword">const</span> <span class="keyword">char</span> *format, ...)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‘ç£ç›˜ä¸­å†™å…¥</span></span><br><span class="line"><span class="built_in">fprintf</span>(fp, <span class="string">"Total:%d\n"</span>, total);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘stderrä¸­å†™å…¥</span></span><br><span class="line"><span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">"Error: data file can't be opened.\n"</span>)</span><br></pre></td></tr></table></figure>
<h3 id="22-3-2-â€¦printfç±»å‡½æ•°çš„è½¬æ¢è¯´æ˜"><a href="#22-3-2-â€¦printfç±»å‡½æ•°çš„è½¬æ¢è¯´æ˜" class="headerlink" title="22.3.2    â€¦printfç±»å‡½æ•°çš„è½¬æ¢è¯´æ˜"></a>22.3.2    â€¦printfç±»å‡½æ•°çš„è½¬æ¢è¯´æ˜</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯¹å·²çŸ¥çš„è½¬æ¢è¯´æ˜å†…å®¹è¿›è¡Œå›é¡¾ï¼Œå¹¶æŠŠå‰©ä½™çš„å†…å®¹è¡¥å……å®Œæ•´ã€‚<br><strong>æ³¨æ„ï¼š</strong>æ ¼å¼ä¸²å¿…éœ€éµå®ˆè§„åˆ™ç¼–å†™ï¼Œè®¸å¤šçœ‹ä¼¼å¯èƒ½çš„è½¬æ¢è¯´æ˜ï¼ˆ<code>%leã€%lfã€%lg</code>ç­‰ï¼‰å®é™…ä¸Šæ˜¯æ— æ•ˆçš„ã€‚</p>
</blockquote>
<h4 id="è½¬æ¢è¯´æ˜ï¼š-012-5Lg"><a href="#è½¬æ¢è¯´æ˜ï¼š-012-5Lg" class="headerlink" title="è½¬æ¢è¯´æ˜ï¼š%# 012.5Lg"></a><strong>è½¬æ¢è¯´æ˜ï¼š</strong><code>%# 012.5Lg</code></h4><table>
<thead>
<tr>
<th>%</th>
<th># 0</th>
<th>12</th>
<th>.5</th>
<th>L</th>
<th>g</th>
</tr>
</thead>
<tbody>
<tr>
<td>è½¬æ¢è¯´æ˜æç¤ºç¬¦</td>
<td>âŠæ ‡å¿—</td>
<td>â‹æœ€å°å­—æ®µå®½åº¦</td>
<td>âŒç²¾åº¦</td>
<td>âé•¿åº¦ä¿®é¥°ç¬¦</td>
<td>âè½¬æ¢è¯´æ˜ç¬¦</td>
</tr>
<tr>
<td>å¿…éœ€</td>
<td>å¯é€‰ï¼ˆå¯å¤šäºä¸€ä¸ªï¼‰</td>
<td>å¯é€‰</td>
<td>å¯é€‰</td>
<td>å¯é€‰</td>
<td>å¿…éœ€</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>è½¬æ¢è¯´æ˜æç¤ºç¬¦ï¼š</strong>æ ‡è®°æ ¼å¼ä¸²çš„å¼€å§‹<br><strong>âŠæ ‡å¿—ï¼š</strong>è®¾ç½®å¯¹é½æ–¹å¼ã€å‰ç¼€ã€è¿›åˆ¶ã€å¡«å……</p>
</blockquote>
<table>
<thead>
<tr>
<th>æ ‡å¿—</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-</code></td>
<td>å·¦å¯¹é½</td>
</tr>
<tr>
<td><code>+</code></td>
<td>ç”¨<code>+</code>ä½œä¸ºæ­£æ•°çš„å‰ç¼€</td>
</tr>
<tr>
<td><code>ç©ºæ ¼</code></td>
<td>ç”¨<code>ç©ºæ ¼</code>ä½œä¸ºæ­£æ•°çš„å‰ç¼€</td>
</tr>
<tr>
<td><code># 0</code>ã€<code># 0x(X)</code></td>
<td><code># 0</code>ï¼ˆ8è¿›åˆ¶ï¼‰ã€<code># 0x(X)</code>(16è¿›åˆ¶)ï¼Œè½¬æ¢è¯´æ˜<code>g(G)</code>è½¬æ¢å‡ºçš„å°¾éƒ¨0ä¸èƒ½åˆ é™¤</td>
</tr>
<tr>
<td><code>0</code></td>
<td>é™¤éè½¬æ¢è¯´æ˜ä¸º<code>dã€iã€oã€uã€x(X)</code>ä¸”åˆ¶å®šäº†ç²¾åº¦ï¼Œå¦åˆ™ç”¨å‰å¯¼0åœ¨å­—æ®µå®½åº¦å†…è¿›è¡Œå¡«å……</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>â‹æœ€å°å­—æ®µå®½åº¦ï¼š</strong>å€¼ä¸º<code>æœ‰æ•ˆæ•´æ•°</code>æˆ–<code>*</code></p>
<ul>
<li><code>æœ‰æ•ˆæ•´æ•°</code>ï¼š**å­—ç¬¦æ•°å°‘äºæœ€å°å­—æ®µå®½åº¦æ—¶å¯¹å­—ç¬¦å¡«å……ï¼Œé»˜è®¤å³å¯¹é½ï¼ˆåœ¨å·¦ä¾§å¡«å……<code>ç©ºæ ¼</code>ï¼‰ï¼›å¤§äºæœ€å°å­—æ®µå®½åº¦åˆ™å®Œæ•´æ˜¾ç¤ºã€‚</li>
<li><code>*</code>ï¼šæ ¼å¼ä¸²ä¸­çš„nä¸ª<code>*</code>å¯¹åº”<code>å‚æ•°2</code>~<code>å‚æ•°n-1</code>ï¼Œå¯ä»¥æ˜¯å®</li>
</ul>
<p><strong>âŒç²¾åº¦ï¼š</strong>å€¼ä¸º<code>.æ•´æ•°</code>æˆ–<code>.*</code>(ç²¾åº¦çš„å«ä¹‰å³ä¾èµ–äºè½¬æ¢è¯´æ˜ç¬¦ï¼Œä¹Ÿä¾èµ–äºè‡ªèº«çš„å€¼)</p>
</blockquote>
<table>
<thead>
<tr>
<th>è¯´æ˜ç¬¦</th>
<th>ç²¾åº¦å€¼ï¼š<code>.æ•´æ•°</code></th>
<th>ç²¾åº¦å€¼ï¼š<code>.*</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dã€iã€oã€uã€x(X)</code></td>
<td>æœ€å°æ•°å­—ä½æ•°ï¼ˆå¦‚æœæ•°å­—ä½æ•°å°‘äºç²¾åº¦å€¼ï¼Œåˆ™æ·»åŠ å‰å¯¼0ï¼‰</td>
<td>åŒ<code>æœ€å°å­—æ®µå®½åº¦</code>â·ä¸­<code>*</code>çš„å«ä¹‰</td>
</tr>
<tr>
<td><code>e(E)ã€f</code></td>
<td>å°æ•°ç‚¹åçš„æ•°å­—ä½æ•°</td>
<td>ï¼ˆåŒä¸Šï¼‰</td>
</tr>
<tr>
<td><code>g(G)</code></td>
<td>æœ€å¤§æœ‰æ•ˆæ•°å­—ä½</td>
<td>ï¼ˆåŒä¸Šï¼‰</td>
</tr>
<tr>
<td><code>s</code></td>
<td>æœ€å¤§å­—ç¬¦æ•°</td>
<td>ï¼ˆåŒä¸Šï¼‰</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>âé•¿åº¦ä¿®é¥°ç¬¦ï¼š</strong>å…±3ä¸ªï¼Œåªèƒ½å’Œä¸€äº›è½¬æ¢è¯´æ˜ç¬¦æ­é…</p>
</blockquote>
<table>
<thead>
<tr>
<th>é•¿åº¦ä¿®é¥°ç¬¦</th>
<th>è½¬æ¢è¯´æ˜</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>h</code></td>
<td>æ•´æ•°ï¼ˆ<code>dã€iã€oã€uã€x(X)ã€n</code>ï¼‰</td>
<td>short int</td>
</tr>
<tr>
<td><code>l(L)</code></td>
<td>æ•´æ•°ï¼ˆ<code>dã€iã€oã€uã€x(X)ã€n</code>ï¼‰</td>
<td>long int</td>
</tr>
<tr>
<td><code>l(L)</code></td>
<td><code>e(E)ã€fã€g(G)</code></td>
<td>long double</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>âè½¬æ¢è¯´æ˜ç¬¦ï¼š</strong>å½“å¯¹å¸¦æœ‰å¯å˜å®å‚çš„å‡½æ•°ï¼ˆæ¯”å¦‚<code>printf</code>ï¼‰ä¼ å‚æ—¶ï¼Œä¼šå‘ç”Ÿé»˜è®¤çš„å®é™…å‚æ•°çš„æå‡ã€‚<code>float</code>ä¼šè½¬æ¢ä¸º<code>double</code>ï¼Œ<code>char</code>ä¼šè½¬æ¢ä¸º<code>int</code>ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>è½¬æ¢è¯´æ˜ç¬¦</th>
<th>å¯¹åº”å®å‚ç±»å‹</th>
<th>æ ¼å¼åŒ–åçš„å½¢å¼</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dã€i</code></td>
<td>signed int</td>
<td>åè¿›åˆ¶å½¢å¼</td>
</tr>
<tr>
<td><code>oã€uã€x(X)</code></td>
<td>unsigned int</td>
<td><code>o</code>(8è¿›åˆ¶)ã€<code>u</code>(10è¿›åˆ¶)ã€<code>x</code>(16è¿›åˆ¶ï¼Œa-fæ¥æ˜¾ç¤º)ã€<code>X</code>(16è¿›åˆ¶ï¼ŒA-Fæ¥æ˜¾ç¤º)</td>
</tr>
<tr>
<td><code>f</code></td>
<td>double</td>
<td>åè¿›åˆ¶å½¢å¼ï¼ˆé»˜è®¤çš„ç²¾åº¦ä¸ºå°æ•°ç‚¹åæ˜¾ç¤º6ä½ï¼‰</td>
</tr>
<tr>
<td><code>e(E)</code></td>
<td>double</td>
<td>ç§‘å­¦è®¡æ•°æ³•è¡¨ç¤ºçš„doubleï¼Œé»˜è®¤ç²¾åº¦ä¸ºå°æ•°ç‚¹åæ˜¾ç¤º6ä½ï¼ˆ<code>e</code>è¡¨ç¤ºæŒ‡æ•°å‰ä¸ºeï¼Œ<code>E</code>è¡¨ç¤ºæŒ‡æ•°å‰ä¸ºE)</td>
</tr>
<tr>
<td><code>g(G)</code></td>
<td>double</td>
<td><code>-4 &gt;= æŒ‡æ•°éƒ¨åˆ† &lt; ç²¾åº¦å€¼</code>åˆ™ç›¸å½“äº<code>e</code>ï¼ˆå¯¹åº”<code>g</code>ï¼‰æˆ–è€…<code>E</code>ï¼ˆå¯¹åº”<code>G</code>ï¼‰ï¼›å¦åˆ™ç›¸å½“äº<code>f</code></td>
</tr>
<tr>
<td><code>c</code></td>
<td>unsigned int</td>
<td>æ— ç¬¦å·æ•´æ•°</td>
</tr>
<tr>
<td><code>s</code></td>
<td>æŒ‡å‘å­—ç¬¦ä¸²çš„æŒ‡é’ˆ</td>
<td>æŒ‰ç…§<code>void *</code>å‹æ˜¾ç¤ºï¼Œè¾¾åˆ°ç²¾åº¦å€¼ï¼ˆå¦‚æœå­˜åœ¨ï¼‰æˆ–ç©ºå­—ç¬¦(<code>\0</code>)æ—¶åœæ­¢å†™æ“ä½œ</td>
</tr>
<tr>
<td><code>p</code></td>
<td>*</td>
<td>è½¬åŒ–ä¸ºå¯æ˜¾ç¤ºæ ¼å¼çš„<code>void *</code>å‹å€¼</td>
</tr>
<tr>
<td><code>n</code></td>
<td><code>int *</code>(æŒ‡å‘intå‹æ•°çš„æŒ‡é’ˆ)</td>
<td><code>...printfç±»å‡½æ•°</code>è¿”å›å€¼ï¼ˆä¸ä¼šè¾“å‡ºåˆ°å±å¹•ï¼Œè€Œæ˜¯å­˜å‚¨åˆ°æ‰€æŒ‡å‘çš„intå‹æ•°ä¸­ï¼‰</td>
</tr>
<tr>
<td><code>%</code></td>
<td>æ— å¯¹åº”å‚æ•°</td>
<td>å­—ç¬¦ä¸²â€%â€</td>
</tr>
</tbody>
</table>
<h3 id="22-3-3-â€¦printfç±»å‡½æ•°çš„è½¬æ¢è¯´æ˜ç¤ºä¾‹"><a href="#22-3-3-â€¦printfç±»å‡½æ•°çš„è½¬æ¢è¯´æ˜ç¤ºä¾‹" class="headerlink" title="22.3.3    â€¦printfç±»å‡½æ•°çš„è½¬æ¢è¯´æ˜ç¤ºä¾‹"></a>22.3.3    â€¦printfç±»å‡½æ•°çš„è½¬æ¢è¯´æ˜ç¤ºä¾‹</h3><h4 id="æ ‡å¿—âŠ"><a href="#æ ‡å¿—âŠ" class="headerlink" title="æ ‡å¿—âŠ"></a>æ ‡å¿—âŠ</h4><p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-10-05%20%E4%B8%8B%E5%8D%8811.04.07.png" alt="Alt text"><br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-10-05%20%E4%B8%8B%E5%8D%8811.04.22.png" alt="Alt text"></p>
<h4 id="æœ€å°å­—æ®µå®½åº¦â‹-ç²¾åº¦âŒ"><a href="#æœ€å°å­—æ®µå®½åº¦â‹-ç²¾åº¦âŒ" class="headerlink" title="æœ€å°å­—æ®µå®½åº¦â‹ + ç²¾åº¦âŒ"></a>æœ€å°å­—æ®µå®½åº¦â‹ + ç²¾åº¦âŒ</h4><p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-10-05%20%E4%B8%8B%E5%8D%8811.04.29.png" alt="Alt text"></p>
<h4 id="è½¬æ¢è¯´æ˜â"><a href="#è½¬æ¢è¯´æ˜â" class="headerlink" title="è½¬æ¢è¯´æ˜â"></a>è½¬æ¢è¯´æ˜â</h4><p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-10-05%20%E4%B8%8B%E5%8D%8811.08.42.png" alt="Alt text"><br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-10-05%20%E4%B8%8B%E5%8D%8811.04.45.png" alt="Alt text"></p>
<h4 id="æœ€å°å­—ç¬¦å®½åº¦â·å’Œç²¾åº¦â¸ä¸­"><a href="#æœ€å°å­—ç¬¦å®½åº¦â·å’Œç²¾åº¦â¸ä¸­" class="headerlink" title="æœ€å°å­—ç¬¦å®½åº¦â·å’Œç²¾åº¦â¸ä¸­*"></a>æœ€å°å­—ç¬¦å®½åº¦â·å’Œç²¾åº¦â¸ä¸­*</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æœ€å°å­—ç¬¦å®½åº¦â·å’Œç²¾åº¦â¸ä¸­*çš„ç”¨æ³•ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">int</span> i = <span class="number">12345</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%6.4d"</span>, i); <span class="comment">// ..1234</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%*.4d"</span>, <span class="number">6</span>, i); <span class="comment">// ..1234</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%6.*d"</span>, <span class="number">4</span>, i); <span class="comment">// ..1234</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%*.*d"</span>, <span class="number">6</span>, <span class="number">4</span>, i); <span class="comment">// ..1234</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%*.*d"</span>, WIDTH, I, i); <span class="comment">// ..1234</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%*.*d"</span>, page_width/num_cols, I, i); <span class="comment">// ..1234</span></span><br></pre></td></tr></table></figure>
<h4 id="è½¬æ¢è¯´æ˜på’Œn"><a href="#è½¬æ¢è¯´æ˜på’Œn" class="headerlink" title="è½¬æ¢è¯´æ˜på’Œn"></a>è½¬æ¢è¯´æ˜<code>p</code>å’Œ<code>n</code></h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// p</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%p\n"</span>, (void *)ptr); <span class="comment">// æ˜¾ç¤ºæŒ‡é’ˆptrçš„å€¼ï¼ˆå¯èƒ½ä¼šä»¥8è¿›åˆ¶æˆ–16è¿›åˆ¶å½¢å¼æ˜¾ç¤ºï¼‰</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// n</span></span><br><span class="line"><span class="keyword">int</span> len;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d%n"</span>, <span class="number">123</span>, &amp;len); <span class="comment">// å°†printfå‡½æ•°æ˜¾ç¤ºçš„å­—ç¬¦æ•°å­˜å‚¨åˆ°len</span></span><br></pre></td></tr></table></figure>
<h3 id="22-3-4-â€¦scanfç±»å‡½æ•°"><a href="#22-3-4-â€¦scanfç±»å‡½æ•°" class="headerlink" title="22.3.4    â€¦scanfç±»å‡½æ•°"></a>22.3.4    â€¦scanfç±»å‡½æ•°</h3><h4 id="scanfå‡½æ•°"><a href="#scanfå‡½æ•°" class="headerlink" title="scanfå‡½æ•°"></a>scanfå‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä»<code>stdin</code>ï¼ˆé”®ç›˜ï¼‰è¯»å…¥å†…å®¹ï¼Œæ ¹æ®æ ¼å¼ä¸²ä¸­çš„è½¬æ¢è¯´æ˜è¿›è¡Œè½¬æ¢å¹¶å­˜å‚¨åœ¨æŒ‡é’ˆæŒ‡å®šçš„ä½ç½®ä¸Šã€‚<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code><br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">/**</span><br><span class="line">&gt;* @param &#123;char *&#125; format æ ¼å¼ä¸²</span><br><span class="line">&gt;* @param &#123;...*&#125; åŒ¹é…å¹¶è½¬æ¢åçš„å†…å®¹å¯¹åº”çš„å­˜å‚¨ä½ç½®</span><br><span class="line">&gt;* return &#123;int&#125; è¯»å…¥å¹¶èµ‹å€¼ç»™å®å‚çš„æ•°æ®é¡¹æ•°é‡ï¼šæˆåŠŸï¼›EOFï¼šå¤±è´¥</span><br><span class="line">&gt;*/</span></span><br><span class="line">&gt;<span class="function"><span class="keyword">int</span> <span class="title">scanf</span><span class="params">(<span class="keyword">const</span> chat *format, ...)</span></span>;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¾ªç¯è¯»å–ä¸€ä¸²æ•´æ•°ï¼Œåœ¨é¦–ä¸ª"?"å¤„åœæ­¢</span></span><br><span class="line"><span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;I) == <span class="number">1</span>) &#123;</span><br><span class="line">	<span class="comment">// </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="fscanfå‡½æ•°"><a href="#fscanfå‡½æ•°" class="headerlink" title="fscanfå‡½æ•°"></a>fscanfå‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>scanfå‡½æ•°</code>ä»<code>stdin</code>è¯»å…¥æ•°æ®ï¼Œè€Œ<code>fscanfå‡½æ•°</code>åˆ™ä»å®ƒè‡ªå·±çš„ç¬¬ä¸€ä¸ªå®å‚æ‰€æŒ‡å®šçš„æµä¸­å¦‡å­ºå†…å®¹ã€‚<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;FILE *&#125; æŒ‡å®šçš„æµ</span><br><span class="line">* @param &#123;char *&#125; format æ ¼å¼ä¸²</span><br><span class="line">* @return &#123;int&#125; è¯»å…¥å¹¶èµ‹å€¼ç»™å®å‚çš„æ•°æ®é¡¹æ•°é‡ï¼šæˆåŠŸï¼›EOFï¼šå¤±è´¥</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">scanf</span><span class="params">(FILE *stream, <span class="keyword">const</span> <span class="keyword">char</span> *format, ...)</span></span>;</span><br></pre></td></tr></table></figure>
<h3 id="22-3-5-â€¦scanfç±»å‡½æ•°çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²"><a href="#22-3-5-â€¦scanfç±»å‡½æ•°çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²" class="headerlink" title="22.3.5    â€¦scanfç±»å‡½æ•°çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²"></a>22.3.5    â€¦scanfç±»å‡½æ•°çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²</h3><table>
<thead>
<tr>
<th>æ¯”è¾ƒ</th>
<th><code>...printfç±»å‡½æ•°</code></th>
<th><code>...scanfç±»å‡½æ•°</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>æ ¼å¼ä¸²çš„ä½œç”¨</td>
<td>è½¬æ¢æ•°æ®å½¢å¼å¹¶æ‹¼æ¥</td>
<td>æ¨¡å¼åŒ¹é…å’Œæ•°æ®ç±»å‹è½¬æ¢</td>
</tr>
<tr>
<td>æ•°æ®æº</td>
<td>æŒ‡å®šçš„å®å‚ï¼ˆä¸å®šå‚æ•°éƒ¨åˆ†ï¼‰çš„å€¼</td>
<td><code>stdin</code>ï¼ˆé”®ç›˜è¾“å…¥ï¼‰</td>
</tr>
<tr>
<td>æ•°æ®æºç±»å‹</td>
<td>å¤šç§ç±»å‹</td>
<td>å­—ç¬¦</td>
</tr>
</tbody>
</table>
<h4 id="æ ¼å¼ä¸²"><a href="#æ ¼å¼ä¸²" class="headerlink" title="æ ¼å¼ä¸²"></a>æ ¼å¼ä¸²</h4><blockquote>
<p><strong>ä¾‹å­ï¼š</strong><code>ISBN %d-%d-%ld-%d</code></p>
</blockquote>
<table>
<thead>
<tr>
<th>ISBN</th>
<th>ç©ºæ ¼</th>
<th>%d</th>
<th>-</th>
<th>%d</th>
<th>-</th>
<th>%ld</th>
<th>-</th>
<th>%d</th>
</tr>
</thead>
<tbody>
<tr>
<td>ISBN</td>
<td>ç©ºç™½å­—ç¬¦ï¼ˆ0æˆ–å¤šä¸ªï¼‰</td>
<td>ä¸€ä¸ªæ•´æ•°</td>
<td>-</td>
<td>ä¸€ä¸ªæ•´æ•°</td>
<td>-</td>
<td>ä¸€ä¸ªé•¿æ•´æ•°</td>
<td>-</td>
<td>ä¸€ä¸ªæ•´æ•°</td>
</tr>
<tr>
<td></td>
<td></td>
<td>å…è®¸æ•´æ•°å‰å­˜åœ¨ç©ºç™½å­—ç¬¦</td>
<td></td>
<td>å…è®¸æ•´æ•°å‰å­˜åœ¨ç©ºç™½å­—ç¬¦</td>
<td></td>
<td>å…è®¸æ•´æ•°å‰å­˜åœ¨ç©ºç™½å­—ç¬¦</td>
<td></td>
<td>å…è®¸æ•´æ•°å‰å­˜åœ¨ç©ºç™½å­—ç¬¦</td>
</tr>
</tbody>
</table>
<h5 id="è½¬æ¢è¯´æ˜"><a href="#è½¬æ¢è¯´æ˜" class="headerlink" title="è½¬æ¢è¯´æ˜"></a>è½¬æ¢è¯´æ˜</h5><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç±»ä¼¼<code>...printfå‡½æ•°</code>æ ¼å¼ä¸²ä¸­ä¸­çš„è½¬æ¢è¯´æ˜ã€‚<br><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>å¤§å¤šæ•°è½¬æ¢è¯´æ˜ä¼šåœ¨è¾“å…¥é¡¹çš„å¼€å§‹å‡ºè·³è¿‡ç©ºç™½å­—ç¬¦ï¼ˆ<code>%[ã€%cã€%n</code>é™¤å¤–ï¼‰</li>
<li>è½¬æ¢è¯´æ˜ä»æ¥ä¸å›è·³è¿‡å°¾éƒ¨çš„ç©ºç™½å­—ç¬¦ï¼ˆé‡åˆ°æ¢è¡Œç¬¦æ—¶ï¼Œä¸ä¼šè¯»åŒºä¹‹å¹¶åœæ­¢åŒ¹é…è¿”å›ï¼‰</li>
</ul>
</blockquote>
<h5 id="ç©ºç™½å­—ç¬¦"><a href="#ç©ºç™½å­—ç¬¦" class="headerlink" title="ç©ºç™½å­—ç¬¦"></a>ç©ºç™½å­—ç¬¦</h5><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ ¼å¼ä¸²ä¸­çš„ä¸€ä¸ªï¼ˆæˆ–å¤šä¸ªï¼‰ç©ºç™½å­—ç¬¦åŒ¹é…0ä¸ªæˆ–å¤šä¸ªè¾“å…¥æµä¸­çš„ç©ºç™½å­—ç¬¦ã€‚</p>
</blockquote>
<h5 id="éç©ºç™½å­—ç¬¦"><a href="#éç©ºç™½å­—ç¬¦" class="headerlink" title="éç©ºç™½å­—ç¬¦"></a>éç©ºç™½å­—ç¬¦</h5><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>éç©ºç™½å­—ç¬¦å’Œè¾“å…¥æµä¸­ç›¸åŒå­—ç¬¦è¿›è¡ŒåŒ¹é…ï¼ˆ<code>%</code>é™¤å¤–ï¼‰</p>
</blockquote>
<h3 id="22-3-6-â€¦scanfç±»å‡½æ•°çš„è½¬æ¢è¯´æ˜"><a href="#22-3-6-â€¦scanfç±»å‡½æ•°çš„è½¬æ¢è¯´æ˜" class="headerlink" title="22.3.6    â€¦scanfç±»å‡½æ•°çš„è½¬æ¢è¯´æ˜"></a>22.3.6    â€¦scanfç±»å‡½æ•°çš„è½¬æ¢è¯´æ˜</h3><h4 id="è½¬æ¢è¯´æ˜ï¼š-12Ld"><a href="#è½¬æ¢è¯´æ˜ï¼š-12Ld" class="headerlink" title="è½¬æ¢è¯´æ˜ï¼š%*12Ld"></a><strong>è½¬æ¢è¯´æ˜ï¼š</strong><code>%*12Ld</code></h4><table>
<thead>
<tr>
<th>%</th>
<th>ï¼Š</th>
<th>12</th>
<th>L</th>
<th>d</th>
</tr>
</thead>
<tbody>
<tr>
<td>è½¬æ¢è¯´æ˜æç¤ºç¬¦</td>
<td>âŠèµ‹å€¼å±è”½</td>
<td>â‹æœ€å°å­—æ®µå®½åº¦</td>
<td>âŒé•¿åº¦ä¿®é¥°ç¬¦</td>
<td>â¹è½¬æ¢è¯´æ˜ç¬¦</td>
</tr>
<tr>
<td>å¿…éœ€</td>
<td>å¯é€‰</td>
<td>å¯é€‰</td>
<td>å¯é€‰</td>
<td>å¿…éœ€</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>â¶èµ‹å€¼å±è”½ï¼ˆassignment suppressionï¼‰ï¼š</strong>ä½¿ç”¨ç¬¦å·<code>*</code>ï¼ŒåŒ¹é…ç©ºç™½ç¬¦ä¹‹å¤–çš„è¿ç»­å­—ç¬¦ï¼Œç›´åˆ°é‡åˆ°ç©ºç™½ç¬¦ä¸ºæ­¢ã€‚</p>
<ul>
<li>åŒ¹é…çš„æ•°æ®é¡¹ä¼šè¢«è¯»å…¥ï¼Œä½†ä¸ä¼šè¢«èµ‹å€¼ç»™å˜é‡</li>
<li>ç”¨*åŒ¹é…åˆ°çš„æ•°æ®ç›¸ä¸å›åŒ…å«åœ¨<code>...scanfç±»å‡½æ•°</code>è¿”å›çš„è®¡æ•°ä¸­</li>
</ul>
<p><strong>â·æœ€å¤§å­—æ®µå®½åº¦ï¼š</strong>é™åˆ¶è½¬æ¢è¯´æ˜åŒ¹é…çš„è¾“å…¥é¡¹çš„å­—ç¬¦æ•°é‡ï¼ˆä¸è®¡ç®—è·³è¿‡çš„ç©ºç™½ç¬¦ï¼‰ï¼Œè¾¾åˆ°é™åˆ¶çš„å­—ç¬¦æ•°é‡åä¾¿åœæ­¢å½“å‰è¾“å…¥é¡¹çš„è½¬æ¢ã€‚<br><strong>â¸é•¿åº¦ä¿®é¥°ç¬¦ï¼š</strong>å…±3ä¸ªï¼Œåªèƒ½å’Œä¸€äº›è½¬æ¢è¯´æ˜ç¬¦æ­é…ï¼ŒåŒæ—¶é•¿åº¦ä¿®é¥°ç¬¦çš„é€‰æ‹©å–å†³äºè¦å­˜å‚¨ä¸ºç›¸åŒ¹é…å®å‚æ‰€æŒ‡å‘çš„å˜é‡ç±»å‹ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>é•¿åº¦ä¿®é¥°ç¬¦</th>
<th>è½¬æ¢è¯´æ˜</th>
<th>å¯¹åº”å®å‚ï¼ˆæŒ‡é’ˆï¼‰çš„ç±»å‹</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>h</code></td>
<td>æ•´æ•°ï¼ˆ<code>dã€iã€oã€uã€x(X)ã€n</code>ï¼‰</td>
<td>short int</td>
</tr>
<tr>
<td><code>l(L)</code></td>
<td>æ•´æ•°ï¼ˆ<code>dã€iã€oã€uã€x(X)ã€n</code>ï¼‰</td>
<td>long int</td>
</tr>
<tr>
<td><code>l</code></td>
<td><code>e(E)ã€fã€g(G)</code></td>
<td>double</td>
</tr>
<tr>
<td><code>L</code></td>
<td><code>e(E)ã€fã€g(G)</code></td>
<td>long double</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>â¹è½¬æ¢è¯´æ˜ç¬¦ï¼š</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>è½¬æ¢è¯´æ˜ç¬¦</th>
<th>å¯¹åº”å®å‚æŒ‡é’ˆåº”å½“æŒ‡å‘ç±»å‹</th>
<th>åŒ¹é…çš„å­—ç¬¦</th>
</tr>
</thead>
<tbody>
<tr>
<td>d</td>
<td>æ•´æ•°</td>
<td>åè¿›åˆ¶æ•´æ•°</td>
</tr>
<tr>
<td>i</td>
<td>æ•´æ•°</td>
<td>è‡ªåŠ¨åˆ¤æ–­è¿›åˆ¶ï¼ˆ0æ‰“å¤´ï¼š8è¿›åˆ¶ï¼›0x(X)æ‰“å¤´ï¼š16è¿›åˆ¶ï¼›å¦åˆ™åè¿›åˆ¶ï¼‰</td>
</tr>
<tr>
<td>o</td>
<td>unsigned int</td>
<td>å…«è¿›åˆ¶æ•´æ•°</td>
</tr>
<tr>
<td>u</td>
<td>unsigned int</td>
<td>åè¿›åˆ¶æ•´æ•°</td>
</tr>
<tr>
<td>x(X)</td>
<td>unsigned int</td>
<td>åå…­è¿›åˆ¶æ•´æ•°</td>
</tr>
<tr>
<td>e(E)ã€fã€g(G)</td>
<td>float</td>
<td>floatå‹å°æ•°</td>
</tr>
<tr>
<td>s</td>
<td>char *(è‡ªåŠ¨åœ¨æœ«å°¾æ·»åŠ <code>\0</code>)</td>
<td>ä¸€ç³»åˆ—éç©ºç™½å­—ç¬¦</td>
</tr>
<tr>
<td>[</td>
<td>char *(è‡ªåŠ¨åœ¨æœ«å°¾æ·»åŠ <code>\0</code>)</td>
<td>æ¥è‡ª<code>æ‰«æé›†åˆ</code>çš„éç©ºå­—ç¬¦åºåˆ—ã€‚<code>æ‰«æé›†åˆ</code>å¯ä»¥åŒ…å«ä»»ä½•å­—ç¬¦é›†ï¼Œç‰¹åˆ«çš„æ˜¯å¦‚æœ<code>æ‰«æé›†åˆ</code>ä¸­åŒ…å«<code>]</code>ï¼Œåˆ™è¦æ”¾åœ¨é¦–ä½ï¼Œä¾‹å¦‚<code>[]abc]</code>ï¼ˆ<code>[abc]</code>ï¼šè¡¨ç¤ºåŒ¹é…åªå«æœ‰å­—æ¯<code>aã€bã€c</code>çš„å­—ç¬¦åºåˆ—ï¼›<code>[^abc]</code>ï¼šè¡¨ç¤ºåŒ¹é…<code>aã€bã€c</code>éƒ½ä¸å­˜åœ¨çš„å­—ç¬¦åºåˆ—ï¼‰</td>
</tr>
<tr>
<td>c</td>
<td>char *(æŒ‡å®š<code>â·æœ€å¤§å­—æ®µå®½åº¦</code>nï¼Œåˆ™åœ¨æœ«å°¾æ·»åŠ <code>\0</code>ï¼Œå¦åˆ™ä¸æ·»åŠ )</td>
<td>æŒ‡å®š<code>â·æœ€å¤§å­—æ®µå®½åº¦</code>nï¼Œåˆ™åŒ¹é…nä¸ªå­—ç¬¦ï¼Œå¦åˆ™æ—§å°±åŒ¹é…ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td>p</td>
<td>void *</td>
<td><code>...printfç±»å‡½æ•°</code>å¯ä»¥æ‰“å°å‡ºçš„æŒ‡é’ˆå€¼ï¼ˆåœ°å€ï¼‰</td>
</tr>
<tr>
<td>n</td>
<td>int(ä¸æŒ‡å®š<code>â¸é•¿åº¦ä¿®é¥°ç¬¦</code>)ã€short int(<code>â¸é•¿åº¦ä¿®é¥°ç¬¦</code>ä¸º<code>h</code>)ã€long int(<code>â¸é•¿åº¦ä¿®é¥°ç¬¦</code>ä¸º<code>l</code>)</td>
<td>ä¸åŒ¹é…ä»»ä½•å­—ç¬¦ï¼Œå› è€Œä¹Ÿä¸å›å½±å“<code>...scanfç±»å‡½æ•°</code>çš„æ”¾å›å€¼ï¼ˆå¯¹åº”çš„å˜é‡å­˜å‚¨çš„æ˜¯åˆ°ç›®å‰ä¸ºæ­¢å·²ç»è¯»å…¥çš„å­—ç¬¦æ•°ï¼‰</td>
</tr>
<tr>
<td>%</td>
<td>char</td>
<td>åŒ¹é…å­—ç¬¦%</td>
</tr>
</tbody>
</table>
<h4 id="strtolå‡½æ•°-26-2-1"><a href="#strtolå‡½æ•°-26-2-1" class="headerlink" title="strtolå‡½æ•°(26.2.1)"></a>strtolå‡½æ•°(<a href="">26.2.1</a>)</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†å­—ç¬¦ä¸²æ ¹æ®å‚æ•°baseæ¥è½¬æ¢æˆé•¿æ•´å‹æ•°<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; nptr è¦è½¬æ¢çš„å­—ç¬¦ä¸²</span><br><span class="line">* @param &#123;int&#125; base åŸºæ•°ï¼ˆ0æˆ–2~36ï¼‰</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">int</span> <span class="title">strtol</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *nptr,<span class="keyword">char</span> **endptr,<span class="keyword">int</span> base)</span></span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>å’Œ<code>...scanfç±»å‡½æ•°</code>è½¬æ¢è¯´æ˜ç¬¦ä¹‹é—´çš„å¯¹åº”å…³ç³»</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>è½¬æ¢è¯´æ˜ç¬¦</th>
<th>strolçš„å‚æ•°baseçš„å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td>d</td>
<td>10</td>
</tr>
<tr>
<td>i</td>
<td>0</td>
</tr>
<tr>
<td>o</td>
<td>8</td>
</tr>
<tr>
<td>u</td>
<td>10</td>
</tr>
<tr>
<td>x(X)</td>
<td>16</td>
</tr>
<tr>
<td>e(E)ã€fã€g(G)</td>
<td>10</td>
</tr>
</tbody>
</table>
<h3 id="22-3-7-â€¦scanfå‡½æ•°çš„ç¤ºä¾‹"><a href="#22-3-7-â€¦scanfå‡½æ•°çš„ç¤ºä¾‹" class="headerlink" title="22.3.7    â€¦scanfå‡½æ•°çš„ç¤ºä¾‹"></a>22.3.7    â€¦scanfå‡½æ•°çš„ç¤ºä¾‹</h3><h4 id="è½¬æ¢è¯´æ˜ã€ç©ºç™½å­—ç¬¦ã€éç©ºç™½å­—ç¬¦ç»„åˆæ•ˆæœ"><a href="#è½¬æ¢è¯´æ˜ã€ç©ºç™½å­—ç¬¦ã€éç©ºç™½å­—ç¬¦ç»„åˆæ•ˆæœ" class="headerlink" title="è½¬æ¢è¯´æ˜ã€ç©ºç™½å­—ç¬¦ã€éç©ºç™½å­—ç¬¦ç»„åˆæ•ˆæœ"></a>è½¬æ¢è¯´æ˜ã€ç©ºç™½å­—ç¬¦ã€éç©ºç™½å­—ç¬¦ç»„åˆæ•ˆæœ</h4><p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-10-06%20%E4%B8%8B%E5%8D%888.07.10.png" alt="Alt text"></p>
<h4 id="èµ‹å€¼å±è”½å’ŒæŒ‡å®šå­—æ®µå®½åº¦æ•ˆæœ"><a href="#èµ‹å€¼å±è”½å’ŒæŒ‡å®šå­—æ®µå®½åº¦æ•ˆæœ" class="headerlink" title="èµ‹å€¼å±è”½å’ŒæŒ‡å®šå­—æ®µå®½åº¦æ•ˆæœ"></a>èµ‹å€¼å±è”½å’ŒæŒ‡å®šå­—æ®µå®½åº¦æ•ˆæœ</h4><p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-10-06%20%E4%B8%8B%E5%8D%888.07.25.png" alt="Alt text"></p>
<h4 id="éš¾æ‡‚çš„è½¬æ¢è¯´æ˜ï¼šiã€-ã€n"><a href="#éš¾æ‡‚çš„è½¬æ¢è¯´æ˜ï¼šiã€-ã€n" class="headerlink" title="éš¾æ‡‚çš„è½¬æ¢è¯´æ˜ï¼šiã€[ã€n"></a>éš¾æ‡‚çš„è½¬æ¢è¯´æ˜ï¼š<code>iã€[ã€n</code></h4><p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-10-06%20%E4%B8%8B%E5%8D%888.07.38.png" alt="Alt text"></p>
<h3 id="22-3-8-æ£€æµ‹æ–‡ä»¶æœ«å°¾å’Œé”™è¯¯æ¡ä»¶"><a href="#22-3-8-æ£€æµ‹æ–‡ä»¶æœ«å°¾å’Œé”™è¯¯æ¡ä»¶" class="headerlink" title="22.3.8    æ£€æµ‹æ–‡ä»¶æœ«å°¾å’Œé”™è¯¯æ¡ä»¶"></a>22.3.8    æ£€æµ‹æ–‡ä»¶æœ«å°¾å’Œé”™è¯¯æ¡ä»¶</h3><blockquote>
<p><strong>é”™è¯¯æŒ‡ç¤ºå™¨ï¼ˆerror indicatorï¼‰ï¼š</strong>æ‰“å¼€æµæ—¶è¢«æ¸…é™¤ï¼Œé‡åˆ°é”™è¯¯æ—¶ä¼šè¢«è®¾ç½®ã€‚<br><strong>æ–‡ä»¶æœ«å°¾æŒ‡ç¤ºå™¨ï¼ˆend of file indicatorï¼‰ï¼š</strong>æ‰“å¼€æµæ—¶è¢«æ¸…é™¤ï¼Œé‡åˆ°æ–‡ä»¶æœ«å°¾æ—¶è¢«è®¾ç½®ã€‚<br><strong><code>...scanfç±»å‡½æ•°</code>å‡ºé”™åˆ†ç±»ï¼š</strong>å½“<code>...scanfç±»å‡½æ•°</code>çš„è¿”å›å€¼å°äºä¸å®šå‚æ•°ï¼ˆè¦åŒ¹é…ï¼‰çš„æ•°é‡æ—¶ï¼Œç”±3ä¸­å¯èƒ½</p>
<ol>
<li><strong>æå‰é‡åˆ°æ–‡ä»¶æœ«å°¾ï¼š</strong>å‡½æ•°åœ¨å®Œå…¨åŒ¹é…æ ¼å¼ä¸²ä¹‹å‰é‡åˆ°äº†æ–‡ä»¶æœ«å°¾</li>
<li><strong>åŒ¹é…å¤±è´¥ï¼š</strong>æ•°æ®ç›¸çš„æ ¼å¼é”™è¯¯ï¼ˆæ¯”å¦‚å‡½æ•°åœ¨æœç´¢æ•´æ•°çš„ç¬¬ä¸€ä¸ªæ•°å­—æœŸé—´é‡åˆ°äº†ä¸€ä¸ªå­—æ¯ï¼‰</li>
<li><strong>é”™è¯¯ï¼š</strong>é”™è¯¯çš„å‘ç”Ÿè¶…å‡ºäº†å‡½æ•°æ§åˆ¶çš„èŒƒå›´</li>
</ol>
</blockquote>
<h4 id="clearerrå‡½æ•°"><a href="#clearerrå‡½æ•°" class="headerlink" title="clearerrå‡½æ•°"></a>clearerrå‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ¸…é™¤æ–‡ä»¶æœ«å°¾æŒ‡ç¤ºå™¨å’Œé”™è¯¯æŒ‡ç¤ºå™¨<br><strong>æ³¨æ„ï¼š</strong><code>Q&amp;A</code>æŸäº›å…¶ä»–åº“å‡½æ•°å› ä¸ºå‰¯ä½œç”¨å¯ä»¥æ¸…é™¤æŸç§æŒ‡ç¤ºå™¨æˆ–ä¸¤ç§éƒ½å¯ä»¥æ¸…é™¤ï¼Œæ‰€ä»¥ä¸å›éœ€è¦ç»å¸¸ä½¿ç”¨è¯¥å‡½æ•°ã€‚<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;FILE *&#125; stream æ–‡ä»¶æŒ‡é’ˆ</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">clearerr</span><span class="params">(FILE *stream)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="feofå‡½æ•°"><a href="#feofå‡½æ•°" class="headerlink" title="feofå‡½æ•°"></a>feofå‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ£€æµ‹<code>æœ«å°¾æŒ‡ç¤ºå™¨</code>ï¼Œåˆ¤æ–­æ˜¯å¦å·²ç»åˆ°è¾¾è¾“å…¥æµï¼ˆæ–‡ä»¶æˆ–<code>stdin</code>ï¼‰æœ«å°¾ã€‚<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;FILE *&#125; æ–‡ä»¶æŒ‡é’ˆ</span><br><span class="line">* @ return &#123;int&#125; å¦‚æœè¿”å›éé›¶å€¼ï¼Œè¯´æ˜å·²ç»åˆ°è¾¾äº†è¾“å…¥æ–‡ä»¶çš„æœ«å°¾</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">feof</span><span class="params">(FILE *stream)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="ferrorå‡½æ•°"><a href="#ferrorå‡½æ•°" class="headerlink" title="ferrorå‡½æ•°"></a>ferrorå‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ£€æµ‹<code>é”™è¯¯æŒ‡ç¤ºå™¨</code>ï¼Œåˆ¤æ–­è¾“å…¥è¿‡ç¨‹æ˜¯å¦å‘ç”Ÿé”™è¯¯<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;FILE *&#125; stream æ–‡ä»¶æŒ‡é’ˆ</span><br><span class="line">* @ return &#123;int&#125; å¦‚æœè¿”å›éé›¶å€¼ï¼Œè¯´æ˜å·²ç»åˆ°è¾¾äº†è¾“å…¥è¿‡ç¨‹å‘ç”Ÿé”™è¯¯</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">ferror</span><span class="params">(FILE *stream)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* æœç´¢æ–‡ä»¶ä¸­ä»¥æŸä¸ªæ•´æ•°èµ·å§‹çš„è¡Œå¹¶è¿”å›è¡Œå·</span><br><span class="line">* </span><br><span class="line">* @param &#123;char *&#125; filename æ–‡ä»¶å</span><br><span class="line">* @param &#123;int *&#125; ptr æŒ‡å‘è¦å°†æ‰¾åˆ°çš„æ•´æ•°å­˜å‚¨åˆ°å˜é‡çš„æŒ‡é’ˆ</span><br><span class="line">* @return &#123;int&#125; ä»¥æ•´æ•°èµ·å§‹çš„è¡Œçš„è¡Œå·</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find_int</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *filename, <span class="keyword">int</span> *ptr)</span> </span>&#123;</span><br><span class="line">	<span class="comment">// 1. æ‰“å¼€æ–‡ä»¶</span></span><br><span class="line">	<span class="function">FILE *fp <span class="title">fopen</span> <span class="params">(filename, <span class="string">"r"</span>)</span></span>;</span><br><span class="line">	<span class="keyword">int</span> line = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span> (fp == <span class="literal">NULL</span>) &#123;</span><br><span class="line">		return <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">fscanf</span>(fp, <span class="string">"%d"</span>, ptr) != <span class="number">1</span>) &#123;</span><br><span class="line">		<span class="comment">// å¦‚æœæ˜¯è¾“å…¥é”™è¯¯</span></span><br><span class="line">		<span class="keyword">if</span> (ferror (fp)) &#123;</span><br><span class="line">			fclose(fp);</span><br><span class="line">			return <span class="number">-2</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// å¦‚æœæ˜¯åˆ°è¾¾æ–‡ä»¶æœ«å°¾</span></span><br><span class="line">		<span class="keyword">if</span> (feof(fp)) &#123;</span><br><span class="line">			fclose(fp);</span><br><span class="line">			return <span class="number">-3</span>; <span class="comment">// æ•´æ•°æ²¡æ‰¾åˆ°</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">fscanf</span>(fp, <span class="string">"%*[^\n]"</span>); <span class="comment">// è·³è¿‡ä¸€è¡Œçš„å…¶ä½™éƒ¨åˆ†</span></span><br><span class="line">		line++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// å…³é—­æ–‡ä»¶</span></span><br><span class="line">	fclose(fp);</span><br><span class="line">	return line;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line">n = find_int(<span class="string">"foo"</span>, &amp;i);</span><br></pre></td></tr></table></figure>
<h2 id="22-4-å­—ç¬¦çš„è¾“å…¥ï¼è¾“å‡º"><a href="#22-4-å­—ç¬¦çš„è¾“å…¥ï¼è¾“å‡º" class="headerlink" title="22.4    å­—ç¬¦çš„è¾“å…¥ï¼è¾“å‡º"></a>22.4    å­—ç¬¦çš„è¾“å…¥ï¼è¾“å‡º</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æœ¬èŠ‚çš„æ‰€æœ‰å‡½æ•°ç”¨äºæ–‡æœ¬æµå’ŒäºŒè¿›åˆ¶æµæ˜¯ç­‰æ•ˆçš„ã€‚</p>
</blockquote>
<h3 id="22-4-1-è¾“å‡ºå‡½æ•°"><a href="#22-4-1-è¾“å‡ºå‡½æ•°" class="headerlink" title="22.4.1    è¾“å‡ºå‡½æ•°"></a>22.4.1    è¾“å‡ºå‡½æ•°</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å’Œ<code>...scanfç±»å‡½æ•°</code>ä¸€æ ·ï¼Œ<code>fputcã€putcã€putchar</code>å‡ºç°é”™è¯¯éƒ½ä¼šä¸ºæµè®¾ç½®<code>é”™è¯¯æŒ‡ç¤ºå™¨</code>å¹¶è¿”å›<code>EOF</code>ã€‚</p>
</blockquote>
<h4 id="fputcå‡½æ•°"><a href="#fputcå‡½æ•°" class="headerlink" title="fputcå‡½æ•°"></a>fputcå‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å‘ä»»æ„æµå†™å­—ç¬¦ï¼ˆ<code>putc</code>å’Œ<code>putchar</code>æ›´é€šç”¨çš„ç‰ˆæœ¬ï¼‰<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;int&#125; c å‡½æ•°ä¼šæŠŠcharä½œä¸ºintå‹çš„å€¼æ¥å¤„ç†</span><br><span class="line">* @param &#123;FILE *&#125; stream æ–‡ä»¶æŒ‡é’ˆ</span><br><span class="line">* @ return &#123;int&#125; cè½¬æ¢ä¸ºunsigned intçš„å€¼ï¼šè¾“å‡ºæ­£ç¡®ï¼›EOFï¼ˆè´Ÿæ•´æ•°ï¼‰ï¼šè¾“å‡ºé”™è¯¯</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fputc</span><span class="params">(<span class="keyword">int</span> c, FILE * stream)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="putcå®"><a href="#putcå®" class="headerlink" title="putcå®"></a>putcå®</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å‘ä»»æ„æµå†™å­—ç¬¦(å®å®ç°)<br><strong>ä¼˜ç‚¹å’Œç¼ºç‚¹ï¼š</strong><a href="">14.3</a><br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;int&#125; c å‡½æ•°ä¼šæŠŠcharä½œä¸ºintå‹çš„å€¼æ¥å¤„ç†</span><br><span class="line">* @param &#123;FILE *&#125; stream æ–‡ä»¶æŒ‡é’ˆ</span><br><span class="line">* @ return &#123;int&#125; cè½¬æ¢ä¸ºunsigned intçš„å€¼ï¼šè¾“å‡ºæ­£ç¡®ï¼›EOFï¼ˆè´Ÿæ•´æ•°ï¼‰ï¼šè¾“å‡ºé”™è¯¯</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">putc</span><span class="params">(<span class="keyword">int</span> c, FILE *stream)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="putcharå®"><a href="#putcharå®" class="headerlink" title="putcharå®"></a>putcharå®</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å‘æ ‡å‡†è¾“å‡ºæµ<code>stdout</code>ï¼ˆå±å¹•ï¼‰å†™ä¸€ä¸ªå­—ç¬¦ï¼Œé€šå¸¸ä½œä¸ºå®æ¥å®ç°ï¼ˆåº•å±‚æ˜¯<code>fputc</code>ï¼Œå› æ­¤æ€§èƒ½ä¸å¦‚<code>putc</code>ï¼‰ã€‚<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> putchat(c) putc((c), stdout);</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;int&#125; c å‡½æ•°ä¼šæŠŠcharä½œä¸ºintå‹çš„å€¼æ¥å¤„ç†</span><br><span class="line">* @return &#123;int&#125; </span><br><span class="line">int putchar(int c);</span></span><br></pre></td></tr></table></figure>
<h3 id="22-4-2-è¾“å…¥å‡½æ•°"><a href="#22-4-2-è¾“å…¥å‡½æ•°" class="headerlink" title="22.4.2    è¾“å…¥å‡½æ•°"></a>22.4.2    è¾“å…¥å‡½æ•°</h3><blockquote>
<p><strong>æ³¨æ„ï¼š</strong><code>Q&amp;A</code>æŠŠcharå‹å˜é‡ä¸<code>EOF</code>æ¯”è¾ƒå¯èƒ½ä¼šäº§ç”Ÿé”™è¯¯çš„ç»“æœã€‚</p>
</blockquote>
<h4 id="getcå®"><a href="#getcå®" class="headerlink" title="getcå®"></a>getcå®</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä»æŒ‡å®šæµä¸­è¯»å…¥ä¸€ä¸ªå­—ç¬¦ï¼ˆå®å®ç°ï¼‰ã€‚<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;FILE *&#125; stream æ–‡ä»¶æŒ‡é’ˆ</span><br><span class="line">* @return &#123;int&#125; è¯»å¦‚çš„å­—ç¬¦çš„intå‹å€¼</span><br><span class="line">*/</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»æ–‡ä»¶è¯»å…¥å­—ç¬¦ç›´åˆ°é‡åˆ°æ–‡ä»¶æœ«å°¾</span></span><br><span class="line"><span class="keyword">while</span> ((ch = getc(fp)) != EOF) &#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="fgetcå‡½æ•°"><a href="#fgetcå‡½æ•°" class="headerlink" title="fgetcå‡½æ•°"></a>fgetcå‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä»æŒ‡å®šçš„æµä¸­è¯»å¦‚ä¸€ä¸ªå­—ç¬¦ã€‚<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;FILE *&#125; stream æ–‡ä»¶æŒ‡é’ˆ</span><br><span class="line">* @return &#123;int&#125; è¯»å¦‚çš„å­—ç¬¦çš„intå‹å€¼</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fgetc</span><span class="params">(FILE *stream)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ch = fgetc(fp); <span class="comment">// ä»fpä¸­è¯»å–ä¸€ä¸ªå­—ç¬¦</span></span><br></pre></td></tr></table></figure>
<h4 id="getcharï¼ˆå®ï¼‰"><a href="#getcharï¼ˆå®ï¼‰" class="headerlink" title="getcharï¼ˆå®ï¼‰"></a>getcharï¼ˆå®ï¼‰</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä»æ ‡å‡†è¾“å‡ºæµ<code>stdout</code>ï¼ˆé”®ç›˜ï¼‰ä¸­è·å¾—ä¸€ä¸ªå­—ç¬¦ï¼ˆé€šå¸¸æ˜¯ç”¨å®å®ç°ï¼‰ã€‚<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> getchar getc(stdin);</span></span><br></pre></td></tr></table></figure>
<h3 id="22-4-3-ç¨‹åºï¼šå¤åˆ¶æ–‡ä»¶"><a href="#22-4-3-ç¨‹åºï¼šå¤åˆ¶æ–‡ä»¶" class="headerlink" title="22.4.3    ç¨‹åºï¼šå¤åˆ¶æ–‡ä»¶"></a>22.4.3    ç¨‹åºï¼šå¤åˆ¶æ–‡ä»¶</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é‡‡ç”¨â€rbâ€å’Œâ€wbâ€ä½œä¸ºæ–‡ä»¶çš„æ¨¡å¼ä½¿<code>fcopy</code>ç¨‹åºæ—¢å¯ä»¥å¤åˆ¶æ–‡æœ¬æ–‡ä»¶ä¹Ÿå¯ä»¥å¤åˆ¶äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Copy a file(æ—¢å¯ä»¥æ˜¯æ–‡æœ¬æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶)</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	FILE *source_fp, *dest_fp;</span><br><span class="line">	<span class="keyword">int</span> ch;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// å¦‚æœæ²¡æœ‰ç»™å‡ºæ­£ç¡®çš„å‚æ•°</span></span><br><span class="line">	<span class="keyword">if</span> (argc != <span class="number">3</span>) &#123;</span><br><span class="line">		<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">"usage: fcopy source dest\n"</span>);</span><br><span class="line">		<span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// æ‰“å¼€åŸå§‹æ–‡ä»¶</span></span><br><span class="line">	<span class="keyword">if</span> ((source_fp = fopen(argv[<span class="number">1</span>], <span class="string">"rb"</span>)) == <span class="literal">NULL</span>) &#123;</span><br><span class="line">		<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">"can't open %s\n"</span>, argv[<span class="number">1</span>]);</span><br><span class="line">		fclose(source_fp);</span><br><span class="line">		<span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// æ‰“å¼€ç›®æ ‡æ–‡ä»¶</span></span><br><span class="line">	<span class="keyword">if</span> ((dest_fp = fopen(argv[<span class="number">2</span>], <span class="string">"wb"</span>)) == <span class="literal">NULL</span>) &#123;</span><br><span class="line">		<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">"can't open %s\n"</span>, argv[<span class="number">2</span>]);</span><br><span class="line">		fclose(source_fp);</span><br><span class="line">		<span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// å¤åˆ¶å†…å®¹(ä¸€ä¸ªå­—ç¬¦ä¸€ä¸ªå­—ç¬¦åœ°)</span></span><br><span class="line">	<span class="keyword">while</span> ((ch = getc(source_fp)) != EOF) &#123;</span><br><span class="line">		putc(ch, dest_fp);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fclose(source_fp);</span><br><span class="line">	fclose(dest_fp);</span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ./fcopy source.dat dest.dat</span><br></pre></td></tr></table></figure>
<h2 id="22-5-è¡Œçš„è¾“å…¥ï¼è¾“å‡º"><a href="#22-5-è¡Œçš„è¾“å…¥ï¼è¾“å‡º" class="headerlink" title="22.5    è¡Œçš„è¾“å…¥ï¼è¾“å‡º"></a>22.5    è¡Œçš„è¾“å…¥ï¼è¾“å‡º</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è¯»å’Œå†™è¡Œçš„è‹¦å‡½æ•°ï¼ˆè™½ç„¶ä¹Ÿå¯ä»¥æœ‰æ•ˆåœ°ç”¨äºäºŒè¿›åˆ¶æ–‡ä»¶æµï¼Œä½†å¤šæ•°ç”¨äºæ–‡æœ¬æµï¼‰ã€‚</p>
</blockquote>
<h3 id="22-5-1-è¾“å‡ºå‡½æ•°"><a href="#22-5-1-è¾“å‡ºå‡½æ•°" class="headerlink" title="22.5.1    è¾“å‡ºå‡½æ•°"></a>22.5.1    è¾“å‡ºå‡½æ•°</h3><h4 id="putså‡½æ•°-13-3"><a href="#putså‡½æ•°-13-3" class="headerlink" title="putså‡½æ•°(13.3)"></a>putså‡½æ•°(<a href="">13.3</a>)</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å‘æ ‡å‡†è¾“å‡ºæµ<code>stdout</code>å†™å…¥ä¸€ä¸²å­—ç¬¦ï¼ˆæ€»ä¼šåœ¨åé¢æ·»åŠ ä¸€ä¸ªæ¢è¡Œç¬¦ï¼‰ã€‚<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; s è¦è¾“å‡ºçš„å­—ç¬¦ä¸²ï¼ˆé¦–åœ°å€ï¼‰</span><br><span class="line">* @return &#123;char *&#125; </span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> *<span class="title">puts</span><span class="params">(chat *s)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">puts</span>(<span class="string">"Hi, there!"</span>); <span class="comment">// å‘stdout(å±å¹•)è¾“å‡º"Hi, there!"</span></span><br></pre></td></tr></table></figure>
<h4 id="fputså‡½æ•°"><a href="#fputså‡½æ•°" class="headerlink" title="fputså‡½æ•°"></a>fputså‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å‘æŒ‡å®šçš„æµè¾“å‡ºä¸€ä¸²å­—ç¬¦ï¼ˆä¸ä¼šåœ¨åé¢è‡ªåŠ¨æ·»åŠ æ¢è¡Œç¬¦ï¼‰<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; s è¦è¾“å‡ºçš„å­—ç¬¦ä¸²ï¼ˆé¦–åœ°å€ï¼‰</span><br><span class="line">* @param &#123;FILE *&#125; stream æ–‡ä»¶æŒ‡é’ˆ</span><br><span class="line">* @return &#123;int&#125; éè´Ÿçš„æ•°ï¼šæˆåŠŸè¾“å‡ºï¼›`EOF`ï¼šå‡ºç°é”™è¯¯</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fput</span><span class="params">(chat *s, FILE *stream)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">fputs</span>(<span class="string">"Hi, there!"</span>, fp); <span class="comment">// å‘fpè¾“å‡º"Hi. there!"</span></span><br></pre></td></tr></table></figure>
<h3 id="22-5-2-è¾“å…¥å‡½æ•°"><a href="#22-5-2-è¾“å…¥å‡½æ•°" class="headerlink" title="22.5.2    è¾“å…¥å‡½æ•°"></a>22.5.2    è¾“å…¥å‡½æ•°</h3><blockquote>
<p><strong>è¿”å›å€¼ï¼š</strong>æ— è®º<code>gets</code>è¿˜æ˜¯<code>fgets</code>ï¼Œå¦‚æœå‡ºç°äº†é”™è¯¯ï¼Œæ´»ç€ä½¿åœ¨å­˜å‚¨äººå’Œå­—ç¬¦ä¹‹å‰å¤§é“äº†è¾“å…¥æµçš„æœ«å°¾ï¼Œéƒ½ä¼šè¿”å›ç©ºæŒ‡é’ˆ<code>NULL</code>;å¦åˆ™ï¼Œè¿”å›æŒ‡å‘è¯»å…¥å­—ç¬¦ä¸²çš„æŒ‡é’ˆã€‚<br><strong>æœ«å°¾ç©ºå­—ç¬¦ï¼š</strong>ä¸¤ä¸ªå‡½æ•°éƒ½ä¼šåœ¨å­—ç¬¦ä¸²çš„æœ«å°¾å­˜å‚¨ç©ºå­—ç¬¦ã€‚<br><strong>æŠ€å·§ï¼š</strong>å¤§å¤šæ•°æƒ…å†µä¸‹ç”¨<code>fgets</code>è€Œä¸æ˜¯<code>gets</code>ï¼ˆåªæœ‰åœ¨ç¡®ä¿è¯»å…¥çš„å­—ç¬¦æ­£å¥½é€‚åˆæ•°ç»„å¤§å°æ—¶æ‰ä½¿ç”¨ï¼‰ï¼Œå› ä¸ºåè€…ä¼šè¶…å‡ºæ¥æ”¶æ•°ç»„èŒƒå›´çš„å¯èƒ½</p>
</blockquote>
<h4 id="getså‡½æ•°ï¼ˆ13-3ï¼‰"><a href="#getså‡½æ•°ï¼ˆ13-3ï¼‰" class="headerlink" title="getså‡½æ•°ï¼ˆ13.3ï¼‰"></a>getså‡½æ•°ï¼ˆ<a href="">13.3</a>ï¼‰</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä»æ ‡å‡†è¾“å…¥æµ<code>stdin</code>ä¸­è¯»å–ä¸€ä¸²å­—ç¬¦ï¼ˆé€ä¸ªè¯»å–å­—ç¬¦ï¼Œå¹¶ä¸”æŠŠå®ƒä»¬å­˜å‚¨åœ¨å­—ç¬¦ä¸²ä¸­ï¼Œç›´åˆ°è¯»å–åˆ°æ¢è¡Œç¬¦ä¸ºæ­¢ï¼Œå› æ­¤ä¸å­˜å‚¨æ¢è¡Œç¬¦ï¼‰<br><strong>æ³¨æ„ï¼š</strong>åªæœ‰åœ¨ç¡®ä¿è¯»å…¥çš„å­—ç¬¦æ­£å¥½é€‚åˆæ•°ç»„å¤§å°æ—¶æ‰ä½¿ç”¨ï¼Œå› ä¸ºä¼šæœ‰è¶…å‡ºæ¥æ”¶æ•°ç»„èŒƒå›´çš„å¯èƒ½ã€‚<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; s å­˜å‚¨ä½ç½®ï¼ˆé¦–åœ°å€ï¼‰</span><br><span class="line">* @return &#123;char *&#125; éè´Ÿçš„æ•°ï¼šæˆåŠŸè¾“å‡ºï¼›`EOF`ï¼šå‡ºç°é”™è¯¯</span><br><span class="line">*/</span></span><br><span class="line"><span class="function">chat *<span class="title">gets</span><span class="params">(<span class="keyword">char</span> *s)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="fgetså‡½æ•°"><a href="#fgetså‡½æ•°" class="headerlink" title="fgetså‡½æ•°"></a>fgetså‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä»æŒ‡å®šçš„æµä¸­è¯»å–ä¸€ä¸²å­—ç¬¦ï¼ˆæœ‰æ—¶ä¼šå­˜å‚¨æ¢è¡Œç¬¦ï¼‰<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">* @param &#123;char *&#125; s  å­˜å‚¨ä½ç½®ï¼ˆé¦–åœ°å€ï¼‰</span><br><span class="line">* @param &#123;int&#125; n é™åˆ¶è¯»å–å­—ç¬¦çš„æ•°é‡(ä¿è¯ä¸å›è¶…è¿‡sçš„å­˜å‚¨èƒ½åŠ›)</span><br><span class="line">* @param &#123;FILE *&#125; stream æ–‡ä»¶å­—ç¬¦ï¼ˆè¦è¯»å–çš„ç›®æ ‡æµï¼‰</span><br><span class="line">* @return &#123;char *&#125; è¯»å–åˆ°çš„å­—ç¬¦ä¸²</span><br><span class="line">*/</span><br><span class="line">char *fget(char *s, int n, FILE *stream));</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>å¯ä»¥ä»ä»»æ„æµä¸­è¯»å–ä¿¡æ¯</li>
<li>æ¯”<code>gets</code>æ›´åŠ å®‰å…¨ï¼Œå› ä¸ºå¯ä»¥é™åˆ¶è¦å­˜å‚¨çš„å­—ç¬¦çš„æ•°é‡</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€ä¸ªè¯»å…¥å­—ç¬¦ï¼Œåœ¨é‡åˆ°é¦–ä¸ªæ¢è¡Œç¬¦æ—¶æˆ–å·²ç»è¯»å…¥sizeof(str)-1ä¸ªå­—ç¬¦æ—¶ç»“æŸæ“ä½œ</span></span><br><span class="line">fgets(str, <span class="keyword">sizeof</span>(str), fp);</span><br></pre></td></tr></table></figure>
<h2 id="22-6-å—çš„è¾“å…¥ï¼è¾“å‡º"><a href="#22-6-å—çš„è¾“å…¥ï¼è¾“å‡º" class="headerlink" title="22.6    å—çš„è¾“å…¥ï¼è¾“å‡º"></a>22.6    å—çš„è¾“å…¥ï¼è¾“å‡º</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>fread</code>å’Œ<code>fwrite</code>å…è®¸ç¨‹åºåœ¨ä¸€æ¬¡è¯»å’Œå†™å¤§çš„æ•°æ®å—ï¼ˆä»»æ„æ•°æ®ç±»å‹ï¼‰ã€‚<br><strong>ç”¨é€”ï¼š</strong>å½“ç¨‹åºåœ¨ç»ˆæ­¢ä¹‹å‰ä½¿ç”¨<code>fwriteå‡½æ•°</code>æŠŠæ•°æ®å­˜å‚¨åˆ°æ–‡ä»¶ä¸­ï¼Œç¨åï¼Œç¨‹åºå¯ä»¥æŠŠæ•°æ®ä»æ–‡ä»¶è¯»å…¥åˆ°å†…å­˜ã€‚<br><strong>æ³¨æ„ï¼š</strong><code>Q&amp;A</code>å°å¿ƒä½¿ç”¨<code>fread</code>å‡½æ•°å’Œ<code>fwrite</code>å‡½æ•°å¯ä»¥ç”¨äºæ–‡æœ¬æµï¼Œä½†å®ƒä»¬ä¸»è¦è¿˜æ˜¯ç”¨äºäºŒè¿›åˆ¶çš„æµã€‚</p>
</blockquote>
<h4 id="freadå‡½æ•°"><a href="#freadå‡½æ•°" class="headerlink" title="freadå‡½æ•°"></a>freadå‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä»æµè¯»å…¥æ•°æ®å—ã€‚<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;void *&#125; ptr è¯»å…¥åæ•°æ®å—å­˜å‚¨ä½ç½®çš„åœ°å€</span><br><span class="line">* @param &#123;size_t&#125; size æ•°æ®å—çš„å¤§å°ï¼ˆå­—èŠ‚ï¼‰</span><br><span class="line">* @param &#123;size_t&#125; nmemb æ•°æ®å—çš„æ•°é‡</span><br><span class="line">* @param &#123;FILE *&#125; stream æ–‡ä»¶æŒ‡é’ˆï¼ˆè¦è¯»çš„æ–‡ä»¶ä½ç½®ï¼‰</span><br><span class="line">* @return &#123;size_t&#125; å®é™…è¯»å…¥çš„æ•°æ®å—çš„æ•°é‡ï¼Œå¦‚æœå°äºnmembåˆ™è¯´æ˜è¾¾åˆ°äº†æ–‡ä»¶æœ«å°¾æˆ–å‡ºç°äº†é”™è¯¯ï¼ˆå¯ç”¨feofå’Œferroræ£€æµ‹ï¼‰</span><br><span class="line">*/</span></span><br><span class="line">fread(<span class="keyword">void</span> *ptr, <span class="keyword">size_t</span> size, <span class="keyword">size_t</span> nmemb, FILE *stream);</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»fpæŒ‡å‘çš„æµä½ç½®è¯»å‡ºæ•°ç»„å¹¶å­˜å‚¨åˆ°æ•°ç»„aä¸­</span></span><br><span class="line">n = fread(a, sizeof(a[<span class="number">0</span>], sizeof(a)/sizeof(a[<span class="number">0</span>]), fp);</span><br></pre></td></tr></table></figure>
<h4 id="fwriteå‡½æ•°"><a href="#fwriteå‡½æ•°" class="headerlink" title="fwriteå‡½æ•°"></a>fwriteå‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æŠŠå†…å­˜ä¸­çš„æ•°æ®å—å¤åˆ¶åˆ°æµã€‚<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;void *&#125; ptr å­˜å‚¨æ•°æ®å—çš„åœ°å€</span><br><span class="line">* @param &#123;size_t&#125; size æ•°æ®å—çš„å¤§å°ï¼ˆå­—èŠ‚ï¼‰</span><br><span class="line">* @param &#123;size_t&#125; nmemb æ•°æ®å—æ•°é‡</span><br><span class="line">* @param &#123;FILE *&#125; stream æ–‡ä»¶æŒ‡é’ˆï¼ˆè¦å†™å…¥çš„æ–‡ä»¶ä½ç½®ï¼‰</span><br><span class="line">* @return &#123;size_t&#125; å®é™…å†™å…¥çš„æ•°æ®å—çš„æ•°é‡ï¼Œå¦‚æœå°äºnmembåˆ™è¯´æ˜è¾¾åˆ°äº†æ–‡ä»¶æœ«å°¾æˆ–å‡ºç°äº†é”™è¯¯ï¼ˆå¯ç”¨feofå’Œferroræ£€æµ‹ï¼‰</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">size_t</span> fwrite(<span class="keyword">const</span> <span class="keyword">void</span> *ptr, <span class="keyword">size_t</span> size, <span class="keyword">size_t</span> nmemb, FILE *stream );</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å°†å†…å­˜ä¸­æ•°ç»„aå¤åˆ¶åˆ°fpæŒ‡å‘çš„æµï¼ˆç£ç›˜æ–‡ä»¶ï¼‰ä¸­</span></span><br><span class="line">fwrite(a, <span class="keyword">sizeof</span>(a[<span class="number">0</span>], sizeof(a)/sizof(a[<span class="number">0</span>]), fp);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†å†…å­˜ä¸­çš„ç»“æ„ä½“ï¼ˆå®ä¾‹ï¼‰å­˜å‚¨åˆ°æŒ‡å‘çš„æµï¼ˆç£ç›˜æ–‡ä»¶ï¼‰ä¸­</span></span><br><span class="line">fwrite(&amp;s, sizeof(s), <span class="number">1</span>, fp);</span><br></pre></td></tr></table></figure>
<h2 id="22-7-æ–‡ä»¶çš„å®šä½"><a href="#22-7-æ–‡ä»¶çš„å®šä½" class="headerlink" title="22.7    æ–‡ä»¶çš„å®šä½"></a>22.7    æ–‡ä»¶çš„å®šä½</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>stdio.h</code>æä¾›äº†5ä¸ªå‡½æ•°å…è®¸ç¨‹åºç¡®å®šå½“å‰çš„æ–‡ä»¶ä½ç½®æˆ–è€…æ”¹å˜æ–‡ä»¶ä½ç½®ï¼Œé€šè¿‡è¿™äº›å‡½æ•°å¯ä»¥å®ç°æ–‡ä»¶çš„éšæœºè®¿é—®ï¼ˆä»»æ„è®¿é—®ï¼‰ã€‚<br><strong>æ³¨æ„ï¼š</strong>æ–‡ä»¶å®šä¸ºå‡½æ•°æœ€é€‚åˆäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¤„ç†æ–‡æœ¬æµå¯èƒ½å‡ºç°æ“ä½œç³»ç»Ÿå·®å¼‚ã€‚<br><strong>æ–‡ä»¶ä½ç½®ï¼ˆfile positionï¼‰ï¼š</strong>æ¯ä¸ªæµéƒ½ç”±æ–‡ä»¶ä½ç½®ï¼Œå¯ä»¥çœ‹ä½œå½“å‰è®¿é—®åˆ°çš„ä½ç½®ã€‚åœ¨æ‰§è¡Œè¯»æˆ–è€…å†™æ“ä½œæ—¶ï¼Œæ–‡ä»¶ä½ç½®ä¼šè‡ªåŠ¨æ¨è¿›ã€‚</p>
</blockquote>
<h4 id="fseekå‡½æ•°"><a href="#fseekå‡½æ•°" class="headerlink" title="fseekå‡½æ•°"></a>fseekå‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ”¹å˜æŒ‡å®šæµçš„æ–‡ä»¶ä½ç½®ï¼Œç›¸å…³çš„å®æœ‰3ä¸ª</p>
<ul>
<li>SEEK_SETï¼šæ–‡ä»¶çš„èµ·å§‹å¤„</li>
<li>SEEK_CURï¼šæ–‡ä»¶çš„å½“å‰ä½ç½®</li>
<li>SEEK_ENDï¼šæ–‡ä»¶çš„æœ«å°¾å¤„</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong>fseekå‡½æ•°å¯¹æµæ˜¯<code>æ–‡æœ¬å‹</code>è¿˜æ˜¯<code>äºŒè¿›åˆ¶å‹</code>éå¸¸æ•æ„Ÿ</p>
<ul>
<li><strong>æ–‡æœ¬å‹ï¼š</strong>å‚æ•°å¿…é¡»æ˜¯ä»¥ä¸‹ä¸¤ç§æƒ…æ™¯ä¹‹ä¸€</li>
</ul>
<ol>
<li>offsetå¿…é¡»ä¸º0ï¼ˆå³åªèƒ½ç§»åŠ¨åˆ°æ–‡ä»¶çš„èµ·å§‹å¤„æˆ–æœ«å°¾ï¼‰</li>
<li>whenceå¿…é¡»æ˜¯<code>SEEK_SET</code>ï¼Œä¸”offsetæ˜¯é€šè¿‡<code>ftellå‡½æ•°</code>è·å–çš„ï¼ˆå³è¿”å›å‰ä¸€æ¬¡è®¿é—®åˆ°çš„ä½ç½®ï¼‰</li>
</ol>
<ul>
<li><strong>äºŒè¿›åˆ¶å‹ï¼š</strong>ä¸è¦æ±‚æ”¯æŒwhienceæ˜¯SEEK_END<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;FILE *&#125; stream æ–‡ä»¶æŒ‡é’ˆ</span><br><span class="line">* @param &#123;long int&#125; offset ç›®æ ‡ä½ç½®è·ç¦»whenceçš„è·ç¦»ï¼Œå¯ä»¥æ˜¯è´Ÿå€¼</span><br><span class="line">* @param &#123;int&#125; whence å‚ç…§ä½ç½®ï¼Œå€¼ä¸ºSEEK_SETæˆ–SEEK_CURæˆ–SEEK_END</span><br><span class="line">* @return &#123;int&#125; 0:æˆåŠŸï¼›é0:äº§ç”Ÿé”™è¯¯ï¼ˆæ¯”å¦‚ä½ç½®ä¸å­˜åœ¨ï¼‰</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fseek</span><span class="params">(FILE *stream, <span class="keyword">long</span> <span class="keyword">int</span> offset, <span class="keyword">int</span> whence)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ–‡ä»¶ä½ç½®ç§»åŠ¨åˆ°æ–‡ä»¶èµ·å§‹å¤„</span></span><br><span class="line">fseek(fp, <span class="number">0L</span>, SEEK_SET);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–‡ä»¶ä½ç½®ç§»åŠ¨åˆ°æ–‡ä»¶æœ«å°¾</span></span><br><span class="line">fseek(fp, <span class="number">0L</span>, SEEK_END);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–‡ä»¶ä½ç½®åŸºäºå½“å‰ä½ç½®å‘åç§»åŠ¨10ä¸ªå­—èŠ‚</span></span><br><span class="line">fseek(fp, <span class="number">-10</span>L, SEEK_CUR);</span><br></pre></td></tr></table></figure>
<h4 id="ftellå‡½æ•°"><a href="#ftellå‡½æ•°" class="headerlink" title="ftellå‡½æ•°"></a>ftellå‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä»¥é•¿æ•´å‹è¿”å›å½“å‰æ–‡ä»¶ä½ç½®<br><strong>æ³¨æ„ï¼š</strong><code>äºŒè¿›åˆ¶æ–‡ä»¶</code>å’Œ<code>æ–‡æœ¬æ–‡ä»¶</code>çš„è¿”å›å€¼æƒ…å†µæœ‰æ‰€ä¸åŒ</p>
<ul>
<li><strong>äºŒè¿›åˆ¶æ–‡ä»¶ï¼š</strong>ä»¥å­—èŠ‚è®¡ç®—è¿”å›å½“å‰ä½ç½®</li>
<li><strong>æ–‡æœ¬æ–‡ä»¶ï¼š</strong>ä¸ä¸€å®šæŒ‰ç…§å­—èŠ‚è®¡æ•°</li>
</ul>
<p><strong>ç”¨é€”ï¼š</strong>å¯èƒ½ä¼šå­˜å‚¨è¿”å›çš„å€¼å¹¶ä¸”ç¨åå°†å…¶æä¾›ç»™<code>fseekå‡½æ•°</code><br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;FILE *&#125; stream æ–‡ä»¶æŒ‡é’ˆ</span><br><span class="line">* @patam &#123;long int&#125; å½“å‰æ–‡ä»¶ä½ç½®ï¼šæˆåŠŸï¼›ï¼1Lï¼šå‘ç”Ÿé”™è¯¯ï¼ˆåŒæ—¶ä¼šæŠŠé”™è¯¯ç å­˜å‚¨åˆ°errnoä¸­ï¼‰</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">int</span> <span class="title">ftell</span><span class="params">(FILE *stream)</span></span>;</span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line">```c</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">int</span> file_pos;</span><br><span class="line">...</span><br><span class="line">file_pos = ftell(fp); <span class="comment">// è·å–å½“å‰æ–‡ä»¶ä½ç½®</span></span><br><span class="line">...</span><br><span class="line">fseek(fp, file_pos, SEEK_SET); <span class="comment">// è¿”å›åˆ°ä¹‹å‰å­˜å‚¨ä¸‹çš„æ–‡ä»¶ä½ç½®å¤„</span></span><br></pre></td></tr></table></figure>
<h4 id="rewindå‡½æ•°"><a href="#rewindå‡½æ•°" class="headerlink" title="rewindå‡½æ•°"></a>rewindå‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æŠŠæ–‡ä»¶ä½ç½®è®¾ç½®åˆ°æ–‡ä»¶èµ·å§‹å¤„ï¼Œå‡ ä¹ç­‰ä»·äº<code>fseek(fp, 0L, SEEK_SET)</code>,å·®å¼‚æ˜¯è¯¥å‡½æ•°æ²¡æœ‰è¿”å›å€¼ï¼Œä½†ä¼šä¸ºfpæ¸…é™¤æ‰<code>é”™è¯¯æŒ‡ç¤ºå™¨</code>ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;FILE *&#125; stream æ–‡ä»¶æŒ‡é’ˆ</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rewind</span><span class="params">(FILE *stream)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="fgetposå‡½æ•°"><a href="#fgetposå‡½æ•°" class="headerlink" title="fgetposå‡½æ•°"></a>fgetposå‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†æŒ‡å®šæµçš„æ–‡ä»¶ä½ç½®å­˜å‚¨åˆ°fpos_tå‹å˜é‡ä¸­<br><strong>åŸå‹ï¼š</strong></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;FILE * restrict&#125; stream æ–‡ä»¶æŒ‡é’ˆ</span><br><span class="line">* @param &#123;fpos_t * restrict&#125; fpos_tå‹å˜é‡</span><br><span class="line">* @return &#123;int&#125; 0ï¼šè°ƒç”¨æˆåŠŸï¼›é0ï¼šè°ƒç”¨å¤±è´¥ ï¼ˆå¹¶å°†é”™è¯¯ç å­˜å‚¨åˆ°errnoï¼‰</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fgetpos</span><span class="params">(FILE *<span class="keyword">restrict</span> stream, fpos_t * <span class="keyword">restrict</span> pos)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="fsetposå‡½æ•°"><a href="#fsetposå‡½æ•°" class="headerlink" title="fsetposå‡½æ•°"></a>fsetposå‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸ºæŒ‡å®šæµè®¾ç½®æ–‡ä»¶fpos_tå‹ä½ç½®<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;FILE *&#125; stream æ–‡ä»¶æŒ‡é’ˆ</span><br><span class="line">* @param &#123;fpos_t&#125; pos æ–‡ä»¶ä½ç½®</span><br><span class="line">* @return &#123;int&#125; 0ï¼šè°ƒç”¨æˆåŠŸï¼›é0ï¼šè°ƒç”¨å¤±è´¥ ï¼ˆå¹¶å°†é”™è¯¯ç å­˜å‚¨åˆ°errnoï¼‰</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fsetpos</span><span class="params">(FILE *stream,  <span class="keyword">const</span> fpos_t *pos)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fpos_t</span> file_pos;</span><br><span class="line">...</span><br><span class="line">fgetpos(fp, &amp;file_pos); <span class="comment">// è·å–å½“å‰æ–‡ä»¶ä½ç½®å¹¶ä¿å­˜</span></span><br><span class="line">...</span><br><span class="line">fsetpos(fp, &amp;file_pos); <span class="comment">// è®¾ç½®æ–‡ä»¶ä½ç½®åˆ°ä¹‹å‰ä¿å­˜çš„ä½ç½®</span></span><br></pre></td></tr></table></figure>
<h3 id="ç¨‹åºï¼šä¿®æ”¹é›¶ä»¶è®°å½•æ–‡ä»¶"><a href="#ç¨‹åºï¼šä¿®æ”¹é›¶ä»¶è®°å½•æ–‡ä»¶" class="headerlink" title="ç¨‹åºï¼šä¿®æ”¹é›¶ä»¶è®°å½•æ–‡ä»¶"></a>ç¨‹åºï¼šä¿®æ”¹é›¶ä»¶è®°å½•æ–‡ä»¶</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * modify a file of part records by setting the quantity</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> NAME_LEN 25	</span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> MAX_PARTS 100</span></span><br><span class="line"><span class="keyword">struct</span> part &#123;</span><br><span class="line">	<span class="keyword">int</span> number;</span><br><span class="line">	<span class="keyword">char</span> name[NAME_LEN + <span class="number">1</span>];</span><br><span class="line">	<span class="keyword">int</span> on_hand;</span><br><span class="line">&#125; inventory[MAX_PARTS];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> num_parts;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	FILE *fp;</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// æ‰“å¼€æ¸…å•</span></span><br><span class="line">	<span class="keyword">if</span> ((fp = fopen(<span class="string">"invent.dat"</span>, <span class="string">"rb+"</span>)) == <span class="literal">NULL</span>) &#123;</span><br><span class="line">		<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">"can't open inventory file\n"</span>);</span><br><span class="line">		<span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// è¯»å–é›¶ä»¶(å…ƒç´ ä¸ºç»“æ„ä½“çš„æ•°ç»„)</span></span><br><span class="line">	num_parts = fread(inventory, sizeof(struct part), MAX_PARTS, fp);</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; num_parts; i++) &#123;</span><br><span class="line">		inventory[i].on_hand = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// ç§»åŠ¨åˆ°æ–‡ä»¶å¼€å§‹å¤„</span></span><br><span class="line">	rewind(fp);</span><br><span class="line"></span><br><span class="line">	<span class="comment">// å°†ä¿®æ”¹åçš„æ¸…å•æ•°æ®å­˜å‚¨åˆ°æ–‡ä»¶ä¸­</span></span><br><span class="line">	fwrite(inventory, <span class="keyword">sizeof</span>(struct part), num_parts, fp);</span><br><span class="line">	fclose(fp);</span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="22-8-å­—ç¬¦ä¸²çš„è¾“å…¥ï¼è¾“å‡º"><a href="#22-8-å­—ç¬¦ä¸²çš„è¾“å…¥ï¼è¾“å‡º" class="headerlink" title="22.8    å­—ç¬¦ä¸²çš„è¾“å…¥ï¼è¾“å‡º"></a>22.8    å­—ç¬¦ä¸²çš„è¾“å…¥ï¼è¾“å‡º</h2><blockquote>
<p><strong>æ‰©å±•ï¼š</strong>è¿˜æœ‰ä¸€ä¸ªä¾èµ–<code>stdarg.h</code>å®šä¹‰<code>va_list</code>çš„<code>vsprintfå‡½æ•°</code>ï¼ˆ<a href="">26.1.2</a>ï¼‰</p>
</blockquote>
<h4 id="sprintfå‡½æ•°"><a href="#sprintfå‡½æ•°" class="headerlink" title="sprintfå‡½æ•°"></a>sprintfå‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç±»ä¼¼<code>printfå‡½æ•°</code>å’Œ<code>fprintfå‡½æ•°</code>ï¼Œå”¯ä¸€çš„ä¸åŒæ˜¯è¯¥å‡½æ•°ä¼šæŠŠè¾“å‡ºå†™å…¥æŒ‡å®šå­—ç¬¦æ•°ç»„è€Œä¸æ˜¯æµä¸­ï¼ˆä¼šåœ¨æœ«å°¾æ·»åŠ ä¸€ä¸ªç©ºå­—ç¬¦ï¼‰ã€‚<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; s å­—ç¬¦æ•°ç»„</span><br><span class="line">* @param &#123;char *&#125; format æ ¼å¼ä¸²</span><br><span class="line">* @param &#123;...*&#125; å¯¹åº”æ ¼å¼ä¸²ä¸­çš„è½¬æ¢è¯´æ˜çš„å‚æ•°</span><br><span class="line">* @return &#123;int&#125; å†™å…¥çš„å­—ç¬¦æ•°ï¼ˆä¸åŒ…æ‹¬ç©ºå­—ç¬¦ï¼‰ï¼šæˆåŠŸï¼›è´Ÿå€¼ï¼šå†™å…¥å‡ºé”™</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sprintf</span><span class="params">(<span class="keyword">char</span> *s, <span class="keyword">const</span> *format, ...)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sprintf</span>(str, <span class="string">"%d/%d/%d"</span>, <span class="number">9</span>, <span class="number">20</span>, <span class="number">94</span>); <span class="comment">// str: 9/20/94</span></span><br></pre></td></tr></table></figure>
<h4 id="sscanfå‡½æ•°"><a href="#sscanfå‡½æ•°" class="headerlink" title="sscanfå‡½æ•°"></a>sscanfå‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç±»ä¼¼<code>scanfå‡½æ•°</code>å’Œ<code>fscanfå‡½æ•°</code>ï¼Œå”¯ä¸€çš„ä¸åŒæ˜¯è¯¥å‡½æ•°æ˜¯ä»å­—ç¬¦æ•°ç»„è€Œä¸æ˜¯æµä¸­è¯»å–æ•°æ®ã€‚<br><strong>åŸå‹ï¼š</strong><code>stdio.h</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;char *&#125; format æ ¼å¼ä¸²</span><br><span class="line">* @param &#123;...*&#125; åŒ¹é…å¹¶è½¬æ¢åçš„å†…å®¹å¯¹åº”çš„å­˜å‚¨ä½ç½®</span><br><span class="line">* @return &#123;int&#125; è¯»å…¥å¹¶èµ‹å€¼ç»™å®å‚çš„æ•°æ®é¡¹æ•°é‡ï¼šæˆåŠŸï¼›EOFï¼šå¤±è´¥(æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ•°æ®é¡¹ä¹‹å‰åˆ°è¾¾)</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sscanf</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *s, <span class="keyword">const</span> <span class="keyword">char</span> *format, ...)</span></span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨fgetså‡½æ•°æ¥è·å–ä¸€è¡Œè¾“å…¥ï¼Œç„¶åæŠŠæ­¤è¡Œæ•°æ®ä¼ é€’ç»™scanfå‡½æ•°è¿›ä¸€æ­¥å¤„ç†</span></span><br><span class="line">fgets(str, <span class="keyword">sizeof</span>(str));</span><br><span class="line"><span class="built_in">sscanf</span>(str, <span class="string">"%d%d"</span>, &amp;i, &amp;j);</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»å­—ç¬¦ä¸²ä¸­è¯»å–æ—¥æœŸ</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">sscanf</span>(str, <span class="string">"%d/%d/%d"</span>, &amp;month, &amp;day, &amp;year) == <span class="number">3</span>) &#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Month: %d, day: %d, year: %d\n"</span>, month, day, year);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (sscanf(str, <span class="string">"%d-%d-%d"</span>, &amp;month, &amp;day, &amp;year) == <span class="number">3</span>) &#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Month: %d, day: %d, year: %d\n"</span>, month, day, year);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/10/21 æ ‡å‡†åº“/" itemprop="url">
                  21	æ ‡å‡†åº“
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-10T22:33:07+08:00" content="2016-05-10">
              2016-05-10
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/10/21 æ ‡å‡†åº“/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/10/21 æ ‡å‡†åº“/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="21-1-æ ‡å‡†åº“çš„ä½¿ç”¨"><a href="#21-1-æ ‡å‡†åº“çš„ä½¿ç”¨" class="headerlink" title="21.1    æ ‡å‡†åº“çš„ä½¿ç”¨"></a>21.1    æ ‡å‡†åº“çš„ä½¿ç”¨</h2><blockquote>
<p><strong>æ ‡å‡†å¤´ï¼š</strong>ä¾æ®Cæ ‡å‡†ï¼Œä¸€ä¸ªâ€œæ ‡å‡†å¤´â€ä¸éœ€è¦ä¸€å®šæ˜¯æ–‡ä»¶ï¼Œæœ‰å¯èƒ½å†…ç½®åœ¨ç¼–è¯‘å™¨è‡ªèº«ä¸­ã€‚<br><strong>æ ‡å‡†åº“ï¼š</strong>Cè¯­è¨€çš„æ ‡å‡†åº“æ€»å…±åˆ’åˆ†æˆ<code>15</code>ä¸ªéƒ¨åˆ†ï¼Œæ¯ä¸ªéƒ¨åˆ†ç”¨ä¸€ä¸ªå¤´æè¿°ã€‚<br><strong>æ‰©å±•ï¼š</strong>è®¸å¤šç¼–è¯‘å™¨ä¼šä½¿ç”¨æ‰©å±•åçš„åº“ï¼Œè¿™ç±»åº“ï¼ˆå¤´æ–‡ä»¶ï¼‰é€šå¸¸æä¾›ä¸€äº›é’ˆå¯¹ç‰¹å®šç•¸å½¢æˆ–ç‰¹å®šæ“ä½œç³»ç»Ÿçš„å‡½æ•°ï¼ˆæ¯”å¦‚æ›´å¤šå¯¹å±å¹•æˆ–é”®ç›˜æ“ä½œçš„å‡½æ•°ï¼Œç”¨äºæ”¯æŒå›¾å½¢æˆ–çª—å£ç•Œé¢çš„å¤´ç­‰ï¼‰</p>
</blockquote>
<h3 id="21-1-1-åŒ…å«æ ‡å‡†å¤´çš„ç¨‹åºä¸­ä½¿ç”¨çš„åå­—çš„ä¸€äº›é™åˆ¶"><a href="#21-1-1-åŒ…å«æ ‡å‡†å¤´çš„ç¨‹åºä¸­ä½¿ç”¨çš„åå­—çš„ä¸€äº›é™åˆ¶" class="headerlink" title="21.1.1    åŒ…å«æ ‡å‡†å¤´çš„ç¨‹åºä¸­ä½¿ç”¨çš„åå­—çš„ä¸€äº›é™åˆ¶"></a>21.1.1    åŒ…å«æ ‡å‡†å¤´çš„ç¨‹åºä¸­ä½¿ç”¨çš„åå­—çš„ä¸€äº›é™åˆ¶</h3><blockquote>
<p><strong>æ„ä¹‰ï¼š</strong>è™½ç„¶è¿™äº›è§„åˆ™å¹¶ä¸æ€»æ˜¯å¼ºåˆ¶æ€§çš„ï¼Œä½†ä¸éµå®ˆè¿™äº›è§„åˆ™å¯èƒ½ä¼šå¯¼è‡´ç¨‹åºçš„å¯ç§»æ¤æ€§ä¸‹é™ã€‚</p>
</blockquote>
<h4 id="å¿…éœ€éµå®ˆ"><a href="#å¿…éœ€éµå®ˆ" class="headerlink" title="å¿…éœ€éµå®ˆ"></a>å¿…éœ€éµå®ˆ</h4><ul>
<li><strong>å®çš„åå­—ï¼š</strong>ä¸èƒ½å†ä½¿ç”¨åœ¨å¤´æ–‡ä»¶ä¸­å®šä¹‰è¿‡çš„å®çš„åå­—</li>
<li><strong>ç±»å‹åï¼ˆ<code>typedef</code>ï¼‰ï¼š</strong>å…·æœ‰æ–‡ä»¶ä½œç”¨åŸŸçš„åº“åï¼ˆåŒ…æ‹¬ç±»å‹åï¼‰ä¸å¯ä»¥åœ¨æ–‡ä»¶å±‚æ¬¡é‡æ–°å®šä¹‰</li>
</ul>
<h4 id="å»ºè®®éµå®ˆï¼ˆé¿å¼€ä¿ç•™å­—ï¼‰"><a href="#å»ºè®®éµå®ˆï¼ˆé¿å¼€ä¿ç•™å­—ï¼‰" class="headerlink" title="å»ºè®®éµå®ˆï¼ˆé¿å¼€ä¿ç•™å­—ï¼‰"></a>å»ºè®®éµå®ˆï¼ˆé¿å¼€ä¿ç•™å­—ï¼‰</h4><ul>
<li>ç”±<code>_å¤§å†™å­—æ¯</code>æˆ–<code>__</code>å¼€å¤´çš„æ ‡è¯†ç¬¦</li>
<li>ç”±<code>_</code>å¼€å¤´çš„æ ‡è¯†ç¬¦ï¼ˆé™¤éä»…å£°æ˜åœ¨å‡½æ•°å†…éƒ¨ï¼‰</li>
<li>æ ‡å‡†åº“ä¸­æ‰€æœ‰å…·å¤‡å¤–éƒ¨é“¾æ¥çš„æ ‡è¯†ç¬¦ï¼Œç‰¹åˆ«æ˜¯æ‰€æœ‰æ ‡å‡†åº“ä¸­çš„å‡½æ•°</li>
</ul>
<h3 id="21-1-2-ä½¿ç”¨å®éšè—å‡½æ•°"><a href="#21-1-2-ä½¿ç”¨å®éšè—å‡½æ•°" class="headerlink" title="21.1.2    ä½¿ç”¨å®éšè—å‡½æ•°"></a>21.1.2    ä½¿ç”¨å®éšè—å‡½æ•°</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ ‡å‡†åº“ä¸­ç»å¸¸ä¼šä¸ºå°çš„å®é™…å‡½æ•°å®šä¹‰åŒåçš„å®å‡½æ•°ï¼Œè¿™æ˜¯å…è®¸çš„ï¼Œç›®çš„æ˜¯æé«˜ç¨‹åºçš„è¿è¡Œé€Ÿåº¦ã€‚<br><strong>å–æ¶ˆéšè—ï¼š</strong>å¦‚æœéœ€è¦å°½é‡ç¼©å°å¯æ‰§è¡Œä»£ç çš„å¤§å°ï¼Œæˆ–è€…éœ€è¦ä¸€ä¸ªæŒ‡å‘è¿™ä¸ªåº“å‡½æ•°çš„æŒ‡é’ˆï¼Œå¯ä»¥ä½¿ç”¨<code>undef</code>å–æ¶ˆç›¸åº”çš„çº¢å®šä¹‰å³å¯ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;ctype.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta"># <span class="meta-keyword">undef</span> isprint <span class="comment">// å³ä½¿isprintæ²¡å®šä¹‰è¿‡ï¼Œä¹Ÿä¸ä¼šæœ‰è´Ÿé¢å½±å“</span></span></span><br></pre></td></tr></table></figure>
<p><strong>ç»•è¿‡å®è°ƒç”¨ï¼š</strong>å¯ä»¥é€šè¿‡ä¸ºå‡½æ•°ååŠ åœ†æ‹¬å·æ¥å±è”½ä¸ªåˆ«å®è°ƒç”¨<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(isptint)(); <span class="comment">// é¢„å¤„ç†å™¨æ— æ³•åˆ†è¾¨å‡ºå¸¦åœ†æ‹¬å·çš„å®ï¼Œè€Œç¼–è¯‘å™¨ä»å¯è®¤å‡ºisprintå‡½æ•°</span></span><br></pre></td></tr></table></figure></p>
<h2 id="21-2-æ ‡å‡†åº“æ¦‚è¿°"><a href="#21-2-æ ‡å‡†åº“æ¦‚è¿°" class="headerlink" title="21.2    æ ‡å‡†åº“æ¦‚è¿°"></a>21.2    æ ‡å‡†åº“æ¦‚è¿°</h2><table>
<thead>
<tr>
<th>æ¦‚è¿°</th>
<th>æ ‡å‡†å¤´ï¼ˆ15ä¸ªï¼‰</th>
<th>æä¾›çš„åŠŸèƒ½</th>
<th>ç›¸å…³ç« èŠ‚</th>
</tr>
</thead>
<tbody>
<tr>
<td>è¯Šæ–­</td>
<td>assert.h</td>
<td>ä»…åŒ…å«<code>assert</code>å®ï¼Œæ£€æŸ¥ç¨‹åºçš„çŠ¶æ€ï¼Œä¸€æ—¦ä»»ä½•æ£€æŸ¥å¤±è´¥ï¼Œç¨‹åºç»ˆæ­¢</td>
<td><a href="">24.1</a></td>
</tr>
<tr>
<td>å­—ç¬¦å¤„ç†</td>
<td>ctype.h</td>
<td>åŒ…æ‹¬ç”¨äºå­—ç¬¦åˆ†ç±»åŠå¤§å°å†™è½¬æ¢çš„å‡½æ•°</td>
<td><a href="">23.4</a></td>
</tr>
<tr>
<td>é”™è¯¯</td>
<td>errno.h</td>
<td>æä¾›äº†<code>errno(&quot;errno number&quot;)</code>ï¼Œerrnoæ˜¯ä¸€ä¸ªå·¦å€¼ï¼Œå¯ä»¥åœ¨è°ƒç”¨ç‰¹å®šè‹¦å‡½æ•°åè¿›è¡Œç›‘æµ‹ï¼Œæ¥åˆ¤æ–­è°ƒç”¨è¿‡ç¨‹ä¸­æ˜¯å¦æœ‰é”™è¯¯å‘ç”Ÿ</td>
<td><a href="">24.2</a></td>
</tr>
<tr>
<td>æµ®ç‚¹å‹çš„ç‰¹ç‚¹</td>
<td>float.h</td>
<td>æä¾›äº†ç”¨äºæè¿°æµ®ç‚¹å‹ç‰¹ç‚¹çš„å®ï¼ŒåŒ…æ‹¬å€¼çš„èŒƒå›´åŠç²¾åº¦</td>
<td><a href="">23.1</a></td>
</tr>
<tr>
<td>æ•´å‹çš„å¤§å°</td>
<td>limits.h</td>
<td>æä¾›äº†ç”¨äºæè¿°æ•´æ•°ç±»å‹å’Œå­—ç¬¦ç±»å‹çš„å®ï¼ŒåŒ…æ‹¬å®ƒä»¬çš„æœ€å¤§å€¼å’Œæœ€å°å€¼</td>
<td><a href="">23.2</a></td>
</tr>
<tr>
<td>æœ¬åœ°åŒ–</td>
<td>locale.h</td>
<td>ä¸æœ¬åœ°åŒ–ç›¸å…³çš„è¡Œä¸ºï¼ŒåŒ…æ‹¬å°æ•°ç‚¹çš„å­—ç¬¦ã€è´§å¸çš„æ ¼å¼ã€å­—ç¬¦é›†ä¸€é›†æ—¥æœŸå’Œæ—¶é—´çš„æ˜¾ç¤º</td>
<td><a href="">25.1</a></td>
</tr>
<tr>
<td>æ•°å­¦è®¡ç®—</td>
<td>math.h</td>
<td>å¤§é‡ç”¨äºæ•°æ®è®¡ç®—çš„å‡½æ•°ï¼Œå¤§éƒ¨åˆ†ä½¿ç”¨doubleç±»å‹çš„å®å‚ï¼Œå¹¶è¿”å›ä¸€ä¸ªdoubleç±»å‹çš„å€¼</td>
<td><a href="">23.3</a></td>
</tr>
<tr>
<td>éæœ¬åœ°æ¡è½¬</td>
<td>setjmp.h</td>
<td>setjmpå‡½æ•°å’Œlongjmpå‡½æ•°<a href="**setjmpå‡½æ•°å’Œlongå‡½æ•°ï¼š**ä¼šâ€œæ ‡è®°â€ç¨‹åºä¸­çš„ä¸€ä¸ªä½ç½®ï¼Œéšåå¯ä»¥ç”¨`longjmp`è¿”å›è¢«æ ‡è®°çš„ä½ç½®ï¼Œè¿™äº›å‡½æ•°å¯ä»¥ç”¨æ¥ä»ä¸€ä¸ªå‡½æ•°è·³è½¬åˆ°å¦ä¸€ä¸ªï¼ˆä»ç„¶æ´»åŠ¨ä¸­çš„ï¼‰å‡½æ•°ä¸­ç»•è¿‡æ­£å¸¸çš„å‡½æ•°è¿”å›æœºåˆ¶ã€‚`setjmp`å‡½æ•°å’Œ`longjmp`å‡½æ•°ä¸»è¦ç”¨æ¥å¤„ç†ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­çš„é‡å¤§é—®é¢˜ã€‚">^21-2-7</a></td>
<td><a href="">24.4</a></td>
</tr>
<tr>
<td>ä¿¡å·å¤„ç†</td>
<td>signal.h</td>
<td>ç”¨äºå¼‚å¸¸æƒ…å†µï¼ˆä¿¡å·ï¼‰å¤„ç†çš„å‡½æ•°ï¼ŒåŒ…æ‹¬ç»ˆç«¯å’Œè¿è¡Œæ—¶é”™è¯¯<a href="**sinalå‡½æ•°ï¼š**å¯ä»¥è®¾ç½®ä¸€ä¸ªå‡½æ•°ï¼Œä½¿ç³»ç»Ÿä¼šåœ¨ç»™å®šä¿¡å·å‘ç”Ÿåè‡ªåŠ¨è°ƒç”¨æ”¹å‡½æ•°ï¼›`raiseå‡½æ•°`ç”¨æ¥äº§ç”Ÿä¸€ä¸ªä¿¡å·ã€‚">^21-2-8-signal</a></td>
<td><a href="">24.4</a></td>
</tr>
<tr>
<td>å¯å˜å®é™…å‚æ•°</td>
<td>stdarg.h</td>
<td>æä¾›ç»™å‡½æ•°å¯ä»¥å¤„ç†ä¸å®šä¸ªå‚æ•°çš„çš„å·¥å…·ï¼Œå°±åƒ<code>printf</code>å’Œ<code>scanf</code>å‡½æ•°</td>
<td><a href="">26.1</a></td>
</tr>
<tr>
<td>å¸¸ç”¨å®šä¹‰</td>
<td>stddef.h</td>
<td>æä¾›äº†ç»å¸¸ä½¿ç”¨çš„ç±»å‹å’Œå®çš„å®šä¹‰</td>
<td><a href="">21.3</a></td>
</tr>
<tr>
<td>è¾“å…¥ï¼è¾“å‡º</td>
<td>stdio.h</td>
<td>æä¾›äº†å¤§é‡ç”¨äºè¾“å…¥ï¼è¾“å‡ºçš„å‡½æ•°ï¼ŒåŒ…æ‹¬å¯¹é¡ºåºè¯»å†™å’Œéšæœºè¯»å†™æ–‡ä»¶çš„æ“ä½œ</td>
<td><a href="">22.1</a></td>
<td></td>
</tr>
<tr>
<td>å¸¸ç”¨å®ç”¨ç¨‹åº</td>
<td>stdlib.h</td>
<td>åŒ…å«äº†å¤§é‡æ— æ³•åè´µå…¶å®ƒå¤´çš„å‡½æ•°[^stdlib]</td>
<td><a href="">26.2</a></td>
</tr>
<tr>
<td>å­—ç¬¦ä¸²å¤„ç†</td>
<td>string.h</td>
<td>æä¾›äº†ç”¨äºè¿›è¡Œå­—ç¬¦ä¸²æ“ä½œçš„å‡½æ•°ï¼ŒåŒ…æ‹¬è‚¤è´¨ã€æ‹¼æ¥ã€æ¯”è¾ƒä»¥åŠæœç´¢</td>
<td><a href="">23.5</a></td>
</tr>
<tr>
<td>æ—¥æœŸä¸æ—¶é—´</td>
<td>time.h</td>
<td>æä¾›ç›¸åº”çš„å‡½æ•°æ¥è·å–æ—¥æœŸå’Œæ—¶é—´ã€æ“ä½œæ—¶é—´å’Œä»¥å¤šç§æ–¹å¼æ˜¾ç¤ºæ—¶é—´ç­‰ã€‚</td>
<td><a href="">26.3</a></td>
</tr>
</tbody>
</table>
<h2 id="21-3-ï¼šå¸¸ç”¨å®šä¹‰"><a href="#21-3-ï¼šå¸¸ç”¨å®šä¹‰" class="headerlink" title="21.3    ï¼šå¸¸ç”¨å®šä¹‰"></a>21.3    <stddef.h>ï¼šå¸¸ç”¨å®šä¹‰</stddef.h></h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>stddef.h</code>æä¾›äº†å¸¸ç”¨çš„ç±»å‹å’Œå®çš„å®šä¹‰ï¼Œä½†æ²¡æœ‰å£°æ˜ä»»ä½•å‡½æ•°ã€‚</p>
</blockquote>
<h3 id="21-3-1-å®šä¹‰çš„ç±»å‹"><a href="#21-3-1-å®šä¹‰çš„ç±»å‹" class="headerlink" title="21.3.1    å®šä¹‰çš„ç±»å‹"></a>21.3.1    å®šä¹‰çš„ç±»å‹</h3><table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
<th>åŸå§‹ç±»å‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>ptrdiff_t</td>
<td>å½“è®°æ€§æŒ‡é’ˆç›¸å‡è¿ç®—æ—¶ï¼Œå…¶ç»“æœçš„ç±»å‹</td>
<td>æ•´æ•°ç±»å‹</td>
</tr>
<tr>
<td>size_t</td>
<td>è¿ç®—ç¬¦<code>sizeof</code>çš„è¿”å›å€¼ç±»å‹</td>
<td>æ•´æ•°ç±»å‹</td>
</tr>
<tr>
<td>wchar_t</td>
<td>ä¸€ç§è¶³å¤Ÿå¤§çš„ã€å¯ä»¥ç”¨äºè¡¨ç¤ºæ‰€æœ‰æ”¯æŒçš„åœ°åŒºçš„æ‰€æœ‰å­—ç¬¦çš„ç±»å‹</td>
<td>æ•´æ•°ç±»å‹</td>
</tr>
</tbody>
</table>
<h3 id="21-3-2-å®šä¹‰çš„å®"><a href="#21-3-2-å®šä¹‰çš„å®" class="headerlink" title="21.3.2    å®šä¹‰çš„å®"></a>21.3.2    å®šä¹‰çš„å®</h3><table>
<thead>
<tr>
<th>å®</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>NULL</td>
<td>ç©ºæŒ‡é’ˆ</td>
</tr>
<tr>
<td>offsetof</td>
<td>è®¡ç®—ç»“æ„çš„èµ·ç‚¹åˆ°æŒ‡å®šæˆå‘˜é—´çš„å­—èŠ‚æ•°</td>
</tr>
</tbody>
</table>
<h4 id="21-3-2-1-offsetof"><a href="#21-3-2-1-offsetof" class="headerlink" title="21.3.2.1    offsetof"></a>21.3.2.1    offsetof</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è®¡ç®—ç»“æ„æˆå‘˜çš„åç§»é‡ï¼ˆè·ç»“æ„èµ·ç‚¹çš„è·ç¦»ï¼‰<br><strong>ç”¨é€”ï¼š</strong>å¯¹äººå’Œç¼–è¯‘å™¨éƒ½ä¼šè¿”å›æ­£ç¡®çš„åç§»é‡ï¼Œä½¿æˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€è‡´æ€§æ›´å¥½çš„ç¨‹åºã€‚<br><strong>ç»“æ„ä½“æˆå‘˜çš„åç§»é‡ï¼š</strong>ä¸€äº›ç¼–è¯‘å™¨ä¼šåœ¨ç»“æ„ä¸­ç•™ä¸‹ä¸€äº›ç©ºæ´ï¼ˆæ— æ•ˆå­—èŠ‚ï¼‰ï¼Œä»è€Œå½±å“åˆ°<code>offsetof</code>äº§ç”Ÿçš„å€¼ã€‚</p>
</blockquote>
<p><code>@param {struct}</code> ç»“æ„ç±»å‹æœ¬èº«ï¼ˆä¸æ˜¯å®ä¾‹ï¼‰<br><code>@param {*}</code> ç»“æ„çš„æˆå‘˜<br><code>@return {int}</code> ç»“æ„çš„èµ·ç‚¹åˆ°æŒ‡å®šæˆå‘˜çš„å­—èŠ‚æ•°</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> s &#123;</span><br><span class="line">	<span class="keyword">char</span> a;</span><br><span class="line">	<span class="keyword">int</span> b[<span class="number">2</span>];</span><br><span class="line">	<span class="keyword">float</span> c;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">offsetof(<span class="keyword">struct</span> s, a); <span class="comment">// 0ï¼ŒCè¯­è¨€ç¡®ä¿ç»“æ„çš„ç¬¬ä¸€ä¸ªæˆå‘˜çš„åœ°å€ä¸ç»“æ„è‡ªèº«åœ°å€ç›¸åŒ</span></span><br><span class="line"></span><br><span class="line">offsetof(<span class="keyword">struct</span> s, b); <span class="comment">// 1ï¼ˆæˆ–2ï¼‰</span></span><br><span class="line">offsetof(<span class="keyword">struct</span> s, c); <span class="comment">// 5ï¼ˆæˆ–6ï¼‰</span></span><br></pre></td></tr></table></figure>
<hr>
<p>[^stdlib]:  åŒ…å«åœ¨<code>&lt;stdlib.h&gt;</code>ä¸­çš„å‡½æ•°å¯ä»¥å°†å­—ç¬¦ä¸²è½¬æ¢æˆæ•°ã€äº§ç”Ÿéšæœºå€¼ã€æ‰§è¡Œå†…å­˜ç®¡ç†ä»»åŠ¡ã€åŸŸæ“ä½œç³»ç»Ÿé€šä¿¡ã€æ‰§è¡Œæœç´¢ä¸æ’åºä»¥åŠå¯¹å¤šå­—èŠ‚å­—ç¬¦åŠå­—ç¬¦ä¸²è¿›è¡Œæ“ä½œã€‚</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/10/20 ä½çº§ç¨‹åºè®¾è®¡/" itemprop="url">
                  20 ä½çº§ç¨‹åºè®¾è®¡
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-10T22:05:58+08:00" content="2016-05-10">
              2016-05-10
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/10/20 ä½çº§ç¨‹åºè®¾è®¡/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/10/20 ä½çº§ç¨‹åºè®¾è®¡/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä½æ“ä½œå’Œå…¶ä»–ä¸€äº›ä½çº§è¿ç®—åœ¨ç¼–å†™ç³»ç»Ÿç¨‹åºï¼ˆåŒ…æ‹¬ç¼–è¯‘å™¨å’Œæ“ä½œç³»ç»Ÿï¼‰ã€åŠ å¯†ç¨‹åºã€å›¾å½¢ç¨‹åºä»¥åŠå…¶ä»–ä¸€äº›éœ€è¦é«˜æ‰§è¡Œé€Ÿåº¦æˆ–é«˜æ•ˆåœ°ä½¿ç”¨ç©ºé—´çš„ç¨‹åºæ—¶éå¸¸æœ‰ç”¨ã€‚</p>
</blockquote>
<h2 id="20-1-æŒ‰ä½è¿ç®—ç¬¦"><a href="#20-1-æŒ‰ä½è¿ç®—ç¬¦" class="headerlink" title="20.1    æŒ‰ä½è¿ç®—ç¬¦"></a>20.1    æŒ‰ä½è¿ç®—ç¬¦</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>Cè¯­è¨€ä¸€å…±æä¾›äº†6ä¸ªæŒ‰ä½è¿ç®—ç¬¦ã€‚</p>
</blockquote>
<h3 id="20-1-1-ç§»ä½è¿ç®—ç¬¦"><a href="#20-1-1-ç§»ä½è¿ç®—ç¬¦" class="headerlink" title="20.1.1    ç§»ä½è¿ç®—ç¬¦"></a>20.1.1    ç§»ä½è¿ç®—ç¬¦</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç§»ä½è¿ç®—ç¬¦å¯ä»¥æ”¹å˜æ•°çš„äºŒè¿›åˆ¶å½¢å¼ï¼Œå°†å®ƒçš„ä½å‘å·¦æˆ–å‘å³ç§»åŠ¨ã€‚<br><strong>ä¼˜å…ˆçº§ï¼š</strong>ä½äºç®—æ•°è¿ç®—ç¬¦<code>i&lt;&lt;2+1 &lt;==&gt; i&lt;&lt;(2+1)</code><br><strong>æ“ä½œæ•°ç±»å‹è¦æ±‚ï¼š</strong>å¯ä»¥æ˜¯ä»»æ„æ•´å‹æˆ–å­—ç¬¦å‹çš„<br><strong>å‰¯ä½œç”¨ï¼š</strong>ä¸å­˜åœ¨ï¼ˆä¸ä¼šæ”¹å˜æ“ä½œæ•°æœ¬èº«ï¼‰<br>|è¿ç®—ç¬¦|åç§°|ç¤ºä¾‹|è¿”å›å€¼|å¤åˆç§»ä½è¿ç®—ç¬¦|<br>|-|-|-|-|-|<br>|<code>&lt;&lt;</code>|å·¦ä½ç§»|<code>i&lt;&lt;j</code>|<code>i</code>ä¸­çš„ä½å·¦ç§»<code>j</code>ä½çš„ç»“æœï¼ˆå·¦ç«¯æº¢å‡ºï¼Œå³ç«¯è¡¥0ï¼‰|<code>&lt;&lt;=</code>|<br>|<code>&gt;&gt;</code>|å³ä½ç§»|<code>i&gt;&gt;j</code>|<code>i</code>ä¸­çš„ä½å³ç§»<code>j</code>ä½çš„ç»“æœï¼ˆå³ç«¯æº¢å‡ºï¼Œå·¦ç«¯è¡¥0æˆ–ä¿å­˜ç¬¦å·ä½è€Œè¡¥1ï¼‰|<code>&gt;&gt;=</code>|</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> i, j;</span><br><span class="line">i = <span class="number">13</span>; <span class="comment">// 0000000000001101(16ä½)</span></span><br><span class="line">j = i &lt;&lt; <span class="number">2</span>; <span class="comment">// 0000000000110100(16ä½)</span></span><br><span class="line">j = i &gt;&gt; <span class="number">2</span>; <span class="comment">// 0000000000000011(16ä½)</span></span><br></pre></td></tr></table></figure>
<h3 id="20-1-2-æŒ‰ä½æ±‚åã€æŒ‰ä½ä¸ã€æŒ‰ä½äº¦æˆ–ã€æŒ‰ä½æˆ–"><a href="#20-1-2-æŒ‰ä½æ±‚åã€æŒ‰ä½ä¸ã€æŒ‰ä½äº¦æˆ–ã€æŒ‰ä½æˆ–" class="headerlink" title="20.1.2    æŒ‰ä½æ±‚åã€æŒ‰ä½ä¸ã€æŒ‰ä½äº¦æˆ–ã€æŒ‰ä½æˆ–"></a>20.1.2    æŒ‰ä½æ±‚åã€æŒ‰ä½ä¸ã€æŒ‰ä½äº¦æˆ–ã€æŒ‰ä½æˆ–</h3><blockquote>
<p><strong>ä¼˜å…ˆçº§ï¼š</strong><code>~</code> &gt; <code>&amp;</code> &gt; <code>^</code> &gt; <code>|</code>ï¼Œéƒ½æ¯”<code>å…³ç³»è¿ç®—ç¬¦</code>å’Œ<code>åˆ¤ç­‰è¿ç®—ç¬¦</code>ä½ã€‚<br><strong>æŠ€å·§ï¼š</strong>ä½¿ç”¨<code>~</code>åˆ›å»ºåœ¨ä½ä¸€çº§å…·å¤‡å¯ç§»æ¤æ€§çš„ç¨‹åºï¼ˆä¾‹å­ï¼‰</p>
<ol>
<li>~0ï¼šæ‰€æœ‰ä½éƒ½ä¸º1çš„æ•´æ•°ï¼ˆå¦åˆ™å°±è¦æœ€å¤§çš„æ•´æ•°ï¼Œä½†ä¸åŒä½çš„æœºå™¨ä¸åŒï¼‰</li>
<li>~0x001fï¼šé™¤äº†æœ€å5ä½å…¶å®ƒä¸ºéƒ½ä¸º1<br>|ç¬¦å·|åç§°|è¿”å›å€¼|å¤åˆè¿ç®—ç¬¦|<br>|-|-|-|-|<br>|<code>~</code>|æŒ‰ä½æ±‚å|å°†æ¯ä¸€ä¸ª0æ›¿æ¢æˆ1ï¼Œæ¯ä¸€ä¸ª1æ›¿æ¢æˆ0|<code>~=</code>|<br>|<code>&amp;</code>|æŒ‰ä½ä¸|å¯¹ä¸¤ä¸ªæ“ä½œæ•°ç›¸åº”çš„ä½æ‰§è¡Œé€»è¾‘ä¸è¿ç®—|<code>&amp;=</code>|<br>|<code>^</code>|æŒ‰ä½äº¦æˆ–|å¯¹ä¸¤ä¸ªæ“ä½œæ•°ç›¸åº”çš„ä½æ‰§è¡Œé€»è¾‘æˆ–æ“ä½œï¼Œéƒ½æ˜¯1æ—¶äº§ç”Ÿ0|<code>^=</code>|<br>|<code>\</code>|æŒ‰ä½æˆ–|å¯¹ä¸¤ä¸ªæ“ä½œæ•°ç›¸åº”çš„ä½æ‰§è¡Œé€»è¾‘æˆ–æ“ä½œï¼Œéƒ½æ˜¯1æ—¶äº§ç”Ÿ1|<code>\=</code>|</li>
</ol>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡è®¾unsigned intç±»å‹çš„å€¼å 16ä½</span></span><br><span class="line">i = <span class="number">21</span>; <span class="comment">//    0000000000010101</span></span><br><span class="line">j = <span class="number">56</span>; <span class="comment">//    0000000000111000</span></span><br><span class="line">k = ~i; <span class="comment">//    1111111111101010</span></span><br><span class="line">k = i &amp; j; <span class="comment">// 0000000000010000</span></span><br><span class="line">k = i ^ j; <span class="comment">// 0000000000101101</span></span><br><span class="line">k = i | j; <span class="comment">// 0000000000111101</span></span><br><span class="line"></span><br><span class="line">i = <span class="number">21</span>;</span><br><span class="line">j = <span class="number">56</span>;</span><br><span class="line">i &amp;= j;</span><br><span class="line">i ^= j;</span><br><span class="line">i |= j;</span><br></pre></td></tr></table></figure>
<h3 id="20-1-3-ç”¨æŒ‰ä½è¿ç®—ç¬¦è®¿é—®ä½"><a href="#20-1-3-ç”¨æŒ‰ä½è¿ç®—ç¬¦è®¿é—®ä½" class="headerlink" title="20.1.3    ç”¨æŒ‰ä½è¿ç®—ç¬¦è®¿é—®ä½"></a>20.1.3    ç”¨æŒ‰ä½è¿ç®—ç¬¦è®¿é—®ä½</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šè¿‡æŒ‰ä½è¿ç®—ï¼Œå¯ä»¥æå–æˆ–ä¿®æ”¹å­˜å‚¨åœ¨å°‘æ•°å‡ ä¸ªä½ä¸­çš„æ•°æ®ã€‚<br><strong>ç”¨é€”ï¼š</strong>æ¯”å¦‚ï¼Œåœ¨ç¼–å†™å›¾å½¢ç¨‹åºæ—¶ï¼Œå¯èƒ½ä¼šéœ€è¦è®²ä¸¤ä¸ªæˆ–æ›´å¤šçš„åƒç´ æŒ¤åœ¨ä¸€ä¸ªå­—èŠ‚ä¸­ï¼Œä»è€Œé™ä½ç©ºé—´å¤æ‚åº¦å’Œæ—¶é—´å¤æ‚åº¦ã€‚<br><strong>æ–¹å¼ï¼š</strong>æ„é€ â€œæ©ç â€ï¼Œé€šè¿‡æŒ‰ä½å¤åˆè¿ç®—ä¿®æ”¹ä½</p>
<h4 id="è®¾ç½®ä½ï¼ˆä¸º1ï¼‰"><a href="#è®¾ç½®ä½ï¼ˆä¸º1ï¼‰" class="headerlink" title="è®¾ç½®ä½ï¼ˆä¸º1ï¼‰"></a>è®¾ç½®ä½ï¼ˆä¸º1ï¼‰</h4><p><strong>è¯´æ˜ï¼š</strong> é€šè¿‡ä¸â€œæ©ç â€è¿›è¡Œ<code>æŒ‰ä½æˆ–è¿ç®—</code>è®¾ç½®æŸä¸€ä½ä¸º1<br><strong>æ©ç ï¼š</strong>é™¤è¦è®¾ç½®çš„ä½å¤–éƒ½ä¸º0ï¼ˆå¯ä»¥é€šè¿‡å¯¹æ•´æ•°1è¿›è¡Œç§»ä½è¿ç®—æ„é€ æ©ç ï¼‰ï¼ˆ<code>0000000000001000</code>ï¼‰ã€‚<br><strong>ç›¸å…³æŒ‰ä½è¿ç®—ï¼š</strong><code>æŒ‰ä½æˆ–è¿ç®—</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">0x0000</span>;</span><br><span class="line"><span class="comment">// å°†ç¬¬4ä½è®¾ç½®ä¸º1</span></span><br><span class="line"><span class="comment">// 0000000000000000 (i)</span></span><br><span class="line"><span class="comment">// 0000000000001000 (æ©ç )</span></span><br><span class="line"><span class="comment">// 0000000000001000 (æŒ‰ä½æˆ–è¿ç®—ç»“æœ)</span></span><br><span class="line">i |= <span class="number">0x0010</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ›´é€šç”¨çš„æ–¹å¼,é€šè¿‡ç§»ä½è¿ç®—çµæ´»æ„é€ æ©ç </span></span><br><span class="line">i |= <span class="number">1</span> &lt;&lt; j; <span class="comment">// ä½¿ç”¨ç§»ä½è¿ç®—æ„é€ æ©ç </span></span><br></pre></td></tr></table></figure>
<h4 id="å°†ä½æ¸…é›¶"><a href="#å°†ä½æ¸…é›¶" class="headerlink" title="å°†ä½æ¸…é›¶"></a>å°†ä½æ¸…é›¶</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šè¿‡ä¸â€œæ©ç â€è¿›è¡Œ<code>æŒ‰ä½ä¸”è¿ç®—</code>è®¾ç½®æŸä¸€ä½ä¸º0<br><strong>æ©ç ï¼š</strong>é™¤è¦æ¸…é›¶çš„ä½å¤–éƒ½ä¸º1çš„æ©ç ï¼ˆå¯ä»¥é€šè¿‡<code>ç§»ä½è¿ç®—</code>å’Œ<code>æŒ‰ä½éè¿ç®—</code>ï¼‰æ„é€ ï¼ˆ<code>1111111111110111</code>ï¼‰ã€‚<br><strong>ç›¸å…³æŒ‰ä½è¿ç®—ï¼š</strong><code>æŒ‰ä½ä¸”è¿ç®—</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">0x00ff</span>;  <span class="comment">// 0000000011111111</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 0000000011111111ï¼ˆiï¼‰</span></span><br><span class="line"><span class="comment">// 1111111111110111 (æ©ç )</span></span><br><span class="line"><span class="comment">// 0000000011110111 (æŒ‰ä½ä¸”è¿ç®—ç»“æœ)</span></span><br><span class="line">i &amp;= ~<span class="number">0x0010</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ›´é€šç”¨çš„æ–¹å¼,é€šè¿‡ç§»ä½è¿ç®—å’ŒæŒ‰ä½éçµæ´»æ„é€ æ©ç </span></span><br><span class="line">i &amp;= ~(<span class="number">1</span> &lt;&lt; j);</span><br></pre></td></tr></table></figure>
<h4 id="æ£€æµ‹ä½"><a href="#æ£€æµ‹ä½" class="headerlink" title="æ£€æµ‹ä½"></a>æ£€æµ‹ä½</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ£€æµ‹æŸä¸€ä½æ˜¯å¦è¢«è®¾ç½®è¿‡ï¼ˆè®¾ç½®ä¸º1ï¼‰ã€‚<br><strong>æ©ç ï¼š</strong>é™¤è¦è®¾ç½®çš„ä½å¤–éƒ½ä¸º0ï¼ˆå¯ä»¥é€šè¿‡å¯¹æ•´æ•°1è¿›è¡Œç§»ä½è¿ç®—æ„é€ æ©ç ï¼‰ï¼ˆ<code>1111111111110111</code>ï¼‰ã€‚<br><strong>ç›¸å…³æŒ‰ä½è¿ç®—ï¼š</strong><code>æŒ‰ä½ä¸”è¿ç®—</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è®¾ç½®éœ€è¦çš„æ©ç (å‡è®¾åœ¨16ä½æœºå™¨ä¸Š)</span></span><br><span class="line"><span class="keyword">enum</span> &#123;</span><br><span class="line">	BLUE = <span class="number">1</span>, <span class="comment">// 0000000000000001</span></span><br><span class="line">	GREN = <span class="number">2</span>, <span class="comment">// 0000000000000010</span></span><br><span class="line">	RED = <span class="number">4</span>   <span class="comment">// 0000000000000100</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">i |= BULE; <span class="comment">// è®¾ç½®BLUE bit(æœ€åä¸€ä½ä¸º1)</span></span><br><span class="line">i &amp;= ~BLUE; <span class="comment">// æŠ¹æ‰BLUE bit</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ£€æµ‹BLUE bitæ˜¯å¦è¢«è®¾ç½®</span></span><br><span class="line"><span class="keyword">if</span> (i &amp; BULUE) &#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ£€æµ‹BLUE bitå’ŒGREEN bitæ˜¯å¦éƒ½è¢«è®¾ç½®äº†</span></span><br><span class="line"><span class="keyword">if</span> (i &amp; (BLUE | GREEN)) &#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="20-1-4-ç”¨æŒ‰ä½è¿ç®—ç¬¦è®¿é—®ä½åŸŸ"><a href="#20-1-4-ç”¨æŒ‰ä½è¿ç®—ç¬¦è®¿é—®ä½åŸŸ" class="headerlink" title="20.1.4    ç”¨æŒ‰ä½è¿ç®—ç¬¦è®¿é—®ä½åŸŸ"></a>20.1.4    ç”¨æŒ‰ä½è¿ç®—ç¬¦è®¿é—®ä½åŸŸ</h3><blockquote>
<p><strong>ä½åŸŸï¼š</strong>è¿ç»­çš„å‡ ä¸ªä½<br><strong>ä½åŸŸä¸‹æ ‡è®°æ³•ï¼š</strong>æœ€å³è¾¹æ˜¯æœ€ä½ä½ï¼Œè®°ä¸º0ä½</p>
<h4 id="ä¿®æ”¹ä½åŸŸ"><a href="#ä¿®æ”¹ä½åŸŸ" class="headerlink" title="ä¿®æ”¹ä½åŸŸ"></a>ä¿®æ”¹ä½åŸŸ</h4><p><strong>è¯´æ˜ï¼š</strong>ä¸åŒäºä¿®æ”¹ä½ï¼Œä¿®æ”¹ä½åŸŸå¹¶ä¸å•çº¯çš„åªæ˜¯è®¾ç½®ä½æˆ–æ¸…é™¤ä½ï¼Œç›®æ ‡å€¼ä¸­1å’Œ0å¯ä»¥å¹¶å­˜ï¼Œå› æ­¤å¤šäº†æ¸…é™¤å…ˆæ¸…é™¤ä½åŸŸçš„æ“ä½œã€‚<br><strong>ç›¸å…³æŒ‰ä½è¿ç®—ï¼š</strong><code>æŒ‰ä½ä¸</code>ï¼ˆç”¨æ¥æ¸…é™¤ä½åŸŸï¼‰ï¼›<code>æŒ‰ä½æˆ–</code>ï¼ˆç”¨æ¥å°†æ–°çš„ä½å­˜å…¥åŸŸï¼‰</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*å°†äºŒè¿›åˆ¶çš„å€¼101å­˜å…¥å˜é‡içš„ç¬¬4-6ä½*/</span></span><br><span class="line"><span class="comment">// 0000000000000000ï¼Œiçš„å€¼å¯ä»¥ä½¿ä»»æ„çš„16ä½æ•´æ•°</span></span><br><span class="line">i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…ˆå°†içš„4-6ä½æ¸…é›¶ï¼Œç„¶åç”¨æ„é€ çš„æ©ç è®¾ç½®4-6ä½</span></span><br><span class="line"><span class="comment">// 0000000001110000 (0x0070)</span></span><br><span class="line"><span class="comment">// 1111111110001111 (~0x0070ï¼Œæ©ç )</span></span><br><span class="line"><span class="comment">// 0000000001010000 (0x0050ï¼Œ4-6ä½ä¸Šä¸ºè¦å­˜å‚¨çš„äºŒè¿›åˆ¶)</span></span><br><span class="line">i = i &amp; ~<span class="number">0x0070</span> | <span class="number">0x0050</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*è®©ä¸Šåçš„ä¾‹å­æ›´åŠ é€šç”¨*/</span></span><br><span class="line"><span class="comment">// 0000000000000101, åŒ…å«éœ€è¦å­˜å‚¨çš„å€¼</span></span><br><span class="line">j = <span class="number">5</span>;</span><br><span class="line">i = (i &amp; ~<span class="number">0x0070</span>) | (j &lt;&lt; <span class="number">4</span>);</span><br></pre></td></tr></table></figure>
<h4 id="è·å–ä½åŸŸ"><a href="#è·å–ä½åŸŸ" class="headerlink" title="è·å–ä½åŸŸ"></a>è·å–ä½åŸŸ</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è·å¾—æŒ‡å®šä½åŸŸä¸Šçš„å€¼ã€‚<br><strong>ç›¸å…³æŒ‰ä½è¿ç®—ï¼š</strong><code>æŒ‰ä½ä¸</code><br><strong>æŠ€å·§ï¼š</strong>å½“ä½åŸŸå¤„åœ¨æ•°çš„æœ«å°¾åŒºé—´æ—¶ï¼Œè·å–å€¼æ›´åŠ æ–¹ä¾¿ã€‚å¦‚æœè¦è·å–çš„ä½åŸŸä¸åœ¨æœ«å°¾ï¼Œå¯ä»¥å…ˆé€šè¿‡ä½ç§»ç§»è‡³æœ«å°¾ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 0000000000000111 (0x0007)</span></span><br><span class="line">j = i &amp; <span class="number">0x0007</span>; <span class="comment">// è·å–0-2ä½ä¸Šçš„ä½å¹¶æ”¾åœ¨jçš„æœ«ç«¯</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">j = (i &gt;&gt; <span class="number">4</span>) &amp; <span class="number">0x0007</span>;</span><br></pre></td></tr></table></figure>
<h3 id="20-1-5-ç¨‹åºï¼šXORåŠ å¯†"><a href="#20-1-5-ç¨‹åºï¼šXORåŠ å¯†" class="headerlink" title="20.1.5    ç¨‹åºï¼šXORåŠ å¯†"></a>20.1.5    ç¨‹åºï¼šXORåŠ å¯†</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†æ¯ä¸€ä¸ªå­—ç¬¦ä¸ä¸€ä¸ªå¯†åŒ™è¿›è¡Œäº¦æˆ–ï¼ˆXORï¼‰è¿ç®—ï¼›è¦å°†ä¿¡æ¯è§£ç ï¼Œåªéœ€è¦å†æ¬¡åŠ å¯†ï¼Œå³å¯å¾—åˆ°åŸæ¥çš„å­—ç¬¦ã€‚<br><strong>æ³¨æ„ï¼š</strong>è¯»æˆ–å†™åŒ…å«æ§åˆ¶å­—ç¬¦çš„æ–‡ä»¶æ—¶ä¼šåœ¨ä¸€äº›æ“ä½œç³»ç»Ÿä¸­å¼•å‘é”™è¯¯ï¼Œåº”å½“é¿å…ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-------------åŠ å¯†---------------</span><br><span class="line">		<span class="number">01111010</span> (zï¼Œ åŠ å¯†å‰)</span><br><span class="line">^(XOR)  <span class="number">00100110</span> (&amp;, å¯†åŒ™)</span><br><span class="line">		<span class="number">01011100</span> (\, åŠ å¯†å)</span><br><span class="line">-------------è§£å¯†---------------</span><br><span class="line">		<span class="number">01011100</span> (\, è§£å¯†)</span><br><span class="line">^(XOR)  <span class="number">00100110</span> (&amp;, åŒæ ·çš„å¯†åŒ™)</span><br><span class="line">		<span class="number">01111010</span> (z, è§£å¯†å)</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * ä»¥æ–‡ä»¶ä½œä¸ºè¾“å…¥ï¼Œä½¿ç”¨XORåŠ å¯†(æˆ–è§£å¯†)ã€‚å¹¶å°†åŠ å¯†(æˆ–è§£å¯†)åçš„æ–‡æœ¬è¾“å‡º</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;ctype.h&gt;</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> KEY <span class="string">'&amp;'</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> orig_char, new_char;</span><br><span class="line">	<span class="comment">// éå†è¾“å…¥æµä¸­çš„æ¯ä¸€ä¸ªå­—ç¬¦ï¼ŒåŠ å¯†åè¾“å‡ºï¼Œç›´åˆ°æ–‡ä»¶æœ«å°¾</span></span><br><span class="line">	<span class="keyword">while</span> ((orig_char = getchar()) != EOF) &#123;</span><br><span class="line">		<span class="comment">// åŠ å¯†</span></span><br><span class="line">		new_char = orig_char ^ KEY;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// å¦‚æœåŠ å¯†ï¼ˆæˆ–è§£å¯†ï¼‰åçš„å­—ç¬¦æ˜¯æ§åˆ¶å­—ç¬¦åˆ™ä¸åŠ å¯†ï¼ˆæˆ–è§£å¯†ï¼‰</span></span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">iscntrl</span>(orig_char) || <span class="built_in">iscntrl</span>(new_char)) &#123;</span><br><span class="line">			<span class="built_in">putchar</span>(orig_char);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="built_in">putchar</span>(new_char);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ./xor &lt; msg.txt</span><br></pre></td></tr></table></figure>
<h2 id="20-2-ç»“æ„ä¸­çš„ä½åŸŸ"><a href="#20-2-ç»“æ„ä¸­çš„ä½åŸŸ" class="headerlink" title="20.2    ç»“æ„ä¸­çš„ä½åŸŸ"></a>20.2    ç»“æ„ä¸­çš„ä½åŸŸ</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>Cè¯­è¨€æä¾›äº†å¯ä»¥åœ¨ç»“æ„ä¸­å£°æ˜å­˜å‚¨åœ¨ä½åŸŸä¸­çš„æˆå‘˜ã€‚<br><strong>è¯­æ³•ï¼š</strong>ä½åŸŸçš„ç±»å‹å¿…éœ€æ˜¯<code>int</code>ã€<code>unsigned int</code>æˆ–<code>signed int</code>ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> ç»“æ„å &#123;</span><br><span class="line">	&#123;<span class="keyword">int</span>|<span class="keyword">unsigned</span> <span class="keyword">int</span>|<span class="keyword">signed</span> <span class="keyword">int</span>&#125; [æˆå‘˜å]: ä½æ•°;</span><br><span class="line">	...</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong>ä½¿ç”¨<code>æŒ‰ä½è¿ç®—</code>å¯ä»¥è¾¾åˆ°åŒæ ·çš„æ•ˆæœï¼Œè€Œä¸”å¯èƒ½æ›´å¿«äº›ï¼Œå½“å¯è¯»æ€§ä¸å¦‚<code>ç»“æ„ä¸­çš„ä½åŸŸ</code>ã€‚<br><strong>å±€é™æ€§ï¼š</strong>é€šå¸¸ä½åŸŸæ²¡æœ‰åœ°å€ï¼Œå› æ­¤Cè¯­è¨€ä¸å…è®¸å°†<code>&amp;è¿ç®—ç¬¦</code>æˆ–<code>scanfå‡½æ•°</code>ç”¨äºä½åŸŸã€‚<br><strong>å¯ç§»æ¤æ€§æŠ€å·§ï¼š</strong>å°†æ‰€æœ‰çš„ä½åŸŸå£°æ˜ä¸º<code>unsigned int</code>æˆ–<code>signed int</code>è€Œä¸æ˜¯<code>int</code>ï¼Œå› ä¸ºä¸€äº›ç¼–è¯‘å™¨å°†ä½åŸŸçš„æœ€é«˜ä½ä½œä¸ºç¬¦å·ä½ï¼Œè€Œå…¶å®ƒä¸€äº›ç¼–è¯‘å™¨åˆ™ä¸ä¼šã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span><br><span class="line">* æ–‡ä»¶åˆ›å»ºæ—¥æœŸä¿¡æ¯ï¼ˆæˆå‘˜ä¸ºä½åŸŸçš„ç»“æ„ï¼‰</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">struct</span> file_date &#123;</span><br><span class="line">	<span class="comment">// æ—¥ï¼š5ä¸ªä½</span></span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> day: <span class="number">5</span>;</span><br><span class="line">	<span class="comment">// æœˆï¼š5ä¸ªä½</span></span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> mounth: <span class="number">4</span>;</span><br><span class="line">	<span class="comment">// å¹´ï¼š7ä¸ªä½</span></span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> year: <span class="number">7</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="ä½åŸŸæ˜¯å¦‚ä½•å­˜å‚¨çš„"><a href="#ä½åŸŸæ˜¯å¦‚ä½•å­˜å‚¨çš„" class="headerlink" title="ä½åŸŸæ˜¯å¦‚ä½•å­˜å‚¨çš„"></a>ä½åŸŸæ˜¯å¦‚ä½•å­˜å‚¨çš„</h3><blockquote>
<p><strong>å­˜å‚¨å•å…ƒï¼š</strong>ä¸€ä¸ªå­˜å‚¨å•å…ƒçš„å¤§å°æ˜¯ç”±å®ç°å®šä¹‰çš„ï¼Œé€šå¸¸æ˜¯8ä½ã€16ä½æˆ–32ä½ã€‚<br><strong>æœªå‘½åä¸ºåŸŸï¼š</strong>å°†æ— æ³•è¢«èµ‹å€¼å’Œä½¿ç”¨ï¼Œä½†æ­£å¸¸å æ®ç©ºé—´ã€‚ç»å¸¸ç”¨æ¥ä½œä¸ºæˆå‘˜é—´çš„å¡«å……ï¼Œä»¥ä¿è¯å…¶å®ƒä½åŸŸå­˜å‚¨åœ¨é€‚å½“çš„ä½ç½®ã€‚<br><strong>é•¿åº¦ä¸º0çš„ä½åŸŸï¼š</strong>å‘Šè¯‰ç¼–è¯‘å™¨å°†ä¸‹ä¸€ä¸ªä½åŸŸæ”¾åœ¨ä¸€ä¸ªå­˜å‚¨å•å…ƒçš„èµ·å§‹ä½ç½®ï¼Œå³å¦‚æœå½“å‰å­˜å‚¨å•å…ƒè¿˜æœ‰ç©ºé—´å‰©ä½™ï¼Œæ— è®ºèƒ½å¦æ”¾ä¸‹é•¿åº¦ä¸º0çš„æˆå‘˜çš„åé¢çš„æˆå‘˜ï¼Œéƒ½ä¼šå°†å…¶æ”¾åœ¨ä¸‹ä¸€ä¸ªå­˜å‚¨å•å…ƒä¸­ã€‚</p>
</blockquote>
<ul>
<li><strong>å­˜å‚¨é¡ºåºï¼š</strong>å½“ç¼–è¯‘å™¨å¤„ç†ç»“æ„å®ä¾‹æ—¶ï¼Œä¼šå°†ä½åŸŸé€ä¸ªå­˜å…¥å­˜å‚¨å•å…ƒï¼ˆä»å·¦å‘å³æˆ–ä»å³å‘å·¦ï¼‰</li>
<li><strong>ä½åŸŸå‹æˆå‘˜ä¹‹é—´çš„é—´éš™ï¼š</strong>ä½åŸŸä¹‹é—´æ²¡æœ‰é—´éš™ï¼Œç›´åˆ°å‰©ä¸‹çš„ç©ºé—´ä¸å¤Ÿæ”¾ä¸‹ä¸€ä¸ªä½åŸŸï¼ˆè¿™æ—¶ä¼šè·³åˆ°ä¸‹ä¸€ä¸ªå­˜å‚¨å•å…ƒç»§ç»­å­˜æ”¾ï¼Œå³<code>å­˜åœ¨é—´éš™</code>æˆ–è·¨å­˜å‚¨å•å…ƒå­˜æ”¾ï¼Œå³<code>æ²¡æœ‰é—´éš™</code>ï¼‰ã€‚</li>
</ul>
<p><strong>æ¡ˆä¾‹</strong></p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å‡è®¾ä½åŸŸæ˜¯<code>ä»å³è‡³å·¦</code>å­˜å‚¨ï¼Œä¸”å½“ä¸€ä¸ªå­˜å‚¨å•å…ƒå‰©ä½™çš„ç©ºé—´æ— æ³•å­˜å‚¨ä¸‹ä¸€ä¸ªä½åŸŸæˆå‘˜æ—¶ä¼š<code>è·¨å­˜å‚¨å•å…ƒå­˜å‚¨</code>ã€‚è¿™æ—¶DOSç³»ç»Ÿä¸Šç¼–è¯‘å¸¸ç”¨çš„æ–¹å¼ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜ç»“æ„å®ä¾‹</span></span><br><span class="line"><span class="keyword">struct</span> file_date fd;</span><br><span class="line">fd.day = <span class="number">28</span>;</span><br><span class="line">fd.month = <span class="number">12</span>;</span><br><span class="line">fd.year = <span class="number">8</span>;</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>*</th>
<th>year</th>
<th>month</th>
<th>day</th>
</tr>
</thead>
<tbody>
<tr>
<td>å­˜å‚¨</td>
<td>0001000</td>
<td>1100</td>
<td>11100</td>
</tr>
<tr>
<td>å¤§å°ï¼ˆbitï¼‰</td>
<td>7</td>
<td>4</td>
<td>5</td>
</tr>
<tr>
<td>åŒºé—´</td>
<td>15-9</td>
<td>8-5</td>
<td>4-0</td>
</tr>
</tbody>
</table>
<h2 id="20-3-å…¶ä»–ä½çº§æŠ€æœ¯"><a href="#20-3-å…¶ä»–ä½çº§æŠ€æœ¯" class="headerlink" title="20.3    å…¶ä»–ä½çº§æŠ€æœ¯"></a>20.3    å…¶ä»–ä½çº§æŠ€æœ¯</h2><h3 id="20-3-1-å®šä¹‰ä¾èµ–æœºå™¨çš„ç±»å‹"><a href="#20-3-1-å®šä¹‰ä¾èµ–æœºå™¨çš„ç±»å‹" class="headerlink" title="20.3.1    å®šä¹‰ä¾èµ–æœºå™¨çš„ç±»å‹"></a>20.3.1    å®šä¹‰ä¾èµ–æœºå™¨çš„ç±»å‹</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯ä»¥å°†<code>char</code>ä½œä¸ºä¸€ä¸ªå­—èŠ‚ï¼ˆä¸ä¸€å®šå­˜å‚¨å­—ç¬¦ï¼‰æ¥ä½¿ç”¨ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> BYTE;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> WORD;</span><br></pre></td></tr></table></figure>
<h3 id="20-3-2-ç”¨è”åˆä»å¤šä¸ªè§†è§’çœ‹å¾…æ•°æ®"><a href="#20-3-2-ç”¨è”åˆä»å¤šä¸ªè§†è§’çœ‹å¾…æ•°æ®" class="headerlink" title="20.3.2    ç”¨è”åˆä»å¤šä¸ªè§†è§’çœ‹å¾…æ•°æ®"></a>20.3.2    ç”¨è”åˆä»å¤šä¸ªè§†è§’çœ‹å¾…æ•°æ®</h3><h4 id="æ¡ˆä¾‹ä¸€ï¼šä½¿ç”¨è”åˆç»“åˆç»“æ„ä½“ï¼ˆä½åŸŸæˆå‘˜ï¼‰å®ç°æ–‡ä»¶æ—¥æœŸå’Œæ•´æ•°çš„è½¬æ¢ã€‚"><a href="#æ¡ˆä¾‹ä¸€ï¼šä½¿ç”¨è”åˆç»“åˆç»“æ„ä½“ï¼ˆä½åŸŸæˆå‘˜ï¼‰å®ç°æ–‡ä»¶æ—¥æœŸå’Œæ•´æ•°çš„è½¬æ¢ã€‚" class="headerlink" title="æ¡ˆä¾‹ä¸€ï¼šä½¿ç”¨è”åˆç»“åˆç»“æ„ä½“ï¼ˆä½åŸŸæˆå‘˜ï¼‰å®ç°æ–‡ä»¶æ—¥æœŸå’Œæ•´æ•°çš„è½¬æ¢ã€‚"></a>æ¡ˆä¾‹ä¸€ï¼šä½¿ç”¨<code>è”åˆ</code>ç»“åˆ<code>ç»“æ„ä½“ï¼ˆä½åŸŸæˆå‘˜ï¼‰</code>å®ç°æ–‡ä»¶æ—¥æœŸå’Œæ•´æ•°çš„è½¬æ¢ã€‚</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>è·å–ï¼šå¯ä»¥é€šè¿‡æˆå‘˜<code>i</code>ä»¥ä¸¤ä¸ªå­—èŠ‚çš„å½¢å¼è·å¾—æ—¥æœŸçš„æ•´æ•°å½¢å¼</li>
<li>è®¾ç½®ï¼šå¯ä»¥é€šè¿‡æˆå‘˜<code>fd</code>ä»¥ç»“æ„ä½“çš„æ–¹å¼è®¾ç½®æ–‡ä»¶æ—¥æœŸï¼ˆä»¥ä¸¤ä¸ªå­—èŠ‚çš„æ–¹å¼å­˜å‚¨ï¼‰</li>
</ul>
</blockquote>
<p><em>æ–‡ä»¶æ—¥æœŸå®šä¹‰</em></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span><br><span class="line">* æ–‡ä»¶åˆ›å»ºæ—¥æœŸä¿¡æ¯ï¼ˆæˆå‘˜ä¸ºä½åŸŸçš„ç»“æ„ï¼‰</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">struct</span> file_date &#123;</span><br><span class="line">	<span class="comment">// æ—¥ï¼š5ä¸ªä½</span></span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> day: <span class="number">5</span>;</span><br><span class="line">	<span class="comment">// æœˆï¼š5ä¸ªä½</span></span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> mounth: <span class="number">4</span>;</span><br><span class="line">	<span class="comment">// å¹´ï¼š7ä¸ªä½</span></span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> year: <span class="number">7</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><em>å°è£…ä¸€ä¸ªæ–¹ä¾¿è¯»å–å’Œè®¾ç½®æ•°æ®ç»“æ„</em></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">union</span> int_date &#123;</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> ;</span><br><span class="line">	<span class="keyword">struct</span> file_date fd;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><em>å®è·µ</em></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* å°†æ•´æ•°å½¢å¼ï¼ˆä¸¤ä¸ªå­—èŠ‚ï¼‰çš„æ—¥æœŸä»¥ä½œä¸ºæ–‡ä»¶æ—¥æœŸæ•°æ®ç»“æ„æ‰“å°</span><br><span class="line">* @param &#123;undesigned int&#125; n å­˜å‚¨è¿™æ—¥æœŸä¿¡æ¯çš„æ•´æ•°</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print_date</span> <span class="params">(undesigned <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">union</span> int_date u;</span><br><span class="line">	u.i = n;</span><br><span class="line">	<span class="comment">// å¹´åªæ˜¾ç¤ºåä¸¤ä½ï¼ˆæ¯”å¦‚1990å¹´ç®€ç§°90å¹´ï¼‰</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d/%d/%.2d\n"</span>, u.fd.month, u.fd.day, (u.fd.year + <span class="number">1980</span>));</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="æ¡ˆä¾‹äºŒï¼šæ¨¡æ‹Ÿå¯¹å¯„å­˜å™¨çš„è®¿é—®ï¼ˆIntel-80x86ï¼‰"><a href="#æ¡ˆä¾‹äºŒï¼šæ¨¡æ‹Ÿå¯¹å¯„å­˜å™¨çš„è®¿é—®ï¼ˆIntel-80x86ï¼‰" class="headerlink" title="æ¡ˆä¾‹äºŒï¼šæ¨¡æ‹Ÿå¯¹å¯„å­˜å™¨çš„è®¿é—®ï¼ˆIntel 80x86ï¼‰"></a>æ¡ˆä¾‹äºŒï¼šæ¨¡æ‹Ÿå¯¹å¯„å­˜å™¨çš„è®¿é—®ï¼ˆIntel 80x86ï¼‰</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>éœ€è¦å¯¹16ä½å¯„å­˜å™¨å’Œ8ä½å¯„å­˜å™¨è¿›è¡Œè®¿é—®ï¼ŒåŒæ—¶ä¿ç•™å®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚<br><strong>å¯„å­˜å™¨ï¼š</strong>Intel 80x86å¤„ç†å™¨åŒ…æ¶µ4ä¸ª16ä½çš„å¯„å­˜å™¨ï¼ˆ<code>AX(AH|AL)</code>ã€<code>BX(BH|BL)</code>ã€<code>CX(CH|CL)</code>ã€<code>DX(DH|DL)</code>ï¼‰ï¼Œå…¶ä¸­æ¯ä¸ª16ä½å¯„å­˜å™¨éƒ½åŒ…å«2ä¸ª8ä½å¯„å­˜å™¨ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> BYTE;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> WORD;</span><br><span class="line"></span><br><span class="line"><span class="keyword">union</span> &#123;</span><br><span class="line">	<span class="comment">// 16ä½å¯„å­˜å™¨çš„ç»“æ„</span></span><br><span class="line">	<span class="keyword">struct</span> &#123;</span><br><span class="line">		WORD ax, bx, cx. dx;</span><br><span class="line">	&#125; word;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 8ä½å¯„å­˜å™¨çš„ç»“æ„</span></span><br><span class="line">	<span class="keyword">struct</span> &#123;</span><br><span class="line">		BYTE al, ah, bl, bh, cl, ch, dl, dh;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125; regs;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŒ‰ç…§8ä½å¯„å­˜å™¨çš„æ–¹å¼ä¿®æ”¹</span></span><br><span class="line">regs.byte.ah = <span class="number">0x12</span>;</span><br><span class="line">regs.byte.al = <span class="number">0x34</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‰ç…§16ä½å¯„å­˜å™¨çš„æ–¹å¼è§‚å¯Ÿ</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"AX: %x\n"</span>, regs.word.ax);</span><br></pre></td></tr></table></figure>
<h3 id="20-3-3-å°†æŒ‡é’ˆä½œä¸ºåœ°å€ä½¿ç”¨ï¼ˆå°†åœ°å€è½¬æ¢ä¸ºæŒ‡é’ˆä½¿ç”¨ï¼‰"><a href="#20-3-3-å°†æŒ‡é’ˆä½œä¸ºåœ°å€ä½¿ç”¨ï¼ˆå°†åœ°å€è½¬æ¢ä¸ºæŒ‡é’ˆä½¿ç”¨ï¼‰" class="headerlink" title="20.3.3    å°†æŒ‡é’ˆä½œä¸ºåœ°å€ä½¿ç”¨ï¼ˆå°†åœ°å€è½¬æ¢ä¸ºæŒ‡é’ˆä½¿ç”¨ï¼‰"></a>20.3.3    å°†æŒ‡é’ˆä½œä¸ºåœ°å€ä½¿ç”¨ï¼ˆå°†åœ°å€è½¬æ¢ä¸ºæŒ‡é’ˆä½¿ç”¨ï¼‰</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æŒ‡é’ˆæŒ‰ç…§å…¶è‡ªèº«çš„æ„é€ æ–¹å¼å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼ˆä»¥16ä½æœºå™¨ä¸ºä¾‹ï¼‰<br>|åˆ†ç±»|ç»„æˆ|å¤§å°(bit)|åœ°å€è½¬æ¢ä¸ºæŒ‡é’ˆ|æƒ…æ™¯|<br>|-|-|-|-|<br>|è¿‘æŒ‡é’ˆ|åç§»é‡||16|å°†æ•´æ•°å¼ºåˆ¶è½¬æ¢ä¸ºæŒ‡é’ˆ|åœ¨ä¸€äº›è®¡ç®—æœºä¸­|<br>|è¿œæŒ‡é’ˆ|æ®µåœ°å€ï¼‹åç§»é‡|32|<code>far(å…³é”®å­—ï¼Œéæ ‡å‡†c)</code>+<code>MK_FP</code>(dos.hä¸­çš„å®)|Intel CPUçš„å®æ—¶æ¨¡å¼ï¼ˆDOSä½¿ç”¨çš„æ¨¡å¼ï¼‰|</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿‘æŒ‡é’ˆ</span></span><br><span class="line">BYTE *p;</span><br><span class="line">p = (BYTE *) <span class="number">0x1000</span>; <span class="comment">// å°†16ä½æ•´æ•°åœ°å€ç›´æ¥è½¬æ¢ä¸ºæŒ‡é’ˆ</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿œæŒ‡é’ˆ</span></span><br><span class="line">BYTE far *p; <span class="comment">// ä½¿ç”¨farå£°æ˜ä¸€ä¸ªè¿œæŒ‡é’ˆ</span></span><br><span class="line">p = MKFP(segment, offset); <span class="comment">// æ®µåœ°å€ï¼Œ åç§»é‡</span></span><br></pre></td></tr></table></figure>
<h3 id="20-3-4-ç¨‹åºï¼šè®¾ç½®Num-Lock-é”®"><a href="#20-3-4-ç¨‹åºï¼šè®¾ç½®Num-Lock-é”®" class="headerlink" title="20.3.4    ç¨‹åºï¼šè®¾ç½®Num Lock é”®"></a>20.3.4    ç¨‹åºï¼šè®¾ç½®Num Lock é”®</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨<code>IBM PC</code>æœºæå…¶å…¼å®¹æœºä¸Šï¼Œ<code>Num Lock</code>åˆ‡æ¢æ¶Œæ¥ç¡®å®šæ•°å­—é”®ç›˜ä¸Šçš„æŒ‰é”®æ˜¯ä½œä¸ºæ•°å­—é”®ä½¿ç”¨ï¼Œè¿˜æ˜¯ä½œä¸ºç§»åŠ¨å…‰æ ‡çš„æ–¹å‘é”®ã€‚<br><strong>åŸç†ï¼š</strong><code>Num Lock</code>çš„çŠ¶æ€ä¿å­˜åœ¨åœ°å€ä½åœ°å€æ®µä¸º40ï¼ˆ16è¿›åˆ¶ï¼‰ã€åç§»é‡ä¸º17ï¼ˆ16è¿›åˆ¶ï¼‰çš„å­—èŠ‚ä¸­ã€‚è¯¥å­—èŠ‚çš„ç¬¬5ä½ï¼ˆæœ€ä½ä½ä¸º0ä½ï¼‰ç”¨æ¥æ§åˆ¶<code>Num Lock</code>çš„çŠ¶æ€ã€‚</p>
</blockquote>
<p><strong>å¼€å¯Num Lock</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * å¼€å¯num lock</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;dos.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> BYTE;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">	BYTE far *p = MK_FP(<span class="number">0x0040</span>, <span class="number">0x0017</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 0000000000100000 (æ©ç )</span></span><br><span class="line">	*p |= <span class="number">0x20</span>; </span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>å…³é—­Num Lock</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * å…³é—­num lock</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;dos.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> BYTE;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">	BYTE far *p = MK_FP(<span class="number">0x0040</span>, <span class="number">0x0017</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 1111111111011111 (æ©ç )</span></span><br><span class="line">	*p &amp;= ï½<span class="number">0x20</span>; </span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="20-3-5-volatileç±»å‹é™å®šç¬¦"><a href="#20-3-5-volatileç±»å‹é™å®šç¬¦" class="headerlink" title="20.3.5    volatileç±»å‹é™å®šç¬¦"></a>20.3.5    volatileç±»å‹é™å®šç¬¦</h3><blockquote>
<p><strong>å…³é”®å­—ï¼š</strong><code>volatile</code><br><strong>è¯´æ˜ï¼š</strong>é€šå¸¸ä½¿ç”¨åœ¨ç”¨äºæŒ‡å‘æ˜“å˜å†…å­˜ç©ºé—´çš„æŒ‡é’ˆçš„å£°æ˜ä¸­ã€‚ç”¨æ¥é˜²æ­¢ç¼–è¯‘å™¨ä¼˜åŒ–è¿‡ç¨‹ä¸­é”™è¯¯åœ°å°†æ˜“å˜å†…å®¹ç¼“å­˜åœ¨äº†å¯„å­˜å™¨ä¸­ï¼Œè€Œä¸å†è¯»å–å†…å­˜ä¸­æ˜“å˜å†…å®¹ã€‚</p>
</blockquote>
<p><em>ä¼˜åŒ–å‰çš„é€»è¾‘</em></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¼˜åŒ–å‰çš„é€»è¾‘</span></span><br><span class="line"><span class="keyword">while</span> (ç¼“å†²åŒºæœªæ»¡) &#123;</span><br><span class="line">	ç­‰å¾…è¾“å…¥; <span class="comment">// å°†è¾“å…¥å­˜å‚¨åˆ°*p</span></span><br><span class="line">	buffer[i] = *p;</span><br><span class="line">	<span class="keyword">if</span> (buffer[i++] == <span class="string">'\n'</span>) &#123;</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>ä¼˜åŒ–åçš„é€»è¾‘</em></p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ³¨æ„åˆ°è¿™ä¸ªå¾ªç¯ä¸­æ—¢æ²¡æœ‰æ”¹å˜pï¼Œä¹Ÿæ²¡æœ‰æ”¹å˜<em>pï¼Œå› æ­¤å¯¹ç¨‹åºè¿›è¡Œä¼˜åŒ–ï¼Œä½¿</em>påªè¢«è¯»å–ä¸€æ¬¡ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">åœ¨å¯„å­˜å™¨ä¸­å­˜å‚¨*p;</span><br><span class="line"><span class="keyword">while</span> (ç¼“å†²åŒºæœªæ»¡) &#123;</span><br><span class="line">	ç­‰å¾…è¾“å…¥;</span><br><span class="line">	buffer[i] = å­˜å‚¨åœ¨å¯„å­˜å™¨ä¸­çš„å€¼;</span><br><span class="line">	<span class="keyword">if</span> (buffer[i++] == <span class="string">'\n'</span>) &#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/10/19 ç¨‹åºè®¾è®¡/" itemprop="url">
                  19 ç¨‹åºè®¾è®¡
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-10T22:00:04+08:00" content="2016-05-10">
              2016-05-10
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/10/19 ç¨‹åºè®¾è®¡/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/10/19 ç¨‹åºè®¾è®¡/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="19-1-æ¨¡å—"><a href="#19-1-æ¨¡å—" class="headerlink" title="19.1    æ¨¡å—"></a>19.1    æ¨¡å—</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>æ¨¡å—</code>æ˜¯ä¸€ç»„åŠŸèƒ½ï¼ˆæœåŠ¡ï¼‰çš„é›†åˆï¼Œå…¶ä¸­ä¸€äº›åŠŸèƒ½å¯ä»¥è¢«ç¨‹åºçš„å…¶å®ƒéƒ¨åˆ†ï¼ˆ<code>å®¢æˆ·</code>ï¼‰ä½¿ç”¨ã€‚æ¯ä¸ªæ¨¡å—éƒ½æœ‰ä¸€ä¸ª<code>æ¥å£</code>æ¥æè¿°æ‰€æä¾›çš„åŠŸèƒ½ã€‚æ¨¡å—çš„ç»†èŠ‚ï¼ŒåŒ…æ‹¬è¿™äº›åŠŸèƒ½è‡ªèº«çš„æºä»£ç ï¼Œéƒ½åŒ…å«åœ¨æ¨¡å—çš„<code>å®ç°</code>ä¸­ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>æ–‡ä»¶è§’è‰²</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ¥å£</td>
<td><code>æ¨¡å—å.h</code>(å¤´æ–‡ä»¶)</td>
</tr>
<tr>
<td>å®ç°</td>
<td>å¯¹åº”å¤´æ–‡ä»¶<code>æ¨¡å—å.c</code>æ–‡ä»¶</td>
</tr>
<tr>
<td>å®¢æˆ·</td>
<td>é€šè¿‡<code>#include</code>å¼•å…¥æ¨¡å—çš„æ–‡ä»¶</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>ä¼˜ç‚¹ï¼š</strong>å°†ç¨‹åºåˆ†å‰²æˆæ¨¡å—æœ‰ä¸€ç³»åˆ—å¥½å¤„</p>
<ul>
<li>æŠ½è±¡ï¼šä¸å¿…äº†è§£åŠŸèƒ½çš„å®ç°ç»†èŠ‚ï¼Œåªéœ€å¯¹æ¨¡å—çš„æ¥å£è¾¾æˆä¸€è‡´</li>
<li>å¯å¤ç”¨ï¼šæ¯ä¸ªæ¨¡å—éƒ½å¯ä»¥åœ¨å¦ä¸€ä¸ªç¨‹åºä¸­å¤ç”¨</li>
<li>å¯ç»´æŠ¤æ€§ï¼ˆæœ€é‡è¦ï¼‰ï¼šå½“ç¨‹åºå‡ºç°é”™è¯¯æˆ–éœ€è¦å‡çº§æ—¶ï¼Œé€šå¸¸åªä¼šå½±å“ä¸€ä¸ªæ¨¡å—</li>
</ul>
<p><strong>æ‰©å±•ï¼š</strong><a href="">Fundamental of SoftWare Engineer</a></p>
</blockquote>
<h3 id="19-1-1-å†…èšæ€§ä¸è€¦åˆæ€§"><a href="#19-1-1-å†…èšæ€§ä¸è€¦åˆæ€§" class="headerlink" title="19.1.1    å†…èšæ€§ä¸è€¦åˆæ€§"></a>19.1.1    å†…èšæ€§ä¸è€¦åˆæ€§</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸€ä¸ªå¥½çš„æ¨¡å—æ¥å£å¹¶ä¸æ˜¯éšæ„çš„ä¸€ç»„å£°æ˜ï¼Œåº”å…·æœ‰ä¸‹é¢ä¸¤ä¸ªæ€§è´¨</p>
<ul>
<li>é«˜å†…èšï¼šæ¨¡å—ä¸­çš„å…ƒç´ åº”è¯¥ç´§å¯†ç›¸å…³</li>
<li>ä½è€¦åˆï¼šæ¨¡å—ä¹‹é—´åº”è¯¥å°½å¯èƒ½ç›¸äº’ç‹¬ç«‹</li>
</ul>
</blockquote>
<h3 id="19-1-2-æ¨¡å—çš„ç±»å‹"><a href="#19-1-2-æ¨¡å—çš„ç±»å‹" class="headerlink" title="19.1.2    æ¨¡å—çš„ç±»å‹"></a>19.1.2    æ¨¡å—çš„ç±»å‹</h3><table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
<th>ä¸¾ä¾‹</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ•°æ®æ± </td>
<td>ä¸€äº›ç›¸å…³çš„å˜é‡æˆ–å¸¸é‡çš„é›†åˆ</td>
<td><code>&lt;float.h&gt;</code>(<a href="">23.1</a>)ã€ <code>&lt;limits.h&gt;</code>(<a href="">23.2</a>)</td>
<td>é€šå¸¸ä¸å»ºè®®å°†å˜é‡æ”¾åœ¨å¤´æ–‡ä»¶</td>
</tr>
<tr>
<td>åº“</td>
<td>ä¸€ç»„ç›¸å…³å‡½æ•°çš„é›†åˆ</td>
<td><code>&lt;string.h&gt;</code></td>
<td></td>
</tr>
<tr>
<td>æŠ½è±¡å¯¹è±¡</td>
<td>å¯¹éšè—çš„æ•°æ®ç»“æ„è¿›è¡Œæ“ä½œçš„ä¸€ç»„å‡½æ•°çš„é›†åˆ</td>
<td></td>
<td>å¦‚æœæ•°æ®æ˜¯éšè—èµ·æ¥çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡é‚£ä¸ªå°±æ˜¯â€œæŠ½è±¡çš„â€</td>
</tr>
<tr>
<td>æŠ½è±¡æ•°æ®ç±»å‹</td>
<td>å°†å…·ä½“æ•°æ®å®ç°æ–¹å¼éšè—èµ·æ¥çš„æ•°æ®ç±»å‹ç§°ä¸ºæŠ½è±¡æ•°æ®ç±»å‹</td>
<td></td>
<td>æŠ½è±¡æ•°æ®ç±»å‹åœ¨å½“ä»Šçš„ç¨‹åºè®¾è®¡ä¸­èµ·ç€éå¸¸é‡è¦çš„ä½œç”¨</td>
</tr>
</tbody>
</table>
<h2 id="19-2-ä¿¡æ¯éšè—"><a href="#19-2-ä¿¡æ¯éšè—" class="headerlink" title="19.2    ä¿¡æ¯éšè—"></a>19.2    ä¿¡æ¯éšè—</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸€ä¸ªè®¾è®¡è‰¯å¥½çš„æ¨¡å—ç»å¸¸ä¼šå¯¹å®ƒçš„å®¢æˆ·éšè—ä¸€äº›ä¿¡æ¯ã€‚è°¨æ…çš„å¯¹å®¢æˆ·éšè—ä¿¡æ¯çš„æ–¹æ³•ç§°ä¸ºä¿¡æ¯éšè—ã€‚<br><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>å®‰å…¨æ€§ï¼š<code>å®¢æˆ·</code>åªèƒ½é€šè¿‡<code>æ¨¡å—</code>è‡ªèº«çš„å‡½æ•°è¿›è¡Œå‚æ•°</li>
<li>çµæ´»æ€§ï¼šä¿®æ”¹æ¨¡å—é€šå¸¸ä¸å¿…ä¿®æ”¹æ¥å£ï¼Œå¯¹<code>å®¢æˆ·</code>æ²¡æœ‰å½±å“</li>
</ul>
<p><strong>åŸç†ï¼š</strong>ä½¿ç”¨<code>static</code></p>
</blockquote>
<table>
<thead>
<tr>
<th>ä¿®é¥°</th>
<th>é“¾æ¥æƒ…å†µ</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>å‡½æ•°</td>
<td>å†…éƒ¨é“¾æ¥</td>
<td>åªèƒ½åœ¨åªèƒ½è¢«åŒä¸€æ–‡ä»¶ä¸­è¢«è°ƒç”¨</td>
</tr>
<tr>
<td>å˜é‡ï¼ˆæ–‡ä»¶ä½œç”¨åŸŸï¼‰</td>
<td>å†…éƒ¨é“¾æ¥</td>
<td>åªèƒ½è¢«åŒä¸€æ–‡ä»¶ä¸­çš„å…¶å®ƒå‡½æ•°è®¿é—®</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æŠ€å·§ï¼š</strong>ä½¿ç”¨å®å®šä¹‰â€œå…¬æœ‰â€å’Œâ€œç§æœ‰â€å¯ä»¥ä½¿ç¨‹åºå«ä¹‰æ›´åŠ æ¸…æ™°ï¼ˆå°¤å…¶æ˜¯<code>static</code>ï¼Œå› ä¸ºå®ƒåœ¨cè¯­è¨€ä¸­æœ‰è®¸å¤šç”¨æ³•ï¼‰</p>
<h3 id="æ ˆæ¨¡å—-å®ç°éƒ¨åˆ†"><a href="#æ ˆæ¨¡å—-å®ç°éƒ¨åˆ†" class="headerlink" title="æ ˆæ¨¡å—(å®ç°éƒ¨åˆ†)"></a>æ ˆæ¨¡å—(å®ç°éƒ¨åˆ†)</h3></blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PUBLIC  <span class="comment">// å®šä¹‰ä¸ºç©º</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PRIVATE static</span></span><br><span class="line"></span><br><span class="line">PRIVATE <span class="keyword">int</span> contents[STACK_SIZE] &#123; ... &#125;</span><br><span class="line"></span><br><span class="line">PRIVATE <span class="keyword">int</span> top = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">PUBLIC <span class="keyword">int</span> <span class="title">is_empty</span> <span class="params">(<span class="keyword">void</span>)</span> </span>&#123; ... &#125;</span><br><span class="line"></span><br><span class="line"><span class="function">PRIVATE <span class="keyword">int</span> <span class="title">is_full</span> <span class="params">()</span> </span>&#123; ... &#125;</span><br><span class="line"></span><br><span class="line"><span class="function">PUBLIC <span class="keyword">void</span> <span class="title">push</span> <span class="params">(<span class="keyword">void</span>)</span> </span>&#123; ... &#125;</span><br><span class="line"></span><br><span class="line"><span class="function">PUBLIC <span class="keyword">int</span> <span class="title">pop</span> <span class="params">(<span class="keyword">void</span>)</span> </span>&#123; ... &#125;</span><br></pre></td></tr></table></figure>
<h2 id="19-3-æŠ½è±¡æ•°æ®ç±»å‹"><a href="#19-3-æŠ½è±¡æ•°æ®ç±»å‹" class="headerlink" title="19.3    æŠ½è±¡æ•°æ®ç±»å‹"></a>19.3    æŠ½è±¡æ•°æ®ç±»å‹</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>cè¯­è¨€æ²¡æœ‰è®¾è®¡ä¸“é—¨ç”¨äºå°è£…ç±»å‹çš„ç‰¹æ€§ï¼ˆ<code>class</code>ï¼‰ï¼Œå³æ— æ³•å®šä¹‰çœŸæ­£çš„æŠ½è±¡æ•°æ®ç±»å‹ã€‚<br><strong>æ¡ˆä¾‹ç¼ºé™·ï¼š</strong>ä¹‹å‰å®šä¹‰çš„æ ˆæ¨¡å—æä¾›çš„æ ˆä¸åŸºäºä¸€ç§æŠ½è±¡æ•°æ®ç±»å‹ï¼Œè€Œæ˜¯ä»…ä»…æä¾›äº†ä¸€ä¸ªç›¸å½“äºâ€œæ ˆçš„å®ä¾‹â€çš„æ•°æ®ç»“æ„ã€‚å½“éœ€è¦å¤šä¸ªæ ˆå®ä¾‹æ—¶å°±æ— èƒ½ä¸ºåŠ›äº†ã€‚</p>
</blockquote>
<p><em>stack.h</em></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* ä¸‹é¢å®šä¹‰çš„Stackä¸æ˜¯æŠ½è±¡æ•°æ®ç±»å‹ï¼Œå› ä¸ºstack.hæš´éœ²äº†Stackçš„å…·ä½“å®ç°æ–¹å¼ï¼ˆç»“æ„ä½“å®ä¾‹çš„æˆå‘˜æ˜¯æš´éœ²çš„)</span><br><span class="line">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> STACK_SIZE 100</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> &#123;</span><br><span class="line">	<span class="keyword">int</span> contents[STACK_SIZE];</span><br><span class="line">	<span class="keyword">int</span> top;</span><br><span class="line">&#125; Stack;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">make_empyt</span> <span class="params">(Stack *s)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">is_empty</span> <span class="params">(<span class="keyword">const</span> Stack *s)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span> <span class="params">(Stack *s, <span class="keyword">int</span> i)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pop</span> <span class="params">(Stack *s)</span></span>;</span><br></pre></td></tr></table></figure>
<p><em>å®¢æˆ·</em></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="string">"stack.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="comment">// ç†æƒ³çš„ä½¿ç”¨æ–¹å¼</span></span><br><span class="line">	Stack s1, s2;</span><br><span class="line">	make_empty(&amp;s1);</span><br><span class="line">	make_empty(&amp;s2);</span><br><span class="line">	push(&amp;s1, <span class="number">1</span>);</span><br><span class="line">	push(&amp;s2, <span class="number">2</span>);</span><br><span class="line">	<span class="keyword">if</span> (!is_empty(&amp;s1)) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, pop(&amp;s1)); <span class="comment">// 1</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// ä¸ç†æƒ³çš„æ–¹å¼</span></span><br><span class="line">	Stack s3;</span><br><span class="line">	s3.top = <span class="number">0</span>; <span class="comment">//ç›´æ¥è®¿é—®äº†æš´éœ²å‡ºæ¥çš„æˆå‘˜</span></span><br><span class="line">	s3.contents[top++] = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="19-4-C-è¯­è¨€"><a href="#19-4-C-è¯­è¨€" class="headerlink" title="19.4    C++è¯­è¨€"></a>19.4    C++è¯­è¨€</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>C++è¯­è¨€æ˜¯ç”±<code>AT&amp;T</code>è´å°”å®éªŒå®¤çš„Bjqrne Stroustrupåœ¨20ä¸–çºª80å¹´ä»£å¼€å‘å‡ºæ¥çš„Cè¯­è¨€çš„æ‰©å±•ç‰ˆã€‚<br><strong>æ–°ç‰¹æ€§ï¼ˆç›¸å¯¹Cï¼‰ï¼š</strong></p>
<ul>
<li>é¢å‘å¯¹è±¡ï¼šå…è®¸ä»å·²ç»å­˜åœ¨çš„ç±»â€œæ´¾ç”Ÿâ€ï¼ˆç»§æ‰¿ï¼‰å‡ºæ–°çš„ç±»</li>
<li>è¿ç®—ç¬¦é‡è½½ï¼šä¸ºä¼ ç»Ÿçš„Cè¯­è¨€çš„è¿ç®—ç¬¦èµ‹äºˆæ–°çš„å«ä¹‰</li>
<li>æ¨¡ç‰ˆï¼šå¯ä»¥ä½¿æˆ‘ä»¬å†™å‡ºé€šç”¨çš„ã€é«˜åº¦å¯å¤ç”¨çš„ç±»å’Œå‡½æ•°</li>
<li>å¼‚å¸¸å¤„ç†ï¼šä¸€ç§åŒä¸€çš„æ–¹å¼ç”¨æ¥æ£€æµ‹å¹¶å“åº”é”™è¯¯</li>
</ul>
<p><strong>å…¼å®¹Cï¼š</strong>C++è¯­è¨€åŒ…å«äº†æ ‡å‡†Cçš„å…¨éƒ¨ç‰¹æ€§ï¼Œç„¶è€Œä¸æ˜¯æ‰€æœ‰Cè¯­è¨€éƒ½å¯ä»¥åœ¨C++çš„ç¯å¢ƒä¸‹ç¼–è¯‘ï¼Œå› ä¸ºC++è¯­è¨€å¢åŠ äº†æ›´å¤šå¼ºåˆ¶é™åˆ¶ï¼Œæ¯”Cè¯­è¨€æ›´åŠ å®‰å…¨ã€‚</p>
</blockquote>
<h3 id="19-4-1-Cè¯­è¨€ä¸C-è¯­è¨€ä¹‹é—´çš„å·®å¼‚"><a href="#19-4-1-Cè¯­è¨€ä¸C-è¯­è¨€ä¹‹é—´çš„å·®å¼‚" class="headerlink" title="19.4.1    Cè¯­è¨€ä¸C++è¯­è¨€ä¹‹é—´çš„å·®å¼‚"></a>19.4.1    Cè¯­è¨€ä¸C++è¯­è¨€ä¹‹é—´çš„å·®å¼‚</h3><h4 id="19-4-1-1-æ³¨é‡Š"><a href="#19-4-1-1-æ³¨é‡Š" class="headerlink" title="19.4.1.1    æ³¨é‡Š"></a>19.4.1.1    æ³¨é‡Š</h4><blockquote>
<p><strong>æ–°ç‰¹æ€§ï¼š</strong>C++è¯­è¨€æ”¯æŒå•è¡Œæ³¨é‡Š</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// This is a Comment</span></span><br></pre></td></tr></table></figure>
<h4 id="19-4-1-2-æ ‡è®°ä¸ç±»å‹å"><a href="#19-4-1-2-æ ‡è®°ä¸ç±»å‹å" class="headerlink" title="19.4.1.2    æ ‡è®°ä¸ç±»å‹å"></a>19.4.1.2    æ ‡è®°ä¸ç±»å‹å</h4><blockquote>
<p><strong>æ–°ç‰¹æ€§ï¼š</strong>æ ‡è®°ï¼ˆç»“æ„ã€è”åˆæˆ–æšä¸¾çš„åå­—ï¼‰ä¼šè‡ªåŠ¨è¢«è®¤ä¸ºæ˜¯ç±»å‹å</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> Complex &#123;</span><br><span class="line">	<span class="keyword">double</span> re, im;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// ç›¸å½“äºä¸‹åˆ—å½¢å¼çš„cè¯­è¨€</span></span><br><span class="line"><span class="comment">/*</span><br><span class="line">typedef struct Complex &#123;</span><br><span class="line">	double re, im;</span><br><span class="line">&#125; Complex;</span><br><span class="line">*/</span></span><br></pre></td></tr></table></figure>
<h4 id="19-4-1-3-ä¸å¸¦å‚æ•°çš„å‡½æ•°"><a href="#19-4-1-3-ä¸å¸¦å‚æ•°çš„å‡½æ•°" class="headerlink" title="19.4.1.3    ä¸å¸¦å‚æ•°çš„å‡½æ•°"></a>19.4.1.3    ä¸å¸¦å‚æ•°çš„å‡½æ•°</h4><blockquote>
<p><strong>æ–°ç‰¹æ€§ï¼š</strong>åœ¨å£°æ˜æˆ–å®šä¹‰ä¸€ä¸ªä¸å¸¦å‚æ•°çš„<code>C++</code>å‡½æ•°æ—¶ï¼Œå¯ä»¥ä¸ä½¿ç”¨<code>void</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">draw</span> <span class="params">(<span class="keyword">void</span>)</span></span>; <span class="comment">// ä¸å¸¦å‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">draw</span> <span class="params">()</span></span>; <span class="comment">// å’Œvoidç›¸åŒ</span></span><br></pre></td></tr></table></figure>
<h4 id="19-4-1-4-é»˜è®¤å®é™…å‚æ•°"><a href="#19-4-1-4-é»˜è®¤å®é™…å‚æ•°" class="headerlink" title="19.4.1.4    é»˜è®¤å®é™…å‚æ•°"></a>19.4.1.4    é»˜è®¤å®é™…å‚æ•°</h4><blockquote>
<p><strong>æ–°ç‰¹æ€§ï¼š</strong>C++è¯­è¨€å…è®¸å‡½æ•°çš„å®é™…å‚æ•°æœ‰é»˜è®¤å€¼</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ˜¾ç¤ºä»»æ„æ•°é‡çš„æ¢è¡Œç¬¦ï¼Œå¦‚æœæ²¡æœ‰æä¾›å‚æ•°ï¼Œé»˜è®¤ä¸º1</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">new_line</span> <span class="params">(<span class="keyword">int</span> n = <span class="number">1</span>)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">while</span> (n-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">		<span class="built_in">putchar</span>(<span class="string">'\n'</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">new_line(<span class="number">3</span>); <span class="comment">// ä¸‰ä¸ªæ¢è¡Œ</span></span><br><span class="line">new_line(); <span class="comment">//ä¸€ä¸ªæ¢è¡Œ</span></span><br></pre></td></tr></table></figure>
<h4 id="19-4-1-5-å¼•ç”¨å‚æ•°"><a href="#19-4-1-5-å¼•ç”¨å‚æ•°" class="headerlink" title="19.4.1.5    å¼•ç”¨å‚æ•°"></a>19.4.1.5    å¼•ç”¨å‚æ•°</h4><blockquote>
<p><strong>æ–°ç‰¹æ€§ï¼š</strong>å…è®¸å®é™…å‚æ•°è¢«å£°æ˜ä¸º<code>å¼•ç”¨</code>ï¼Œè€Œä¸æ˜¯<code>æŒ‡é’ˆ</code>ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// cè¯­è¨€çš„æ–¹å¼</span></span><br><span class="line"><span class="comment">/*</span><br><span class="line">void swap (int *a, int *b) &#123;</span><br><span class="line">	int temp;</span><br><span class="line">	temp = *a;</span><br><span class="line">	*a = *b;</span><br><span class="line">	*b = temp;</span><br><span class="line">&#125;</span><br><span class="line">swap(&amp;i, &amp;j);</span><br><span class="line">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// c++çš„æ–¹å¼</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap</span> <span class="params">(<span class="keyword">int</span>&amp; a, <span class="keyword">int</span>&amp; b)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> temp;</span><br><span class="line">	temp = a;</span><br><span class="line">	a = b;</span><br><span class="line">	b = temp;</span><br><span class="line">&#125;</span><br><span class="line">swap(i, j); <span class="comment">// ä¸éœ€è¦å†å‚æ•°å‰åŠ &amp;è¿ç®—ç¬¦</span></span><br></pre></td></tr></table></figure>
<h4 id="19-4-1-6-åŠ¨æ€å­˜å‚¨åˆ†é…"><a href="#19-4-1-6-åŠ¨æ€å­˜å‚¨åˆ†é…" class="headerlink" title="19.4.1.6    åŠ¨æ€å­˜å‚¨åˆ†é…"></a>19.4.1.6    åŠ¨æ€å­˜å‚¨åˆ†é…</h4><blockquote>
<p><strong>æ–°ç‰¹æ€§ï¼š</strong>ä½¿ç”¨è¿ç®—ç¬¦<code>new</code>ï¼ˆåˆ†é…ç©ºé—´ï¼‰ã€ <code>delete</code>ï¼ˆé‡Šæ”¾ç©ºé—´ï¼‰<br><strong>è¯­æ³•ï¼š</strong></p>
<ul>
<li>åˆ†é…å†…å­˜ï¼š<code>new ç±»å‹è¯´æ˜ç¬¦</code></li>
<li>é‡Šæ”¾å†…å­˜ï¼š <code>delete æŒ‡é’ˆ</code></li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜å˜é‡</span></span><br><span class="line"><span class="keyword">int</span> *int_ptr, *int_array;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ†é…ç©ºé—´</span></span><br><span class="line">int_ptr = new <span class="keyword">int</span>; <span class="comment">// ä¸ºæ•´æ•°åˆ†é…å­˜å‚¨ç©ºé—´</span></span><br><span class="line">int_array = new <span class="keyword">int</span>[<span class="number">10</span>]; <span class="comment">// ä¸ºæ•°ç»„åˆ†é…å†…å­˜</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é‡Šæ”¾ç©ºé—´</span></span><br><span class="line"><span class="keyword">delete</span> int_ptr; <span class="comment">// ä¸ºæ•´æ•°ç©ºé—´é‡Šæ”¾å†…å­˜</span></span><br><span class="line"><span class="keyword">delete</span> [] int_array; <span class="comment">// ä¸ºæ•°ç»„é‡Šæ”¾ç©ºé—´</span></span><br></pre></td></tr></table></figure>
<h3 id="19-4-2-ç±»"><a href="#19-4-2-ç±»" class="headerlink" title="19.4.2    ç±»"></a>19.4.2    ç±»</h3><blockquote>
<p><strong>ç±»ï¼š</strong>ä¸€ä¸ªç±»ä»æ ¹æœ¬ä¸Šè¯´å°±æ˜¯ä¸€ä¸ª<code>æŠ½è±¡æ•°æ®ç±»å‹</code>ï¼šä¸€ç»„æ•°æ®ä»¥åŠæ“ä½œè¿™äº›æ•°æ®çš„å‡½æ•°<br><strong>è¯´æ˜ï¼š</strong>è¿™ä¸ªæ–°æ•°æ®ç±»å‹çš„åŠŸèƒ½å¯ä»¥åŒåŸºæœ¬æ•°æ®ç±»å‹åŒæ ·å¼ºå¤§ã€‚<br><strong>ç±»çš„ä¸è¶³ï¼š</strong>ç±»çš„è®¾è®¡å’Œå®ç°æ¯”è¾ƒå¤æ‚ï¼Œè¿™æ˜¯æ˜“ç”¨æ€§å¿…é¡»ä»˜å‡ºçš„ä»£ä»·ï¼Œè€Œè¿™ä¹Ÿæ˜¯è®¡ç®—æœºé¢†åŸŸè¿‘å‡ å¹´å†…çš„å¦¥åã€‚</p>
</blockquote>
<h3 id="19-4-3-ç±»å®šä¹‰"><a href="#19-4-3-ç±»å®šä¹‰" class="headerlink" title="19.4.3    ç±»å®šä¹‰"></a>19.4.3    ç±»å®šä¹‰</h3><blockquote>
<p><strong>ç±»æ ‡è®°ï¼ˆclass tagï¼‰ï¼š</strong>å¯ä»¥ç›´æ¥ä½œä¸ºç±»å‹åä½¿ç”¨ï¼Œä¸è¦æ±‚ç±»åä»¥å¤§å†™å¼€å§‹ï¼Œä½†è®¸å¤šC++ç¨‹åºå‘˜å°Šå¾ªé¦–å­—æ¯å¤§å†™çš„è§„èŒƒã€‚<br><strong>æ•°æ®æˆå‘˜ï¼ˆdata memeberï¼‰ï¼š</strong>ç±»ä¼¼ç»“æ„çš„æˆå‘˜ï¼ˆä½†æ˜¯é»˜è®¤æ˜¯éšè—çš„ï¼Œå³â€œç§æœ‰çš„â€ï¼‰<br><strong>ç±»çš„å®ä¾‹ï¼ˆinstanceï¼‰ï¼š</strong>ä»»ä½•ç±»çš„å®ä¾‹å°±æ˜¯<code>å¯¹è±¡</code>ï¼ˆobjectï¼‰<br><strong>è®¿é—®æˆå‘˜ï¼š</strong>ä½¿ç”¨è¿ç®—ç¬¦<code>.</code>æˆ–<code>-&gt;</code>æ¥è®¿é—®å…¬æœ‰çš„æˆå‘˜</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Fraction &#123;</span><br><span class="line">	<span class="keyword">int</span> id; <span class="comment">// é»˜è®¤æ˜¯ç§æœ‰çš„</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// å…¬æœ‰æˆå‘˜</span></span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="keyword">int</span> numeratitor;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// ç§æœ‰æˆå‘˜</span></span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		<span class="keyword">int</span> denominator;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="19-4-4-æˆå‘˜å‡½æ•°"><a href="#19-4-4-æˆå‘˜å‡½æ•°" class="headerlink" title="19.4.4    æˆå‘˜å‡½æ•°"></a>19.4.4    æˆå‘˜å‡½æ•°</h3><blockquote>
<p><strong>æˆå‘˜å‡½æ•°ï¼ˆmember functionï¼‰ï¼š</strong>å±äºç±»çš„å‡½æ•°ç§°ä¸ºæˆå‘˜å‡½æ•°ï¼Œç‰¹åˆ«çš„ï¼Œé‚£äº›éœ€è¦è®¿é—®ç±»çš„ç§æœ‰æ•°æ®æˆå‘˜çš„å‡½æ•°å¿…é¡»å£°æ˜åœ¨ç±»é‡Œé¢ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Fraction &#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="comment">// å°†å‡½æ•°çš„å®šä¹‰æ”¾åœ¨ç±»çš„å®šä¹‰ä¹‹ä¸­</span></span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">create</span><span class="params">(<span class="keyword">int</span> num, <span class="keyword">int</span> denom)</span> </span>&#123;</span><br><span class="line">			numertor = num;</span><br><span class="line">			denominator = denom;</span><br><span class="line">		&#125;;</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>;</span><br><span class="line">		<span class="comment">// åªå£°æ˜ä¸å®šä¹‰ï¼ˆå®šä¹‰éƒ¨åˆ†æ”¾åœ¨ç±»å¤–éƒ¨ï¼‰</span></span><br><span class="line">		<span class="comment">/**</span><br><span class="line">		* ä¹˜æ³•å‡½æ•°</span><br><span class="line">		* @param &#123;Fraction f&#125; </span><br><span class="line">		*/</span></span><br><span class="line">		<span class="function">Fraction <span class="title">mul</span><span class="params">(Fraction f)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line">* ä¹˜æ³•å‡½æ•°çš„å®šä¹‰</span><br><span class="line">* Fraction::å‰ç¼€æ˜¯å¿…éœ€çš„ï¼Œå¦åˆ™C++ç¼–è¯‘å™¨ä¼šå°†mulä½œä¸ºä¸€ä¸ªæ™®é€šå‡½æ•°</span><br><span class="line">* @param &#123;Fraction f&#125; åˆ†æ•°</span><br><span class="line">*/</span></span><br><span class="line">Fraction Fraction::mul(Fraction f) &#123;</span><br><span class="line">	Fraction result;</span><br><span class="line">	result.numerator = numerator * f.numerator;</span><br><span class="line">	result.denominator = denominator * f.denominator;</span><br><span class="line">	result.reduce();</span><br><span class="line">	return result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Fraction f1;</span><br><span class="line">f1.create(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">Fraction f2 = f1.mul(f1);</span><br></pre></td></tr></table></figure>
<h3 id="19-4-5-æ„é€ å‡½æ•°"><a href="#19-4-5-æ„é€ å‡½æ•°" class="headerlink" title="19.4.5    æ„é€ å‡½æ•°"></a>19.4.5    æ„é€ å‡½æ•°</h3><blockquote>
<p><strong>æ„é€ å‡½æ•°ï¼ˆcontroctorï¼‰ï¼š</strong></p>
<ul>
<li>é€šå¸¸æ—¶è‡ªåŠ¨è°ƒç”¨çš„ï¼ˆç¼–è¯‘å™¨å®‰æ’åœ¨åˆé€‚çš„æ—¶æœºè‡ªåŠ¨è°ƒç”¨ï¼‰</li>
<li>å®šä¹‰åœ¨publicæˆå‘˜éƒ¨åˆ†ï¼Œä¸éœ€è¦æŒ‡å®šè¿”å›å€¼ç±»å‹</li>
<li>å‘½åå’Œç±»åç›¸åŒ</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Fraction &#123;</span><br><span class="line">	<span class="keyword">public</span>: </span><br><span class="line">		Fraction(<span class="keyword">int</span> num = <span class="number">0</span>, <span class="keyword">int</span> denom = <span class="number">1</span>) &#123;</span><br><span class="line">			numerator = num;</span><br><span class="line">			denominator = denom;</span><br><span class="line">		&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">Fraction <span class="title">f1</span><span class="params">(<span class="number">3</span>, <span class="number">4</span>)</span></span>; <span class="comment">// é€šè¿‡æ„é€ å‡½æ•°å£°æ˜å¹¶åˆå§‹åŒ–å®ä¾‹</span></span><br><span class="line"><span class="function">Fraction <span class="title">f2</span><span class="params">(<span class="number">3</span>)</span></span>; <span class="comment">// ç­‰åŒäºFraction f2(3, 1);</span></span><br><span class="line">Fraction f3; <span class="comment">// ç­‰åŒäº f3(0, 1);</span></span><br></pre></td></tr></table></figure>
<h3 id="19-4-6-æ„é€ å‡½æ•°å’ŒåŠ¨æ€å­˜å‚¨åˆ†é…"><a href="#19-4-6-æ„é€ å‡½æ•°å’ŒåŠ¨æ€å­˜å‚¨åˆ†é…" class="headerlink" title="19.4.6    æ„é€ å‡½æ•°å’ŒåŠ¨æ€å­˜å‚¨åˆ†é…"></a>19.4.6    æ„é€ å‡½æ•°å’ŒåŠ¨æ€å­˜å‚¨åˆ†é…</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ä¸ºé‚£äº›å†…å­˜åˆ†é…å’Œå›æ”¶å‡½æ•°æä¾›äº†æ¯”è¾ƒåˆé€‚çš„æ—¶æœºã€‚<br><strong>ä¸¾ä¾‹ï¼š</strong>åˆ›å»ºè‡ªå·±çš„<code>String</code>ç±»å‹<br>|æ¯”è¾ƒ|C++çš„<code>String</code>ï¼ˆè‡ªå®šä¹‰ï¼‰|Cè¯­è¨€å®ç°æ–¹å¼ï¼ˆ<code>char</code>æ•°ç»„ï¼‰|<br>|-|-|-|<br>|å­—ç¬¦ä¸²é•¿åº¦|ä»»æ„é•¿åº¦|å—é™äºæ•°ç»„çš„é•¿åº¦|<br>|è·å–å­—ç¬¦ä¸²é•¿åº¦|O(1)|O(n)|<br>|æ‰©å±•æ€§|éœ€è¦æ—¶å¯ç»™Stringç±»æ·»åŠ æ“ä½œ|æ— æ³•ä¿®æ”¹ï¼ˆå°±ç®—å¼•å…¥<string.h>ï¼Œä½†æ— æ³•æ‰©å±•ï¼‰|</string.h></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> String&#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="comment">// å£°æ˜æ„é€ å‡½æ•°</span></span><br><span class="line">		String(<span class="keyword">const</span> <span class="keyword">char</span> *s);</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		<span class="keyword">char</span> *text;</span><br><span class="line">		<span class="keyword">int</span> len;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰æ„é€ å‡½æ•°</span></span><br><span class="line">String::String(<span class="keyword">const</span> <span class="keyword">char</span> *s) &#123;</span><br><span class="line">	<span class="comment">// è®¡ç®—sæ‰€æŒ‡å‘çš„å­—ç¬¦ä¸²çš„é•¿åº¦</span></span><br><span class="line">	len = <span class="built_in">strlen</span>(s);</span><br><span class="line">	<span class="comment">// åˆ†é…è¶³å¤Ÿå¤§çš„ç©ºé—´</span></span><br><span class="line">	text = new Char[len + <span class="number">1</span>];</span><br><span class="line">	<span class="comment">// å°†å­—ç¬¦ä¸²å¤åˆ¶åˆ°åˆšåˆšåˆ†é…çš„å†…å­˜ä¸­</span></span><br><span class="line">	<span class="built_in">strcpy</span>(text, s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="19-4-7-ææ„å‡½æ•°"><a href="#19-4-7-ææ„å‡½æ•°" class="headerlink" title="19.4.7    ææ„å‡½æ•°"></a>19.4.7    ææ„å‡½æ•°</h3><blockquote>
<p><strong>ææ„å‡½æ•°ï¼ˆdestructorï¼‰ï¼š</strong></p>
<ul>
<li>åå­—ï¼š<code>~ç±»å</code></li>
<li>è¿”å›å€¼ï¼šæ²¡æœ‰è¿”å›å€¼</li>
<li>å‚æ•°ï¼šæ²¡æœ‰</li>
</ul>
<p><strong>ç”¨é€”ï¼š</strong>è‡ªåŠ¨å­˜å‚¨æœŸé™çš„ç±»çš„å®ä¾‹ï¼Œå½“å…¶ç”Ÿå­˜æœŸç»“æŸåï¼Œæ™®é€šæˆå‘˜çš„å†…å­˜ä¼šè¢«é‡Šæ”¾ï¼Œä½†åœ¨æ„é€ å‡½æ•°ä¸­åˆ†é…å†…å­˜çš„æˆå‘˜æŒ‡å‘çš„å†…å­˜ä¸ä¼šè¢«é‡Šæ”¾ï¼ˆå†…å­˜æ³„æ¼ï¼‰ã€‚æ‰€ä»¥éœ€è¦ææ„å‡½æ•°åœ¨å¯¹è±¡é‡Šæ”¾æ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œæ¸…ç†æ„é€ å‡½æ•°åŠ¨æ€åˆ†é…çš„å†…å­˜ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> String&#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="comment">// å£°æ˜å¹¶å®šä¹‰æ„é€ å‡½æ•°</span></span><br><span class="line">		String(<span class="keyword">const</span> <span class="keyword">char</span> *s) &#123;</span><br><span class="line">			<span class="comment">// è®¡ç®—sæ‰€æŒ‡å‘çš„å­—ç¬¦ä¸²çš„é•¿åº¦</span></span><br><span class="line">			len = <span class="built_in">strlen</span>(s);</span><br><span class="line">			<span class="comment">// åˆ†é…è¶³å¤Ÿå¤§çš„ç©ºé—´</span></span><br><span class="line">			text = new Char[len + <span class="number">1</span>];</span><br><span class="line">			<span class="comment">// å°†å­—ç¬¦ä¸²å¤åˆ¶åˆ°åˆšåˆšåˆ†é…çš„å†…å­˜ä¸­</span></span><br><span class="line">			<span class="built_in">strcpy</span>(text, s);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// å£°æ˜å¹¶å®šä¹‰ææ„å‡½æ•°</span></span><br><span class="line">		~String() &#123;</span><br><span class="line">			<span class="keyword">delete</span> [] text;</span><br><span class="line">		&#125;</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		<span class="keyword">char</span> *text;</span><br><span class="line">		<span class="keyword">int</span> len;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="19-4-8-é‡è½½"><a href="#19-4-8-é‡è½½" class="headerlink" title="19.4.8    é‡è½½"></a>19.4.8    é‡è½½</h3><h4 id="å‡½æ•°é‡è½½"><a href="#å‡½æ•°é‡è½½" class="headerlink" title="å‡½æ•°é‡è½½"></a>å‡½æ•°é‡è½½</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨åŒä¸€ä½œç”¨åŸŸä¸‹å­˜åœ¨ä¸¤ä¸ªæˆ–ä»¥ä¸ŠåŒåä½†å‚æ•°ä¸åŒçš„å‡½æ•°(åŒ…æ‹¬æ„é€ å‡½æ•°)å«åšå‡½æ•°çš„é‡è½½ã€‚<br><strong>ç”¨é€”ï¼š</strong>éœ€è¦è®°ä½æ›´å°‘çš„å‡½æ•°åï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ®å®é™…å‚æ•°çš„æƒ…å†µè‡ªåŠ¨åˆ¤æ–­è°ƒç”¨å“ªä¸€ä¸ªå‡½æ•°ã€‚<br><strong>é»˜è®¤æ„é€ å‡½æ•°ï¼š</strong>ä¸å¸¦æ—¶æœºå‚æ•°çš„æ„é€ å‡½æ•°ï¼Œä¼šåœ¨å£°æ˜å¯¹è±¡è€Œæ²¡æœ‰åˆ¶å®šåˆå§‹å€¼æ—¶è¢«è°ƒç”¨ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Sring &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">	String(<span class="keyword">const</span> <span class="keyword">char</span> *s);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/*</span><br><span class="line">	* é‡è½½æ„é€ å‡½æ•°ï¼ˆé»˜è®¤ï¼‰</span><br><span class="line">	* @overload</span><br><span class="line">	*/</span></span><br><span class="line">	String() &#123;</span><br><span class="line">		text = <span class="number">0</span>;</span><br><span class="line">		len = <span class="number">0</span>;</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="comment">// ææ„å‡½æ•°</span></span><br><span class="line">	~String() &#123;</span><br><span class="line">		<span class="keyword">delete</span> [] text;</span><br><span class="line">	&#125;;</span><br><span class="line">	...</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">char</span> *text;</span><br><span class="line">	<span class="keyword">int</span> len;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String s; <span class="comment">// ä¸å¸¦å®é™…å‚æ•°ï¼Œä¼šè°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°</span></span><br></pre></td></tr></table></figure>
<h4 id="è¿ç®—ç¬¦é‡è½½"><a href="#è¿ç®—ç¬¦é‡è½½" class="headerlink" title="è¿ç®—ç¬¦é‡è½½"></a>è¿ç®—ç¬¦é‡è½½</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é‡è½½è¿ç®—ç¬¦åï¼Œæ ¹æ®æ“ä½œæ•°ç±»å‹çš„ä¸åŒï¼ŒåŒæ ·çš„è¿ç®—ç¬¦å·å¯ä»¥ä»£è¡¨ä¸åŒçš„æ“ä½œã€‚<br><strong>ç”¨é€”ï¼š</strong>æ›´æ˜“è¯»ï¼Œæ›´è‡ªç„¶ï¼ˆä¸éœ€è¦å®šä¹‰ä¸€äº›éš¾ä»¥è®°ä½çš„å‡½æ•°åï¼‰</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Fraction &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	...</span><br><span class="line">	<span class="comment">// å£°æ˜é‡è½½æ“ä½œç¬¦ï¼š*</span></span><br><span class="line">	Fraction <span class="keyword">operator</span>*(Fraction f);</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	...</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰é‡è½½æ“ä½œç¬¦ï¼š*</span></span><br><span class="line">Fraction Fraction::operation*(Fraction f) &#123;</span><br><span class="line">	<span class="comment">//ä»£ç </span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">f3 = f1 * f2; <span class="comment">// å®šä¹‰çš„*æ˜¯ä¸€ä¸ªäºŒå…ƒè¿ç®—ç¬¦(ç›¸å½“äºf3 = f1.operator*(f2);)</span></span><br></pre></td></tr></table></figure>
<h4 id="C-è¯­è¨€çš„è¾“å…¥ï¼è¾“å‡ºï¼ˆï¼‰"><a href="#C-è¯­è¨€çš„è¾“å…¥ï¼è¾“å‡ºï¼ˆï¼‰" class="headerlink" title="C++è¯­è¨€çš„è¾“å…¥ï¼è¾“å‡ºï¼ˆï¼‰"></a>C++è¯­è¨€çš„è¾“å…¥ï¼è¾“å‡ºï¼ˆ<stdio.h>ï¼‰</stdio.h></h4>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/10/18 å£°æ˜/" itemprop="url">
                  18 å£°æ˜
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-10T20:29:30+08:00" content="2016-05-10">
              2016-05-10
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/10/18 å£°æ˜/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/10/18 å£°æ˜/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šè¿‡å£°æ˜å˜é‡å’Œå‡½æ•°ï¼Œå¯ä»¥å†æ£€æŸ¥ç¨‹åºæ½œåœ¨çš„é”™è¯¯ä»¥åŠæŠŠç¨‹åºç¿»è¯‘æˆç›®æ ‡ä»£ç ä¸¤æ–¹é¢ä¸ºç¼–è¯‘å™¨æä¾›è‡³å…³é‡è¦çš„ä¿¡æ¯ã€‚</p>
</blockquote>
<h2 id="18-1-å£°æ˜çš„è¯­æ³•"><a href="#18-1-å£°æ˜çš„è¯­æ³•" class="headerlink" title="18.1    å£°æ˜çš„è¯­æ³•"></a>18.1    å£°æ˜çš„è¯­æ³•</h2><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>å£°æ˜è¯´æ˜ç¬¦ å£°æ˜ç¬¦;</code></p>
</blockquote>
<h3 id="18-1-1-å£°æ˜è¯´æ˜ç¬¦"><a href="#18-1-1-å£°æ˜è¯´æ˜ç¬¦" class="headerlink" title="18.1.1    å£°æ˜è¯´æ˜ç¬¦"></a>18.1.1    å£°æ˜è¯´æ˜ç¬¦</h3><blockquote>
<p><strong>åˆ†ç±»ï¼š</strong>åˆ†3ç±»ï¼ˆå¯ç»„åˆï¼‰</p>
</blockquote>
<table>
<thead>
<tr>
<th>åˆ†ç±»</th>
<th>åŒ…æ‹¬</th>
<th>ä½ç½®</th>
<th>å¯å¤šä¸ª</th>
</tr>
</thead>
<tbody>
<tr>
<td>å­˜å‚¨ç±»å‹</td>
<td>auto static extern register</td>
<td>å£°æ˜ä¸­çš„é¦–è¦ä½ç½®</td>
<td>å¦</td>
</tr>
<tr>
<td>ç±»å‹é™å®šç¬¦</td>
<td>const volatile</td>
<td>å­˜å‚¨ç±»å‹çš„åè¾¹</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>ç±»å‹è¯´æ˜ç¬¦</td>
<td>void char short int long float double signed unsigned ç»“æ„ è”åˆ æšä¸¾ typedefåˆ›å»ºçš„ç±»å‹å</td>
<td>å­˜å‚¨ç±»å‹çš„åè¾¹</td>
<td>æ˜¯ï¼Œå‡ºç°é¡ºåºæ— é™åˆ¶</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong>ç±»å‹é™å®šç¬¦å’Œç±»å‹è¯´æ˜ç¬¦çš„é¡ºåºæ²¡æœ‰é™åˆ¶ï¼Œä¹ æƒ¯ä¸Šå‰è€…åœ¨å‰ã€‚</p>
</blockquote>
<h3 id="18-1-2-å£°æ˜ç¬¦"><a href="#18-1-2-å£°æ˜ç¬¦" class="headerlink" title="18.1.2    å£°æ˜ç¬¦"></a>18.1.2    å£°æ˜ç¬¦</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸€æ¬¡å¯ä»¥å£°æ˜å¤šä¸ªå£°æ˜ç¬¦ï¼Œå½¼æ­¤ç”¨<code>,</code>éš”å¼€ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>åˆ†ç±»</th>
<th>æè¿°</th>
<th>æ˜¯å¦å¯è·Ÿåˆå§‹åŒ–å¼</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç®€å•å˜é‡å</td>
<td>æ ‡è¯†ç¬¦</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>æ•°ç»„å</td>
<td>åè¾¹è·Ÿéš[]çš„æ ‡è¯†ç¬¦</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>æŒ‡é’ˆå</td>
<td>å‰æ”¾ç½®*çš„æ ‡è¯†ç¬¦</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>å‡½æ•°å</td>
<td>åè¾¹è·Ÿéš()çš„æ ‡è¯†ç¬¦</td>
<td>å¦</td>
</tr>
</tbody>
</table>
<h3 id="18-1-3-ä¸¾ä¾‹"><a href="#18-1-3-ä¸¾ä¾‹" class="headerlink" title="18.1.3    ä¸¾ä¾‹"></a>18.1.3    ä¸¾ä¾‹</h3><p><em>åŒæ—¶å£°æ˜å¤šä¸ªå£°æ˜ç¬¦</em><br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-09-15%20%E4%B8%8A%E5%8D%8812.08.19.png" alt="Alt text"></p>
<p><em>å¸¦æœ‰åˆå§‹åŒ–å¼</em><br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-09-15%20%E4%B8%8A%E5%8D%8812.08.31.png" alt="Alt text"></p>
<p><em>åŒæ—¶ä½¿ç”¨å¤šç§ç±»å‹è¯´æ˜ç¬¦</em><br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-09-15%20%E4%B8%8A%E5%8D%8812.08.57.png" alt="Alt text"></p>
<p><em>å‡½æ•°å£°æ˜</em><br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-09-15%20%E4%B8%8A%E5%8D%8812.09.05.png" alt="Alt text"></p>
<h2 id="18-2-å­˜å‚¨ç±»å‹"><a href="#18-2-å­˜å‚¨ç±»å‹" class="headerlink" title="18.2    å­˜å‚¨ç±»å‹"></a>18.2    å­˜å‚¨ç±»å‹</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯ä»¥ç”¨äºå˜é‡ã€è¾ƒå°èŒƒå›´çš„å‡½æ•°å’Œå½¢å¼å‚æ•°çš„è¯´æ˜ã€‚æ ¹æ®å£°æ˜ä½ç½®çš„ä¸åŒï¼Œåœ¨ä¸ç”¨å­˜å‚¨ç±»å‹ä¿®é¥°çš„æƒ…å†µä¸‹ï¼Œå˜é‡å…·æœ‰é»˜è®¤çš„å­˜å‚¨ç±»å‹ï¼Œå½“é»˜è®¤çš„æ€§è´¨æ— æ³•æ»¡è¶³è¦æ±‚æ—¶ï¼Œå¯ä»¥é€šè¿‡æŒ‡å®šæ˜ç¡®çš„å­˜å‚¨ç±»å‹æ¥æ”¹å˜å˜é‡çš„æ€§è´¨ã€‚<br><strong>å…³é”®å­—ï¼š</strong><code>auto</code> <code>static</code> <code>extern</code> <code>register</code><br><strong>å—ï¼ˆblockï¼‰ï¼š</strong>è¡¨ç¤ºå‡½æ•°ä½“ï¼ˆå¤§æ‹¬å·é—­åˆçš„éƒ¨åˆ†ï¼‰æˆ–å—è¯­å¥ï¼ˆåŒ…å«ç”Ÿå‘½çš„å¤åˆè¯­å¥ï¼‰ã€‚</p>
</blockquote>
<h3 id="18-2-1-å˜é‡çš„ç‰¹æ€§"><a href="#18-2-1-å˜é‡çš„ç‰¹æ€§" class="headerlink" title="18.2.1    å˜é‡çš„ç‰¹æ€§"></a>18.2.1    å˜é‡çš„ç‰¹æ€§</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å˜é‡çš„3ä¸ªæ€§è´¨</p>
</blockquote>
<table>
<thead>
<tr>
<th>æ€§è´¨</th>
<th>è¯´æ˜</th>
<th>åˆ†ç±»</th>
</tr>
</thead>
<tbody>
<tr>
<td>å­˜å‚¨æœŸé™</td>
<td>ä¸ºå˜é‡é¢„ç•™å’Œé‡Šæ”¾å†…å­˜çš„æ—¶é—´</td>
<td>è‡ªåŠ¨å­˜å‚¨æœŸé™ã€é™æ€å­˜å‚¨æœŸé™</td>
</tr>
<tr>
<td>ä½œç”¨åŸŸ</td>
<td>æŒ‡å¼•ç”¨å˜é‡çš„é‚£éƒ¨åˆ†ç¨‹åºæ–‡ä»¶</td>
<td>å—ä½œç”¨åŸŸã€æ–‡ä»¶ä½œç”¨åŸŸ</td>
</tr>
<tr>
<td>é“¾æ¥</td>
<td>ç¨‹åºçš„ä¸åŒéƒ¨åˆ†å¯ä»¥å…±äº«æ­¤å˜é‡çš„èŒƒå›´</td>
<td>å¤–éƒ¨é“¾æ¥ã€å†…éƒ¨é“¾æ¥ã€æ— é“¾æ¥</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>å£°æ˜ä½ç½®å†³å®šçš„å­˜å‚¨ç‰¹æ€§ï¼š</strong>å¯¹è®¸å¤šå˜é‡è€Œè¨€ï¼Œé»˜è®¤çš„å­˜å‚¨æœŸé™ã€ä½œç”¨åŸŸå’Œé“¾æ¥æ˜¯å¯ä»¥ç¬¦åˆè¦æ±‚çš„ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>å£°æ˜ä½ç½®</th>
<th>æ€§è´¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>å—å†…éƒ¨</td>
<td>è‡ªåŠ¨å­˜å‚¨æœŸé™ã€å—ä½œç”¨åŸŸã€æ— é“¾æ¥</td>
</tr>
<tr>
<td>ç¨‹åºçš„æœ€å¤–å±‚</td>
<td>é™æ€å­˜å‚¨æœŸé™ã€æ–‡ä»¶ä½œç”¨åŸŸã€å¤–éƒ¨é“¾æ¥</td>
</tr>
</tbody>
</table>
<h4 id="1-å­˜å‚¨æœŸé™"><a href="#1-å­˜å‚¨æœŸé™" class="headerlink" title="1. å­˜å‚¨æœŸé™"></a>1. å­˜å‚¨æœŸé™</h4><table>
<thead>
<tr>
<th>å­˜å‚¨æœŸé™</th>
<th>æè¿°</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>è‡ªåŠ¨å­˜å‚¨æœŸé™</td>
<td>åœ¨æ‰€å±å—è¢«æ‰§è¡Œæ—¶è·å¾—å†…å­˜å•å…ƒï¼Œå¹¶åœ¨å—ç»ˆæ­¢æ—¶é‡Šæ”¾å†…å­˜å•å…ƒï¼ˆå˜é‡å¤±å»å€¼ï¼‰</td>
<td></td>
</tr>
<tr>
<td>é™æ€å­˜å‚¨æœŸé™</td>
<td>åœ¨ç¨‹åºè¿è¡ŒæœŸé—´å æœ‰åŒæ ·çš„å­˜å‚¨å•å…ƒ</td>
<td>å¯ä»¥å…è®¸å˜é‡æ— é™æœŸåœ°ä¿ç•™å®ƒçš„å€¼</td>
</tr>
</tbody>
</table>
<h4 id="2-ä½œç”¨åŸŸ"><a href="#2-ä½œç”¨åŸŸ" class="headerlink" title="2. ä½œç”¨åŸŸ"></a>2. ä½œç”¨åŸŸ</h4><table>
<thead>
<tr>
<th>ä½œç”¨åŸŸ</th>
<th>æè¿°</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>å—ä½œç”¨åŸŸ</td>
<td>å˜é‡ä»å£°æ˜çš„åœ°æ–¹ä¸€ç›´åˆ°é—­åˆå—çš„æœ«å°¾éƒ½æ˜¯å¯è§çš„</td>
<td></td>
</tr>
<tr>
<td>æ–‡ä»¶ä½œç”¨åŸŸ</td>
<td>ä»å£°æ˜çš„åœ°æ–¹ä¸€ç›´åˆ°é—­åˆæ–‡ä»¶çš„æœ«å°¾éƒ½æ—¶å¯è§çš„</td>
</tr>
</tbody>
</table>
<h4 id="3-é“¾æ¥"><a href="#3-é“¾æ¥" class="headerlink" title="3. é“¾æ¥"></a>3. é“¾æ¥</h4><table>
<thead>
<tr>
<th>é“¾æ¥</th>
<th>æè¿°</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>å¤–éƒ¨é“¾æ¥</td>
<td>å¯ä»¥è¢«ç¨‹åºä¸­çš„å‡ ä¸ªï¼ˆæˆ–è€…å…¨éƒ¨ï¼‰æ–‡ä»¶å…±äº«</td>
<td></td>
</tr>
<tr>
<td>å†…éƒ¨é“¾æ¥</td>
<td>åªèƒ½å±äºå•ç‹¬ä¸€ä¸ªæ–‡ä»¶</td>
<td></td>
</tr>
<tr>
<td>æ— é“¾æ¥</td>
<td>å±äºå•ç‹¬ä¸€ä¸ªå‡½æ•°ï¼Œè€Œä¸”æ ¹æœ¬ä¸èƒ½è¢«å…±äº«</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* é™æ€å­˜å‚¨æœŸé™</span><br><span class="line">* æ–‡ä»¶ä½œç”¨åŸŸ</span><br><span class="line">* å¤–éƒ¨é“¾æ¥</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="comment">/**</span><br><span class="line">	* è‡ªåŠ¨å­˜å‚¨æœŸé™</span><br><span class="line">	* å—ä½œç”¨åŸŸ</span><br><span class="line">	* æ— é“¾æ¥</span><br><span class="line">	*/</span></span><br><span class="line">	<span class="keyword">int</span> j;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="18-2-2-autoå­˜å‚¨ç±»å‹"><a href="#18-2-2-autoå­˜å‚¨ç±»å‹" class="headerlink" title="18.2.2    autoå­˜å‚¨ç±»å‹"></a>18.2.2    autoå­˜å‚¨ç±»å‹</h3><blockquote>
<p><strong>å…³é”®å­—ï¼š</strong><code>auto</code><br>æ³¨æ„ï¼šautoå­˜å‚¨ç±»å‹å‡ ä¹ä»æ¥ä¸ç”¨æ˜ç¡®åœ°æŒ‡æ˜ï¼Œå› ä¸ºå¯¹äºåœ¨å—å†…éƒ¨å£°æ˜çš„å˜é‡ï¼Œå®ƒæ˜¯é»˜è®¤çš„ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>æ€§è´¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>è‡ªåŠ¨å­˜å‚¨æœŸé™</td>
</tr>
<tr>
<td>å—ä½œç”¨åŸŸ</td>
</tr>
<tr>
<td>æ— é“¾æ¥</td>
</tr>
</tbody>
</table>
<h3 id="18-2-3-staticå­˜å‚¨ç±»å‹"><a href="#18-2-3-staticå­˜å‚¨ç±»å‹" class="headerlink" title="18.2.3    staticå­˜å‚¨ç±»å‹"></a>18.2.3    staticå­˜å‚¨ç±»å‹</h3><blockquote>
<p><strong>å…³é”®å­—ï¼š</strong><code>static</code><br><strong>å¯ä»¥ä¿®é¥°ï¼š</strong>å…¨éƒ¨å˜é‡<br><strong>ç‰¹æ€§ï¼š</strong>ä¿®é¥°å¿«å¤–éƒ¨å£°æ˜çš„å˜é‡å’Œå—å†…éƒ¨å£°æ˜çš„å˜é‡ä¼šæœ‰ä¸åŒçš„æ•ˆæœ</p>
<ul>
<li><strong>å—å¤–éƒ¨</strong>ï¼šstaticä½¿å˜é‡ç”±å¤–éƒ¨é“¾æ¥å˜ä¸ºå†…éƒ¨é“¾æ¥ï¼ˆå³<code>ä¿¡æ¯éšè—</code>ï¼Œå› ä¸ºæœ¬è´¨ä¸Šéšè—äº†å®ƒæ‰€åœ¨å£°æ˜æ–‡ä»¶å†…çš„å˜é‡ï¼Œåªæœ‰å‡ºç°åœ¨åŒä¸€æ–‡ä»¶ä¸­çš„å‡½æ•°å¯ä»¥çœ‹åˆ°æ­¤å˜é‡ï¼‰</li>
<li><strong>å—å†…éƒ¨</strong>ï¼šstaticä½¿å˜é‡çš„å­˜å‚¨æœŸé™ä»è‡ªåŠ¨å˜æˆé™æ€çš„(æ— é™æœŸä¿ç•™å€¼)</li>
</ul>
<ol>
<li>å—å†…çš„<code>static</code> å‹å˜é‡åªåœ¨ç¨‹åºæ‰§è¡Œå‰è¿›è¡Œä¸€æ¬¡åˆå§‹åŒ–ï¼Œè€Œ<code>auto</code>å‹å˜é‡åˆ™ä¼šåœ¨æ¯æ¬¡å˜æˆæœ‰æ•ˆæ—¶è¿›è¡Œåˆå§‹åŒ–</li>
<li>æ¯æ¬¡å‡½æ•°è¿›è¡Œé€’å½’è°ƒç”¨æ—¶ï¼Œå®ƒéƒ½ä¼šè·å¾—ä¸€ç»„æ–°çš„<code>auto</code>å‹å˜é‡çš„é›†åˆã€‚<code>static</code>ä¿®é¥°çš„å˜é‡åˆ™ä¼šè¢«å…±ç”¨</li>
<li>å‡½æ•°ä¸èƒ½è¿”å›<code>auto</code>å‹å˜é‡çš„æŒ‡é’ˆï¼Œä½†å¯ä»¥è¿”å›æŒ‡å‘<code>static</code>å‹å˜é‡çš„æŒ‡é’ˆ</li>
</ol>
<p><strong>ç”¨é€”ï¼š</strong></p>
<ol>
<li><strong>æå‡æ€§èƒ½ï¼š</strong>ä¿®é¥°å—å†…éƒ¨å˜é‡ï¼Œé¿å…å‡½æ•°æ¯æ¬¡è°ƒç”¨éƒ½å¯¹å˜é‡è¿›è¡Œåˆå§‹åŒ–</li>
<li><strong>ä¿¡æ¯éšè—ï¼š</strong>ä¿®é¥°å—å¤–éƒ¨å˜é‡ï¼Œç”¨äºåœ¨â€œéšè—â€åŒºåŸŸå†…çš„è°ƒç”¨ä¹‹é—´ä¿ç•™ä¿¡æ¯</li>
</ol>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é™æ€å­˜å‚¨æœŸé™</span></span><br><span class="line"><span class="comment">// æ–‡ä»¶ä½œç”¨åŸŸ</span></span><br><span class="line"><span class="comment">// å†…éƒ¨é“¾æ¥</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> i;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="comment">// é™æ€å­˜å‚¨æœŸé™</span></span><br><span class="line">	<span class="comment">// å—ä½œç”¨åŸŸ</span></span><br><span class="line">	<span class="comment">// æ— é“¾æ¥</span></span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">int</span> j;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line">* å°†10è¿›åˆ¶çš„æ•°å­—è½¬æ¢ä¸º16è¿›åˆ¶çš„</span><br><span class="line">* param &#123;int&#125; digit 10è¿›åˆ¶æ•°å­—ï¼ˆ16ä»¥å†…ï¼‰</span><br><span class="line">* return &#123;char&#125; è¡¨ç¤ºå“åº”16è¿›åˆ¶æ•°å­—çš„å­—ç¬¦</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">char</span> <span class="title">digit_to_hex_char</span> <span class="params">(<span class="keyword">int</span> digit)</span> </span>&#123;</span><br><span class="line">	<span class="comment">// æ— è®ºå‡½æ•°å‘—è°ƒç”¨å¤šå°‘æ¬¡ï¼Œåªä¼šåˆå§‹åŒ–ä¸€æ¬¡</span></span><br><span class="line">	<span class="keyword">const</span> chat hex_chars[<span class="number">16</span>] = <span class="string">"0123456789ABCDEF"</span>;</span><br><span class="line">	return hex_chars[digit];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="18-2-4-externå­˜å‚¨ç±»å‹"><a href="#18-2-4-externå­˜å‚¨ç±»å‹" class="headerlink" title="18.2.4    externå­˜å‚¨ç±»å‹"></a>18.2.4    externå­˜å‚¨ç±»å‹</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åªå£°æ˜å˜é‡ï¼ˆä¸åˆå§‹åŒ–ï¼‰<br><strong>å…³é”®å­—ï¼š</strong><code>extern</code><br><strong>ç”¨é€”ï¼š</strong>å¤šæ–‡ä»¶å…±äº«åŒä¸€ä¸ªå˜é‡<br><strong>æ€§è´¨ï¼š</strong></p>
<ul>
<li><strong>å­˜å‚¨æœŸé™ï¼š</strong>ä½¿å˜é‡å…·æœ‰<code>é™æ€å­˜å‚¨æœŸé™</code>ï¼ˆå³ä½¿åœ¨å—ä¸­å£°æ˜çš„å˜é‡ï¼‰</li>
<li><strong>ä½œç”¨åŸŸï¼š</strong><code>extern</code>ä¸å½±å“å˜é‡ä½œç”¨åŸŸï¼ˆå—å†…å£°æ˜ä¸ºå—ä½œç”¨åŸŸï¼Œå¦åˆ™æ˜¯æ–‡ä»¶ä½œç”¨åŸŸï¼‰</li>
<li><strong>é“¾æ¥ï¼š</strong>é€šå¸¸æƒ…å†µä¸º<code>å¤–éƒ¨é“¾æ¥</code>ï¼›å½“åŒæ—¶è¢«<code>static</code>ä¿®é¥°ä¸”å£°æ˜ä½ç½®ä¸ºä»»ä½•å‡½æ•°å¤–éƒ¨æ—¶ä¸º<code>å†…éƒ¨é“¾æ¥</code></li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong>ç”¨<code>extern</code>ä¿®é¥°çš„å˜é‡ä»ç„¶å¯ä»¥åŒæ—¶åˆå§‹åŒ–ï¼ˆä½†å°±æ²¡æœ‰äº†ç”¨<code>extern</code>çš„æ„ä¹‰ï¼‰</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extern</span> <span class="keyword">int</span> i; <span class="comment">//ç­‰ä»·äºint i = 0;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é™æ€å­˜å‚¨æœŸé™</span></span><br><span class="line"><span class="comment">// æ–‡ä»¶ä½œç”¨åŸŸ</span></span><br><span class="line"><span class="comment">// é“¾æ¥ï¼Ÿ</span></span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">int</span> i;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="comment">// é™æ€å­˜å‚¨æœŸé™</span></span><br><span class="line">	<span class="comment">// å—ä½œç”¨åŸŸ</span></span><br><span class="line">	<span class="comment">// é“¾æ¥ï¼Ÿ</span></span><br><span class="line">	<span class="keyword">extern</span> <span class="keyword">int</span> j;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="18-2-5-registerå­˜å‚¨ç±»å‹"><a href="#18-2-5-registerå­˜å‚¨ç±»å‹" class="headerlink" title="18.2.5    registerå­˜å‚¨ç±»å‹"></a>18.2.5    registerå­˜å‚¨ç±»å‹</h3><blockquote>
<p><strong>å…³é”®å­—ï¼š</strong><code>register</code><br><strong>ç”¨é€”ï¼š</strong>ä½¿å˜é‡å­˜å‚¨åœ¨å¯„å­˜å™¨è€Œä¸æ˜¯å†…å­˜ä¸­ï¼Œæé«˜è®¿é—®å’Œæ›´æ–°é€Ÿåº¦ã€‚<br><strong>å¯„å­˜å™¨ï¼š</strong>ä½¿é©»ç•™åœ¨è®¡ç®—æœºCPUä¸­çš„å­˜å‚¨å•å…ƒã€‚åœ¨ä¼ ç»Ÿè®¡ç®—æœºæ¶æ„ä¸­ï¼Œå­˜å‚¨åœ¨å¯„å­˜å™¨ä¸­çš„æ•°æ®ä¼šæ¯”å­˜å‚¨åœ¨æ™®é€šå†…å­˜ä¸­çš„æ•°æ®è®¿é—®å’Œæ›´æ–°é€Ÿåº¦æ›´å¿«ã€‚<br><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>å…·æœ‰å’Œ<code>auto</code>å‹å˜é‡ä¸€æ ·çš„ä¿„å­˜å‚¨æœŸé™ã€ä½œç”¨åŸŸå’Œé“¾æ¥</li>
<li>å¯¹<code>register</code>å‹å˜é‡ä½¿ç”¨å–åœ°å€è¿åŠ¨ç¬¦<code>&amp;</code>ä½¿éæ³•çš„ï¼ˆå› ä¸ºå¯„å­˜å™¨æ²¡æœ‰åœ°å€ï¼‰</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong>éšç€ç¼–è¯‘å™¨å˜å¾—æ›´åŠ å¤æ‚å’Œé«˜æ•ˆï¼Œä¸€äº›ç¼–è¯‘å™¨å¯ä»¥è‡ªåŠ¨å†³å®šå˜é‡ä¿å­˜åœ¨å¯„å­˜å™¨ä¸­è¿˜æ˜¯å†…å­˜ä¸­æ¥è¾¾åˆ°æœ€ä¼˜æ€§èƒ½ã€‚å› æ­¤<code>register</code>çš„ä½¿ç”¨ä¸å†æµè¡Œäº†ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// forè¯­å¥çš„å¾ªç¯æ§åˆ¶å˜é‡åº”ç”¨`register`æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sun_array</span> <span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">register</span> <span class="keyword">int</span> i;</span><br><span class="line">	<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">		sum += a[i];</span><br><span class="line">	&#125;</span><br><span class="line">	return sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="18-2-6-å‡½æ•°çš„å­˜å‚¨ç±»å‹"><a href="#18-2-6-å‡½æ•°çš„å­˜å‚¨ç±»å‹" class="headerlink" title="18.2.6    å‡½æ•°çš„å­˜å‚¨ç±»å‹"></a>18.2.6    å‡½æ•°çš„å­˜å‚¨ç±»å‹</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å‡½æ•°åªèƒ½ç”¨<code>static</code>å’Œ<code>extern</code>ä¿®é¥°</p>
</blockquote>
<table>
<thead>
<tr>
<th>ä¸ä¿®é¥°æˆ–<code>extern</code></th>
<th><code>static</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>é™æ€å­˜å‚¨æœŸé™</td>
<td>é™æ€å­˜å‚¨æœŸé™</td>
</tr>
<tr>
<td>æ–‡ä»¶ä½œç”¨åŸŸ</td>
<td>æ–‡ä»¶ä½œç”¨åŸŸ</td>
</tr>
<tr>
<td><code>å¤–éƒ¨é“¾æ¥</code></td>
<td><code>å†…éƒ¨é“¾æ¥</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æŠ€å·§ï¼š</strong> å½“å£°æ˜ä¸æ‰“ç®—è¢«å…¶ä»–æ–‡ä»¶è°ƒç”¨çš„ä»»æ„å‡½æ•°æ—¶ï¼Œå»ºè®®ä½¿ç”¨<code>static</code>ä¿®é¥°</p>
<ol>
<li><strong>æ›´å®¹æ˜“ç»´æŠ¤ï¼š</strong>ç¨åä¿®æ”¹æ–‡ä»¶çš„äººå¯ä»¥çŸ¥é“å¯¹è¢«<code>static</code>ä¿®é¥°çš„å‡½æ•°çš„ä¿®æ”¹ä¸€èˆ¬ä¸ä¼šå½±å“å…¶ä»–æ–‡ä»¶ä¸­çš„å‡½æ•°ï¼ˆå³ä¾¿è¯¥å‡½æ•°æ‰€åœ¨æ–‡ä»¶ä¸­å…¶å®ƒå‡½æ•°å°†æŒ‡å‘è¯¥å‡½æ•°çš„æŒ‡é’ˆä¼ é€’äº†å‡ºå»ï¼Œä¹Ÿå¯ä»¥åœ¨å½“å‰æ–‡ä»¶å‘ç°ï¼‰</li>
<li><strong>å‡å°‘â€œå‘½åç©ºé—´æ±¡æŸ“â€ï¼š</strong>å¯ä»¥åœ¨å…¶å®ƒæ–‡ä»¶ä¸­ä½¿ç”¨ç›¸åŒçš„åå­—å‘½åå‡½æ•°è€Œä¸ä¼šå‘ç”Ÿå†²çª<br><strong>æ³¨æ„ï¼š</strong>ä½¿ç”¨<code>extern</code>ç”»è›‡æ·»è¶³ï¼Œä¸å¿…ä½¿ç”¨ä½†ä¹Ÿæ— å®³ã€‚</li>
</ol>
<p><strong>æ‰©å±•ï¼š</strong>å‡½æ•°è¡Œå‚çš„å­˜å‚¨ç±»å‹ï¼ˆåªèƒ½ç”¨<code>register</code>ä¿®é¥°ï¼‰</p>
</blockquote>
<table>
<thead>
<tr>
<th>é»˜è®¤ï¼ˆç­‰åŒäºå—ä¸­çš„<code>auto</code>å‹å˜é‡ï¼‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>è‡ªåŠ¨å­˜å‚¨æœŸé™</td>
</tr>
<tr>
<td>å—ä½œç”¨åŸŸ</td>
</tr>
<tr>
<td>æ— é“¾æ¥</td>
</tr>
</tbody>
</table>
<h2 id="18-3-ç±»å‹é™å®šç¬¦"><a href="#18-3-ç±»å‹é™å®šç¬¦" class="headerlink" title="18.3    ç±»å‹é™å®šç¬¦"></a>18.3    ç±»å‹é™å®šç¬¦</h2><table>
<thead>
<tr>
<th>åˆ†ç±»</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>const</code></td>
<td>å£°æ˜åªè¯»ç±»å‹ï¼ˆä¹Ÿç§°ä¸ºå¸¸é‡ï¼‰</td>
</tr>
<tr>
<td><code>volatile</code></td>
<td><a href="">20.3èŠ‚</a></td>
</tr>
</tbody>
</table>
<h3 id="constä»‹ç»"><a href="#constä»‹ç»" class="headerlink" title="constä»‹ç»"></a><code>const</code>ä»‹ç»</h3><p><strong>ç”¨é€”ï¼š</strong>å®šä¹‰å¸¸é‡</p>
<blockquote>
<ol>
<li>æç¤ºé˜…è¯»ç¨‹åºçš„äººï¼Œå¯¹è±¡çš„å€¼ä¸èƒ½æ”¹å˜</li>
<li>è®©ç¼–è¯‘å™¨æ£€æŸ¥é˜²æ­¢ç¨‹åºæ”¹å˜å¯¹è±¡çš„å€¼</li>
<li>å¯èƒ½çš„è¯ï¼ˆç‰¹åˆ«æ˜¯åµŒå…¥å¼ç³»ç»Ÿï¼‰ï¼Œç¼–è¯‘å™¨å¯ä»¥ç”¨è®©<code>const</code>ä¿®é¥°çš„å˜é‡å­˜å‚¨åˆ°<code>ROM</code>(åªè¯»å†…å­˜)ä¸­</li>
</ol>
</blockquote>
<p><code>åªè¯»ï¼ˆconstï¼‰</code>å’Œ<code>å®ï¼ˆ#defineï¼‰</code>ï¼šå¦‚ä½•æ°å½“ä½¿ç”¨ä¸¤è€…ï¼Ÿ</p>
<blockquote>
<p><strong>æŠ€å·§ï¼š</strong>å»ºè®®å¯¹è¡¨ç¤ºæ•°å­—ï¼ˆæ¯”å¦‚æ•°ç»„ç»´æ•°ï¼‰æˆ–å­—ç¬¦çš„å¸¸é‡ä½¿ç”¨<code>#define</code>;<code>const</code>å¸¸ç”¨äºä¿æŠ¤å­˜å‚¨åœ¨æ•°ç»„ä¸­çš„å¸¸é‡æ•°æ®ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>åŒºåˆ«</th>
<th>åªè¯»ï¼ˆconstï¼‰</th>
<th>å®(#define)</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç±»å‹</td>
<td>æ•°å­—å¸¸é‡ã€å­—ç¬¦å¸¸é‡ã€å­—ç¬¦ä¸²å¸¸é‡</td>
<td>ä»»ä½•ç±»å‹ï¼ˆåŒ…æ‹¬å¸¸é‡æ•°ç»„ã€å¸¸é‡æŒ‡é’ˆã€å¸¸é‡ç»“æ„ã€å¸¸é‡è”åˆï¼‰</td>
</tr>
<tr>
<td>ä½œç”¨åŸŸ</td>
<td>éµå®ˆä½œç”¨åŸŸè§„åˆ™</td>
<td>ä¸éµå®ˆï¼Œä¸èƒ½äº§ç”Ÿå…·æœ‰å—ä½œç”¨åŸŸçš„å¸¸é‡</td>
</tr>
<tr>
<td>èƒ½å¦åœ¨è°ƒè¯•å™¨è§‚å¯Ÿ</td>
<td>èƒ½</td>
<td>ä¸èƒ½</td>
</tr>
<tr>
<td>èƒ½å¦ç”¨äºå¸¸é‡è¡¨è¾¾å¼</td>
<td>ä¸èƒ½ï¼Œæ¯”å¦‚æ•°ç»„å¤§å°ï¼ˆå¸¸é‡è¡¨è¾¾å¼ï¼‰ä¸èƒ½ç”¨<code>const</code>å®šä¹‰çš„å¸¸é‡</td>
<td>èƒ½</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> n = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> a[n]; <span class="comment">// ä½¿ç”¨é”™è¯¯ï¼Œåªè¯»ç±»å‹ä¸èƒ½ç”¨äºå¸¸é‡è¡¨è¾¾å¼</span></span><br></pre></td></tr></table></figure>
<h2 id="18-4-å£°æ˜ç¬¦"><a href="#18-4-å£°æ˜ç¬¦" class="headerlink" title="18.4    å£°æ˜ç¬¦"></a>18.4    å£°æ˜ç¬¦</h2><h3 id="å£°æ˜ç¬¦ç»„æˆ"><a href="#å£°æ˜ç¬¦ç»„æˆ" class="headerlink" title="å£°æ˜ç¬¦ç»„æˆ"></a>å£°æ˜ç¬¦ç»„æˆ</h3><table>
<thead>
<tr>
<th>å…ƒç´ </th>
<th>è¯´æ˜</th>
<th>å¿…é¡»</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>æ ‡è¯†ç¬¦</code></td>
<td>å£°æ˜çš„å˜é‡æˆ–å‡½æ•°çš„åå­—</td>
<td>æ˜¯</td>
</tr>
<tr>
<td><code>*</code></td>
<td>å£°æ˜æŒ‡é’ˆæˆ–å¯¹æŒ‡é’ˆè¿›è¡Œç´¢å¼•</td>
<td>å¦</td>
</tr>
<tr>
<td><code>[]</code></td>
<td>å£°æ˜æ•°ç»„</td>
<td>å¦</td>
</tr>
<tr>
<td><code>()</code></td>
<td>å£°æ˜å‡½æ•°æˆ–æé«˜ä¼˜å…ˆçº§</td>
<td>å¦</td>
</tr>
</tbody>
</table>
<h3 id="ç®€å•çš„å£°æ˜è§„åˆ™"><a href="#ç®€å•çš„å£°æ˜è§„åˆ™" class="headerlink" title="ç®€å•çš„å£°æ˜è§„åˆ™"></a>ç®€å•çš„å£°æ˜è§„åˆ™</h3><table>
<thead>
<tr>
<th>ç¬¦å·(ç”¨äºå£°æ˜)</th>
<th>ç®€å•è§„åˆ™</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>*</code></td>
<td>ç”¨*å¼€å¤´çš„å£°æ˜ç¬¦è¡¨ç¤ºæŒ‡é’ˆ</td>
</tr>
<tr>
<td><code>[]</code></td>
<td>ç”¨[]ç»“å°¾çš„å£°æ˜ç¬¦è¡¨ç¤ºæ•°ç»„</td>
</tr>
<tr>
<td><code>()</code></td>
<td>ç”¨()ç»“å°¾çš„å£°æ˜ç¬¦è¡¨ç¤ºå‡½æ•°</td>
</tr>
</tbody>
</table>
<h3 id="ä¸åˆæ³•çš„å£°æ˜ç¬¦"><a href="#ä¸åˆæ³•çš„å£°æ˜ç¬¦" class="headerlink" title="ä¸åˆæ³•çš„å£°æ˜ç¬¦"></a>ä¸åˆæ³•çš„å£°æ˜ç¬¦</h3><blockquote>
<ol>
<li>å‡½æ•°ä¸èƒ½è¿”å›æ•°ç»„</li>
<li>å‡½æ•°ä¸èƒ½è¿”å›å‡½æ•°</li>
<li>æ•°ç»„ä¸èƒ½æ˜¯å‡½æ•°å‹çš„</li>
</ol>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æœ€ç®€å•çš„æƒ…å†µï¼šæ ‡è¯†ç¬¦å°±æ˜¯å£°æ˜ç¬¦</span></span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‡é’ˆ</span></span><br><span class="line"><span class="keyword">int</span> *p;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°ç»„</span></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>]; <span class="comment">//extern int a[];</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">abs</span><span class="params">()</span></span>; <span class="comment">// ç©ºæ‹¬å·å½¢å¼ä½¿å¾—ç¼–è¯‘å™¨ä¸æ£€æŸ¥å‡½æ•°è°ƒç”¨çš„å‚æ•°æƒ…å†µï¼Œä¸æ¨è</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">swap</span><span class="params">(<span class="keyword">void</span>)</span></span>; <span class="comment">// æ˜ç¡®å‘Šè¯‰ç¼–è¯‘å™¨æ²¡æœ‰å‚æ•°ï¼Œç¼–è¯‘å™¨ä¼šæ£€æŸ¥å‚æ•°æƒ…å†µ</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find_largest</span><span class="params">(<span class="keyword">int</span> [], <span class="keyword">int</span>)</span></span>; <span class="comment">// å…è®¸åœ¨å‡½æ•°å£°æ˜ä¸­å¿½ç•¥å½¢å¼å‚æ•°çš„åå­—</span></span><br></pre></td></tr></table></figure>
<h3 id="18-4-1-è§£é‡Šå¤æ‚å£°æ˜"><a href="#18-4-1-è§£é‡Šå¤æ‚å£°æ˜" class="headerlink" title="18.4.1    è§£é‡Šå¤æ‚å£°æ˜"></a>18.4.1    è§£é‡Šå¤æ‚å£°æ˜</h3><blockquote>
<p><strong>è§„åˆ™ï¼š</strong>æ— è®ºå¤šä¹ˆå¤æ‚çš„å£°æ˜éƒ½å¯ä»¥è¢«ä¸‹é¢çš„ä¸¤æ¡è§„åˆ™è§£é‡Š</p>
<ol>
<li>ä»æ ‡è¯†ç¬¦å¼€å§‹ï¼Œç”±å†…å¾€å¤–è§£è¯»</li>
<li>å½“ç¬¦å·ä½äºåŒä¸€å±‚çº§(ä¸€å·¦ä¸€å³)æ—¶ï¼Œç¡®å®šå£°æ˜çš„æ˜¯ä»€ä¹ˆä¸œè¥¿çš„ä¼˜å…ˆçº§æ˜¯ï¼š<code>[] &gt; () &gt; *</code>(æ•°ç»„ &gt; å‡½æ•° &gt; æŒ‡é’ˆ)</li>
</ol>
<p><strong>æŠ€å·§ï¼š</strong>ä½œä¸ºä¸Šé¢è§„åˆ™çš„è¡¥å……ï¼Œç¬¦å·<code>()</code>å’Œ<code>*</code>æœ‰å­˜åœ¨æ­§ä¹‰çš„æ—¶å€™ï¼Œä¸‹é¢æ˜¯ç”„åˆ«çš„ä¾æ®</p>
<ol>
<li><code>()</code>ï¼šå½“ä½äºå£°æ˜ç¬¦æœ€å³ç«¯æ—¶ä»£è¡¨â€œå‡½æ•°â€ï¼›å¦åˆ™æ˜¯ç”¨æ¥è¿›è¡ŒæŒ‡é’ˆç´¢å¼•çš„ï¼Œåƒè¿™æ ·ï¼š<code>(*å…¶å®ƒéƒ¨åˆ†)</code></li>
<li><code>*</code>ï¼š<code>(*å…¶å®ƒéƒ¨åˆ†)</code>ä»£è¡¨æŒ‡é’ˆç´¢å¼•ï¼Œå¦åˆ™æ˜¯å®šä¹‰å‡½æ•°çš„è¿”å›å€¼ç±»å‹ä¸ºæŒ‡é’ˆï¼ˆå¦‚æœæ˜¯å‡½æ•°ï¼‰æˆ–è€…æ˜¯æŒ‡é’ˆç±»å‹çš„å®šä¹‰ã€‚</li>
</ol>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ¹æ®è§„åˆ™2ï¼Œapæ˜¯æ•°ç»„ï¼ˆå…ƒç´ æ˜¯int *å‹çš„æŒ‡é’ˆï¼‰</span></span><br><span class="line"><span class="keyword">int</span> *ap[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ ¹æ®è§„åˆ™2ï¼Œfpæ˜¯å‡½æ•°ï¼ˆè¿”å›å€¼ç±»å‹ä¸ºfloat *ï¼‰</span></span><br><span class="line"><span class="function"><span class="keyword">float</span> *<span class="title">fp</span><span class="params">(<span class="keyword">float</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡æŠ€å·§1ï¼Œ(*pf)æ˜¯å‡½æ•°ï¼Œæ‰€ä»¥pfæ˜¯æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆï¼ˆå‡½æ•°çš„è¿”å›å€¼ä¸ºvoidï¼‰</span></span><br><span class="line"><span class="keyword">void</span> (*pf)(<span class="keyword">int</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ ¹æ®è§„åˆ™2ï¼Œ(*x[10])æ˜¯å‡½æ•°ï¼ˆè¿”å›å€¼ä¸ºint *, å‚æ•°ä¸ºvoidï¼‰ï¼Œåˆ™x[10]ä¸ºå‡½æ•°æŒ‡é’ˆï¼Œæ‰€ä»¥xæ˜¯å­˜å‚¨å‡½æ•°æŒ‡é’ˆçš„æ•°ç»„ã€‚</span></span><br><span class="line"><span class="keyword">int</span> *(*x[<span class="number">10</span>])(<span class="keyword">void</span>);</span><br></pre></td></tr></table></figure>
<h3 id="18-4-2-ä½¿ç”¨ç±»å‹å®šä¹‰æ¥ç®€åŒ–å£°æ˜"><a href="#18-4-2-ä½¿ç”¨ç±»å‹å®šä¹‰æ¥ç®€åŒ–å£°æ˜" class="headerlink" title="18.4.2    ä½¿ç”¨ç±»å‹å®šä¹‰æ¥ç®€åŒ–å£°æ˜"></a>18.4.2    ä½¿ç”¨ç±»å‹å®šä¹‰æ¥ç®€åŒ–å£°æ˜</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ©ç”¨ä¸€ç»„ç±»å‹å®šä¹‰æ‹†åˆ†å¤æ‚çš„å£°æ˜</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç­‰ä»·ï¼šint *(*x[10])(void);</span></span><br><span class="line"><span class="function"><span class="keyword">typedef</span> <span class="keyword">int</span> *<span class="title">Fcn</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="keyword">typedef</span> Fcn *Fcn_ptr;</span><br><span class="line"><span class="keyword">typedef</span> Fcn_ptr Fcn_ptr_array[<span class="number">10</span>];</span><br><span class="line">Fcn_ptr_array x;</span><br></pre></td></tr></table></figure>
<h2 id="18-5-åˆå§‹åŒ–å¼"><a href="#18-5-åˆå§‹åŒ–å¼" class="headerlink" title="18.5    åˆå§‹åŒ–å¼"></a>18.5    åˆå§‹åŒ–å¼</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯ä»¥åœ¨å£°æ˜ç¬¦çš„åè¾¹ä¹¦å†™=, åè¾¹å†è·Ÿä¸Šåˆå§‹åŒ–å¼ï¼ˆä¸åŒäºèµ‹å€¼ï¼Œèµ‹å€¼åªè¦æ˜¯åˆæ³•çš„å³å€¼å³å¯ï¼Œè€Œåˆå§‹åŒ–å¼å­˜åœ¨è¯¸å¤šé™åˆ¶ï¼‰ã€‚<br><strong>å˜é‡çš„é»˜è®¤å€¼ï¼ˆå£°æ˜æ—¶ä¸ç»™åˆå§‹åŒ–å¼ï¼‰ï¼š</strong>å˜é‡çš„åˆå§‹åŒ–å€¼ä¾èµ–äºå˜é‡çš„å­˜å‚¨æœŸé™</p>
<ul>
<li><em>è‡ªåŠ¨å­˜å‚¨æœŸé™</em>ï¼šæ²¡æœ‰é»˜è®¤çš„åˆå§‹å€¼ï¼Œä¸èƒ½é¢„æµ‹åˆå§‹å€¼</li>
<li><em>é™æ€å­˜å‚¨æœŸé™</em>ï¼šåŸºäºç±»å‹åˆå§‹åŒ–ä¸ºâ€œé›¶â€ï¼ˆæ•´å‹åˆå§‹åŒ–ä¸º0ï¼Œæµ®ç‚¹æ•°åˆå§‹åŒ–ä¸º0.0ï¼ŒæŒ‡é’ˆåˆå§‹åŒ–ä¸ºç©ºæŒ‡é’ˆï¼‰</li>
</ul>
<p><strong>æŠ€å·§ï¼š</strong>æ¨èä¸ºé™æ€ç±»å‹çš„å˜é‡æä¾›åˆå§‹åŒ–å¼ï¼Œä¾¿äºé˜…è¯»è€…ç¡®å®šå˜é‡çš„å€¼ï¼Œä¹Ÿä¾¿äºæŸ¥çœ‹åˆå§‹åŒ–èµ‹å€¼çš„ä½ç½®ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç®€å•å˜é‡çš„åˆå§‹åŒ–ï¼šä¸€ä¸ªå˜é‡ï¼Œä¸å˜é‡ç±»å‹ä¸€æ ·çš„è¡¨è¾¾å¼</span></span><br><span class="line"><span class="keyword">int</span> i = <span class="number">5</span> / <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœç±»å‹ä¸åŒ¹é…ï¼Œé‡‡ç”¨å’Œèµ‹å€¼è¿ç®—ç›¸åŒçš„è§„åˆ™è¿›è¡Œè‡ªåŠ¨ç±»å‹è½¬æ¢ï¼ˆ7.5èŠ‚ï¼‰</span></span><br><span class="line"><span class="keyword">int</span> j = <span class="number">5.5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‡é’ˆå˜é‡çš„åˆå§‹åŒ–ï¼šå¿…é¡»æ˜¯å…·æœ‰å’Œå˜é‡ç›¸åŒç±»å‹æˆ–void *ç±»å‹çš„æŒ‡é’ˆè¡¨è¾¾å¼</span></span><br><span class="line"><span class="keyword">int</span> *p = &amp;i;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°ç»„ã€ç»“æ„æˆ–è”åˆçš„åˆå§‹åŒ–å¼é€šå¸¸æ˜¯é—ä¼ å°é—­åœ¨å¤§æ‹¬å·å†…çš„å€¼</span></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">5</span>] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="é¢å¤–è§„åˆ™"><a href="#é¢å¤–è§„åˆ™" class="headerlink" title="é¢å¤–è§„åˆ™"></a>é¢å¤–è§„åˆ™</h3><ul>
<li>å…·æœ‰é™æ€å­˜å‚¨æœŸé™çš„å˜é‡ï¼šåˆå§‹åŒ–å¼å¿…é¡»æ˜¯å¸¸é‡</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FIRST 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LAST 100</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> i = LAST - FIRST + <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>å…·æœ‰è‡ªåŠ¨å­˜å‚¨æœŸé™çš„å˜é‡ï¼šåˆå§‹åŒ–å¼ä¸å¿…è¦æ˜¯å¸¸é‡</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">f</span> <span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> last = n - <span class="number">1</span>;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>ç”¨å¤§æ‹¬å·é—­åˆçš„æ•°ç»„ã€ç»“æ„æˆ–è”åˆçš„åˆå§‹åŒ–å¼å¿…é¡»åªèƒ½åŒ…å«å¸¸é‡è¡¨è¾¾å¼ï¼Œä¸å…è®¸æœ‰å˜é‡æˆ–å‡½æ•°è°ƒç”¨</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 2</span></span><br><span class="line"><span class="keyword">int</span> powers[<span class="number">3</span>] = &#123;<span class="number">1</span>, N, N*N, N*N*N&#125;; <span class="comment">// Næ˜¯å¸¸é‡ï¼Œæ‰€ä»¥åˆæ³•</span></span><br></pre></td></tr></table></figure>
<ul>
<li>è‡ªåŠ¨ç±»å‹çš„ç»“æ„æˆ–è”åˆï¼šåˆå§‹åŒ–å¼å¯ä»¥æ˜¯å¦å¤–ä¸€ä¸ªç»“æ„æˆ–è”åˆ</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">g</span> <span class="params">(<span class="keyword">struct</span> <span class="keyword">complex</span> c1)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">struct</span> <span class="keyword">complex</span> c2 = c1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/10/17 æŒ‡é’ˆçš„é«˜çº§åº”ç”¨/" itemprop="url">
                  17 æŒ‡é’ˆçš„é«˜çº§åº”ç”¨
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-10T19:38:12+08:00" content="2016-05-10">
              2016-05-10
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/10/17 æŒ‡é’ˆçš„é«˜çº§åº”ç”¨/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/10/17 æŒ‡é’ˆçš„é«˜çº§åº”ç”¨/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="17-1-åŠ¨æ€å­˜å‚¨åˆ†é…"><a href="#17-1-åŠ¨æ€å­˜å‚¨åˆ†é…" class="headerlink" title="17.1    åŠ¨æ€å­˜å‚¨åˆ†é…"></a>17.1    åŠ¨æ€å­˜å‚¨åˆ†é…</h2><blockquote>
<p><strong>èƒŒæ™¯ï¼š</strong>cè¯­è¨€çš„æ•°æ®ç»“æ„é€šå¸¸æ˜¯å›ºå®šå¤§å°çš„ï¼Œä¸ºäº†æ‰©å¤§æ•°æ®ç»“æ„çš„å®¹é‡ï¼Œå¿…é¡»ä¿®æ”¹ç¨‹åºå¹¶ä¸”å†æ¬¡ç¼–è¯‘ã€‚<br><strong>è¯´æ˜ï¼ˆè¡Œä¸ºï¼‰ï¼š</strong>åœ¨ç¨‹åºæ‰§è¡ŒæœŸé—´åˆ†é…å†…å­˜å•å…ƒ<br><strong>ç”¨é€”ï¼š</strong>å¯ä»¥æ ¹æ®éœ€è¦è®¾è®¡å¯ä»¥æ‰©å¤§ï¼ˆå’Œç¼©å°ï¼‰çš„æ•°æ®ç»“æ„</p>
</blockquote>
<table>
<thead>
<tr>
<th>é€‚ç”¨ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>å­—ç¬¦ä¸²</td>
<td></td>
</tr>
<tr>
<td>æ•°ç»„</td>
<td></td>
</tr>
<tr>
<td>ç»“æ„</td>
<td>å¯ä»¥é“¾æ¥æˆè¡¨ã€æ ‘å’Œå…¶å®ƒæ•°æ®ç»“æ„</td>
</tr>
</tbody>
</table>
<h3 id="17-1-1-å†…å­˜åˆ†é…å‡½æ•°"><a href="#17-1-1-å†…å­˜åˆ†é…å‡½æ•°" class="headerlink" title="17.1.1    å†…å­˜åˆ†é…å‡½æ•°"></a>17.1.1    å†…å­˜åˆ†é…å‡½æ•°</h3><table>
<thead>
<tr>
<th>å‡½æ•°</th>
<th>è¯´æ˜</th>
<th>åº“</th>
<th>å¤‡æ³¨</th>
<th>è¿”å›å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>malloc</code></td>
<td>åˆ†é…å†…å­˜å¿«ï¼Œä½†æ˜¯ä¸å¯¹å†…å­˜å—è¿›è¡Œåˆå§‹åŒ–</td>
<td><code>&lt;stdlib.h&gt;</code></td>
<td>æœ€å¸¸ç”¨ï¼Œä¸éœ€è¦å¯¹åˆ†é…çš„å†…å­˜å—è¿›è¡Œæ¸…é™¤ï¼Œæ‰€ä»¥å®ƒæ¯”<code>calloc</code>æ›´é«˜æ•ˆ</td>
<td><code>void *</code>(é€šç”¨æŒ‡é’ˆï¼Œæœ¬è´¨ä¸Šåªæ˜¯å†…å­˜åœ°å€)</td>
</tr>
<tr>
<td><code>calloc</code></td>
<td>åˆ†é…å†…å­˜å—ï¼Œå¹¶ä¸”å¯¹å†…å­˜å—è¿›è¡Œæ¸…é™¤</td>
<td><code>&lt;stdlib.h&gt;</code></td>
<td>å¤‡æ³¨</td>
<td></td>
</tr>
<tr>
<td><code>realloc</code></td>
<td>è°ƒæ•´å…ˆå‰åˆ†é…çš„å†…å­˜å—</td>
<td><code>&lt;stdlib.h&gt;</code></td>
<td>å¤‡æ³¨</td>
</tr>
</tbody>
</table>
<h3 id="17-1-2-ç©ºæŒ‡é’ˆ"><a href="#17-1-2-ç©ºæŒ‡é’ˆ" class="headerlink" title="17.1.2    ç©ºæŒ‡é’ˆ"></a>17.1.2    ç©ºæŒ‡é’ˆ</h3><p><strong>è¯´æ˜ï¼š</strong>â€œæŒ‡å‘ä¸ºç©ºçš„æŒ‡é’ˆâ€ï¼Œè¿™æ˜¯ä¸€ä¸ªåŒºåˆ«äºæ‰€æœ‰æœ‰æ•ˆæŒ‡é’ˆçš„ç‰¹æ®Šå€¼ã€‚<code>Q&amp;A</code>ç”¨<code>NULL</code>ï¼ˆå®ï¼‰æ¥è¡¨ç¤ºç©ºæŒ‡é’ˆã€‚<br><strong>ç›¸å…³åœºæ™¯ï¼š</strong>å½“è°ƒç”¨å†…å­˜åˆ†é…å‡½æ•°æ—¶ï¼Œå¦‚æœæ— æ³•å®šä½æ»¡è¶³æˆ‘ä»¬éœ€è¦çš„è¶³å¤Ÿå¤§çš„å†…å­˜å—ï¼Œå‡½æ•°ä¼šè¿”å›ç©ºæŒ‡é’ˆï¼ˆ<code>null pointer</code>ï¼‰ã€‚</p>
<p><strong>å®šä¹‰äº†<code>NULL</code>çš„åº“æ–‡ä»¶ï¼š</strong></p>
<ol>
<li><locale.h></locale.h></li>
<li><stddef.h></stddef.h></li>
<li><stdio.h></stdio.h></li>
<li><stdlib.h></stdlib.h></li>
<li><string.h></string.h></li>
<li><time.h></time.h></li>
</ol>
<blockquote>
<p><strong>çœŸå‡ï¼š</strong>æ‰€æœ‰éç©ºæŒ‡é’ˆéƒ½ä¸ºçœŸï¼Œè€Œåªæœ‰ç©ºæŒ‡é’ˆä¸ºå‡ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (p == <span class="literal">NULL</span>) ... </span><br><span class="line">&lt;==&gt;</span><br><span class="line"><span class="keyword">if</span> (!p) ...</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (p != NULL) ...</span><br><span class="line">&lt;==&gt;</span><br><span class="line"><span class="keyword">if</span> (p) ...</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">p = <span class="built_in">malloc</span>(<span class="number">10000</span>);</span><br><span class="line"><span class="keyword">if</span> (p == <span class="literal">NULL</span>) &#123;</span><br><span class="line">	<span class="comment">/*åˆ†é…å†…å­˜å¤±è´¥ï¼Œé‡‡å–åˆé€‚çš„æªæ–½*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>æ›´é…·çš„æ–¹å¼</em></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ((p = malloc(<span class="number">10000</span>)) == <span class="literal">NULL</span>) &#123;</span><br><span class="line">	<span class="comment">/*åˆ†é…å†…å­˜å¤±è´¥ï¼Œé‡‡å–åˆé€‚çš„æªæ–½*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="17-2-åŠ¨æ€åˆ†é…å­—ç¬¦ä¸²"><a href="#17-2-åŠ¨æ€åˆ†é…å­—ç¬¦ä¸²" class="headerlink" title="17.2    åŠ¨æ€åˆ†é…å­—ç¬¦ä¸²"></a>17.2    åŠ¨æ€åˆ†é…å­—ç¬¦ä¸²</h2><h3 id="17-2-1-ä½¿ç”¨mallocå‡½æ•°ä¸ºå­—ç¬¦ä¸²åˆ†é…å†…å­˜"><a href="#17-2-1-ä½¿ç”¨mallocå‡½æ•°ä¸ºå­—ç¬¦ä¸²åˆ†é…å†…å­˜" class="headerlink" title="17.2.1    ä½¿ç”¨mallocå‡½æ•°ä¸ºå­—ç¬¦ä¸²åˆ†é…å†…å­˜"></a>17.2.1    ä½¿ç”¨mallocå‡½æ•°ä¸ºå­—ç¬¦ä¸²åˆ†é…å†…å­˜</h3><blockquote>
<p><strong>æ³¨æ„ï¼š</strong>ä¸ºå­—ç¬¦ä¸²åˆ†é…å†…å­˜ç©ºé—´æ—¶ä¸è¦å¿˜è®°åŒ…å«ç©ºå­—ç¬¦ä¸²çš„ç©ºé—´ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŠ¨æ€åˆ†é…</span></span><br><span class="line"><span class="keyword">char</span> *p = (char *) <span class="built_in">malloc</span>(n + <span class="number">1</span>);<span class="comment">// mallocè¿”å›çš„é€šç”¨æŒ‡é’ˆä¼šè‡ªåŠ¨è½¬åŒ–ä¸ºchar*å‹å˜é‡ï¼Œå› æ­¤å¼ºåˆ¶ç±»å‹è½¬æ¢çš„éƒ¨åˆ†å¯ä»¥çœç•¥</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// èµ‹å€¼</span></span><br><span class="line"><span class="built_in">strcpy</span>(p, <span class="string">"abc"</span>);</span><br></pre></td></tr></table></figure>
<h3 id="17-2-2-åœ¨å­—ç¬¦ä¸²å‡½æ•°ä¸­ä½¿ç”¨åŠ¨æ€å­˜å‚¨åˆ†é…"><a href="#17-2-2-åœ¨å­—ç¬¦ä¸²å‡½æ•°ä¸­ä½¿ç”¨åŠ¨æ€å­˜å‚¨åˆ†é…" class="headerlink" title="17.2.2    åœ¨å­—ç¬¦ä¸²å‡½æ•°ä¸­ä½¿ç”¨åŠ¨æ€å­˜å‚¨åˆ†é…"></a>17.2.2    åœ¨å­—ç¬¦ä¸²å‡½æ•°ä¸­ä½¿ç”¨åŠ¨æ€å­˜å‚¨åˆ†é…</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * æ‹¼æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²å¹¶è¿”å›ä¸€ä¸ªâ€œæ–°å­—ç¬¦ä¸²â€ï¼ˆä¸æ”¹å˜åŸæœ‰çš„ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼‰</span><br><span class="line"> * @param  s1 è¦æ‹¼æ¥çš„å­—ç¬¦ä¸²çš„ç¬¬ä¸€éƒ¨åˆ†</span><br><span class="line"> * @param  s2 è¦æ‹¼æ¥çš„å­—ç¬¦ä¸²çš„ç¬¬äºŒéƒ¨åˆ†</span><br><span class="line"> * @return    æ–°å­—ç¬¦ä¸²åœ°å€</span><br><span class="line"> */</span></span><br><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">concat</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *s1, <span class="keyword">const</span> <span class="keyword">char</span> *s2)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%s\n"</span>, concat(<span class="string">"abc"</span>, <span class="string">"def"</span>)); <span class="comment">// abcdef</span></span><br><span class="line"></span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">concat</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *s1, <span class="keyword">const</span> <span class="keyword">char</span> *s2)</span> </span>&#123;</span><br><span class="line">	<span class="comment">// å®šä¹‰æŒ‡å‘æ–°å­—ç¬¦ä¸²çš„ä¸´æ—¶æŒ‡é’ˆå˜é‡</span></span><br><span class="line">	<span class="keyword">char</span> *result;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// ä¸ºæ–°å­—ç¬¦ä¸²åˆ†é…ç©ºé—´</span></span><br><span class="line">	result = <span class="built_in">malloc</span>(strlen(s1) + strlen(s2) + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">// åˆ†é…å†…å­˜å¤±è´¥</span></span><br><span class="line">	<span class="keyword">if</span> (result == <span class="literal">NULL</span>) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Error: malloc failed in concat \n"</span>);</span><br><span class="line">		<span class="built_in">exit</span> (EXIT_FAILURE);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// ç¬¬ä¸€éƒ¨åˆ†å¤åˆ¶åˆ°æ–°å­—ç¬¦ä¸²çš„ç©ºé—´ä¸­ï¼ˆä¼šæœ‰å‰©ä½™ï¼‰</span></span><br><span class="line">	<span class="built_in">strcpy</span>(result, s1);</span><br><span class="line"></span><br><span class="line">	<span class="comment">// ç¬¬äºŒéƒ¨åˆ†æ‹¼æ¥åˆ°åé¢</span></span><br><span class="line">	<span class="built_in">strcat</span>(result, s2);</span><br><span class="line"></span><br><span class="line">	return result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="17-2-3-åŠ¨æ€åˆ†é…å­—ç¬¦ä¸²çš„æ•°ç»„"><a href="#17-2-3-åŠ¨æ€åˆ†é…å­—ç¬¦ä¸²çš„æ•°ç»„" class="headerlink" title="17.2.3    åŠ¨æ€åˆ†é…å­—ç¬¦ä¸²çš„æ•°ç»„"></a>17.2.3    åŠ¨æ€åˆ†é…å­—ç¬¦ä¸²çš„æ•°ç»„</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨æ•°ç»„ä¸­å­˜å‚¨å­—ç¬¦ä¸²æœ‰ä¸¤ç§æ–¹å¼ã€‚äºŒç»´å­—ç¬¦æ•°ç»„æˆ–è€…å­—ç¬¦ä¸²å­—é¢é‡æŒ‡é’ˆæ•°ç»„ï¼Œç›¸æ¯”ä¹‹ä¸‹ï¼Œå‰è€…å¯èƒ½ä¼šæµªè´¹ç©ºé—´ã€‚</p>
</blockquote>
<h3 id="17-2-4-ç¨‹åºï¼šæ˜¾ç¤ºä¸€ä¸ªæœˆçš„æç¤ºåˆ—è¡¨ï¼ˆæ”¹è¿›ç‰ˆï¼‰"><a href="#17-2-4-ç¨‹åºï¼šæ˜¾ç¤ºä¸€ä¸ªæœˆçš„æç¤ºåˆ—è¡¨ï¼ˆæ”¹è¿›ç‰ˆï¼‰" class="headerlink" title="17.2.4    ç¨‹åºï¼šæ˜¾ç¤ºä¸€ä¸ªæœˆçš„æç¤ºåˆ—è¡¨ï¼ˆæ”¹è¿›ç‰ˆï¼‰"></a>17.2.4    ç¨‹åºï¼šæ˜¾ç¤ºä¸€ä¸ªæœˆçš„æç¤ºåˆ—è¡¨ï¼ˆæ”¹è¿›ç‰ˆï¼‰</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Prints a one-month reminder list</span><br><span class="line"> * ç¨‹åºéœ€è¦è¯»å…¥ä¸€ç³»åˆ—å¤©å’Œæç¤ºçš„ç»„åˆï¼Œå¹¶ä¸”æŒ‰ç…§é¡ºè®­è¿›è¡Œå­˜å‚¨ï¼ˆæŒ‰æ—¥æœŸæ’åºï¼‰</span><br><span class="line"> * é¢å¤–éœ€æ±‚ï¼š</span><br><span class="line"> * 1. å¤©åœ¨ä¸¤ä¸ªå­—ç¬¦çš„åŸŸä¸­å³å¯¹é½</span><br><span class="line"> * 2. ç¡®å®šç”¨æˆ·æ²¡æœ‰è¾“å…¥ä¸¤ä½ä»¥ä¸Šçš„æ•°å­—</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_REMIND 50<span class="comment">//å¤‡å¿˜å½•æ•°é‡</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MSG_LEN 60<span class="comment">//æ¯æ¡å¤‡å¿˜çš„æœ€å¤§é•¿åº¦</span></span></span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">read_line</span><span class="params">(<span class="keyword">char</span> str[], <span class="keyword">int</span> n)</span></span>;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="comment">//å¤‡å¿˜å½•åˆ—è¡¨</span></span><br><span class="line"> 	<span class="keyword">char</span> *reminders[MAX_REMIND];</span><br><span class="line"></span><br><span class="line"> 	<span class="comment">//æ—¥æœŸå­—ç¬¦ä¸²å’Œä¿¡æ¯å­—ç¬¦ä¸²</span></span><br><span class="line"> 	<span class="keyword">char</span> day_str[<span class="number">3</span>], msg_str[MSG_LEN + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"> 	<span class="keyword">int</span> day, i, j, num_remind = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"> 	<span class="keyword">for</span>(;;)&#123;</span><br><span class="line"> 		<span class="comment">//å¦‚æœå¤‡å¿˜å½•å·²æ»¡ï¼Œå°±åœæ­¢å¾ªç¯</span></span><br><span class="line"> 		<span class="keyword">if</span>(num_remind == MAX_REMIND)&#123;</span><br><span class="line"> 			<span class="built_in">printf</span>(<span class="string">"-- No space left --\n"</span>);</span><br><span class="line"> 			<span class="keyword">break</span>;</span><br><span class="line"> 		&#125;</span><br><span class="line"> 		<span class="comment">//è¾“å…¥æ—¥æœŸå’Œä¸€æ¡å¤‡å¿˜æ¸…å•</span></span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"Enter day and reminder:"</span>);</span><br><span class="line"></span><br><span class="line"> 		<span class="comment">//æŠŠæ—¥æœŸè¯»å…¥åˆ°æ•´å½¢å˜é‡dayä¸­ï¼Œå³ä½¿è¾“å…¥æ›´å¤šçš„æ•°å­—ï¼Œåœ¨%ä¸dä¹‹é—´çš„æ•°2ä¹Ÿä¼šé€šçŸ¥scanfå‡½æ•°åœ¨è¯»å…¥ä¸¤ä¸ªæ•°å­—ååœæ­¢</span></span><br><span class="line"> 		<span class="built_in">scanf</span>(<span class="string">"%2d"</span>, &amp;day);</span><br><span class="line"></span><br><span class="line"> 		<span class="comment">//å¦‚æœæ—¥æœŸè¾“å…¥0ï¼Œåˆ™åœæ­¢å¾ªç¯ï¼Œä¸åœ¨è¾“å…¥ä»»ä½•å¤‡å¿˜</span></span><br><span class="line"> 		<span class="keyword">if</span>(day == <span class="number">0</span>)&#123;</span><br><span class="line"> 			<span class="keyword">break</span>;</span><br><span class="line"> 		&#125;</span><br><span class="line"> 		</span><br><span class="line"> 		<span class="comment">//æŠŠdayçš„å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶å†™åˆ°day_strä¸­</span></span><br><span class="line"> 		<span class="built_in">sprintf</span>(day_str, <span class="string">"%2d"</span>, day);<span class="comment">//day_strä¼šåŒ…å«ä¸€ä¸ªç©ºå­—ç¬¦ç»“å°¾çš„åˆæ³•å­—ç¬¦ä¸²</span></span><br><span class="line"> 		read_line(msg_str, MSG_LEN);<span class="comment">//è¯»å…¥å¤‡å¿˜ä¿¡æ¯</span></span><br><span class="line"></span><br><span class="line"> 		<span class="comment">//æ‰¾åˆ°å¤‡å¿˜å½•çš„ä½ç½®ï¼ˆæ ¹æ®æ—¥æœŸä»å°åˆ°å¤§æ’åºçš„ä½ç½®ï¼‰</span></span><br><span class="line"> 		<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; num_remind; i++)&#123;</span><br><span class="line"> 			<span class="comment">//ç¡®å®šè¿™ä¸€å¤©çš„ä½ç½®</span></span><br><span class="line"> 			<span class="keyword">if</span>(<span class="built_in">strcmp</span>(day_str, reminders[i]) &lt; <span class="number">0</span>)&#123;</span><br><span class="line"> 				<span class="keyword">break</span>;</span><br><span class="line"> 			&#125;</span><br><span class="line"> 		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//å°†åŒ…æ‹¬è¯¥ä½ç½®ä¹‹åçš„å¤‡å¿˜ä¿¡æ¯å‘åç§»åŠ¨</span></span><br><span class="line">		<span class="keyword">for</span>(j = num_remind; j &gt; i; j--)&#123;</span><br><span class="line">			reminders[j], reminders[j<span class="number">-1</span>];</span><br><span class="line">		&#125; 	</span><br><span class="line"></span><br><span class="line">		reminders[i] = <span class="built_in">malloc</span>(<span class="number">2</span> + strlen(msg_str) + <span class="number">1</span>);</span><br><span class="line">		<span class="keyword">if</span> (reminders[i] == <span class="literal">NULL</span>) &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"-- No space left --\n"</span>);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line"> 		<span class="comment">//å°†å¤‡å¿˜ä¿¡æ¯æ”¾åœ¨ç©ºå‡ºæ¥çš„ä½ç½®</span></span><br><span class="line"> 		<span class="built_in">strcpy</span>(reminders[i], day_str);</span><br><span class="line"></span><br><span class="line"> 		<span class="comment">//å°†å¤‡å¿˜ä¿¡æ¯æ‹¼æ¥è¿‡å»</span></span><br><span class="line"> 		<span class="built_in">strcat</span>(reminders[i], msg_str);</span><br><span class="line"> 		num_remind++;</span><br><span class="line"> 	&#125;</span><br><span class="line"></span><br><span class="line"> 	<span class="comment">//æ‰“å°å‡ºå½“å‰æ‰€æœ‰å¤‡å¿˜ä¿¡æ¯</span></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"\nDay Reminder\n"</span>);</span><br><span class="line"> 	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; num_remind; i++)&#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"%s\n"</span>, reminders[i]);</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * è¯»å…¥ä¸€è¡Œ</span><br><span class="line"> * @param  str å­˜å‚¨å­—ç¬¦ä¸²çš„ä½ç½®</span><br><span class="line"> * @param  n   å­—ç¬¦ä¸²é•¿åº¦ä¸Šé™</span><br><span class="line"> * @return     è¯¥æ¡å­—ç¬¦ä¸²çš„é•¿åº¦</span><br><span class="line"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">read_line</span><span class="params">(<span class="keyword">char</span> str[], <span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">char</span> ch;</span><br><span class="line"> 	<span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"> 	<span class="keyword">while</span>((ch = getchar()) != <span class="string">'\n'</span>)&#123;</span><br><span class="line"> 		<span class="keyword">if</span>(i &lt; n)&#123;</span><br><span class="line"> 			str[i++] = ch;</span><br><span class="line"> 		&#125;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	str[i] = <span class="string">'\0'</span>;</span><br><span class="line"> 	return i;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h2 id="17-3-åŠ¨æ€åˆ†é…æ•°ç»„"><a href="#17-3-åŠ¨æ€åˆ†é…æ•°ç»„" class="headerlink" title="17.3    åŠ¨æ€åˆ†é…æ•°ç»„"></a>17.3    åŠ¨æ€åˆ†é…æ•°ç»„</h2><blockquote>
<p><strong>åŸç†ï¼š</strong>åœ¨ç¨‹åºæ‰§è¡ŒæœŸé—´ä¸ºæ•°ç»„åˆ†é…ç©ºé—´ï¼Œç„¶åé€šè¿‡æŒ‡å‘æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆè®¿é—®æ•°ç»„ã€‚ç”±äºcè¯­è¨€ä¸­æ•°ç»„å’ŒæŒ‡é’ˆçš„ç´§å¯†å…³ç³»ï¼ŒæŒ‡å‘åŠ¨æ€åˆ†é…çš„å†…å­˜å—çš„æŒ‡é’ˆå¯ä»¥å½“ä½œæ•°ç»„çš„åå­—ä½¿ç”¨ã€‚<br><strong>æ³¨æ„ï¼š</strong>è®¡ç®—æ•°ç»„æ‰€éœ€çš„ç©ºé—´è¦ä½¿ç”¨sizeofè¿ç®—ç¬¦ï¼Œå¦‚æœåˆ†é…ç©ºé—´ä¸è¶³ï¼Œç¨åç½‘æ•°ç»„ä¸­å­˜å‚¨æ—¶ç¨‹åºä¼šå‡ºç°å¼‚å¸¸ã€‚</p>
</blockquote>
<h3 id="17-3-1-ä½¿ç”¨mallocå‡½æ•°ä¸ºæ•°ç»„åˆ†é…å­˜å‚¨ç©ºé—´"><a href="#17-3-1-ä½¿ç”¨mallocå‡½æ•°ä¸ºæ•°ç»„åˆ†é…å­˜å‚¨ç©ºé—´" class="headerlink" title="17.3.1    ä½¿ç”¨mallocå‡½æ•°ä¸ºæ•°ç»„åˆ†é…å­˜å‚¨ç©ºé—´"></a>17.3.1    ä½¿ç”¨mallocå‡½æ•°ä¸ºæ•°ç»„åˆ†é…å­˜å‚¨ç©ºé—´</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªå«nä¸ªæ•´æ•°çš„æ•°ç»„</span></span><br><span class="line"><span class="keyword">int</span> *a;</span><br><span class="line">a = <span class="built_in">malloc</span>(n * sizeof(int)); <span class="comment">// è®¡ç®—æ•°ç»„æ‰€éœ€çš„ç©ºé—´è¦ä½¿ç”¨sizeofè¿ç®—ç¬¦</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å½“ä½œæ•°ç»„ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">	a[i] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="17-3-2-callocå‡½æ•°"><a href="#17-3-2-callocå‡½æ•°" class="headerlink" title="17.3.2    callocå‡½æ•°"></a>17.3.2    callocå‡½æ•°</h3><blockquote>
<p><strong>å‡½æ•°åŸå‹ï¼ˆ<code>stdlib.h</code>ï¼‰ï¼š</strong>å¦‚æœè¦æ±‚çš„ç©ºé—´æ— æ•ˆï¼Œé‚£ä¹ˆæ­¤å‡½æ•°è¿”å›ç©ºæŒ‡é’ˆã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* åˆ†é…å†…å­˜ç©ºé—´å¹¶åˆå§‹åŒ–</span><br><span class="line">* @param &#123;size_t&#125; numeb æ•°ç»„çš„é•¿åº¦</span><br><span class="line">* @param &#123;size_t&#125; size æ¯ä¸ªå…ƒç´ çš„å¤§å°ï¼ˆå­—èŠ‚ï¼‰</span><br><span class="line">* @return &#123;void *&#125; æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ çš„åœ°å€</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> *<span class="title">calloc</span><span class="params">(size_t nmeb, size_t size)</span></span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>å½“ç¬¬ä¸€ä¸ªå‚æ•°ä¸º1æ—¶ï¼Œå¯ä»¥ä¸ºä»»ä½•ç±»å‹çš„æ•°æ®é¡¹ï¼ˆä¸ä»…ä»…æ˜¯æ•°ç»„ï¼‰åˆ†é…ç©ºé—´</li>
<li>callocå‡½æ•°ä¼šæ¸…é™¤åˆ†é…çš„ç©ºé—´ä¸­çš„æ•°æ®</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜ä¸€ä¸ªé•¿åº¦ä¸ºnçš„intå‹æ•°ç»„ï¼Œå¹¶å°†æ‰€æœ‰é¡¹åˆå§‹åŒ–ä¸º0</span></span><br><span class="line"><span class="keyword">int</span> *a = <span class="built_in">calloc</span>(n, sizeof(int));</span><br><span class="line"></span><br><span class="line"><span class="comment">// å£°æ˜ä¸€ä¸ªæŒ‡å‘ç»“æ„ä½“çš„æŒ‡é’ˆ</span></span><br><span class="line"><span class="keyword">struct</span> point &#123;</span><br><span class="line">	<span class="keyword">int</span> x;</span><br><span class="line">	<span class="keyword">int</span> y;</span><br><span class="line">&#125; *p;</span><br><span class="line">p = <span class="built_in">calloc</span>(<span class="number">1</span>, sizeof(struct point)); <span class="comment">//på°†æŒ‡å‘æ–°åˆ›å»ºçš„ç»“æ„ä½“ï¼Œä¸”ç»“æ„ä½“çš„æˆå‘˜xã€yéƒ½ä¸º0</span></span><br></pre></td></tr></table></figure>
<h3 id="17-3-3-reallocå‡½æ•°"><a href="#17-3-3-reallocå‡½æ•°" class="headerlink" title="17.3.3    reallocå‡½æ•°"></a>17.3.3    reallocå‡½æ•°</h3><blockquote>
<p><strong>åŸå‹(<code>stdlib.h</code>)ï¼š</strong></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* è°ƒæ•´åˆ†é…çš„å†…å­˜çš„å¤§å°</span><br><span class="line">* @param &#123;void *&#125; ptr æŒ‡å‘å†…å­˜å—ï¼ˆé€šå¸¸æ˜¯æ•°ç»„ï¼‰çš„æŒ‡é’ˆ</span><br><span class="line">* @param &#123;size_t&#125; size å†…å­˜å—çš„æ–°å°ºå¯¸</span><br><span class="line">* @return &#123;void *&#125; æ–°çš„å†…å­˜å—çš„åœ°å€</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> *<span class="title">realloc</span><span class="params">(<span class="keyword">void</span> *ptr, size_t size)</span></span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>ç”¨é€”ï¼š</strong>ä¸€æ—¦ä¸ºæ•°ç»„åˆ†é…å®Œå†…å­˜ï¼Œç¨åå¯èƒ½ä¼šè¿”ç°æ•°ç»„è¿‡å¤§æˆ–è¿‡å°ã€‚rellocå‡½æ•°å¯ä»¥è°ƒæ•´æ•°ç»„çš„å¤§å°ä»¥ä½¿å®ƒæ›´é€‚åˆéœ€è¦ã€‚<br><strong>å±€é™ï¼š</strong>è¦ç¡®å®šä¼ é€’ç»™<code>reallocå‡½æ•°</code>çš„æŒ‡é’ˆæ¥è‡ªäºå…ˆå‰<code>mallocå‡½æ•°</code>ã€<code>callocå‡½æ•°</code>æˆ–<code>reallocå‡½æ•°</code>çš„è°ƒç”¨è·å¾—çš„ã€‚å¦åˆ™ç¨‹åºä¼šå‡ºç°å¼‚å¸¸ã€‚<br><strong>è§„åˆ™ï¼š</strong></p>
<ul>
<li>å¦‚æœæ— æ³•æ‰©å¤§å†…å­˜ï¼ˆåè¾¹å†…å­˜è¢«å ç”¨ï¼‰ï¼Œä¼šåœ¨åˆ«å¤„åˆ†é…æ–°çš„å†…å­˜ï¼Œç„¶åæŠŠæ—§å—ä¸­çš„å†…å®¹å¤åˆ¶è¿‡å»</li>
<li>å½“æ‰©å±•å†…å­˜å—æ—¶ï¼Œ    <code>reallocå‡½æ•°</code>ä¸ä¼šå¯¹æ·»åŠ è¿›å†…å­˜å—çš„å­—èŠ‚è¿›è¡Œåˆå§‹åŒ–</li>
<li>å¦‚æœ<code>reallocå‡½æ•°</code>ä¸èƒ½æŒ‰è¦æ±‚æ‰©å¤§å†…å­˜å—ï¼Œé‚£ä¹ˆå®ƒä¼šè¿”å›ç©ºæŒ‡é’ˆï¼Œå¹¶ä¸”åœ¨åŸæœ‰çš„å†…å­˜å—ä¸­çš„æ•°æ®ä¸ä¼šå‘ç”Ÿæ”¹å˜ã€‚</li>
<li>å¦‚æœ<code>reallocå‡½æ•°</code>è°ƒç”¨æ—¶ä»¥ç©ºæŒ‡é’ˆä½œä¸ºç¬¬ä¸€ä¸ªå®é™…å‚æ•°ï¼Œé‚£ä¹ˆå®ƒçš„è¡Œä¸ºå°±å°†åƒ<code>mallocå‡½æ•°</code>ä¸€æ ·</li>
<li>å¦‚æœ<code>reallocå‡½æ•°</code>è°ƒç”¨æ—¶ä»¥0ä½œä¸ºç¬¬äºŒä¸ªå®é™…å‚æ•°ï¼Œé‚£ä¹ˆå®ƒä¼šé‡Šæ”¾æ‰å†…å­˜å—    </li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong>ä¸€æ—¦<code>reallocå‡½æ•°</code>è¿”å›ï¼Œä¸€å®šè¦å¯¹æŒ‡å‘å†…å­˜å—çš„æ‰€æœ‰æŒ‡é’ˆè¿›è¡Œæ›´æ–°ï¼ˆå°†æ–°çš„åœ°å€èµ‹å€¼ç»™æŒ‡é’ˆï¼‰ï¼Œå› ä¸ºå¯èƒ½reallocå‡½æ•°ç§»åŠ¨åˆ°äº†å…¶åœ°æ–¹çš„å†…å­˜å—ã€‚</p>
</blockquote>
<h2 id="17-4-é‡Šæ”¾å­˜å‚¨"><a href="#17-4-é‡Šæ”¾å­˜å‚¨" class="headerlink" title="17.4    é‡Šæ”¾å­˜å‚¨"></a>17.4    é‡Šæ”¾å­˜å‚¨</h2><blockquote>
<p><strong>å †ï¼ˆheapï¼‰ï¼š</strong><code>mallocå‡½æ•°</code>å’Œå…¶ä»–å†…å­˜åˆ†é…å‡½æ•°æ‰€è·å¾—çš„å†…å­˜å—éƒ½æ¥è‡ªä¸€ä¸ªç§°ä¸ºå †çš„å­˜å‚¨æ± ã€‚è°ƒç”¨è¿™äº›å‡½æ•°ç»å¸¸ä¼šè€—å°½å †ï¼Œæˆ–è€…è¦æ±‚å¤§çš„å†…å­˜å—ä¹Ÿä¼šè€—å°½å †ï¼Œè¿™ä¼šå¯¼è‡´å‡½æ•°è¿”å›ç©ºæŒ‡é’ˆã€‚<br><strong>åƒåœ¾ï¼ˆgarbageï¼‰ï¼š</strong>å¯¹ç¨‹åºè€Œè¨€ä¸å†è®¿é—®åˆ°çš„å†…å­˜å—è¢«ç§°ä¸ºåƒåœ¾ã€‚<br><strong>å†…å­˜æ³„æ¼ï¼ˆmemroy leakï¼‰ï¼š</strong>è¿è¡Œä¸­ç•™æœ‰åƒåœ¾è¢«ç§°ä¸ºå†…å­˜æ³„æ¼ã€‚<br><strong>åƒåœ¾æ”¶é›†å™¨ï¼ˆgarbage collectorï¼‰ï¼š</strong>ç”¨äºåƒåœ¾çš„è‡ªåŠ¨å®šä½å’Œå›æ”¶ï¼Œä½†cè¯­è¨€ä¸æä¾›ã€‚ç›¸åï¼Œæ¯ä¸ªcç¨‹åºè´Ÿè´£å›æ”¶å„è‡ªçš„åƒåœ¾ï¼ˆè°ƒç”¨<code>freeå‡½æ•°</code>ï¼‰ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*æ¨¡æ‹Ÿå†…å­˜æ³„æ¼*/</span></span><br><span class="line">p = <span class="built_in">malloc</span>(...)</span><br><span class="line">q = <span class="built_in">malloc</span>(...)</span><br><span class="line">p = q; <span class="comment">// påŸæœ¬æŒ‡å‘çš„å†…å­˜å—å˜æˆåƒåœ¾</span></span><br></pre></td></tr></table></figure>
<h3 id="17-4-1-freeå‡½æ•°"><a href="#17-4-1-freeå‡½æ•°" class="headerlink" title="17.4.1    freeå‡½æ•°"></a>17.4.1    freeå‡½æ•°</h3><blockquote>
<p><strong>ç”¨é€”ï¼š</strong>è°ƒç”¨<code>freeå‡½æ•°</code>å°†å†…å­˜å—é‡Šæ”¾è¿”å›å †ã€‚<br><strong>åŸå‹ï¼š</strong><code>stdlib.h</code><br><strong>é™åˆ¶ï¼š</strong><code>freeå‡½æ•°</code>çš„ä¸–çºªå‚æ•°å¿…é¡»æ˜¯æŒ‡é’ˆï¼Œè€Œä¸”ä¸€å®šæ˜¯å…ˆå‰<code>å†…å­˜åˆ†é…å‡½æ•°</code>è¿”å›çš„ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* é‡Šæ”¾å†…å­˜</span><br><span class="line">* @param &#123;void *&#125; ptr æŒ‡å‘éœ€è¦é‡Šæ”¾çš„å†…å­˜å—çš„æŒ‡é’ˆ</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">free</span><span class="params">(<span class="keyword">void</span> *ptr)</span></span>;</span><br></pre></td></tr></table></figure>
<h3 id="17-4-2-â€œæ‚¬ç©ºæŒ‡é’ˆâ€é—®é¢˜"><a href="#17-4-2-â€œæ‚¬ç©ºæŒ‡é’ˆâ€é—®é¢˜" class="headerlink" title="17.4.2    â€œæ‚¬ç©ºæŒ‡é’ˆâ€é—®é¢˜"></a>17.4.2    â€œæ‚¬ç©ºæŒ‡é’ˆâ€é—®é¢˜</h3><blockquote>
<p><strong>æ‚¬ç©ºæŒ‡é’ˆï¼ˆdangling pointerï¼‰ï¼š</strong>æŒ‡å‘è¢«<code>free</code>æ‰çš„å†…å­˜å—çš„æŒ‡é’ˆã€‚<br><strong>æ³¨æ„ï¼š</strong>æ‚¬ç©ºæŒ‡é’ˆå¾ˆéš¾è¢«å‘ç°ï¼Œè€Œä¸”è¯•å›¾é€šè¿‡â€œæ‚¬ç©ºæŒ‡é’ˆâ€ä¿®æ”¹è¢«é‡Šæ”¾æ‰çš„å†…å­˜å—ä¼šå¯¼è‡´ç¨‹åºå¼‚å¸¸ã€‚</p>
</blockquote>
<h2 id="17-5-é“¾è¡¨"><a href="#17-5-é“¾è¡¨" class="headerlink" title="17.5    é“¾è¡¨"></a>17.5    é“¾è¡¨</h2><blockquote>
<p><strong>é“¾è¡¨ï¼ˆlinked listï¼‰ï¼š</strong>æ—¶ç”±ä¸€è¿ä¸²çš„ç»“æ„ï¼ˆèŠ‚ç‚¹ï¼‰ç»„æˆçš„ï¼Œå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹éƒ½åŒ…å«æŒ‡å‘ä¸‹ä¸€ä¸ªé“¾ä¸­èŠ‚ç‚¹çš„æŒ‡é’ˆã€‚<br><strong>ä¼˜ç‚¹ï¼š</strong>æ›´çµæ´»ï¼Œæ–¹ä¾¿æ‰©å¤§å’Œç¼©å°ï¼ˆæ’å…¥å’Œåˆ é™¤ï¼‰ã€‚<br><strong>ç¼ºç‚¹ï¼š</strong>æ²¡æœ‰â€œéšæœºè®¿é—®â€çš„èƒ½åŠ›</p>
</blockquote>
<h3 id="17-5-1-å£°æ˜èŠ‚ç‚¹ç±»å‹"><a href="#17-5-1-å£°æ˜èŠ‚ç‚¹ç±»å‹" class="headerlink" title="17.5.1    å£°æ˜èŠ‚ç‚¹ç±»å‹"></a>17.5.1    å£°æ˜èŠ‚ç‚¹ç±»å‹</h3><blockquote>
<p><strong>æ³¨æ„ï¼š</strong>ç»“ç‚¹ç±»å‹åªèƒ½ä½¿ç”¨æ ‡è®°è€Œä¸èƒ½ä½¿ç”¨<code>typedef</code>å®šä¹‰ç»“æ„ï¼Œå› ä¸ºåè€…æ— æ³•åœ¨èŠ‚ç‚¹å†…å£°æ˜æŒ‡å‘å¦ä¸€ä¸ªç»“ç‚¹çš„æˆå‘˜ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç®€å•çš„å•ä¸ªèŠ‚ç‚¹çš„ç»“æ„</span></span><br><span class="line"><span class="keyword">struct</span> node &#123;</span><br><span class="line">	<span class="keyword">int</span> value;</span><br><span class="line">	<span class="keyword">struct</span> node *next; <span class="comment">// æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> node *first = <span class="literal">NULL</span>; <span class="comment">//é“¾è¡¨åˆå§‹ä¸ºç©º</span></span><br></pre></td></tr></table></figure>
<h3 id="17-5-2-åˆ›å»ºèŠ‚ç‚¹"><a href="#17-5-2-åˆ›å»ºèŠ‚ç‚¹" class="headerlink" title="17.5.2    åˆ›å»ºèŠ‚ç‚¹"></a>17.5.2    åˆ›å»ºèŠ‚ç‚¹</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">struct</span> node *new_node;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸ºèŠ‚ç‚¹åˆ†é…å†…å­˜</span></span><br><span class="line">new_node = <span class="built_in">malloc</span>(sizeof(struct node));</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸ºèŠ‚ç‚¹åˆå§‹åŒ–å€¼</span></span><br><span class="line">(*new_node).value = <span class="number">0</span>; <span class="comment">// .çš„ä¼˜å…ˆçº§é«˜äºé—´æ¥å¯»å€è¿ç®—ç¬¦*ï¼Œæ‰€ä»¥ä½¿ç”¨()æå‡åè€…ä¼˜å…ˆçº§</span></span><br></pre></td></tr></table></figure>
<h3 id="17-5-3-gt-è¿ç®—ç¬¦"><a href="#17-5-3-gt-è¿ç®—ç¬¦" class="headerlink" title="17.5.3    -&gt;è¿ç®—ç¬¦"></a>17.5.3    -&gt;è¿ç®—ç¬¦</h3><blockquote>
<p><strong>å³ç®­å¤´é€‰æ‹©ï¼ˆright arrow selectionï¼‰ï¼š</strong>é€šè¿‡æŒ‡é’ˆè®¿é—®ç»“æ„ä¸­çš„æˆå‘˜</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;new_node-&gt;value); <span class="comment">//scanf("%d", &amp;(*new_node).value)</span></span><br></pre></td></tr></table></figure>
<h3 id="17-5-4-åœ¨é“¾è¡¨çš„å¼€å§‹å¤„æ’å…¥èŠ‚ç‚¹"><a href="#17-5-4-åœ¨é“¾è¡¨çš„å¼€å§‹å¤„æ’å…¥èŠ‚ç‚¹" class="headerlink" title="17.5.4    åœ¨é“¾è¡¨çš„å¼€å§‹å¤„æ’å…¥èŠ‚ç‚¹"></a>17.5.4    åœ¨é“¾è¡¨çš„å¼€å§‹å¤„æ’å…¥èŠ‚ç‚¹</h3><blockquote>
<p><strong>æ­¥éª¤</strong></p>
<ol>
<li>ä¸ºèŠ‚ç‚¹åˆ†é…å†…å­˜å•å…ƒ</li>
<li>æŠŠæ•°æ®å­˜å‚¨åœ¨èŠ‚ç‚¹ä¸­</li>
<li>æŠŠèŠ‚ç‚¹æ’å…¥åˆ°é“¾è¡¨ä¸­</li>
</ol>
<p><strong>ä¼ç¬”ï¼š</strong>åœ¨17.6èŠ‚ä¸­å¯¹<code>add_to_list</code>æœ‰è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> EXIT_FALURE 0</span></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * @brief èŠ‚ç‚¹</span><br><span class="line"> * @struct</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">struct</span> node &#123;</span><br><span class="line">	<span class="keyword">int</span> value;</span><br><span class="line">	<span class="keyword">struct</span> node *next; <span class="comment">// æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * æ·»åŠ èŠ‚ç‚¹åˆ°é“¾è¡¨å¤´éƒ¨</span><br><span class="line"> * éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¯¥å‡½æ•°æ‰§è¡Œåè¿˜éœ€è¦å°†å¤´éƒ¨æŒ‡å‘è¯¥å‡½æ•°è¿”å›çš„æ–°çš„èŠ‚ç‚¹æ‰èƒ½å®Œæˆæ’å…¥åˆ°é“¾è¡¨å¤´éƒ¨çš„å·¥ä½œ</span><br><span class="line"> * @param  list è¦æ’å…¥çš„é“¾è¡¨ï¼ˆæŒ‡å‘å¤´éƒ¨èŠ‚ç‚¹çš„æŒ‡é’ˆï¼‰</span><br><span class="line"> * @param  n    è¦æ’å…¥çš„èŠ‚ç‚¹å­˜å‚¨çš„å€¼</span><br><span class="line"> * @return      æ–°çš„é“¾è¡¨ï¼ˆæŒ‡å‘æ–°çš„å¤´èŠ‚ç‚¹çš„æŒ‡é’ˆï¼‰</span><br><span class="line"> */</span></span><br><span class="line"><span class="function"><span class="keyword">struct</span> node *<span class="title">add_to_list</span> <span class="params">(<span class="keyword">struct</span> node *<span class="built_in">list</span>, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">	<span class="comment">// å£°æ˜æ–°èŠ‚ç‚¹</span></span><br><span class="line">	<span class="keyword">struct</span> node *new_node;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// ä¸ºæ–°èŠ‚ç‚¹åˆ†é…å†…å­˜</span></span><br><span class="line">	new_node = <span class="built_in">malloc</span>(sizeof(struct node));</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (new_node == <span class="literal">NULL</span>) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Error: malloc failed in add_ro list\n"</span>);</span><br><span class="line">		<span class="built_in">exit</span>(EXIT_FALURE);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	new_node-&gt;value = n;</span><br><span class="line">	new_node-&gt;next = <span class="built_in">list</span>;</span><br><span class="line">	return new_node;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * é€šè¿‡å‘½ä»¤è¡Œå®Œæˆé“¾è¡¨çš„åˆ›å»º</span><br><span class="line"> * @return  é“¾è¡¨çš„å¤´éƒ¨</span><br><span class="line"> */</span></span><br><span class="line"><span class="function"><span class="keyword">struct</span> node *<span class="title">read_numbers</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">struct</span> node *first = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Enter a series of intergers (0 to terminate):\n"</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (;;) &#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">		<span class="keyword">if</span> (n == <span class="number">0</span>) &#123;</span><br><span class="line">			return first;</span><br><span class="line">		&#125;</span><br><span class="line">		first = add_to_list(first, n);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="comment">// åˆ›å»ºä¸€ä¸ªå«æœ‰ç”¨æˆ·å½•å…¥çš„æ•°å­—çš„é“¾è¡¨</span></span><br><span class="line">	<span class="keyword">struct</span> node *num_list;</span><br><span class="line">	num_list = read_numbers();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="17-5-5-æœç´¢é“¾è¡¨"><a href="#17-5-5-æœç´¢é“¾è¡¨" class="headerlink" title="17.5.5    æœç´¢é“¾è¡¨"></a>17.5.5    æœç´¢é“¾è¡¨</h3><blockquote>
<p><strong>æƒ¯ç”¨æ³•ï¼š</strong><code>for (p = first; p != NULL; p = p-&gt;next)</code><br><em>å½¢å¼ä¸€ï¼šæƒ¯ç”¨æ³•</em></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* æ ¹æ®å­˜å‚¨çš„å€¼å¯»æ‰¾èŠ‚ç‚¹</span><br><span class="line">* @param &#123;struct node *&#125; list é“¾è¡¨ï¼ˆå¤´éƒ¨æŒ‡é’ˆï¼‰</span><br><span class="line">* @param &#123;int&#125; n ç›®æ ‡èŠ‚ç‚¹å­˜å‚¨çš„å€¼</span><br><span class="line">* @return ç›®æ ‡èŠ‚ç‚¹çš„æŒ‡é’ˆæˆ–NULL</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">struct</span> node *<span class="title">search_list</span><span class="params">(<span class="keyword">struct</span> node *<span class="built_in">list</span>, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">struct</span> node *p;</span><br><span class="line">	<span class="keyword">for</span> (p = <span class="built_in">list</span>; p != <span class="literal">NULL</span>; p = p-&gt;next) &#123;</span><br><span class="line">		<span class="keyword">if</span> (p-&gt;value == n) &#123;</span><br><span class="line">			return p;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	return <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>å½¢å¼äºŒï¼šçœç•¥ä¸­é—´å˜é‡</em></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* æ ¹æ®å­˜å‚¨çš„å€¼å¯»æ‰¾èŠ‚ç‚¹</span><br><span class="line">* @param &#123;struct node *&#125; list é“¾è¡¨ï¼ˆå¤´éƒ¨æŒ‡é’ˆï¼‰</span><br><span class="line">* @param &#123;int&#125; n ç›®æ ‡èŠ‚ç‚¹å­˜å‚¨çš„å€¼</span><br><span class="line">* @return ç›®æ ‡èŠ‚ç‚¹çš„æŒ‡é’ˆæˆ–NULL</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">struct</span> node *<span class="title">search_list</span><span class="params">(<span class="keyword">struct</span> node *<span class="built_in">list</span>, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (; <span class="built_in">list</span> != <span class="literal">NULL</span>; <span class="built_in">list</span> = <span class="built_in">list</span>-&gt;next) &#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">list</span>-&gt;value == n) &#123;</span><br><span class="line">			return <span class="built_in">list</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	return <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>å½¢å¼ä¸‰ï¼šé“¾è¡¨åˆ°æœ«å°¾å’Œæ‰¾åˆ°ç›®æ ‡åˆ¤å®šåˆå¹¶</em></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* æ ¹æ®å­˜å‚¨çš„å€¼å¯»æ‰¾èŠ‚ç‚¹</span><br><span class="line">* @param &#123;struct node *&#125; list é“¾è¡¨ï¼ˆå¤´éƒ¨æŒ‡é’ˆï¼‰</span><br><span class="line">* @param &#123;int&#125; n ç›®æ ‡èŠ‚ç‚¹å­˜å‚¨çš„å€¼</span><br><span class="line">* @return ç›®æ ‡èŠ‚ç‚¹çš„æŒ‡é’ˆæˆ–NULL</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">struct</span> node *<span class="title">search_list</span><span class="params">(<span class="keyword">struct</span> node *<span class="built_in">list</span>, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (; <span class="built_in">list</span> != <span class="literal">NULL</span> &amp;&amp; <span class="built_in">list</span>-&gt;value != n; <span class="built_in">list</span> = <span class="built_in">list</span>-&gt;next)</span><br><span class="line">		;</span><br><span class="line">	return <span class="built_in">list</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>å½¢å¼å››ï¼šä½¿ç”¨while</em></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* æ ¹æ®å­˜å‚¨çš„å€¼å¯»æ‰¾èŠ‚ç‚¹</span><br><span class="line">* @param &#123;struct node *&#125; list é“¾è¡¨ï¼ˆå¤´éƒ¨æŒ‡é’ˆï¼‰</span><br><span class="line">* @param &#123;int&#125; n ç›®æ ‡èŠ‚ç‚¹å­˜å‚¨çš„å€¼</span><br><span class="line">* @return ç›®æ ‡èŠ‚ç‚¹çš„æŒ‡é’ˆæˆ–NULL</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">struct</span> node *<span class="title">search_list</span><span class="params">(<span class="keyword">struct</span> node *<span class="built_in">list</span>, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">	wile (<span class="built_in">list</span> != <span class="literal">NULL</span> &amp;&amp; <span class="built_in">list</span>-&gt;value != n) &#123;</span><br><span class="line">		<span class="built_in">list</span> = <span class="built_in">list</span>-&gt;next</span><br><span class="line">	&#125;</span><br><span class="line">	return <span class="built_in">list</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="17-5-6-ä»é“¾è¡¨ä¸­åˆ é™¤èŠ‚ç‚¹"><a href="#17-5-6-ä»é“¾è¡¨ä¸­åˆ é™¤èŠ‚ç‚¹" class="headerlink" title="17.5.6    ä»é“¾è¡¨ä¸­åˆ é™¤èŠ‚ç‚¹"></a>17.5.6    ä»é“¾è¡¨ä¸­åˆ é™¤èŠ‚ç‚¹</h3><blockquote>
<p><strong>æ­¥éª¤</strong></p>
<ol>
<li>å®šä½è¦åˆ é™¤çš„èŠ‚ç‚¹</li>
<li>æ”¹å˜å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä»è€Œä½¿å®ƒâ€œç»•è¿‡â€åˆ é™¤èŠ‚ç‚¹</li>
<li>è°ƒç”¨<code>freeå‡½æ•°</code>ä»è€Œæ”¶å›åˆ é™¤èŠ‚ç‚¹å ç”¨çš„å†…å­˜ç©ºé—´</li>
</ol>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* æ ¹æ®èŠ‚ç‚¹çš„å€¼æ‰¾åˆ°èŠ‚ç‚¹å¹¶åˆ é™¤ä¹‹</span><br><span class="line">* @param &#123;struct node*&#125; list æ‰€åœ¨çš„é“¾è¡¨</span><br><span class="line">* @param &#123;int&#125; n è¦åˆ é™¤çš„èŠ‚ç‚¹å­˜å‚¨çš„å€¼</span><br><span class="line">* @return &#123;struct node*&#125; é“¾è¡¨çš„å¤´èŠ‚ç‚¹</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">struct</span> node *<span class="title">delete_from_list</span> <span class="params">(<span class="keyword">struct</span> node *<span class="built_in">list</span>, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">struct</span> node *cur, *prev;</span><br><span class="line">	<span class="comment">// å®šä½è¦åˆ é™¤çš„èŠ‚ç‚¹</span></span><br><span class="line">	<span class="keyword">for</span> (cur = <span class="built_in">list</span>, prev = <span class="literal">NULL</span>; cur != <span class="literal">NULL</span> &amp;&amp; cur-&gt;value != n; prev = cur, cur = cur-&gt;next)</span><br><span class="line">		;</span><br><span class="line">	<span class="comment">// æ²¡æœ‰æ‰¾åˆ°è¦åˆ é™¤çš„èŠ‚ç‚¹</span></span><br><span class="line">	<span class="keyword">if</span> (cur == <span class="literal">NULL</span>) &#123;</span><br><span class="line">		return <span class="built_in">list</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// æ‰¾åˆ°äº†ï¼Œè¦åˆ é™¤çš„èŠ‚ç‚¹æ˜¯ç¬¬ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">	<span class="keyword">if</span> (prev == NUL) &#123;</span><br><span class="line">		<span class="built_in">list</span> = <span class="built_in">list</span>-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// æ‰¾åˆ°äº†ï¼Œ è¦åˆ é™¤çš„èŠ‚ç‚¹ä¸æ˜¯ç¬¬ä¸€ä¸ªå‡ ç‚¹</span></span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		prev-&gt;next = cur-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">free</span>(cur);</span><br><span class="line">	return <span class="built_in">list</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="17-5-8-ç¨‹åºï¼šç»´æŠ¤é›¶ä»¶æ•°æ®åº“ï¼ˆæ”¹è¿›ç‰ˆï¼‰"><a href="#17-5-8-ç¨‹åºï¼šç»´æŠ¤é›¶ä»¶æ•°æ®åº“ï¼ˆæ”¹è¿›ç‰ˆï¼‰" class="headerlink" title="17.5.8    ç¨‹åºï¼šç»´æŠ¤é›¶ä»¶æ•°æ®åº“ï¼ˆæ”¹è¿›ç‰ˆï¼‰"></a>17.5.8    ç¨‹åºï¼šç»´æŠ¤é›¶ä»¶æ•°æ®åº“ï¼ˆæ”¹è¿›ç‰ˆï¼‰</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä½¿ç”¨é“¾è¡¨ä»£æ›¿æ•°ç»„æœ‰ä¸¤ä¸ªä¸»è¦çš„å¥½å¤„</p>
<ol>
<li>ä¸éœ€è¦äº‹å…ˆé™åˆ¶æ•°æ®åº“çš„å¤§å°ï¼Œæ•°æ®åº“å¯ä»¥æ‰©å¤§åˆ°æ²¡æœ‰æ›´å¤šå†…å­˜ç©ºé—´å­˜å‚¨é›¶ä»¶ä¸ºæ­¢</li>
<li>å¯ä»¥å¾ˆå®¹æ˜“ä¿æŒç”¨é›¶ä»¶ç¼–å·æ’åºçš„æ•°æ®åº“ï¼Œå½“å¾€æ•°æ®åº“ä¸­æ·»åŠ æ–°é›¶ä»¶æ—¶ï¼Œåªæ˜¯ç®€å•æŠŠå®ƒæ’å…¥é“¾è¡¨ä¸­çš„é€‚å½“ä½ç½®å°±å¯ä»¥äº†</li>
</ol>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ make</span><br><span class="line">$ tree -L 2</span><br><span class="line"> .</span><br><span class="line"> â”œâ”€â”€ invent2</span><br><span class="line"> â”œâ”€â”€ invent2.c</span><br><span class="line"> â”œâ”€â”€ invent2.o</span><br><span class="line"> â”œâ”€â”€ makefile</span><br><span class="line"> â”œâ”€â”€ readline.c</span><br><span class="line"> â”œâ”€â”€ readline.h</span><br><span class="line"> â””â”€â”€ readline.o   â””â”€â”€ readline.o</span><br></pre></td></tr></table></figure>
<h4 id="readline-h"><a href="#readline-h" class="headerlink" title="readline.h"></a>readline.h</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> READLINE_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> READLINE_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * è¯»å…¥ä¸€è¡Œ</span><br><span class="line"> * ä¼šè·³è¿‡å¼€å¤´çš„ç©ºç™½ç¬¦</span><br><span class="line"> *</span><br><span class="line"> * @param  str è¯»å…¥çš„å†…å®¹</span><br><span class="line"> * @param  n   å­—ç¬¦ä¸²çš„å†…å®¹</span><br><span class="line"> * @return     è¯»å…¥å­—ç¬¦çš„ä¸ªæ•°</span><br><span class="line"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">read_line</span><span class="params">(<span class="keyword">char</span> str[], <span class="keyword">int</span> n)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="readline-c"><a href="#readline-c" class="headerlink" title="readline.c"></a>readline.c</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ctype.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="string">"readline.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * è¯»å…¥ä¸€è¡Œ</span><br><span class="line"> * ä¼šè·³è¿‡å¼€å¤´çš„ç©ºç™½ç¬¦</span><br><span class="line"> *</span><br><span class="line"> * @param  str è¯»å…¥çš„å†…å®¹</span><br><span class="line"> * @param  n   å­—ç¬¦ä¸²çš„å†…å®¹</span><br><span class="line"> * @return     è¯»å…¥å­—ç¬¦çš„ä¸ªæ•°</span><br><span class="line"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">read_line</span><span class="params">(<span class="keyword">char</span> str[], <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">	<span class="comment">// chçš„ç±»å‹ä¸ºintè€Œä¸æ˜¯charï¼Œä¾¿äºåˆ¤å®šEOF</span></span><br><span class="line">	<span class="keyword">int</span> ch, i =<span class="number">0</span>;</span><br><span class="line">	<span class="comment">// è·³è¿‡æ‰€æœ‰ç©ºç™½ç¬¦</span></span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">isspace</span>(ch = getchar()))</span><br><span class="line">		;</span><br><span class="line">	<span class="keyword">while</span> (ch != <span class="string">'\n'</span> &amp;&amp; ch != EOF) &#123;</span><br><span class="line">		<span class="keyword">if</span> (i &lt; n) &#123;</span><br><span class="line">			str[i++] = ch;</span><br><span class="line">		&#125;</span><br><span class="line">		ch = getchar();</span><br><span class="line">	&#125;</span><br><span class="line">	str[i] = <span class="string">'\0'</span>;</span><br><span class="line">	return i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="invent2-c"><a href="#invent2-c" class="headerlink" title="invent2.c"></a>invent2.c</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Maintains a parts database (linked list version)</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="string">"readline.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NAME_LEN 25</span></span><br><span class="line"> <span class="comment">/**</span><br><span class="line">  * å®šä¹‰é›¶ä»¶</span><br><span class="line">  */</span></span><br><span class="line"> <span class="keyword">struct</span> part &#123;</span><br><span class="line"> 	<span class="keyword">int</span> number; <span class="comment">// ç¼–å·</span></span><br><span class="line"> 	<span class="keyword">char</span> name[NAME_LEN + <span class="number">1</span>]; <span class="comment">// åå­—é•¿åº¦</span></span><br><span class="line"> 	<span class="keyword">int</span> on_hand; <span class="comment">// å½“å‰åº“å­˜</span></span><br><span class="line"> 	<span class="keyword">struct</span> part *next; <span class="comment">// æŒ‡å‘ä¸‹ä¸€ä¸ªé›¶ä»¶</span></span><br><span class="line"> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é“¾è¡¨ï¼ˆå¤´èŠ‚ç‚¹ï¼‰</span></span><br><span class="line"> <span class="keyword">struct</span> part *inventory = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">struct</span> part *<span class="title">find_part</span> <span class="params">(<span class="keyword">int</span> number)</span></span>;</span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">insert</span> <span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">search</span> <span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">update</span> <span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">print</span> <span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">char</span> code;</span><br><span class="line"> 	<span class="keyword">for</span> (;;) &#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"Enter operation code:"</span>);</span><br><span class="line"> 		<span class="built_in">scanf</span>(<span class="string">" %c"</span>, &amp;code);</span><br><span class="line"> 		<span class="comment">// è·³è¿‡æ¢è¡Œç¬¦</span></span><br><span class="line"> 		<span class="keyword">while</span> (getchar() != <span class="string">'\n'</span>)</span><br><span class="line"> 			;</span><br><span class="line"> 		<span class="keyword">switch</span> (code) &#123;</span><br><span class="line"> 			<span class="keyword">case</span> <span class="string">'i'</span>: insert();</span><br><span class="line"> 				<span class="keyword">break</span>;</span><br><span class="line"> 			<span class="keyword">case</span> <span class="string">'s'</span>: search();</span><br><span class="line"> 				<span class="keyword">break</span>;</span><br><span class="line"> 			<span class="keyword">case</span> <span class="string">'u'</span>: update();</span><br><span class="line"> 				<span class="keyword">break</span>;</span><br><span class="line"> 			<span class="keyword">case</span> <span class="string">'p'</span>: print();</span><br><span class="line"> 				<span class="keyword">break</span>;</span><br><span class="line"> 			<span class="keyword">case</span> <span class="string">'q'</span>: return <span class="number">0</span>;</span><br><span class="line"> 			<span class="keyword">default</span>: <span class="built_in">printf</span>(<span class="string">"Illegal code\n"</span>);</span><br><span class="line"> 		&#125;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"> 	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * æœç´¢é›¶ä»¶</span><br><span class="line"> * @param  number é›¶ä»¶åŒ…å«çš„å€¼</span><br><span class="line"> * @return        å¯¹åº”é›¶ä»¶èŠ‚ç‚¹çš„åœ°å€ï¼ˆæ²¡æ‰¾åˆ°è¿”å›NULLï¼‰</span><br><span class="line"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">struct</span> part *<span class="title">find_part</span> <span class="params">(<span class="keyword">int</span> number)</span> </span>&#123;</span><br><span class="line"> 	<span class="keyword">struct</span> part *p;</span><br><span class="line"> 	<span class="keyword">for</span> (p = inventory; p != <span class="literal">NULL</span> &amp;&amp; number &gt; p-&gt;number; p = p -&gt;next)</span><br><span class="line"> 		;</span><br><span class="line"> 	<span class="keyword">if</span> (p != <span class="literal">NULL</span> &amp;&amp; number == p-&gt;number) &#123;</span><br><span class="line"> 		return p;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	return <span class="literal">NULL</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * æ’å…¥ä¸€ç§é›¶ä»¶</span><br><span class="line"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">insert</span> <span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line"> 	<span class="keyword">struct</span> part *cur, *prev, *new_node;</span><br><span class="line"> 	<span class="comment">// ä¸ºæ–°èŠ‚ç‚¹åˆ†é…ç©ºé—´</span></span><br><span class="line"> 	new_node = <span class="built_in">malloc</span>(sizeof(struct part));</span><br><span class="line"> 	<span class="keyword">if</span> (new_node == <span class="literal">NULL</span>) &#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"Database is full; can't add more parts.\n"</span>);</span><br><span class="line"> 		return;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="comment">// é›¶ä»¶ç¼–å·</span></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter part number:"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;new_node-&gt;number);</span><br><span class="line"></span><br><span class="line"> 	<span class="comment">// æ ¹æ®ç¼–å·å¯»æ‰¾æ’å…¥ä½ç½®(æŒ‰ä»å°åˆ°å¤§çš„é¡ºåºæ’åˆ—)</span></span><br><span class="line"> 	<span class="keyword">for</span> (cur = inventory, prev = <span class="literal">NULL</span>; cur != <span class="literal">NULL</span> &amp;&amp; new_node-&gt;number &gt; cur-&gt;number; prev = cur, cur = cur-&gt;next)</span><br><span class="line"> 		;</span><br><span class="line"></span><br><span class="line"> 	<span class="comment">// å‘ç°ç¼–å·ç›¸åŒçš„èŠ‚ç‚¹</span></span><br><span class="line"> 	<span class="keyword">if</span> (cur != <span class="literal">NULL</span> &amp;&amp; new_node-&gt;number == cur-&gt;number) &#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"Part already exits.\n"</span>);</span><br><span class="line"> 		<span class="built_in">free</span>(new_node);</span><br><span class="line"> 		return;</span><br><span class="line"> 	&#125;</span><br><span class="line"></span><br><span class="line"> 	<span class="comment">// é›¶ä»¶å</span></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter part name:"</span>);</span><br><span class="line"> 	read_line(new_node-&gt;name, NAME_LEN);</span><br><span class="line"></span><br><span class="line"> 	<span class="comment">// é›¶ä»¶æ•°é‡</span></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter quantity on hand:"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;new_node-&gt;on_hand);</span><br><span class="line"></span><br><span class="line"> 	<span class="comment">// æ’å…¥è¿›å»</span></span><br><span class="line"> 	new_node-&gt;next = cur;</span><br><span class="line"> 	<span class="keyword">if</span> (prev == <span class="literal">NULL</span>) &#123;</span><br><span class="line"> 		inventory = new_node;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="keyword">else</span> &#123;</span><br><span class="line"> 		prev-&gt;next = new_node;</span><br><span class="line"> 	&#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * ä»¥äº¤äº’çš„æ–¹å¼æ ¹æ®ç¼–å·æœç´¢å¹¶æ˜¾ç¤ºç›®æ ‡é›¶ä»¶</span><br><span class="line"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">search</span> <span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> number;</span><br><span class="line">	<span class="keyword">struct</span> part *p;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Enter part number:"</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;number);</span><br><span class="line">	p = find_part(number);</span><br><span class="line">	<span class="keyword">if</span> (p != <span class="literal">NULL</span>) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Part name: %s\n"</span>, p-&gt;name);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Quantity on hand: %d\n"</span>, p-&gt;on_hand);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Part not found.\n"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * ä¿®æ”¹é›¶ä»¶</span><br><span class="line"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">update</span> <span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> number, change;</span><br><span class="line"> 	<span class="keyword">struct</span> part *p;</span><br><span class="line"></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter part number:"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;number);</span><br><span class="line"> 	p = find_part(number);</span><br><span class="line"> 	<span class="keyword">if</span> (p != <span class="literal">NULL</span>) &#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"Enter change in quantity on hand:"</span>);</span><br><span class="line"> 		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;change);</span><br><span class="line"> 		p-&gt;on_hand += change;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="keyword">else</span> &#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"Part not found.\n"</span>);</span><br><span class="line"> 	&#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * æ‰“å°æ‰€æœ‰é›¶ä»¶</span><br><span class="line"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">print</span> <span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line"> 	<span class="keyword">struct</span> part *p;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Part number    Part Name   Quantity on hand\n"</span>);</span><br><span class="line"> 	<span class="keyword">for</span> (p = inventory; p != <span class="literal">NULL</span>; p = p-&gt;next) &#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"%7d      %-25s%11d\n"</span>, p-&gt;number, p-&gt;name, p-&gt;on_hand);</span><br><span class="line"> 	&#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h2 id="17-6-æŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆ"><a href="#17-6-æŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆ" class="headerlink" title="17.6    æŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆ"></a>17.6    æŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆ</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯¹17.5.4ä¸­çš„<code>add_to_list</code>è¿›è¡Œä¼˜åŒ–ï¼Œä¼˜åŒ–åæ’å…¥é“¾è¡¨çš„åŠŸèƒ½å°†å®Œå…¨ç”±è¯¥å‡½æ•°æä¾›ã€‚<br><strong>åŸç†ï¼š</strong>é€šè¿‡æŒ‡é’ˆçš„æŒ‡é’ˆçš„å‰¯æœ¬ï¼Œè¾¾åˆ°ä¿®æ”¹æŒ‡é’ˆæŒ‡å‘çš„ç›®çš„ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* å‘é“¾è¡¨ä¸­æ’å…¥èŠ‚ç‚¹</span><br><span class="line">* @param &#123;struct node **&#125; node æŒ‡å‘é“¾è¡¨çš„å¤´èŠ‚ç‚¹çš„æŒ‡é’ˆçš„æŒ‡é’ˆ</span><br><span class="line">* @param &#123;int&#125; n èŠ‚ç‚¹å­˜å‚¨çš„å€¼</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add_to_list</span> <span class="params">(<span class="keyword">struct</span> node **<span class="built_in">list</span>,  <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">struct</span> node *new_node;</span><br><span class="line">	new_node = <span class="built_in">malloc</span>(sizeof(struct node));</span><br><span class="line">	<span class="keyword">if</span> (new_node == <span class="literal">NULL</span>) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Error: malloc failed in add_to_list\n"</span>);</span><br><span class="line">		<span class="built_in">exit</span> (EXIT_FAILURES);</span><br><span class="line">	&#125;</span><br><span class="line">	new_node-&gt;value = n;</span><br><span class="line">	<span class="comment">// æ–°èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘é“¾è¡¨å¤´èŠ‚ç‚¹</span></span><br><span class="line">	new_node-&gt;next = *<span class="built_in">list</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// åŸæœ¬æŒ‡å‘å¤´èŠ‚ç‚¹çš„æŒ‡é’ˆæŒ‡å‘æ–°èŠ‚ç‚¹</span></span><br><span class="line">	<span class="comment">// è¯¦è§£ï¼šlistçš„å€¼æ˜¯firstè¿™ä¸ªæŒ‡é’ˆæœ¬èº«çš„åœ°å€ï¼Œé€šè¿‡*listä¾¿å¯ä»¥è®¿é—®åˆ°firstè¿™ä¸ªæŒ‡é’ˆ</span></span><br><span class="line">	*<span class="built_in">list</span> = new_node;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line">add_to_list(&amp;first, <span class="number">10</span>);</span><br></pre></td></tr></table></figure>
<h2 id="17-7-æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆ"><a href="#17-7-æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆ" class="headerlink" title="17.7    æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆ"></a>17.7    æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆ</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ¯•ç«Ÿå‡½æ•°å ç”¨å†…å­˜å•å…ƒï¼Œæ‰€ä»¥æ¯ä¸ªå‡½æ•°éƒ½æœ‰åœ°å€ï¼Œå°±åƒæ¯ä¸ªå˜é‡éƒ½æœ‰åœ°å€ä¸€æ ·ã€‚</p>
</blockquote>
<h3 id="17-7-1-å‡½æ•°æŒ‡é’ˆä½œä¸ºå®é™…å‚æ•°"><a href="#17-7-1-å‡½æ•°æŒ‡é’ˆä½œä¸ºå®é™…å‚æ•°" class="headerlink" title="17.7.1    å‡½æ•°æŒ‡é’ˆä½œä¸ºå®é™…å‚æ•°"></a>17.7.1    å‡½æ•°æŒ‡é’ˆä½œä¸ºå®é™…å‚æ•°</h3><blockquote>
<p><strong>å£°æ˜ï¼š</strong>å£°æ˜ä¸ºæŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆæœ‰ä¸¤ç§æ–¹å¼ï¼Œä»ç¼–è¯‘å™¨çš„è§’åº¦çœ‹æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚</p>
<blockquote>
<p>æ–¹å¼ä¸€ï¼š<strong>è¿”å›å€¼ å‡½æ•°å(<code>è¿”å›å€¼ (*å‡½æ•°å)(å‚æ•°1, å‚æ•°2, ...)</code>, å‚æ•°)</strong></p>
</blockquote>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">double integrate (double (*f)(double), double a, double b)  &#123;</span><br><span class="line">    ...</span><br><span class="line">    sum += (*f)(x); // æˆ–è€…sum += f(x)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<blockquote>
<p>æ–¹å¼äºŒï¼š<strong>è¿”å›å€¼ å‡½æ•°å(<code>è¿”å›å€¼ (å‡½æ•°å)(å‚æ•°1, å‚æ•°2, ...)</code>, å‚æ•°)</strong></p>
</blockquote>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">double integrate (double f(double), double a, double b) &#123;</span><br><span class="line">    ...</span><br><span class="line">    sum += (*f)(x);// æˆ–è€…sum += f(x)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="17-7-2-qsortå‡½æ•°"><a href="#17-7-2-qsortå‡½æ•°" class="headerlink" title="17.7.2    qsortå‡½æ•°"></a>17.7.2    qsortå‡½æ•°</h3><blockquote>
<p><strong>åŸå‹ï¼š</strong><code>stdlib.h</code></p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">* ä¸ºæ•°ç»„æ’åº</span><br><span class="line">* @param &#123;void *&#125; base æŒ‡å‘æ•°ç»„éœ€è¦æ’åºçš„éƒ¨åˆ†çš„ç¬¬ä¸€ä¸ªå…ƒç´ </span><br><span class="line">* @param &#123;size_t&#125; nmemb è¦æ’åºçš„å…ƒç´ çš„æ•°é‡</span><br><span class="line">* @param &#123;int (*)&#125; compare æŒ‡å‘æ’åºå‡½æ•°çš„æŒ‡é’ˆ</span><br><span class="line">*/</span><br><span class="line">void qsort (void *base, size_t nmemb, size_t size,  int (*compar) (const void *, const void *));</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * æ¯”è¾ƒå‡½æ•°ï¼ˆæä¾›ç»™qsortå‡½æ•°æ’åºè§„åˆ™ï¼‰</span><br><span class="line"> * @param &#123;void *&#125; p ç¬¬ä¸€ä¸ªé›¶ä»¶</span><br><span class="line"> * @param &#123;void *&#125; q ç¬¬äºŒä¸ªé›¶ä»¶</span><br><span class="line"> * @return   æ­£æ•°ï¼ˆ1ï¼‰ï¼š*p &gt; *q;è´Ÿæ•°ï¼ˆ-1ï¼‰ï¼š*p &lt; *q;é›¶ï¼ˆ0ï¼‰ï¼š*p = *q</span><br><span class="line"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">compare_parts</span> <span class="params">(<span class="keyword">const</span> <span class="keyword">void</span> *p, <span class="keyword">const</span> <span class="keyword">void</span> *q)</span> </span>&#123;</span><br><span class="line">	return ((struct part *) p)-&gt;number - ((struct part *) q)-&gt;number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ¯”è¾ƒå‡½æ•°è¿›è¡Œæ’åº</span></span><br><span class="line">qsort(inventory, num_parts, <span class="keyword">sizeof</span>(struct part), compare_parts);</span><br></pre></td></tr></table></figure>
<h3 id="17-7-3-å‡½æ•°æŒ‡é’ˆçš„å…¶ä»–ç”¨é€”"><a href="#17-7-3-å‡½æ•°æŒ‡é’ˆçš„å…¶ä»–ç”¨é€”" class="headerlink" title="17.7.3    å‡½æ•°æŒ‡é’ˆçš„å…¶ä»–ç”¨é€”"></a>17.7.3    å‡½æ•°æŒ‡é’ˆçš„å…¶ä»–ç”¨é€”</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>cè¯­è¨€å¯¹å¾…æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆå°±åƒå¯¹å¾…æŒ‡å‘æ•°æ®çš„æŒ‡é’ˆä¸€æ ·ã€‚æˆ‘ä»¬å¯ä»¥æŠŠå‡½æ•°å­˜å‚¨åœ¨å˜é‡ä¸­ï¼Œæˆ–è€…ç”¨åšæ•°ç»„çš„å…ƒç´ ï¼Œå†æˆ–è€…ç”¨åšç»“æ„æˆ–è”åˆçš„æˆå‘˜ï¼Œç”šè‡³å¯ä»¥ç¼–å†™è¿”å›å‡½æ•°æŒ‡é’ˆçš„å‡½æ•°ï¼Œ</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*å­˜å‚¨å‡½æ•°çš„å˜é‡*/</span></span><br><span class="line"><span class="keyword">void</span> (*pf) (<span class="keyword">int</span>); <span class="comment">//å£°æ˜ä¸€ä¸ªå¯ä»¥å­˜å‚¨æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆçš„å˜é‡ï¼ˆpfå¯ä»¥æŒ‡å‘ä»»ä½•å¸¦æœ‰intå‹å®é™…å‚æ•°ï¼Œä¸”è¿”å›å€¼ä¸ºvoidçš„å‡½æ•°ï¼‰</span></span><br><span class="line"></span><br><span class="line">pf = f; <span class="comment">// æŒ‡å‘å‡½æ•°f</span></span><br><span class="line"></span><br><span class="line">(*pf)(i); <span class="comment">// pf(i)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*å­˜å‚¨å‡½æ•°çš„æ•°ç»„*/</span></span><br><span class="line"><span class="keyword">void</span> (*file_cmd[])(<span class="keyword">void</span>) = &#123;</span><br><span class="line">	new_cmd,</span><br><span class="line">	open_cmd,</span><br><span class="line">	close_cmd,</span><br><span class="line">	close_all_cmd,</span><br><span class="line">	save_cmd,</span><br><span class="line">	ext_cmd</span><br><span class="line">&#125;;</span><br><span class="line">(*file_cmd[n])(); <span class="comment">// æˆ–è€…file_cmd[n]();</span></span><br></pre></td></tr></table></figure>
<h3 id="17-7-4-ç¨‹åºï¼šåˆ—ä¸‰è§’å‡½æ•°è¡¨"><a href="#17-7-4-ç¨‹åºï¼šåˆ—ä¸‰è§’å‡½æ•°è¡¨" class="headerlink" title="17.7.4    ç¨‹åºï¼šåˆ—ä¸‰è§’å‡½æ•°è¡¨"></a>17.7.4    ç¨‹åºï¼šåˆ—ä¸‰è§’å‡½æ•°è¡¨</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Tabulates values of trigonometric functions</span><br><span class="line"> */</span><br><span class="line">#include &lt;math.h&gt;</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">void tabulate (double (*f)double, double first, double last, double incr);</span><br><span class="line"></span><br><span class="line">int main () &#123;</span><br><span class="line">	double final, increament, initial;</span><br><span class="line">	printf("Enter initial value: ");</span><br><span class="line">	scanf("%lf", &amp;initial);</span><br><span class="line"></span><br><span class="line">	printf("Enter final value:");</span><br><span class="line">	scanf("%lf", &amp;final);</span><br><span class="line"></span><br><span class="line">	printf("Enter increament:");</span><br><span class="line">	scanf("%lf", &amp;increament);</span><br><span class="line"></span><br><span class="line">	printf("\n     x     cos(x)\n   -------    -------\n");</span><br><span class="line">	tabulate(cos, initial, final, increament);</span><br><span class="line">	</span><br><span class="line">	printf("\n     x     sin(x)\n   -------    -------\n");</span><br><span class="line">	tabulate(sin, initial, final, increament);</span><br><span class="line">	</span><br><span class="line">	printf("\n     x     tan(x)\n   -------    -------\n");</span><br><span class="line">	tabulate(tan, initial, final, increament);</span><br><span class="line"></span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void tabulate (double (*f)(double), double first, double last, double incr) &#123;</span><br><span class="line">	double x;</span><br><span class="line">	int i, num_intervals;</span><br><span class="line">	num_intervals = cell((last - first) / incr);</span><br><span class="line">	for (i = 0; i &lt;= num_intervals; i++) &#123;</span><br><span class="line">		x = first + i * incr;</span><br><span class="line">		printf("%10.5f %10.5f\n", x, (*f)[x]);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/10/16 ç»“æ„ã€è”åˆå’Œæšä¸¾/" itemprop="url">
                  16 ç»“æ„ã€è”åˆå’Œæšä¸¾
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-10T10:49:46+08:00" content="2016-05-10">
              2016-05-10
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/10/16 ç»“æ„ã€è”åˆå’Œæšä¸¾/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/10/16 ç»“æ„ã€è”åˆå’Œæšä¸¾/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="16-1-ç»“æ„å˜é‡"><a href="#16-1-ç»“æ„å˜é‡" class="headerlink" title="16.1    ç»“æ„å˜é‡"></a>16.1    ç»“æ„å˜é‡</h2><blockquote>
<p><strong>ç»“æ„ï¼š</strong>ç»“æ„çš„ç‰¹æ€§ä¸æ•°ç»„å¾ˆä¸ç›¸åŒã€‚</p>
<ul>
<li>ç»“æ„çš„å…ƒç´ ï¼ˆæˆå‘˜ï¼‰å¯èƒ½å…·æœ‰ä¸åŒçš„ç±»å‹</li>
<li>æ¯ä¸ªç»“æ„æˆå‘˜éƒ½æœ‰åå­—</li>
<li>ä¸ºäº†é€‰æ‹©ç‰¹æ®Šçš„ç»“æ„æˆå‘˜éœ€è¦çŸ¥åç»“æ„æˆå‘˜çš„åå­—è€Œä¸æ˜¯å®ƒçš„ä½ç½®</li>
</ul>
<p><strong>æ‰©å±•ï¼š</strong>å¤§å¤šæ•°è¯­è¨€éƒ½æä¾›ç±»ä¼¼çš„ç‰¹æ€§ï¼Œæ‰€ä»¥ç»“æ„å¯èƒ½å¬èµ·æ¥å¾ˆèˆ’éœ€ã€‚å†å…¶å®ƒè¯­è¨€ä¸­ï¼Œç»å¸¸æŠŠç»“æ„ç§°ä¸ºçºªå½•ï¼ˆrecordï¼‰ï¼ŒæŠŠç»“æ„çš„æˆå‘˜ç§°ä¸ºå­—æ®µï¼ˆfieldï¼‰ã€‚</p>
</blockquote>
<h3 id="16-1-1-ç»“æ„å˜é‡çš„å£°æ˜"><a href="#16-1-1-ç»“æ„å˜é‡çš„å£°æ˜" class="headerlink" title="16.1.1    ç»“æ„å˜é‡çš„å£°æ˜"></a>16.1.1    ç»“æ„å˜é‡çš„å£°æ˜</h3><p><strong>è¯­æ³•ï¼š</strong>åªå£°æ˜ä¸åˆå§‹åŒ–ï¼ˆä¼šéé…å†…å­˜ä½†æˆå‘˜ä¸ä¼šåˆå§‹åŒ–ï¼‰</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span>&#123;</span><br><span class="line">    æˆå‘˜ç±»å‹ æˆå‘˜åç§°;</span><br><span class="line">    ...</span><br><span class="line">&#125;å®ä¾‹å˜é‡<span class="number">1</span>, å®ä¾‹å˜é‡<span class="number">2</span>, ...;</span><br></pre></td></tr></table></figure>
<p><strong>å®ä¾‹ï¼š</strong>ç»“æ„å®ä¾‹åŒ–çš„å˜é‡å…·å¤‡ä»¥ä¸‹ç‰¹ç‚¹</p>
<ul>
<li>æˆå‘˜åœ¨å†…å­˜ä¸­æ˜¯æŒ‰ç…§é¡ºåºå­˜å‚¨çš„</li>
<li>å†…éƒ¨æˆå‘˜æ‹¥æœ‰å•ç‹¬çš„åå­—ç©ºé—´ï¼ˆname spaceï¼‰</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é›¶ä»¶</span></span><br><span class="line"><span class="keyword">struct</span>&#123;</span><br><span class="line">	<span class="keyword">int</span> number;<span class="comment">//é›¶ä»¶ç¼–å·</span></span><br><span class="line">	<span class="keyword">char</span> name[NAME_LEN+<span class="number">1</span>];<span class="comment">//é›¶ä»¶åç§°</span></span><br><span class="line">	<span class="keyword">int</span> on_hand;<span class="comment">//é›¶ä»¶ç°æœ‰æ•°é‡</span></span><br><span class="line">&#125;part1, part2;<span class="comment">//åŒæ—¶ç”¨è¿™ç§ç»“æ„å®ä¾‹åŒ–äº†ä¸¤ä¸ªå˜é‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å‘˜å·¥</span></span><br><span class="line"><span class="keyword">struct</span>&#123;</span><br><span class="line">	<span class="keyword">char</span> name[NAME_LEN+<span class="number">1</span>];<span class="comment">//å§“å</span></span><br><span class="line">	<span class="keyword">int</span> number;<span class="comment">//å·¥å·</span></span><br><span class="line">	<span class="keyword">char</span> sex;<span class="comment">//æ€§åˆ«</span></span><br><span class="line">&#125;employee1, employee2;</span><br></pre></td></tr></table></figure>
<h3 id="16-1-2-ç»“æ„å˜é‡çš„åˆå§‹åŒ–"><a href="#16-1-2-ç»“æ„å˜é‡çš„åˆå§‹åŒ–" class="headerlink" title="16.1.2    ç»“æ„å˜é‡çš„åˆå§‹åŒ–"></a>16.1.2    ç»“æ„å˜é‡çš„åˆå§‹åŒ–</h3><blockquote>
<p><strong>è¯­æ³•ï¼š</strong>å£°æ˜çš„åŒæ—¶åˆå§‹åŒ–</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span>&#123;</span><br><span class="line">    æˆå‘˜<span class="number">1</span>ç±»å‹ æˆå‘˜<span class="number">1</span>åç§°;</span><br><span class="line">    æˆå‘˜<span class="number">2</span>ç±»å‹ æˆå‘˜<span class="number">2</span>åç§°;</span><br><span class="line">    ...</span><br><span class="line">&#125;å®ä¾‹å˜é‡<span class="number">1</span> = &#123;æˆå‘˜<span class="number">1</span>å€¼, æˆå‘˜<span class="number">2</span>å€¼, ...&#125;,   </span><br><span class="line">  å®ä¾‹å˜é‡<span class="number">2</span> = &#123;æˆå‘˜<span class="number">1</span>å€¼, æˆå‘˜<span class="number">2</span>å€¼, ...&#125;, </span><br><span class="line">  ...;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>è§„åˆ™ï¼š</strong>ç±»ä¼¼æ•°ç»„</p>
<ol>
<li>ç”¨äºç»“æ„åˆå§‹åŒ–å¼çš„è¡¨è¾¾å¼å¿…é¡»æ˜¯å¸¸é‡</li>
<li>åˆå§‹åŒ–å¼å¯ä»¥çŸ­äºå®ƒæ‰€åˆå§‹åŒ–çš„ç»“æ„ï¼Œä»»ä½•å‰©ä½™çš„æˆå‘˜éƒ½ç”¨0ä½œä¸ºå®ƒçš„åˆå§‹å€¼</li>
</ol>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span>&#123;</span><br><span class="line">    <span class="keyword">int</span> number;</span><br><span class="line">    <span class="keyword">char</span> name[NAME_LEN+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">int</span> on, hand;</span><br><span class="line">&#125;part1 = &#123;<span class="number">528</span>, <span class="string">"Disk drive"</span>, <span class="number">10</span>&#125;,</span><br><span class="line"> part2 = &#123;<span class="number">914</span>, <span class="string">"Printer cable"</span>, <span class="number">5</span>&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="16-1-3-å¯¹ç»“æ„çš„æ“ä½œ"><a href="#16-1-3-å¯¹ç»“æ„çš„æ“ä½œ" class="headerlink" title="16.1.3    å¯¹ç»“æ„çš„æ“ä½œ"></a>16.1.3    å¯¹ç»“æ„çš„æ“ä½œ</h3><blockquote>
<p><strong>é™åˆ¶ï¼š</strong>ä¸èƒ½ç”¨<code>==</code>æˆ–<code>!=</code>åˆ¤å®šä¸¤ä¸ªç»“æ„æ˜¯å¦ç›¸ç­‰æˆ–ä¸ç­‰ã€‚</p>
</blockquote>
<h4 id="16-1-3-1-è®¿é—®æˆå‘˜"><a href="#16-1-3-1-è®¿é—®æˆå‘˜" class="headerlink" title="16.1.3.1    è®¿é—®æˆå‘˜"></a>16.1.3.1    è®¿é—®æˆå‘˜</h4><blockquote>
<p><strong>å·¦å€¼ï¼š</strong>ç»“æ„æˆå‘˜çš„å€¼æ˜¯å·¦å€¼</p>
<ul>
<li>å¯ä»¥å‡ºç°åœ¨èµ‹å€¼è¿ç®—çš„å·¦ä¾§</li>
<li>ä½œä¸ºè‡ªå¢æˆ–è‡ªå‡è¡¨è¾¾å¼çš„æ“ä½œæ•°</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">"Part number %d:"</span>, part1.number);</span><br><span class="line">part1.number = <span class="number">228</span>;<span class="comment">//å¯ä»¥å‡ºç°åœ¨èµ‹å€¼è¿ç®—çš„å·¦ä¾§</span></span><br><span class="line">part1.on_hand++;<span class="comment">//ä½œä¸ºè‡ªå¢æˆ–è‡ªå‡è¡¨è¾¾å¼çš„æ“ä½œæ•°</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>é€—å·è¿ç®—ç¬¦ï¼š</strong><code>ç»“æ„å˜é‡.æˆå‘˜å</code></p>
<ul>
<li>ä¼˜å…ˆçº§å’Œåç¼€++å’Œåç¼€â€“ç›¸åŒï¼ˆå‡ ä¹é«˜äºæ‰€æœ‰å…¶ä»–è¿ç®—ç¬¦ï¼‰</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;part1.on_hand);<span class="comment">//.è¿ç®—ç¬¦ä¼˜å…ˆçº§é«˜äº&amp;</span></span><br></pre></td></tr></table></figure>
<h4 id="16-1-3-2-èµ‹å€¼è¿ç®—"><a href="#16-1-3-2-èµ‹å€¼è¿ç®—" class="headerlink" title="16.1.3.2    èµ‹å€¼è¿ç®—"></a>16.1.3.2    èµ‹å€¼è¿ç®—</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ•°ç»„ä¸èƒ½ç”¨=è¿ç®—ç¬¦å®ç°å˜é‡é—´æ•°ç»„å†…å®¹çš„å¤åˆ¶ï¼Œä½†ç»“æ„å˜é‡å¯ä»¥ã€‚<br><strong>æ³¨æ„ï¼š</strong>åªèƒ½ç”¨äºåŒä¸€ä¸ªç»“æ„ç±»å‹å£°æ˜çš„çš„å˜é‡ä¹‹é—´ã€‚<br><strong>æŠ€å·§ï¼š</strong>æŠŠéœ€è¦å¤åˆ¶çš„æ•°ç»„åµŒåœ¨ç»“æ„ä½“å†…ï¼ˆä½œä¸ºæˆå‘˜ï¼‰è¿›è¡Œå¤åˆ¶ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span>&#123;</span><br><span class="line">	<span class="keyword">int</span> a[<span class="number">10</span>];</span><br><span class="line">&#125;a1, a2;</span><br><span class="line"></span><br><span class="line">a1 = a2;<span class="comment">//a1çš„å­˜å‚¨ç©ºé—´ä¸­æ•°æ®å’Œa2ç›¸åŒï¼Œå®ç°äº†å¤åˆ¶</span></span><br></pre></td></tr></table></figure>
<h2 id="16-2-ç»“æ„ç±»å‹"><a href="#16-2-ç»“æ„ç±»å‹" class="headerlink" title="16.2    ç»“æ„ç±»å‹"></a>16.2    ç»“æ„ç±»å‹</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸Šä¸€å°ç»“é‡ç‚¹æ”¾åœ¨ç»“æ„å˜é‡è€Œä¸æ˜¯ç»“æ„ç±»å‹æœ¬èº«ä¸Šï¼Œè¿™ä¸€èŠ‚å°†é‡ç‚¹è§‚å¯Ÿç»“æ„ç±»å‹ã€‚<br><strong>å‘½åç»“æ„ç±»å‹ï¼š</strong>å¦‚æœéœ€è¦åœ¨ç¨‹åºçš„ä¸åŒä½ç½®å£°æ˜ç»“æ„å˜é‡ï¼Œä¸Šä¸€èŠ‚çš„â€œåŒ¿åç»“æ„â€å°±è¡Œä¸é€šäº†ã€‚cè¯­è¨€æä¾›äº†ä¸¤ç§å‘½åç»“æ„çš„æ–¹æ³•</p>
<ol>
<li>å£°æ˜â€œç»“æ„æ ‡è®°â€(ç»“æ„ç”¨è¯­é“¾è¡¨æ—¶ï¼Œåªèƒ½å£°æ˜â€œç»“æ„æ ‡è®°â€)</li>
<li>ä½¿ç”¨<code>typedef</code>å®šä¹‰ç±»å‹å</li>
</ol>
</blockquote>
<h3 id="16-2-1-ç»“æ„æ ‡è®°çš„å£°æ˜"><a href="#16-2-1-ç»“æ„æ ‡è®°çš„å£°æ˜" class="headerlink" title="16.2.1    ç»“æ„æ ‡è®°çš„å£°æ˜"></a>16.2.1    ç»“æ„æ ‡è®°çš„å£°æ˜</h3><blockquote>
<p><strong>ç»“æ„æ ‡è®°(structure tag)ï¼š</strong>ç»“æ„æ ‡è®°ç”¨äºæ ‡è®°æŸç§ç‰¹å®šç»“æ„ç±»å‹çš„åå­—ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span>  ç»“æ„ç±»å‹å&#123;</span><br><span class="line">	æˆå‘˜<span class="number">1</span>ç±»å‹ æˆå‘˜<span class="number">1</span>åç§°;</span><br><span class="line">	 ...</span><br><span class="line">&#125;[ç»“æ„å˜é‡<span class="number">1</span>, ...];<span class="comment">//åˆ†å·è¡¨ç¤ºå£°æ˜çš„ç»“æŸï¼Œä¸èƒ½çœç•¥</span></span><br><span class="line"><span class="keyword">struct</span> ç»“æ„ç±»å‹å ç»“æ„å˜é‡<span class="number">2</span>, ...;<span class="comment">//structå…³é”®å­—ä¸èƒ½çœç•¥ï¼Œå› ä¸ºç»“æ„ç±»å‹åä¸æ˜¯æœ‰æ•ˆçš„cè¯­è¨€ç±»å‹å(åŸç”Ÿçš„å’Œtypedefå®šä¹‰çš„æ‰æ˜¯)ã€‚</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¸ä»…å£°æ˜äº†æ ‡è®°partï¼Œè€Œä¸”å£°æ˜äº†å˜é‡</span></span><br><span class="line"><span class="keyword">struct</span> part&#123;</span><br><span class="line">	<span class="keyword">int</span> number;</span><br><span class="line">	<span class="keyword">char</span> name[NAME_LEN+<span class="number">1</span>];</span><br><span class="line">	<span class="keyword">int</span> on_hand;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">struct</span> part  part1 = &#123;<span class="number">528</span>, <span class="string">"disk drive"</span>, <span class="number">10</span>&#125;;</span><br><span class="line"><span class="keyword">struct</span> part part2;</span><br><span class="line">part2 = part1;</span><br></pre></td></tr></table></figure>
<h3 id="16-2-2-ç»“æ„ç±»å‹çš„å®šä¹‰"><a href="#16-2-2-ç»“æ„ç±»å‹çš„å®šä¹‰" class="headerlink" title="16.2.2    ç»“æ„ç±»å‹çš„å®šä¹‰"></a>16.2.2    ç»“æ„ç±»å‹çš„å®šä¹‰</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç”¨typedefæ¥å®šä¹‰çœŸæ­£çš„ç±»å‹åã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span>&#123;</span><br><span class="line">	æˆå‘˜<span class="number">1</span>ç±»å‹ æˆå‘˜<span class="number">1</span>åç§°;</span><br><span class="line">	 ...</span><br><span class="line">&#125; ç»“æ„ç±»å‹å;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span>&#123;</span><br><span class="line">	<span class="keyword">int</span> number;</span><br><span class="line">	<span class="keyword">char</span> name[NAME_LEN+<span class="number">1</span>];</span><br><span class="line">	<span class="keyword">int</span> on_hand;</span><br><span class="line">&#125; Part;<span class="comment">//ç±»å‹åçš„åå­—å¿…é¡»å‡ºç°åœ¨å®šä¹‰çš„æœ«å°¾ï¼Œè€Œä¸æ˜¯åœ¨å•è¯structçš„åè¾¹</span></span><br><span class="line">Part part1, part2;</span><br></pre></td></tr></table></figure>
<h3 id="16-2-3-ç»“æ„ç±»å‹çš„å®é™…å‚æ•°å’Œè¿”å›å€¼"><a href="#16-2-3-ç»“æ„ç±»å‹çš„å®é™…å‚æ•°å’Œè¿”å›å€¼" class="headerlink" title="16.2.3    ç»“æ„ç±»å‹çš„å®é™…å‚æ•°å’Œè¿”å›å€¼"></a>16.2.3    ç»“æ„ç±»å‹çš„å®é™…å‚æ•°å’Œè¿”å›å€¼</h3><blockquote>
<p><strong>ç¼ºç‚¹ï¼š</strong>å¸¦æ¥ä¸€å®šç³»ç»Ÿå¼€é”€ï¼Œå°¤å…¶æ˜¯ç»“æ„é¢˜å¾ˆå¤§çš„æ—¶å€™</p>
<blockquote>
<p>ç»™å‡½æ•°ä¼ é€’ç»“æ„å’Œä»å‡½æ•°è¿”å›ç»“æ„éƒ½è¦æ±‚ä½¿ç”¨ç»“æ„ä¸­æ‰€æœ‰æˆå‘˜çš„å‰¯æœ¬ã€‚</p>
</blockquote>
<p><strong>æŠ€å·§ï¼š</strong>æœ‰æ—¶ç”¨æŒ‡å‘ç»“æ„çš„æŒ‡é’ˆæ¥ä»£æ›¿ä¼ é€’ç»™å‡½æ•°ï¼ˆæˆ–å‡½æ•°è¿”å›ï¼‰çš„ç»“æ„æœ¬èº«æ˜¯å¾ˆæ˜æ™ºçš„åšæ³•ã€‚</p>
</blockquote>
<h4 id="16-2-3-1-ç”¨ä½œå‚æ•°"><a href="#16-2-3-1-ç”¨ä½œå‚æ•°" class="headerlink" title="16.2.3.1    ç”¨ä½œå‚æ•°"></a>16.2.3.1    ç”¨ä½œå‚æ•°</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print_part</span> <span class="params">(<span class="keyword">struct</span> part p)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"part number: %d\n"</span>, p.number);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Part name: %s\n"</span>, p.name);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Quality on hand: %d \n"</span>, p.on_hand);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¼ å‚</span></span><br><span class="line">print_part(part1);</span><br></pre></td></tr></table></figure>
<h4 id="16-2-3-2-ç”¨ä½œè¿”å›å€¼"><a href="#16-2-3-2-ç”¨ä½œè¿”å›å€¼" class="headerlink" title="16.2.3.2    ç”¨ä½œè¿”å›å€¼"></a>16.2.3.2    ç”¨ä½œè¿”å›å€¼</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰</span></span><br><span class="line"><span class="function"><span class="keyword">struct</span> part <span class="title">build_part</span><span class="params">(<span class="keyword">int</span> number, <span class="keyword">const</span> <span class="keyword">char</span>* name, <span class="keyword">int</span> on_hand)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="keyword">struct</span> part p;</span><br><span class="line">	p.number = number;</span><br><span class="line">	<span class="built_in">strcpy</span>(p.name, name);</span><br><span class="line">	p.on_hand = on_hand;</span><br><span class="line">	return p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="16-3-æ•°ç»„å’Œç»“æ„çš„åµŒå¥—"><a href="#16-3-æ•°ç»„å’Œç»“æ„çš„åµŒå¥—" class="headerlink" title="16.3    æ•°ç»„å’Œç»“æ„çš„åµŒå¥—"></a>16.3    æ•°ç»„å’Œç»“æ„çš„åµŒå¥—</h2><h3 id="16-3-1-åµŒå¥—çš„ç»“æ„"><a href="#16-3-1-åµŒå¥—çš„ç»“æ„" class="headerlink" title="16.3.1    åµŒå¥—çš„ç»“æ„"></a>16.3.1    åµŒå¥—çš„ç»“æ„</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰å§“å</span></span><br><span class="line"><span class="keyword">struct</span> person_name &#123;</span><br><span class="line">	<span class="keyword">char</span> first[FIRST_NAME_LEN + <span class="number">1</span>];</span><br><span class="line">	<span class="keyword">char</span> middle_initial;</span><br><span class="line">	<span class="keyword">char</span> last[LAST_NAME_LEN + <span class="number">1</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å®šä¹‰å­¦ç”Ÿ</span></span><br><span class="line"><span class="keyword">struct</span> student &#123;</span><br><span class="line">	<span class="keyword">struct</span> person_name name; <span class="comment">// ç»“æ„çš„æˆå‘˜å¯ä»¥æ˜¯å¦ä¸€ç§ç»“æ„ä½“</span></span><br><span class="line">	int_id, age;</span><br><span class="line">	<span class="keyword">char</span> sex;</span><br><span class="line">&#125; student1, student2;</span><br><span class="line"></span><br><span class="line"><span class="built_in">strcpy</span>(student1.name.first, <span class="string">"Fred"</span>);</span><br></pre></td></tr></table></figure>
<h3 id="16-3-2-ç»“æ„æ•°ç»„"><a href="#16-3-2-ç»“æ„æ•°ç»„" class="headerlink" title="16.3.2    ç»“æ„æ•°ç»„"></a>16.3.2    ç»“æ„æ•°ç»„</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç»“æ„å¯ä»¥ä½œä¸ºæ•°ç»„çš„å…ƒç´ ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*å£°æ˜*/</span></span><br><span class="line"><span class="comment">// å£°æ˜ç»“æ„æ•°ç»„</span></span><br><span class="line"><span class="keyword">struct</span> part inventory[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">/*è®¿é—®*/</span></span><br><span class="line"><span class="comment">// è®¿é—®ç»“æ„æ•°ç»„ä¸­çš„ç»“æ„</span></span><br><span class="line">print_part(inventory[i]);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*æ“ä½œ*/</span></span><br><span class="line"><span class="comment">// ä¸ºæ•°ç»„ä¸­çš„ç»“æ„çš„æˆå‘˜èµ‹å€¼</span></span><br><span class="line">inventory[i].number = <span class="number">883</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†æ•°ç»„ä¸­çš„ç»“æ„çš„æˆå‘˜ï¼ˆå­—ç¬¦ä¸²ï¼‰ç½®ç©º</span></span><br><span class="line"> inventory[i].name[<span class="number">0</span>] = <span class="string">'\0'</span>;</span><br></pre></td></tr></table></figure>
<h3 id="16-3-3-ç»“æ„æ•°ç»„çš„åˆå§‹åŒ–"><a href="#16-3-3-ç»“æ„æ•°ç»„çš„åˆå§‹åŒ–" class="headerlink" title="16.3.3    ç»“æ„æ•°ç»„çš„åˆå§‹åŒ–"></a>16.3.3    ç»“æ„æ•°ç»„çš„åˆå§‹åŒ–</h3><blockquote>
<p><strong>è¯­æ³•ï¼š</strong>ç±»ä¼¼äºŒç»´æ•°ç»„çš„åˆå§‹åŒ–ï¼Œæ¯ä¸ªç»“æ„éƒ½æ‹¥æœ‰è‡ªå·±çš„å¤§æ‹¬å·ã€‚<br><strong>æ³¨æ„ï¼š</strong>æ¯ä¸ªç»“æ„å€¼çš„å†…å±‚å¤§æ‹¬å·æ˜¯å¯é€‰é¡¹ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ç»“æ„ï¼šå›½å®¶ä»£ç </span></span><br><span class="line"><span class="keyword">struct</span> dialog_code &#123;</span><br><span class="line">	<span class="keyword">char</span> *country;</span><br><span class="line">	<span class="keyword">int</span> code;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">struct</span> dialog_code country_codes[] = &#123;</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="string">"Argentina"</span>, <span class="number">54</span></span><br><span class="line">	&#125;,</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="string">"Bangladesh"</span>, <span class="number">66</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="16-3-4-ç¨‹åºï¼šç»´æŠ¤é›¶ä»¶æ•°æ®åº“"><a href="#16-3-4-ç¨‹åºï¼šç»´æŠ¤é›¶ä»¶æ•°æ®åº“" class="headerlink" title="16.3.4    ç¨‹åºï¼šç»´æŠ¤é›¶ä»¶æ•°æ®åº“"></a>16.3.4    ç¨‹åºï¼šç»´æŠ¤é›¶ä»¶æ•°æ®åº“</h3><h4 id="16-3-4-1-ç¼–å†™"><a href="#16-3-4-1-ç¼–å†™" class="headerlink" title="16.3.4.1    ç¼–å†™"></a>16.3.4.1    ç¼–å†™</h4><h5 id="readline-h"><a href="#readline-h" class="headerlink" title="readline.h"></a>readline.h</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> READLINE_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> READLINE_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * è¯»å…¥ä¸€è¡Œ</span><br><span class="line"> * ä¼šè·³è¿‡å¼€å¤´çš„ç©ºç™½ç¬¦</span><br><span class="line"> *</span><br><span class="line"> * @param  str è¯»å…¥çš„å†…å®¹</span><br><span class="line"> * @param  n   å­—ç¬¦ä¸²çš„å†…å®¹</span><br><span class="line"> * @return     è¯»å…¥å­—ç¬¦çš„ä¸ªæ•°</span><br><span class="line"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">read_line</span><span class="params">(<span class="keyword">char</span> str[], <span class="keyword">int</span> n)</span></span>;</span><br></pre></td></tr></table></figure>
<h5 id="readline-c"><a href="#readline-c" class="headerlink" title="readline.c"></a>readline.c</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ctype.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="string">"readline.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * è¯»å…¥ä¸€è¡Œ</span><br><span class="line"> * ä¼šè·³è¿‡å¼€å¤´çš„ç©ºç™½ç¬¦</span><br><span class="line"> *</span><br><span class="line"> * @param  str è¯»å…¥çš„å†…å®¹</span><br><span class="line"> * @param  n   å­—ç¬¦ä¸²çš„å†…å®¹</span><br><span class="line"> * @return     è¯»å…¥å­—ç¬¦çš„ä¸ªæ•°</span><br><span class="line"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">read_line</span><span class="params">(<span class="keyword">char</span> str[], <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">	<span class="comment">// chçš„ç±»å‹ä¸ºintè€Œä¸æ˜¯charï¼Œä¾¿äºåˆ¤å®šEOF</span></span><br><span class="line">	<span class="keyword">int</span> ch, i =<span class="number">0</span>;</span><br><span class="line">	<span class="comment">// è·³è¿‡æ‰€æœ‰ç©ºç™½ç¬¦</span></span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">isspace</span>(ch = getchar()))</span><br><span class="line">		;</span><br><span class="line">	<span class="keyword">while</span> (ch != <span class="string">'\n'</span> &amp;&amp; ch != EOF) &#123;</span><br><span class="line">		<span class="keyword">if</span> (i &lt; n) &#123;</span><br><span class="line">			str[i++] = ch;</span><br><span class="line">		&#125;</span><br><span class="line">		ch = getchar();</span><br><span class="line">	&#125;</span><br><span class="line">	str[i] = <span class="string">'\0'</span>;</span><br><span class="line">	return i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="invent-c"><a href="#invent-c" class="headerlink" title="invent.c"></a>invent.c</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Maintains a parts database (array version)</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="meta">#<span class="meta-keyword">include</span> <span class="string">"readline.h"</span></span></span><br><span class="line"></span><br><span class="line"> <span class="meta">#<span class="meta-keyword">define</span> NAME_LEN 25</span></span><br><span class="line"> <span class="meta">#<span class="meta-keyword">define</span> MAX_PARTS 100</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * é›¶ä»¶</span><br><span class="line"> */</span></span><br><span class="line"> <span class="keyword">struct</span> part &#123;</span><br><span class="line"> 	<span class="keyword">int</span> number;</span><br><span class="line"> 	<span class="keyword">char</span> name[NAME_LEN + <span class="number">1</span>];</span><br><span class="line"> 	<span class="keyword">int</span> on_hand;</span><br><span class="line"> &#125; inventory[MAX_PARTS];</span><br><span class="line"></span><br><span class="line"> <span class="keyword">int</span> num_parts = <span class="number">0</span>; <span class="comment">// å½“å‰é›¶ä»¶çš„æ•°é‡</span></span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">find_part</span> <span class="params">(<span class="keyword">int</span> number)</span></span>;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">search</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¾ªç¯ç­‰å¾…ç”¨æˆ·æ“ä½œ</span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"> 	<span class="keyword">char</span> code;</span><br><span class="line"> 	<span class="keyword">for</span> (;;) &#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"Enter operation code:"</span>);</span><br><span class="line"> 		<span class="built_in">scanf</span>(<span class="string">" %c"</span>, &amp;code);</span><br><span class="line"></span><br><span class="line"> 		<span class="comment">// è·³è¿‡æ‰€æœ‰çš„æ¢è¡Œç¬¦</span></span><br><span class="line"> 		<span class="keyword">while</span> (getchar() != <span class="string">'\n'</span>)</span><br><span class="line"> 			;</span><br><span class="line"> 		<span class="keyword">switch</span> (code) &#123;</span><br><span class="line"> 			<span class="keyword">case</span> <span class="string">'i'</span>:</span><br><span class="line"> 				insert();</span><br><span class="line"> 				<span class="keyword">break</span>;</span><br><span class="line"> 			<span class="keyword">case</span> <span class="string">'s'</span>:</span><br><span class="line"> 				search();</span><br><span class="line"> 				<span class="keyword">break</span>;</span><br><span class="line"> 			<span class="keyword">case</span> <span class="string">'u'</span>:</span><br><span class="line"> 				update();</span><br><span class="line"> 				<span class="keyword">break</span>;</span><br><span class="line"> 			<span class="keyword">case</span> <span class="string">'p'</span>:</span><br><span class="line"> 				print();</span><br><span class="line"> 				<span class="keyword">break</span>;</span><br><span class="line"> 			<span class="keyword">case</span> <span class="string">'q'</span>:</span><br><span class="line"> 				return <span class="number">0</span>;</span><br><span class="line"> 			<span class="keyword">default</span>:</span><br><span class="line"> 				<span class="built_in">printf</span>(<span class="string">"Illegal code\n"</span>);</span><br><span class="line"> 		&#125;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"> 	&#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * æŒ‰ç…§é›¶ä»¶çš„ç¼–å·æŸ¥æ‰¾é›¶ä»¶åœ¨æ¸…å•æ•°ç»„ä¸­çš„ä¸‹æ ‡</span><br><span class="line"> * @param  number é›¶ä»¶çš„ç¼–å·</span><br><span class="line"> * @return        é›¶ä»¶åœ¨æ¸…å•ä¸­çš„ä¸‹æ ‡</span><br><span class="line"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">find_part</span> <span class="params">(<span class="keyword">int</span> number)</span> </span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> i;</span><br><span class="line"> 	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; num_parts; i++) &#123;</span><br><span class="line"> 		<span class="keyword">if</span> (inventory[i].number == number) &#123;</span><br><span class="line"> 			return i;</span><br><span class="line"> 		&#125;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	return <span class="number">-1</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * é€šè¿‡å‘½ä»¤è¡Œæ’å…¥é›¶ä»¶</span><br><span class="line"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">insert</span> <span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line"> 	<span class="comment">// è¾“å…¥é›¶ä»¶å·</span></span><br><span class="line"> 	<span class="keyword">int</span> part_number;</span><br><span class="line"> 	<span class="keyword">if</span> (num_parts == MAX_PARTS) &#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"Datebase is full, can't add more parts .\n"</span>);</span><br><span class="line"> 		return;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter partnumber: "</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;part_number);</span><br><span class="line"> 	<span class="keyword">if</span> (find_part(part_number) &gt;= <span class="number">0</span>) &#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"Part already exists.\n"</span>);</span><br><span class="line"> 		return;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	inventory[num_parts].number = part_number;</span><br><span class="line"></span><br><span class="line"> 	<span class="comment">// è¾“å…¥é›¶ä»¶å</span></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter part name: "</span>);</span><br><span class="line"> 	read_line(inventory[num_parts].name, NAME_LEN);</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter quantity on hand: "</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;inventory[num_parts].on_hand);</span><br><span class="line"> 	num_parts++;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * åœ¨å‘½ä»¤è¡Œæ ¹æ®é›¶ä»¶ç¼–å·æœç´¢é›¶ä»¶</span><br><span class="line"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">search</span> <span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> i, number;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter part number: "</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;number);</span><br><span class="line"> 	i = find_part(number);</span><br><span class="line"> 	<span class="keyword">if</span> (i &gt;= <span class="number">0</span>) &#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"Part name: %s\n"</span>, inventory[i].name);</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"Quantity on hand: %d\n"</span>, inventory[i].on_hand);</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="keyword">else</span> &#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"Part not found.\n"</span>);</span><br><span class="line"> 	&#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * æ›´æ–°æ¸…å•ä¸­æŸç§é›¶ä»¶çš„æ•°é‡</span><br><span class="line"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> i, number, change;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter part number : "</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;number);</span><br><span class="line"> 	i = find_part(number);</span><br><span class="line"> 	<span class="keyword">if</span> (i &gt;= <span class="number">0</span>) &#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"Enter change in quantity on hand: "</span>);</span><br><span class="line"> 		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;change);</span><br><span class="line"> 		inventory[i].on_hand += change;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="keyword">else</span> &#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"Part not found.\n"</span>);</span><br><span class="line"> 	&#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * æ‰“å°å½“å‰é›¶ä»¶æ¸…å•ä¸­æ‰€æœ‰ç§ç±»é›¶ä»¶çš„ä¿¡æ¯</span><br><span class="line"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">print</span> <span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> i;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Part Number   Part Name             "</span></span><br><span class="line"> 		   <span class="string">"Quantity on hand\n"</span>);</span><br><span class="line"> 	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; num_parts; i++) &#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"%7d     %-25s%11d\n"</span>, inventory[i].number, inventory[i].name, inventory[i].on_hand);</span><br><span class="line"> 	&#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h4 id="16-3-4-2-ç¼–è¯‘"><a href="#16-3-4-2-ç¼–è¯‘" class="headerlink" title="16.3.4.2    ç¼–è¯‘"></a>16.3.4.2    ç¼–è¯‘</h4><p>$ vim makefile</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">invent:invent.o readline.o</span><br><span class="line">	gcc -o invent invent.o readline.o</span><br><span class="line">invent.o:invent.c readline.h</span><br><span class="line">	gcc -c invent.c</span><br><span class="line">readline.o:readline.c readline.h</span><br><span class="line">	gcc -c readline.c</span><br></pre></td></tr></table></figure>
<p>$ make</p>
<h4 id="16-3-4-3-è¿è¡Œ"><a href="#16-3-4-3-è¿è¡Œ" class="headerlink" title="16.3.4.3    è¿è¡Œ"></a>16.3.4.3    è¿è¡Œ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ ./invent </span><br><span class="line"> Enter operation code:i</span><br><span class="line"> Enter partnumber: 01</span><br><span class="line"> Enter part name: screen</span><br><span class="line"> Enter quantity on hand: 1 </span><br><span class="line"></span><br><span class="line"> Enter operation code:p</span><br><span class="line"> Part Number   Part Name             Quantity on hand</span><br><span class="line">       1     screen</span><br></pre></td></tr></table></figure>
<h2 id="16-4-è”åˆ"><a href="#16-4-è”åˆ" class="headerlink" title="16.4    è”åˆ"></a>16.4    è”åˆ</h2><h3 id="ç‰¹ç‚¹ï¼ˆå’Œç»“æ„ç›¸æ¯”ï¼‰"><a href="#ç‰¹ç‚¹ï¼ˆå’Œç»“æ„ç›¸æ¯”ï¼‰" class="headerlink" title="ç‰¹ç‚¹ï¼ˆå’Œç»“æ„ç›¸æ¯”ï¼‰"></a>ç‰¹ç‚¹ï¼ˆå’Œç»“æ„ç›¸æ¯”ï¼‰</h3><blockquote>
<p><strong>ç›¸åŒç‚¹</strong></p>
<ul>
<li>åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæˆå‘˜</li>
<li>æˆå‘˜å¯ä»¥æ˜¯ä¸åŒçš„ç±»å‹</li>
<li>å£°æ˜æ ‡è®°å’Œç±»å‹çš„æ–¹å¼</li>
<li>è®¿é—®æˆå‘˜çš„æ–¹å¼</li>
<li>å¯ä»¥ä½¿ç”¨<code>=</code>è¿›è¡Œå¤åˆ¶æ“ä½œ</li>
<li>å¯ä»¥åœ¨å‡½æ•°é—´ä¼ é€’æˆ–ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼</li>
<li>åˆå§‹åŒ–æ–¹å¼</li>
</ul>
<p><strong>ä¸åŒç‚¹</strong></p>
<ul>
<li>è”åˆçš„å®ä¾‹æ‰€æœ‰æˆå‘˜å…±äº«ç›¸åŒçš„å­˜å‚¨ç©ºé—´</li>
<li>è”åˆçš„å®ä¾‹å¤§å°ç”±æœ€å¤§çš„æˆå‘˜çš„ç±»å‹å†³å®š</li>
<li>è”åˆåˆå§‹åŒ–å®ä¾‹æ—¶åˆå§‹åŒ–çš„æ˜¯æŒ‰ç…§ç¬¬ä¸€ä¸ªæˆå‘˜çš„ç±»å‹æ¥åˆå§‹åŒ–å€¼çš„</li>
</ul>
</blockquote>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-08-31%20%E4%B8%8B%E5%8D%889.48.36.png" alt="Alt text"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">union</span> &#123;</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	<span class="keyword">float</span> f;</span><br><span class="line">&#125; u = &#123;<span class="number">0</span>&#125;; <span class="comment">// 0ä¼šæŒ‰ç…§içš„ç±»å‹åˆå§‹åŒ–å­˜å‚¨ç©ºé—´</span></span><br><span class="line"></span><br><span class="line">u.f = <span class="number">78.4</span>; <span class="comment">// ä¸ºè”åˆèµ‹å€¼</span></span><br></pre></td></tr></table></figure>
<h3 id="16-4-1-ä½¿ç”¨è”åˆæ¥èŠ‚çœç©ºé—´"><a href="#16-4-1-ä½¿ç”¨è”åˆæ¥èŠ‚çœç©ºé—´" class="headerlink" title="16.4.1    ä½¿ç”¨è”åˆæ¥èŠ‚çœç©ºé—´"></a>16.4.1    ä½¿ç”¨è”åˆæ¥èŠ‚çœç©ºé—´</h3><blockquote>
<p><strong>åŸç†ï¼š</strong>åœ¨<code>struct</code>ä¸­ä½¿ç”¨<code>union</code>ä½œä¸ºæˆå‘˜ï¼Œåè€…ä½¿ç”¨<code>struct</code>ä½œä¸ºæˆå‘˜ã€‚è¿™ç§æ··åˆçš„ç»“æ„å¯ä»¥å®ç°ä¸€ç§æ•°æ®ç»“æ„åº”ç”¨äºå¤šç§æƒ…å¢ƒçš„æ•ˆæœã€‚<br><strong>æ‰©å±•ï¼š</strong>åœ¨<code>c++</code>ä¸­ï¼Œ<code>struct</code>ä¸­çš„<code>union</code>å¯ä»¥åŒ¿åï¼Œåœ¨<code>c</code>ä¸­åˆ™ä¸å¾—ä¸æŒ‡å®š<code>union</code>çš„åå­—ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TITLE_LEN 20</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> AUTHOR_LEN 10</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DESIGN_LEN 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * ç¤¼å“å†Œä¸Šçš„å•†å“</span><br><span class="line"> * å¯ä»¥å­˜å‚¨3ç§ç±»å‹çš„å•†å“ï¼šä¹¦ç±ã€æ¯å­ã€è¡¬è¡«</span><br><span class="line"> *</span><br><span class="line"> * @type &#123;struct&#125;</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">struct</span> catalog_item &#123;</span><br><span class="line">	<span class="keyword">int</span> stock_number; <span class="comment">// ç¼–å·</span></span><br><span class="line">	<span class="keyword">float</span> price; <span class="comment">// ä»·æ ¼</span></span><br><span class="line">	<span class="keyword">int</span> item_type; <span class="comment">// åˆ†ç±»</span></span><br><span class="line">	<span class="keyword">union</span> &#123;</span><br><span class="line">		<span class="comment">// å¯èƒ½æ˜¯ä¹¦</span></span><br><span class="line">		<span class="keyword">struct</span> &#123;</span><br><span class="line">			<span class="keyword">char</span> title[TITLE_LEN + <span class="number">1</span>];</span><br><span class="line">			<span class="keyword">char</span> author[AUTHOR_LEN + <span class="number">1</span>];</span><br><span class="line">			<span class="keyword">int</span> num_pages;</span><br><span class="line">		&#125; book;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// å¯èƒ½æ˜¯æ¯å­</span></span><br><span class="line">		<span class="keyword">struct</span> &#123;</span><br><span class="line">			<span class="keyword">char</span> design[DESIGN_LEN + <span class="number">1</span>];</span><br><span class="line">		&#125; mug;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// å¯èƒ½æ˜¯è¡¬è¡«</span></span><br><span class="line">		<span class="keyword">struct</span> &#123;</span><br><span class="line">			<span class="keyword">char</span> design[DESIGN_LEN + <span class="number">1</span>];</span><br><span class="line">			<span class="keyword">int</span> colors;</span><br><span class="line">			<span class="keyword">int</span> sizes;</span><br><span class="line">	 	&#125; shirt;</span><br><span class="line">	&#125; item;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="comment">// å£°æ˜ç»“æ„ä½“å®ä¾‹</span></span><br><span class="line">	<span class="keyword">struct</span> catalog_item bookItem;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// ä¸ºç»“æ„ä½“ä¸­çš„è”åˆçš„æˆå‘˜èµ‹å€¼</span></span><br><span class="line">	<span class="built_in">strcpy</span>(bookItem.item.book.title, <span class="string">"three body"</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">// è®¿é—®ç»“æ„é¢˜ä¸­çš„è”åˆçš„æˆå‘˜</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%s\n"</span>, bookItem.item.book.title);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="16-4-2-ä½¿ç”¨è”åˆæ¥æ„é€ æ··åˆçš„æ•°æ®ç»“æ„"><a href="#16-4-2-ä½¿ç”¨è”åˆæ¥æ„é€ æ··åˆçš„æ•°æ®ç»“æ„" class="headerlink" title="16.4.2    ä½¿ç”¨è”åˆæ¥æ„é€ æ··åˆçš„æ•°æ®ç»“æ„"></a>16.4.2    ä½¿ç”¨è”åˆæ¥æ„é€ æ··åˆçš„æ•°æ®ç»“æ„</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ›å»ºå«æœ‰ä¸åŒæ•°æ®ç±»å‹çš„æ··åˆæ•°æ®ç»“æ„ï¼ˆæ¯”å¦‚æ•°ç»„ï¼‰ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * æ··åˆæ•°æ®ç±»å‹ï¼ŒåŒ…å«æ•´å‹å’Œæµ®ç‚¹å‹</span><br><span class="line"> * </span><br><span class="line"> * @typedef &#123;union&#125; Number</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">union</span> &#123;</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	<span class="keyword">float</span> f;</span><br><span class="line">&#125; Number;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="comment">// å£°æ˜æ··åˆå‹æ•°ç»„</span></span><br><span class="line">	Number number_array[<span class="number">1000</span>];</span><br><span class="line"></span><br><span class="line">	<span class="comment">// èµ‹å€¼</span></span><br><span class="line">	number_array[<span class="number">0</span>].i = <span class="number">5</span>; <span class="comment">// ç¬¬ä¸€ä¸ªå€¼ä¸ºæ•´å‹</span></span><br><span class="line">	number_array[<span class="number">1</span>].f = <span class="number">3.14</span>; <span class="comment">// ç¬¬äºŒä¸ªå€¼ä¸ºæµ®ç‚¹å‹</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// è®¿é—®</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, number_array[<span class="number">0</span>].i); <span class="comment">// 5</span></span><br><span class="line">	</span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="16-4-3-ä¸ºè”åˆæ·»åŠ â€œæ ‡è®°å­—æ®µâ€"><a href="#16-4-3-ä¸ºè”åˆæ·»åŠ â€œæ ‡è®°å­—æ®µâ€" class="headerlink" title="16.4.3    ä¸ºè”åˆæ·»åŠ â€œæ ‡è®°å­—æ®µâ€"></a>16.4.3    ä¸ºè”åˆæ·»åŠ â€œæ ‡è®°å­—æ®µâ€</h3><blockquote>
<p><strong>ç”¨é€”ï¼š</strong>ä¸ºè”åˆæä¾›é¢å¤–çš„å½“å‰ç±»å‹ä¿¡æ¯ï¼Œé˜²æ­¢è·å–åˆ°æ— æ„ä¹‰çš„å€¼ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INT_KIND 0</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FLOAT_KIND 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * </span><br><span class="line"> * @typedef &#123;struct&#125; </span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> &#123;</span><br><span class="line">	<span class="keyword">int</span> kind; <span class="comment">// æ ‡è®°å­—æ®µ</span></span><br><span class="line">	<span class="keyword">union</span> &#123;</span><br><span class="line">		<span class="keyword">int</span> i;</span><br><span class="line">		<span class="keyword">float</span> f;</span><br><span class="line">	&#125; u;</span><br><span class="line">&#125; Number;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * æ ¹æ®æ•°æ®ç»“æ„çš„ç±»å‹ä»¥ä¸åŒçš„æ–¹å¼æ‰“å°å€¼</span><br><span class="line"> * </span><br><span class="line"> * @param &#123;struct&#125; n è¦æ‰“å°çš„æ•°æ®ç»“æ„</span><br><span class="line"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print_number</span><span class="params">(Number n)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="comment">// å£°æ˜ç»“æ„å®ä¾‹</span></span><br><span class="line">	Number n;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// æ ‡è®°å­—æ®µ</span></span><br><span class="line">	n.kind = INT_KIND;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// èµ‹å€¼</span></span><br><span class="line">	n.u.i = <span class="number">82</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// æ‰“å°å‡ºæ¥</span></span><br><span class="line">	print_number(n); <span class="comment">// 82</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print_number</span><span class="params">(Number n)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (n.kind == INT_KIND) &#123;</span><br><span class="line">		<span class="keyword">if</span> (n.kind == INT_KIND) &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, n.u.i);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%g\n"</span>, n.u.f);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="16-5-æšä¸¾"><a href="#16-5-æšä¸¾" class="headerlink" title="16.5    æšä¸¾"></a>16.5    æšä¸¾</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>enum</code>æ˜¯ä¸€ç§ç”±ç¨‹åºå‘˜åˆ—å‡ºå€¼çš„ç±»å‹ï¼Œè€Œä¸”ç¨‹åºå‘˜å¿…é¡»ä¸ºæ¯ç§å€¼ï¼ˆæšä¸¾å¸¸é‡ï¼‰å‘½åã€‚<br><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>éµå¾ªåˆ°cè¯­è¨€çš„ä½œç”¨åŸŸè§„åˆ™ï¼ˆå¦‚æœæšä¸¾å£°æ˜åœ¨å‡½æ•°ä½“å†…ï¼Œé‚£ä¹ˆå®ƒçš„å¸¸é‡å¯¹å¤–éƒ¨å‡½æ•°æ˜¯ä¸å¯è§çš„ï¼‰</li>
<li>å£°æ˜çš„æ–¹å¼ç±»ä¼¼ç»“æ„å’Œè”åˆ</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æœ€ç®€å•çš„å£°æ˜æ–¹å¼ï¼šå®šä¹‰æšä¸¾ç±»å‹çš„åŒæ—¶å£°æ˜æšä¸¾å˜é‡</span></span><br><span class="line"><span class="keyword">enum</span> &#123;CLUBS, DIAMONDS, HEARTS, SPADES&#125; s1, s2;</span><br></pre></td></tr></table></figure>
<h3 id="16-5-1-æšä¸¾æ ‡è®°å’Œæšä¸¾ç±»å‹"><a href="#16-5-1-æšä¸¾æ ‡è®°å’Œæšä¸¾ç±»å‹" class="headerlink" title="16.5.1    æšä¸¾æ ‡è®°å’Œæšä¸¾ç±»å‹"></a>16.5.1    æšä¸¾æ ‡è®°å’Œæšä¸¾ç±»å‹</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç±»ä¼¼ç»“æ„å’Œè”åˆçš„æ ‡è®°ï¼Œæœ‰ä¸¤ç§æ–¹å¼ã€‚</p>
</blockquote>
<h5 id="æ–¹å¼1ï¼šenum-æ ‡è®°å-å¯èƒ½å€¼"><a href="#æ–¹å¼1ï¼šenum-æ ‡è®°å-å¯èƒ½å€¼" class="headerlink" title="æ–¹å¼1ï¼šenum æ ‡è®°å {å¯èƒ½å€¼}"></a>æ–¹å¼1ï¼š<code>enum æ ‡è®°å {å¯èƒ½å€¼}</code></h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºæšä¸¾ç±»å‹</span></span><br><span class="line"><span class="keyword">enum</span> suit &#123;CLUBS, DIAMONDS, HEARTS, SPADES&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å£°æ˜æšä¸¾å˜é‡</span></span><br><span class="line"><span class="keyword">enum</span> suit s1, s2;</span><br></pre></td></tr></table></figure>
<h5 id="æ–¹å¼2ï¼štypedef-enum-å¯èƒ½å€¼-ç±»å‹å"><a href="#æ–¹å¼2ï¼štypedef-enum-å¯èƒ½å€¼-ç±»å‹å" class="headerlink" title="æ–¹å¼2ï¼štypedef enum {å¯èƒ½å€¼} ç±»å‹å"></a>æ–¹å¼2ï¼š<code>typedef enum {å¯èƒ½å€¼} ç±»å‹å</code></h5><blockquote>
<p><strong>æŠ€å·§ï¼š</strong>åˆ©ç”¨<code>typedef</code>æ¥åˆ›å»ºå¸ƒå°”ç±»å‹æ˜¯éå¸¸å¥½çš„ä¸€ç§æ–¹æ³•ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> &#123;CLUBS, DIAMONDS, HEARTS, SPADES&#125; Suit;</span><br><span class="line">Suit s1, s2;</span><br></pre></td></tr></table></figure>
<h3 id="16-5-2-æšä¸¾ä½œä¸ºæ•´æ•°"><a href="#16-5-2-æšä¸¾ä½œä¸ºæ•´æ•°" class="headerlink" title="16.5.2    æšä¸¾ä½œä¸ºæ•´æ•°"></a>16.5.2    æšä¸¾ä½œä¸ºæ•´æ•°</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨ç³»ç»Ÿå†…éƒ¨ï¼Œcè¯­è¨€ä¼šæŠŠæšä¸¾å˜é‡å’Œå¸¸é‡ä½œä¸ºæ•´æ•°å¤„ç†ã€‚</p>
<ul>
<li>å½“æ²¡æœ‰ä¸ºæšä¸¾å¸¸é‡æŒ‡å®šå€¼æ—¶ï¼Œå®ƒçš„å€¼æ—¶ä¸€ä¸ªå¤§äºå‰ä¸€ä¸ªå¸¸é‡çš„å€¼ï¼ˆé»˜è®¤ç¬¬ä¸€ä¸ªæšä¸¾å¸¸é‡çš„å€¼ä¸º0ï¼‰</li>
<li>å¯ä»¥ä¸ºæšä¸¾å¸¸é‡è‡ªç”±é€‰æ‹©ä¸åŒçš„å€¼</li>
<li>å½“ä¸ºæšä¸¾å¸¸é‡æŒ‡å®šå€¼æ—¶ï¼Œå¯¹å¤§å°é¡ºåºæ²¡æœ‰è¦æ±‚</li>
<li>ä¸¤ä¸ªæˆ–å¤šä¸ªæšä¸¾å¸¸é‡å…·æœ‰ç›¸åŒçš„å€¼ä¹Ÿæ˜¯åˆæ³•çš„</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> suit &#123;CLUBS = <span class="number">20</span>, DIAMONDS = <span class="number">10</span>, HEARTS, SPADES&#125;; <span class="comment">// 20, 10, 11</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>æ‰©å±•ï¼š</strong>æŠŠæ•´æ•°ç”¨ä½œæšä¸¾çš„å€¼æ˜¯éå¸¸å±é™©çš„ï¼Œ<code>c++</code>ä¸å…è®¸æ•´æ•°ç”¨ä½œæšä¸¾çš„å€¼æ¥ä½¿ç”¨ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">enum</span> suit &#123;CLUBS, DIAMONDS, HEARTS, SPADES&#125; s;</span><br><span class="line">i = DIAMONDS;</span><br><span class="line">s = <span class="number">0</span>;</span><br><span class="line">s++;</span><br><span class="line">i = s + <span class="number">2</span>;</span><br></pre></td></tr></table></figure>
<h3 id="16-5-3-ç”¨æšä¸¾å£°æ˜â€œæ ‡è®°å­—æ®µâ€"><a href="#16-5-3-ç”¨æšä¸¾å£°æ˜â€œæ ‡è®°å­—æ®µâ€" class="headerlink" title="16.5.3    ç”¨æšä¸¾å£°æ˜â€œæ ‡è®°å­—æ®µâ€"></a>16.5.3    ç”¨æšä¸¾å£°æ˜â€œæ ‡è®°å­—æ®µâ€</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>enum</code>å’Œ<code>union</code>é…åˆå®ç°<code>union</code>çš„â€œæ ‡è®°å­—æ®µâ€ã€‚<br><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>ä¸éœ€è¦é¢å¤–å®šä¹‰å®</li>
<li>æ˜ç¡®ç±»å‹çš„å¯èƒ½å€¼èŒƒå›´</li>
<li>å«ä¹‰æ›´æ˜ç¡®</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">typedeg <span class="keyword">struct</span> &#123;</span><br><span class="line">	<span class="keyword">enum</span> &#123;INT_KIND, FLOAT_KIND&#125; kind;</span><br><span class="line">	<span class="keyword">union</span> &#123;</span><br><span class="line">		<span class="keyword">int</span> i;</span><br><span class="line">		<span class="keyword">float</span> f;</span><br><span class="line">	&#125; u;</span><br><span class="line">&#125; Number;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/10/15 ç¼–å†™å¤§è§„æ¨¡ç¨‹åº/" itemprop="url">
                  15 ç¼–å†™å¤§è§„æ¨¡ç¨‹åº
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-10T10:39:04+08:00" content="2016-05-10">
              2016-05-10
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/10/15 ç¼–å†™å¤§è§„æ¨¡ç¨‹åº/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/10/15 ç¼–å†™å¤§è§„æ¨¡ç¨‹åº/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="15-1-æºæ–‡ä»¶"><a href="#15-1-æºæ–‡ä»¶" class="headerlink" title="15.1    æºæ–‡ä»¶"></a>15.1    æºæ–‡ä»¶</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯ä»¥æŠŠç¨‹åºåˆ†å‰²æˆä¸€å®šæ•°é‡çš„æºæ–‡ä»¶(.cæ–‡ä»¶å’Œ.hæ–‡ä»¶)ã€‚</p>
<ul>
<li>åŸæ–‡ä»¶çš„æ‰©å±•åä¸º.cï¼Œæ¯ä¸ªåŸæ–‡ä»¶åŒ…å«ç¨‹åºçš„éƒ¨åˆ†å†…å®¹ï¼Œä¸»è¦æ˜¯å‡½æ•°çš„å®šä¹‰å’Œå˜é‡</li>
<li>ä¸€ä¸ªåŸæ–‡ä»¶å¿…é¡»åŒ…å«åä¸ºmainçš„å‡½æ•°ï¼Œæ¬¡å‡½æ•°ä½œä¸ºç¨‹åºçš„èµ·å§‹ç‚¹</li>
</ul>
<p><strong>ä¼˜ç‚¹ï¼š</strong>æŠŠç¨‹åºåˆ†è£‚æˆå¤šä¸ªæºæ–‡ä»¶æœ‰è®¸å¤šæ˜¾è‘—çš„ä¼˜ç‚¹ã€‚</p>
<ul>
<li>ï¼ˆæ˜“è¯»ï¼‰æŠŠç›¸å…³çš„å‡½æ•°å’Œå˜é‡é›†åˆåœ¨å•ç‹¬ä¸€ä¸ªæ–‡ä»¶ä¸­å¯ä»¥å¸®åŠ©æ˜äº†ç¨‹åºçš„ç»“æ„</li>
<li>ï¼ˆæ˜“ç»´æŠ¤ï¼‰å¯ä»¥å•ç‹¬å¯¹æ¯ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œç¼–è¯‘ã€‚</li>
<li>ï¼ˆæ˜“å¤ç”¨ï¼‰å½“æŠŠå‡½æ•°é›†åˆåœ¨å•ç‹¬çš„æºæ–‡ä»¶ä¸­æ—¶ï¼Œä¼šæ›´å®¹æ˜“åœ¨å…¶ä»–ç¨‹åºä¸­é‡æ–°ä½¿ç”¨è¿™äº›å‡½æ•°ã€‚</li>
</ul>
</blockquote>
<h3 id="æ¡ˆä¾‹ï¼è®¡ç®—å™¨ï¼š"><a href="#æ¡ˆä¾‹ï¼è®¡ç®—å™¨ï¼š" class="headerlink" title="æ¡ˆä¾‹ï¼è®¡ç®—å™¨ï¼š"></a><em>æ¡ˆä¾‹ï¼è®¡ç®—å™¨ï¼š</em></h3><blockquote>
<p><strong>é€†æ³¢å…°ç¬¦å·ï¼ˆReverse Polish Notation, RPNï¼‰ï¼š</strong>æŒ‡è¿ç®—ç¬¦éƒ½è·Ÿåœ¨æ“ä½œæ•°çš„åè¾¹ã€‚ä¾‹å¦‚ï¼š<code>30 5 - 7 *</code>ã€‚<br><strong>æ€è·¯ï¼š</strong>ç¨‹åºé€ä¸ªè¯»å…¥æ“ä½œæ•°å’Œè¿ç®—ç¬¦ï¼Œé‚£ä¹ˆåˆ©ç”¨æ ˆè·Ÿè¸ªä¸­é—´ç»“æœè¿™æ ·çš„æ–¹å¼è®¡ç®—é€†æ³¢å…°è¡¨è¾¾å¼æ˜¯å¾ˆå®¹æ˜“çš„ã€‚</p>
<ol>
<li>è¯»å–â€œè®°å·â€ï¼ˆæ•°æˆ–è¿ç®—ç¬¦ï¼‰</li>
<li>å¦‚æœç¨‹åºè¯»å–æ•°ï¼Œå°±å°†æ­¤æ•°å‹å…¥æ ˆ</li>
<li>å¦‚æœç¨‹åºè¯»å–è¿ç®—ç¬¦ï¼Œé‚£ä¹ˆå°†ä»æ ˆé¡¶å¼¹å‡ºä¸¤ä¸ªæ•°è¿›è¡Œç›¸åº”çš„è®¡ç®—ã€‚</li>
</ol>
</blockquote>
<h2 id="15-2-å¤´æ–‡ä»¶"><a href="#15-2-å¤´æ–‡ä»¶" class="headerlink" title="15.2    å¤´æ–‡ä»¶"></a>15.2    å¤´æ–‡ä»¶</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¦‚æœæ‰“ç®—å‡ ä¸ªæºæ–‡ä»¶å¯ä»¥è®¿é—®ç›¸åŒçš„ä¿¡æ¯ï¼Œé‚£ä¹ˆå°†æŠŠæ­¤ä¿¡æ¯æ”¾åœ¨æ–‡ä»¶ä¸­ï¼Œæ‰©å±•åä¸º<code>.h</code>ï¼Œç„¶ååˆ©ç”¨<code>#include</code>æŒ‡ä»¤æŠŠæ–‡ä»¶çš„å†…å®¹å¸¦è¿›æ¯ä¸ªæºæ–‡ä»¶ä¸­ã€‚è¿™æ ·çš„<code>.h</code>æ–‡ä»¶å°±æ˜¯å¤´æ–‡ä»¶ï¼ˆæˆ–åŒ…å«æ–‡ä»¶ï¼‰ã€‚</p>
</blockquote>
<h3 id="15-2-1-includeæŒ‡ä»¤"><a href="#15-2-1-includeæŒ‡ä»¤" class="headerlink" title="15.2.1    #includeæŒ‡ä»¤"></a>15.2.1    #includeæŒ‡ä»¤</h3><p><strong>è¯­æ³•ï¼š</strong>æœ‰ä¸¤ç§æ ¼å¼ï¼Œå…¶ä¸­çš„<code>æ–‡ä»¶å</code>å¯ä»¥åŒ…å«è·¯å¾„æˆ–é©±åŠ¨å™¨å·ã€‚è€Œä¸”é¢„å¤„ç†å™¨ä¸ä¼šè®²<code>&quot;æ–‡ä»¶å&quot;</code>å½“ä½œå­—ç¬¦ä¸²å¤„ç†äº†ï¼Œä¸ç„¶DOSè·¯å¾„ä¸­çš„æŸäº›å­—ç¬¦æœ‰å¯èƒ½è¢«å½“ä½œè½¬ä¹‰å­—ç¬¦ã€‚</p>
<table>
<thead>
<tr>
<th>æ ¼å¼</th>
<th>æœç´¢ç›®æ ‡</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>#include &lt;æ–‡ä»¶å&gt;</td>
<td>ç³»ç»Ÿå¤´æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•</td>
<td>æœ‰å¯èƒ½æ˜¯å¤šä¸ªï¼Œé€šå¸¸æ˜¯/usr/include</td>
</tr>
<tr>
<td>#include â€œæ–‡ä»¶åâ€</td>
<td>æœç´¢å½“å‰ç›®å½•ï¼Œç„¶åæœç´¢ç³»ç»Ÿå¤´æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•</td>
<td>å¯ä»¥é€šè¿‡è¯¸å¦‚-Ié€‰é¡¹ä¿®æ”¹æœç´¢ç›®å½•</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="string">"c:\cprogs\utils.h"</span>/*DOS path*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="string">"/cprogs/utils.h"</span>/*UNIX path*/</span></span><br></pre></td></tr></table></figure>
<p><strong>å¯ç§»æ¤æ€§æŠ€å·§ï¼š</strong>ä¸è¦åœ¨<code>#include</code>æŒ‡ä»¤ä¸­åŒ…å«è·¯å¾„æˆ–é©±åŠ¨å™¨ä¿¡æ¯ã€‚</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys\stat.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utils.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;..\include\utils.h&gt;</span></span></span><br></pre></td></tr></table></figure>
<h3 id="15-2-2-å…±äº«å®å®šä¹‰å’Œç±»å‹å®šä¹‰"><a href="#15-2-2-å…±äº«å®å®šä¹‰å’Œç±»å‹å®šä¹‰" class="headerlink" title="15.2.2    å…±äº«å®å®šä¹‰å’Œç±»å‹å®šä¹‰"></a>15.2.2    å…±äº«å®å®šä¹‰å’Œç±»å‹å®šä¹‰</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†é€šç”¨çš„å®å®šä¹‰å’Œç±»å‹å®šä¹‰æ”¾åœ¨å¤´æ–‡ä»¶ä¸­æœ‰è®¸å¤šæ˜æ˜¾çš„å¥½å¤„ã€‚</p>
<ul>
<li>ä¸ç”¨é¢‘ç¹å¤åˆ¶ä»£ç </li>
<li>æ˜“äºä¿®æ”¹å’Œç»´æŠ¤</li>
<li>é¿å…çŠ¹è±«åŸæ–‡ä»¶åŒ…å«ç›¸åŒå®æˆ–ç±»å‹çš„ä¸åŒå®šä¹‰è€Œå¯¼è‡´çš„çŸ›ç›¾</li>
</ul>
</blockquote>
<p><em>boolean.h</em></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TRUE 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FALSE 0</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> Bool;</span><br></pre></td></tr></table></figure>
<h3 id="15-2-3-å…±äº«å‡½æ•°åŸå‹"><a href="#15-2-3-å…±äº«å‡½æ•°åŸå‹" class="headerlink" title="15.2.3    å…±äº«å‡½æ•°åŸå‹"></a>15.2.3    å…±äº«å‡½æ•°åŸå‹</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸ºäº†å…±äº«å‡½æ•°ï¼Œè¦æŠŠå‡½æ•°çš„å®šä¹‰æ”¾åœ¨ä¸€ä¸ªæºæ–‡ä»¶ä¸­ï¼Œç„¶ååœ¨éœ€è¦è°ƒç”¨æ­¤å‡½æ•°çš„å…¶ä»–æ–‡ä»¶ä¸­æ”¾ç½®å£°æ˜ã€‚<br><strong>æŠ€å·§ï¼š</strong>ä¸ºäº†ä¿è¯å‡½æ•°åŸå‹å£°æ˜ä¸€è‡´ï¼Œå£°æ˜éƒ¨åˆ†å•ç‹¬æ”¾åœ¨ä¸€ä¸ªå¤´æ–‡ä»¶ä¸­ã€‚ç„¶ååœ¨å®šä¹‰å’Œè°ƒç”¨çš„æºæ–‡ä»¶ä¸­éƒ½å¼•å…¥è¯¥å¤´æ–‡ä»¶ã€‚<br><strong>æ³¨æ„ï¼š</strong>åœ¨è°ƒç”¨åœ¨å…¶ä»–æ–‡ä»¶ä¸­çš„å‡½æ•°æ—¶ï¼Œè¦å§‹ç»ˆç¡®ä¿ç¼–è¯‘å™¨åœ¨è°ƒç”¨ä¹‹å‰çœ‹åˆ°å‡½æ•°çš„åŸå‹ã€‚</p>
</blockquote>
<h4 id="æ¡ˆä¾‹ï¼è®¡ç®—å™¨ï¼š-1"><a href="#æ¡ˆä¾‹ï¼è®¡ç®—å™¨ï¼š-1" class="headerlink" title="æ¡ˆä¾‹ï¼è®¡ç®—å™¨ï¼š"></a><em>æ¡ˆä¾‹ï¼è®¡ç®—å™¨ï¼š</em></h4><p><em>1. å¤´æ–‡ä»¶ï¼š<code>stack.h</code></em></p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åŒ…å«å…±äº«çš„å‡½æ•°çš„åŸå‹å£°æ˜ã€‚<br><strong>æ³¨æ„ï¼š</strong>åªåœ¨<code>calc.c</code>ä¸­ä½¿ç”¨çš„çš„å‡½æ•°ä¸åº”è¯¥å®šä¹‰åœ¨è¯¥å¤´æ–‡ä»¶ä¸­ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">make_empty</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">is_empty</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">is_full</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> i)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pop</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br></pre></td></tr></table></figure>
<p><em>2. å‡½æ•°å®šä¹‰ï¼š<code>stack.c</code></em></p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å®ç°stack.cä¸­å£°æ˜çš„æ‰€æœ‰å‡½æ•°ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="string">"stack.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> contents[<span class="number">100</span>];</span><br><span class="line"><span class="keyword">int</span> top = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">make_empty</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%s\n"</span>, <span class="string">"what"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">is_empty</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%s\n"</span>, <span class="string">"what"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">is_full</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%s\n"</span>, <span class="string">"what"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%s\n"</span>, <span class="string">"what"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pop</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%s\n"</span>, <span class="string">"what"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>3. å…¥å£æ–‡ä»¶ï¼š<code>calc.c</code></em></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="string">"stack.h"</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="comment">//ç¼–è¯‘å™¨ä¼šé€šè¿‡stack.hä¸­make_emptyçš„åŸå‹æ‰¾åˆ°å¯¹åº”çš„å®šä¹‰ï¼Œä»è€Œæ­£ç¡®è°ƒç”¨</span></span><br><span class="line">	make_empty();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>ç¼–è¯‘è¿è¡Œ</em></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ gcc -o calc calc.c stack.c</span><br><span class="line">$ ./calc </span><br><span class="line"> what</span><br></pre></td></tr></table></figure>
<h3 id="15-2-4-å…±äº«å˜é‡å£°æ˜"><a href="#15-2-4-å…±äº«å˜é‡å£°æ˜" class="headerlink" title="15.2.4    å…±äº«å˜é‡å£°æ˜"></a>15.2.4    å…±äº«å˜é‡å£°æ˜</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸ºäº†å…±äº«å˜é‡<code>i</code>ï¼Œé¦–å…ˆæŠŠå˜é‡içš„å®šä¹‰ï¼ˆå’Œåˆå§‹åŒ–ï¼‰æ”¾ç½®åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œè€Œåœ¨å…¶ä»–æ–‡ä»¶ä¸­åŒ…å«å˜é‡<code>i</code>çš„å£°æ˜ï¼ˆä½¿ç”¨å…³é”®å­—<code>extern</code>ï¼‰ã€‚<br><strong>å˜é‡å£°æ˜ï¼š</strong><code>extern</code></p>
<ul>
<li>ç±»ä¼¼å‡½æ•°çš„å£°æ˜ï¼Œä»…å£°æ˜å˜é‡åå’Œç±»å‹ï¼ˆå†…å­˜ä¸ä¼šä¸ºå…¶åˆ†é…ç©ºé—´ï¼‰</li>
<li>é€šå¸¸æƒ…å†µä¸‹æˆ‘ä»¬ä¸ä½¿ç”¨<code>extern</code>ï¼Œè¿™ç§æƒ…å†µä¸‹å˜é‡å£°æ˜å’Œå®šä¹‰åŒæ—¶å®Œæˆ</li>
<li>å¯ä»¥ç”¨äºæ‰€æœ‰ç±»å‹çš„å˜é‡</li>
<li>åœ¨æ•°ç»„çš„å£°æ˜ä¸­ä½¿ç”¨<code>extern</code>æ—¶å¯ä»¥å¿½ç•¥æ•°ç»„çš„é•¿åº¦<code>extern int a[];</code></li>
<li>ç¼–è¯‘å™¨æ— æ³•æ£€æŸ¥<code>å˜é‡å£°æ˜</code>æ˜¯å¦å’Œ<code>å˜é‡å®šä¹‰</code>ä¸¥æ ¼åŒ¹é…ï¼Œå› æ­¤æœ‰å¯èƒ½å‡ºç°å’Œå£°æ˜ç±»å‹ä¸ä¸€è‡´çš„å®šä¹‰ï¼Œè¿™ä¼šå¯¼è‡´ç¨‹åºçš„å¼‚å¸¸è¡Œä¸º</li>
</ul>
<p><strong>æŠ€å·§ï¼š</strong>é€šå¸¸æŠŠå…±äº«çš„å˜é‡çš„å£°æ˜æ”¾ç½®åœ¨å¤´æ–‡ä»¶ä¸­ï¼Œéœ€è¦è®¿é—®è¯¥å…±äº«å˜é‡çš„æºæ–‡ä»¶ä¸­å¼•å…¥è¯¥å¤´æ–‡ä»¶ã€‚åŒæ—¶å¦‚æœå˜é‡çš„å®šä¹‰åœ¨å…¶å®ƒæºæ–‡ä»¶ï¼ˆè€Œä¸æ˜¯å…¥å£æ–‡ä»¶ä¸­ï¼‰ï¼Œåˆ™ä¹Ÿéœ€è¦å¼•å…¥è¯¥å¤´æ–‡ä»¶ã€‚<br><strong>æ‰©å±•ï¼š</strong>è™½ç„¶åœ¨æ–‡ä»¶ä¸­å…±äº«å˜é‡æ˜¯<code>c</code>è¯­è¨€ç•Œçš„é•¿æœŸæƒ¯ä¾‹ï¼Œä½†æ˜¯å®ƒæœ‰é‡å¤§ç¼ºé™·ã€‚<code>19.2</code>èŠ‚æœ‰å¦‚ä½•è®¾è®¡ä¸éœ€è¦å…±äº«å˜é‡çš„ç¨‹åºçš„çŸ¥è¯†ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//externæç¤ºç¼–è¯‘å™¨å˜é‡iæ˜¯åœ¨ç¨‹åºçš„å…¶å®ƒä½ç½®å®šä¹‰çš„ï¼ˆåŒä¸€æ–‡ä»¶æˆ–ä¸åŒæ–‡ä»¶ï¼‰</span></span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">int</span> i;</span><br></pre></td></tr></table></figure>
<h3 id="15-2-5-åµŒå¥—åŒ…å«"><a href="#15-2-5-åµŒå¥—åŒ…å«" class="headerlink" title="15.2.5    åµŒå¥—åŒ…å«"></a>15.2.5    åµŒå¥—åŒ…å«</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¤´æ–‡ä»¶è‡ªèº«å¯ä»¥åŒ…å«<code>#include</code>æŒ‡ä»¤ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="string">"boolean.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function">Bool <span class="title">is_empty</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function">Bool <span class="title">is_full</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br></pre></td></tr></table></figure>
<h3 id="15-2-6-ä¿æŠ¤å¤´æ–‡ä»¶"><a href="#15-2-6-ä¿æŠ¤å¤´æ–‡ä»¶" class="headerlink" title="15.2.6    ä¿æŠ¤å¤´æ–‡ä»¶"></a>15.2.6    ä¿æŠ¤å¤´æ–‡ä»¶</h3><blockquote>
<p><strong>ä¸ºä»€ä¹ˆä¿æŠ¤ï¼š</strong>å¦‚æœæºæ–‡ä»¶åŒ…å«åŒä¸€ä¸ªæ–‡ä»¶ä¸¤æ¬¡ï¼ˆç›´æ¥æˆ–é—´æ¥ï¼‰ï¼Œé‚£ä¹ˆå¯èƒ½ï¼ˆå¦‚æœåŒ…å«ç±»å‹å®šä¹‰ï¼‰ä¼šäº§ç”Ÿç¼–è¯‘é”™è¯¯ã€‚</p>
<ul>
<li>é¿å…ç”±é‡å¤çš„ç±»å‹å®šä¹‰å¯¼è‡´çš„ç¼–è¯‘é”™è¯¯</li>
<li>èŠ‚çº¦ç¼–è¯‘æ—¶é—´</li>
</ul>
<p><strong>å¦‚ä½•ä¿æŠ¤ï¼š</strong>ä¸ºäº†é˜²æ­¢å¤´æ–‡ä»¶å¤šæ¬¡åŒ…å«å¯¼è‡´çš„å¤šæ¬¡ç¼–è¯‘ï¼Œå°†ç”¨<code>#ifndef</code>å’Œ<code>#endif</code>ä¸¤ä¸ªæŒ‡ä»¤æŠŠæ–‡ä»¶é—­åˆèµ·æ¥ã€‚åœ¨é¢„ç¼–è¯‘é˜¶æ®µå»é‡å¤æ‰å¼•å…¥çš„å¤´æ–‡ä»¶çš„ä»£ç ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//BOOLEAN_Hæ˜¯æŒ‰ç…§æ‰€åœ¨å¤´æ–‡ä»¶å(BOOLEAN.h)è¿›è¡Œå‘½åçš„ï¼Œç›®çš„æ˜¯é¿å…å’Œå…¶å®ƒå¤´æ–‡ä»¶ä¸­çš„å®å†²çª</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> BOOLEAN_H</span></span><br><span class="line">	<span class="meta">#<span class="meta-keyword">define</span> BOOLEAN_H</span></span><br><span class="line">	<span class="meta">#<span class="meta-keyword">define</span> TRUE 1</span></span><br><span class="line">	<span class="meta">#<span class="meta-keyword">define</span> FALSE 0</span></span><br><span class="line">	<span class="keyword">typedef</span> <span class="keyword">int</span> Bool;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<h3 id="15-2-7-å¤´æ–‡ä»¶ä¸­çš„-erroræŒ‡ä»¤"><a href="#15-2-7-å¤´æ–‡ä»¶ä¸­çš„-erroræŒ‡ä»¤" class="headerlink" title="15.2.7    å¤´æ–‡ä»¶ä¸­çš„#erroræŒ‡ä»¤"></a>15.2.7    å¤´æ–‡ä»¶ä¸­çš„#erroræŒ‡ä»¤</h3><blockquote>
<p><strong>ç”¨é€”ï¼š</strong>æ”¾åœ¨å¤´æ–‡ä»¶ä¸­ç”¨æ¥æ£€æŸ¥ä¸åº”è¯¥åŒ…å«å¤´æ–‡ä»¶çš„æ¡ä»¶ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åªæœ‰åœ¨DOSç¨‹åºä¸­æ‰èƒ½æ­£å¸¸ä½¿ç”¨</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> DOS</span></span><br><span class="line">	<span class="comment">//å¦‚æœéDOSç¨‹åºè¯•å›¾åŒ…å«æ­¤å¤´æ–‡ä»¶ï¼Œé‚£ä¹ˆç¼–è¯‘å°†åœ¨#erroræŒ‡ä»¤å¤„åœæ­¢</span></span><br><span class="line">	<span class="meta">#<span class="meta-keyword">error</span> Grapphics supported only under DOS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<h2 id="15-3-æŠŠç¨‹åºåˆ’åˆ†æˆå¤šä¸ªæ–‡ä»¶ï¼ˆç¨‹åºï¼šæ–‡æœ¬æ ¼å¼åŒ–ï¼‰"><a href="#15-3-æŠŠç¨‹åºåˆ’åˆ†æˆå¤šä¸ªæ–‡ä»¶ï¼ˆç¨‹åºï¼šæ–‡æœ¬æ ¼å¼åŒ–ï¼‰" class="headerlink" title="15.3    æŠŠç¨‹åºåˆ’åˆ†æˆå¤šä¸ªæ–‡ä»¶ï¼ˆç¨‹åºï¼šæ–‡æœ¬æ ¼å¼åŒ–ï¼‰"></a>15.3    æŠŠç¨‹åºåˆ’åˆ†æˆå¤šä¸ªæ–‡ä»¶ï¼ˆç¨‹åºï¼šæ–‡æœ¬æ ¼å¼åŒ–ï¼‰</h2><blockquote>
<p><strong>åŠŸèƒ½åˆ†æï¼š</strong>èƒ½å¤Ÿå°†è¾“å…¥çš„æ–‡æœ¬æ ¼å¼åŒ–çš„å‘½ä»¤è¡Œå·¥å…·ã€‚</p>
<ul>
<li>â€œåˆ é™¤ç©ºè¡Œã€åˆ¶è¡¨ç¬¦â€</li>
<li>â€œå¡«å……â€ï¼šæ·»åŠ å•è¯ç›´åˆ°å†å¤šä¸€ä¸ªå•è¯å°±ä¼šå¯¼è‡´æº¢å‡ºæ—¶æ‰åœæ­¢</li>
<li>â€œè°ƒæ•´â€ï¼šé™¤æœ€åä¸€è¡Œå¤–ï¼Œåœ¨å•è¯é—´æ·»åŠ é¢å¤–çš„ç©ºæ ¼ä»¥ä¾¿æ¯è¡Œæœ‰ç²¾ç¡®çš„ç›¸åŒé•¿åº¦ï¼ˆ60ä¸ªå­—ç¬¦ï¼‰</li>
</ul>
</blockquote>
<h2 id="15-4-æ„å»ºå¤šæ–‡ä»¶ç¨‹åº"><a href="#15-4-æ„å»ºå¤šæ–‡ä»¶ç¨‹åº" class="headerlink" title="15.4    æ„å»ºå¤šæ–‡ä»¶ç¨‹åº"></a>15.4    æ„å»ºå¤šæ–‡ä»¶ç¨‹åº</h2><blockquote>
<p><strong>åŸç†ï¼š</strong>å¤§å¤šæ•°ç¼–è¯‘å™¨å…è®¸ä¸€æ­¥å®Œæˆç¼–è¯‘å’Œé“¾æ¥çš„è¿‡ç¨‹ã€‚</p>
<ol>
<li><strong>ç¼–è¯‘ï¼š</strong>å¯¹æ¯ä¸ªæºæ–‡ä»¶ï¼ˆä¸åŒ…æ‹¬å¤´æ–‡ä»¶ï¼‰åˆ†åˆ«è¿›è¡Œç¼–è¯‘</li>
<li><strong>é“¾æ¥ï¼š</strong>æŠŠä¸Šä¸€æ­¥äº§ç”Ÿçš„ç›®æ ‡æ–‡ä»¶å’Œåº“å‡½æ•°çš„ä»£ç ç»“åˆåœ¨ä¸€èµ·ç”Ÿæˆå¯æ‰§è¡Œçš„ç¨‹åºã€‚</li>
</ol>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#-oå‘Šè¯‰ç¼–è¯‘å™¨æœ€ç»ˆçš„å¯æ‰§è¡Œæ–‡ä»¶çš„åå­—</span></span><br><span class="line">$ gcc -o fmt fmt.c line.c word.c</span><br></pre></td></tr></table></figure>
<h3 id="15-4-1-makefile"><a href="#15-4-1-makefile" class="headerlink" title="15.4.1    makefile"></a>15.4.1    makefile</h3><p><strong>å‘½ä»¤è¡Œç¼–è¯‘çš„ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>æ¯ç‡¥ä¹å‘³ï¼ˆæ•²æ²¡æœ‰è¥å…»çš„ç¼–è¯‘å‘½ä»¤ï¼‰</li>
<li>æµªè´¹æ—¶é—´ï¼Œæ‰€æœ‰æºæ–‡ä»¶æ¯æ¬¡éƒ½ä¼šè¢«é‡æ–°ç¼–è¯‘</li>
<li>æ„å»ºå¤§è§„æ¨¡ç¨‹åºè´¹æ—¶è´¹åŠ›æ˜“å‡ºé”™</li>
</ul>
<p><strong>è¯´æ˜ï¼š</strong>Unixç³»ç»Ÿå‘æ˜äº†makefileçš„æ¦‚å¿µï¼Œè¿™ä¸ªæ–‡ä»¶åŒ…å«æ„å»ºç¨‹åºçš„å¿…è¦ä¿¡æ¯ã€‚</p>
<ol>
<li>åˆ—å‡ºäº†ä½œä¸ºç¨‹åºéƒ¨åˆ†çš„æ–‡ä»¶</li>
<li>æè¿°äº†æ–‡ä»¶ä¹‹é—´çš„ä¾èµ–æ€§</li>
</ol>
<p><strong>åŸºæœ¬è¯­æ³•ï¼š</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ç›®æ ‡æ–‡ä»¶å:ä¾èµ–çš„æ–‡ä»¶</span><br><span class="line">[tab]å‘½ä»¤</span><br></pre></td></tr></table></figure>
<p><strong>æ‰©å±•ï¼š</strong>ä¸æ˜¯æ¯ä¸ªäººéƒ½ä½¿ç”¨makefileï¼Œå…¶å®ƒç¨‹åºç»´æŠ¤å·¥å…·æ­£å˜å¾—æµè¡Œï¼ŒåŒ…æ‹¬ä¸€äº›é›†æˆå¼€å‘ç¯å¢ƒæ”¯æŒçš„â€œå·¥ç¨‹æ–‡ä»¶â€ã€‚</p>
<h4 id="UNIX"><a href="#UNIX" class="headerlink" title="UNIX"></a>UNIX</h4><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">fmt:fmt.o word.o line.o</span><br><span class="line">	gcc -o fmt fmt.o word.o line.o</span><br><span class="line">fmt.o:fmt.c word.h line.h</span><br><span class="line">	gcc -c fmt.c</span><br><span class="line">word.o:word.c word.h</span><br><span class="line">	gcc -c word.c</span><br><span class="line">line.o:line.c line.h</span><br><span class="line">	gcc -c line.c</span><br></pre></td></tr></table></figure>
<h4 id="WIN"><a href="#WIN" class="headerlink" title="WIN"></a>WIN</h4><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">fmt.exe:fmt.obj word.obj line.obj</span><br><span class="line">	gcc -o fmt fmt.obj word.obj line.obj</span><br><span class="line">fmt.obj:fmt.c word.h line.h</span><br><span class="line">	gcc -c fmt.c</span><br><span class="line">word.obj:word.c word.h</span><br><span class="line">	gcc -c word.c</span><br><span class="line">line.obj:line.c line.h</span><br><span class="line">	gcc -c line.c</span><br></pre></td></tr></table></figure>
<h3 id="15-4-2-é“¾æ¥æœŸé—´çš„é”™è¯¯"><a href="#15-4-2-é“¾æ¥æœŸé—´çš„é”™è¯¯" class="headerlink" title="15.4.2    é“¾æ¥æœŸé—´çš„é”™è¯¯"></a>15.4.2    é“¾æ¥æœŸé—´çš„é”™è¯¯</h3><blockquote>
<p><strong>å¸¸è§é”™è¯¯ï¼š</strong></p>
<ol>
<li>Undefined symbol</li>
<li>Unresollved external reference</li>
</ol>
<p><strong>èµ·å› ï¼š</strong>ç¨‹åºä¸­ä¸¢å¤±äº†å‡½æ•°å®šä¹‰æˆ–å˜é‡å®šä¹‰ï¼Œé‚£ä¹ˆé“¾æ¥å™¨å°†æ— æ³•è§£å†³å¤–éƒ¨å¼•ç”¨ã€‚</p>
<ol>
<li>æ‹¼å†™é”™è¯¯</li>
<li>ä¸¢å¤±æ–‡ä»¶</li>
<li>ä¸¢å¤±åº“</li>
</ol>
</blockquote>
<h3 id="15-4-3-é‡æ–°æ„å»ºç¨‹åº"><a href="#15-4-3-é‡æ–°æ„å»ºç¨‹åº" class="headerlink" title="15.4.3    é‡æ–°æ„å»ºç¨‹åº"></a>15.4.3    é‡æ–°æ„å»ºç¨‹åº</h3><blockquote>
<p><strong>ä¸¤ç§æƒ…å†µï¼š</strong>æ— è®ºå“ªä¸ªæ–‡ä»¶å‘ç”Ÿå˜åŒ–ï¼Œé‡æ–°ç¼–è¯‘åéƒ½éœ€è¦é‡æ–°é“¾æ¥æ•´ä¸ªç¨‹åºã€‚</p>
<ol>
<li>å˜åŒ–å½±å“å•ç‹¬ä¸€ä¸ªæºæ–‡ä»¶ï¼šåªå¯¹æ­¤æ–‡ä»¶è¿›è¡Œé‡æ–°ç¼–è¯‘</li>
<li>å˜åŒ–å½±å“å¤´æ–‡ä»¶ï¼šé‡æ–°ç¼–è¯‘æ‰€æœ‰åŒ…å«æ­¤å¤´æ–‡ä»¶çš„æºæ–‡ä»¶</li>
</ol>
<p><strong>ä½¿ç”¨makefileé‡æ–°æ„å»ºï¼š</strong>é€šè¿‡æ£€æŸ¥æ¯ä¸ªæ–‡ä»¶çš„æ—¥æœŸï¼Œmakexå¯ä»¥ç¡®å®šä»ç¨‹åºæœ€åä¸€æ¬¡æ„å»ºåå“ªäº›æ–‡ä»¶å‘ç”Ÿäº†å˜åŒ–ã€‚ç„¶åæ ¹æ®ä¾èµ–å…³ç³»åˆ¤æ–­å¦‚ä½•é‡æ–°ç¼–è¯‘ã€‚</p>
</blockquote>
<h3 id="15-4-4-åœ¨ç¨‹åºå¤–å®šä¹‰å®"><a href="#15-4-4-åœ¨ç¨‹åºå¤–å®šä¹‰å®" class="headerlink" title="15.4.4    åœ¨ç¨‹åºå¤–å®šä¹‰å®"></a>15.4.4    åœ¨ç¨‹åºå¤–å®šä¹‰å®</h3><blockquote>
<p><strong>æ„ä¹‰ï¼š</strong>ä¸éœ€è¦ç¼–è¾‘ä»»ä½•ç¨‹åºæ–‡ä»¶å°±å¯¹å®çš„å€¼è¿›è¡Œæ”¹å˜ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>è¯´æ˜</th>
<th>å…¼å®¹æ€§</th>
</tr>
</thead>
<tbody>
<tr>
<td>-D</td>
<td>åœ¨å‘½ä»¤è¡ŒæŒ‡å®šå®çš„å€¼</td>
<td>å¤§å¤šæ•°UNIXç¼–è¯‘å™¨å’ŒæŸäº›éUNIXç¼–è¯‘å™¨</td>
</tr>
<tr>
<td>-U</td>
<td>å–æ¶ˆæŒ‡å®šå®çš„å®šä¹‰</td>
<td>ä¸€äº›ç¼–è¯‘å™¨</td>
</tr>
</tbody>
</table>
<p><em>foo.c</em></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DEBUG 1</span></span><br></pre></td></tr></table></figure>
<p><em>å‘½ä»¤è¡Œ</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ gcc -DDEBUG=1 foo.c</span><br><span class="line"># gcc -UDEBUG foo.c</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/10/14 é¢„å¤„ç†å™¨/" itemprop="url">
                  14 é¢„å¤„ç†å™¨
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-10T10:28:50+08:00" content="2016-05-10">
              2016-05-10
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/10/14 é¢„å¤„ç†å™¨/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/10/14 é¢„å¤„ç†å™¨/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é¢„å¤„ç†å™¨æ˜¯ä¸€ä¸ªå°è½¯ä»¶ï¼Œå®ƒå¯ä»¥åœ¨ç¼–è¯‘å‰ç¼–è¾‘cç¨‹åº<br><strong>å¼Šç«¯ï¼š</strong></p>
<ul>
<li>é€ æˆé‚£ä¸€å‘ç°çš„é”™è¯¯çš„æ ¹æº</li>
<li>ç»å¸¸è¢«é”™è¯¯åœ°ç”¨æ¥ç¼–å†™ä¸€äº›å‡ ä¹ä¸å¯èƒ½è¯»æ‡‚çš„ç¨‹åº</li>
</ul>
<p><strong>æŠ€å·§ï¼š</strong>é€‚åº¦ä½¿ç”¨é¢„å¤„ç†åŠŸèƒ½ï¼Œå‡å°‘å¯¹äºå¤„ç†å™¨çš„ä¾èµ–ã€‚<br><strong>æ‰©å±•ï¼š</strong>c++ä¸­å¯ä»¥è¿›ä¸€æ­¥é™åˆ¶é¢„å¤„ç†å™¨çš„ä½¿ç”¨ã€‚</p>
</blockquote>
<h2 id="14-1-é¢„å¤„ç†å™¨çš„å·¥ä½œæ–¹å¼"><a href="#14-1-é¢„å¤„ç†å™¨çš„å·¥ä½œæ–¹å¼" class="headerlink" title="14.1    é¢„å¤„ç†å™¨çš„å·¥ä½œæ–¹å¼"></a>14.1    é¢„å¤„ç†å™¨çš„å·¥ä½œæ–¹å¼</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é¢„å¤„ç†å™¨çš„è¾“å…¥æ˜¯ä¸€ä¸ªcè¯­è¨€ç¨‹åºï¼Œç¨‹åºä¸­å¯èƒ½ä¼šåŒ…å«æŒ‡ä»¤ã€‚é¢„å¤„ç†å™¨ä¼šæ‰§è¡Œè¿™äº›æŒ‡ä»¤ï¼Œå¹¶åœ¨å¤„ç†è¿‡ç¨‹ä¸­åˆ é™¤è¿™äº›æŒ‡ä»¤ã€‚</p>
</blockquote>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-07-31%20%E4%B8%8B%E5%8D%884.28.36.png" alt="Alt text"></p>
<blockquote>
<p><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>ä¸æ£€æŸ¥é”™è¯¯</li>
<li>ä¸åˆ é™¤åŒ…å«æŒ‡ä»¤çš„è¡Œï¼Œè€Œæ˜¯ç®€å•åœ°å°†å®ƒä»¬æ›¿æ¢ä¸ºç©º</li>
<li>å°†æ¯ä¸€å¤„æ³¨è§†æ›¿æ¢ä¸ºç©ºæ ¼å­—ç¬¦ï¼ˆæœ‰äº›ä¸ç¼–è¯‘å™¨ä¼šè¿›ä¸€æ­¥åˆ é™¤ä¸å¿…è¦çš„ç©ºç™½å­—ç¬¦ï¼Œå¹¶åœ¨æ¯ä¸€è¡Œå¼€å§‹ä½¿ç”¨ç¼©è¿›çš„ç©ºæ ¼ç¬¦å’Œåˆ¶è¡¨ç¬¦ï¼‰</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong>é¢„å¤„ç†å™¨ä»…çŸ¥é“å°‘é‡çš„cè¯­è¨€è§„åˆ™ï¼Œå› æ­¤ï¼Œå®ƒåœ¨æ‰§è¡ŒæŒ‡ä»¤æ—¶éå¸¸æœ‰å¯èƒ½äº§ç”Ÿéæ³•çš„ç¨‹åºã€‚</p>
</blockquote>
<h2 id="14-2-é¢„å¤„ç†æŒ‡ä»¤"><a href="#14-2-é¢„å¤„ç†æŒ‡ä»¤" class="headerlink" title="14.2    é¢„å¤„ç†æŒ‡ä»¤"></a>14.2    é¢„å¤„ç†æŒ‡ä»¤</h2><p><strong>åˆ†ç±»ï¼š</strong></p>
<table>
<thead>
<tr>
<th>æŒ‡ä»¤</th>
<th>åŒ…æ‹¬</th>
</tr>
</thead>
<tbody>
<tr>
<td>å®å®šä¹‰</td>
<td><code>#define</code> <code>#undef</code></td>
</tr>
<tr>
<td>æ–‡ä»¶åŒ…å«</td>
<td><code>#include</code></td>
</tr>
<tr>
<td>æ¡ä»¶ç¼–è¯‘</td>
<td><code>#if</code> <code>ifdef</code> <code>ifindef</code> <code>elif</code> <code>#else</code> <code>#endif</code></td>
</tr>
<tr>
<td>å…¶ä»–</td>
<td><code>#error</code> <code>#line</code> <code>#pragma</code></td>
</tr>
</tbody>
</table>
<p><strong>è¯­æ³•ï¼š</strong></p>
<ul>
<li>æŒ‡ä»¤éƒ½ä»¥<code>#</code>å¼€å§‹ï¼š<code>ç©ºç™½ç¬¦ #æŒ‡ä»¤å æŒ‡ä»¤æ‰€éœ€è¦çš„å…¶ä»–ä¿¡æ¯</code></li>
<li>åœ¨æŒ‡ä»¤çš„ç¬¦å·ä¹‹é—´å¯ä»¥æ’å…¥ä»»æ„æ ‘é¾„çš„ç©ºæ ¼æˆ–æ¨ªå‘åˆ¶è¡¨ç¬¦</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#		<span class="meta-keyword">define</span>		N 		100<span class="comment">// è¿™æ ·å†™ä¹Ÿæ˜¯åˆæ³•çš„</span></span></span><br></pre></td></tr></table></figure>
<ul>
<li>æŒ‡ä»¤æ€»æ˜¯åœ¨ç¬¬ä¸€ä¸ªæ¢è¡Œç¬¦å¤„ç»“æŸï¼Œé™¤éæ˜ç¡®åœ°æŒ‡æ˜è¦ç»§ç»­ï¼ˆé€šè¿‡åœ¨è¡Œæœ«å°¾ä½¿ç”¨<code>\</code>ï¼‰</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DISK_CAPACITY (SIDES *  \</span><br><span class="line">                        TRACK_PER_SIDE * \)</span></span><br><span class="line">				    	  SECTORS_PER_TRACK * \</span><br><span class="line">						  BYTES_PER_SECTOR)</span><br></pre></td></tr></table></figure>
<ul>
<li>æŒ‡ä»¤å¯ä»¥å‡ºç°åœ¨ç¨‹åºç§ä»»ä½•åœ°æ–¹ï¼ˆ<code>#define</code>å’Œ<code>#include</code>é€šå¸¸æ”¾åœ¨æ–‡ä»¶å¼€å§‹ï¼‰</li>
<li>æ³¨é‡Šå¯ä»¥å’ŒæŒ‡ä»¤æ”¾åœ¨åŒä¸€è¡Œ</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FREEZING_PT 32.0	<span class="comment">/* Freezing point of water */</span></span></span><br></pre></td></tr></table></figure>
<h2 id="14-3-å®å®šä¹‰"><a href="#14-3-å®å®šä¹‰" class="headerlink" title="14.3    å®å®šä¹‰"></a>14.3    å®å®šä¹‰</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é™¤äº†ç®€å•çš„å®ï¼Œä¸ç¼–è¯‘å™¨ä¹Ÿæ”¯æŒå¸¦å‚æ•°çš„å®ã€‚</p>
</blockquote>
<h3 id="14-3-1-ç®€å•çš„å®"><a href="#14-3-1-ç®€å•çš„å®" class="headerlink" title="14.3.1    ç®€å•çš„å®"></a>14.3.1    ç®€å•çš„å®</h3><p><strong>è¯­æ³•ï¼š</strong><code>#define è¡¨ç¤ºç¬¦ æ›¿æ¢åˆ—è¡¨</code><br><strong>æ›¿æ¢åˆ—è¡¨ï¼š</strong>ä¸€ç³»åˆ—cè¯­è¨€è®°å·ï¼ŒåŒ…æ‹¬è¡¨ç¤ºç¬¦ã€å…³é”®å­—ã€æ•°ã€å­—ç¬¦å¸¸é‡ã€å­—ç¬¦ä¸²å­—é¢é‡ã€è¿ç®—ç¬¦å’Œæ ‡ç‚¹ç¬¦å·ã€‚<br><strong>åŸç†ï¼š</strong>å½“é¢„å¤„ç†å™¨é‡åˆ°ä¸€ä¸ªå®å®šä¹‰æ—¶ï¼Œä¼šåšä¸€ä¸ª<code>æ ‡è¯†ç¬¦</code>ä»£è¡¨<code>æ›¿æ¢åˆ—è¡¨</code>çš„è®°å½•ã€‚å†æ–‡ä»¶åé¢çš„å†…å®¹ä¸­ï¼Œä¸ç®¡æ ‡è¯†ç¬¦åœ¨ä»»ä½•ä½ç½®å‡ºç°ï¼Œé¢„å¤„ç†å™¨éƒ½ä¼šç”¨æ›¿æ¢åˆ—è¡¨ä»£æ›¿å®ƒã€‚<br><strong>æ³¨æ„ï¼ˆå¸¸è§é”™è¯¯ï¼‰ï¼š</strong></p>
<ol>
<li>ä¸è¦åœ¨å®å®šä¹‰ä¸­æ”¾ç½®ä»»ä½•é¢å¤–çš„ç¬¦å·</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N = 1000<span class="comment">//ä¸èƒ½ä½¿ç”¨=</span></span></span><br><span class="line"><span class="keyword">int</span> a[N];<span class="comment">//ä¼šæˆä¸ºint a[= 100]ï¼Œå¯¼è‡´é”™è¯¯</span></span><br></pre></td></tr></table></figure>
<ol>
<li>ä¸èƒ½åœ¨å®å®šä¹‰çš„æœ«å°¾æ·»åŠ åˆ†å·</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 100;<span class="comment">//è¿™é‡Œæ·»åŠ çš„åˆ†å·ä¼šè¢«ä½œä¸ºæ›¿æ¢åˆ—è¡¨çš„ä¸€éƒ¨åˆ†</span></span></span><br><span class="line"><span class="keyword">int</span> a[N];<span class="comment">//ä¼šå˜æˆint a[100;]</span></span><br></pre></td></tr></table></figure>
<p><strong>ä¼˜ç‚¹ï¼š</strong>ç®€å•çš„å®ä¸»è¦ç”¨æ¥å®šä¹‰é‚£äº›è¢«<code>Kernighan</code>å’Œ<code>Ritchie</code>ç§°ä¸ºæ˜ç¤ºå¸¸é‡ï¼ˆ<code>manifest constant</code>ï¼‰çš„ä¸œè¥¿ã€‚ä¼˜ç‚¹å¦‚ä¸‹</p>
<ol>
<li>ç¨‹åºæ›´æ˜“è¯»</li>
<li>æ˜“äºä¿®æ”¹</li>
<li>å¸®åŠ©é¿å…å‰åä¸ä¸€è‡´æˆ–é”®ç›˜è¾“å…¥é”™è¯¯</li>
<li>å¯ä»¥å¯¹cè¯­æ³•åšå°çš„ä¿®æ”¹</li>
<li>å¯¹ç±»å‹é‡å‘½å</li>
<li>æ§åˆ¶æ¡ä»¶ç¼–è¯‘</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> STE_LEN 80</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TRUE 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FALSE 0</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PI 3.1415926</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CR <span class="string">'R'</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> EOS <span class="string">'\0'</span></span></span><br></pre></td></tr></table></figure>
<h3 id="14-3-2-å¸¦å‚æ•°çš„å®"><a href="#14-3-2-å¸¦å‚æ•°çš„å®" class="headerlink" title="14.3.2    å¸¦å‚æ•°çš„å®"></a>14.3.2    å¸¦å‚æ•°çš„å®</h3><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>#define æ ‡è¯†ç¬¦(x1, x2, ..., xn) æ›¿æ¢åˆ—è¡¨</code></p>
<ul>
<li>å®çš„<code>(</code>å’Œ<code>æ ‡è¯†ç¬¦</code>ä¹‹é—´å¿…é¡»æ²¡æœ‰ç©ºæ ¼ï¼ˆå¦åˆ™ä¼šè¢«å½“ä½œç®€å•å®å¤„ç†ï¼‰</li>
</ul>
<p><strong>åŸç†ï¼š</strong>å½“é¢„å¤„ç†å™¨é‡åˆ°ä¸€ä¸ªå¸¦å‚æ•°çš„å®ï¼Œä¼šå°†å®šä¹‰å­˜å‚¨èµ·æ¥ä»¥ä¾¿åé¢ä½¿ç”¨ã€‚åœ¨åé¢çš„ç¨‹åºä¸­ï¼Œå®è°ƒç”¨<code>æ ‡è¯†ç¬¦(y1,y2,...,yn)</code>ä¼šè¢«<code>æ›¿æ¢åˆ—è¡¨</code>æ›¿æ¢ï¼Œä¸”å‚æ•°ä¹Ÿä¼šä¾æ®<code>å®å®šä¹‰</code>å¯¹åº”åˆ°æ›¿æ¢åˆ—è¡¨ä¸­ã€‚<br><strong>ç”¨é€”ï¼š</strong></p>
<ul>
<li>ç»å¸¸è¢«ç”¨æ¥ä½œä¸ºä¸€äº›ç®€å•çš„å‡½æ•°ä½¿ç”¨ï¼ˆæ¨¡æ‹Ÿå‡½æ•°è°ƒç”¨ï¼‰</li>
<li>ç»å¸¸è¢«ä½œä¸ºæ¨¡ç‰ˆï¼Œæ›¿æ¢ç»å¸¸é‡å¤ä¹¦å†™çš„ä»£ç æ®µï¼ˆæ›¿æ¢è¯­å¥ï¼‰<br><strong>ä¼˜ç‚¹ï¼š</strong>ç›¸æ¯”å®é™…çš„å‡½æ•°</li>
<li>ç¨‹åºå¯èƒ½ä¼šç¨å¿«äº›ï¼ˆæ²¡æœ‰å­˜å‚¨ä¸Šä¸‹æ–‡ã€å¤åˆ¶å‚æ•°ç­‰çš„å¼€é”€ï¼‰</li>
<li>å®ä¼šæ›´â€œé€šç”¨â€ï¼ˆæ²¡æœ‰å¯¹å‚æ•°ç±»å‹çš„é™åˆ¶ï¼‰</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>ç¼–è¯‘åçš„ä»£ç é€šå¸¸ä¼šå˜å¤§</li>
<li>å®å‚æ•°æ²¡æœ‰ç±»å‹æ£€æŸ¥</li>
<li>æ— æ³•ç”¨ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªå®</li>
<li>å®å¯èƒ½ä¼šä¸æ­¢ä¸€æ¬¡åœ°è®¡ç®—å®ƒçš„å‚æ•°</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>å¦‚æœå®ä½¿ç”¨å¸¦æœ‰å‰¯ä½œç”¨çš„å‚æ•°ï¼Œå¤šæ¬¡è¿›è¡Œå®è°ƒç”¨å¸¦æ¥çš„å‰¯ä½œç”¨å¯èƒ½å¯¼è‡´ä¸æ˜“å¯Ÿè§‰çš„é”™è¯¯ã€‚</li>
</ul>
<p><strong>æŠ€å·§ï¼š</strong>é¿å…ä½¿ç”¨å¸¦æœ‰å‰¯ä½œç”¨çš„å®ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ¨¡æ‹Ÿå‡½æ•°</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX(x, y)	((x) &gt; (y) ? (x):(y))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IS_EVEN(n) ((n)%2 == 0)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ¨¡ç‰ˆ</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PTINT_INT(x) printf(<span class="string">"%d\n"</span>, x)</span></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">i = MAX(j+k, m-n);<span class="comment">//ä¼šè¢«ä¿®æ”¹ä¸ºi = ((j+k) &gt; (m-n) ? (j+k):(m-n));</span></span><br><span class="line"><span class="keyword">if</span>(IS_EVEN(i)) i++;<span class="comment">//if(((i)%2 == 0)) i++;</span></span><br><span class="line"></span><br><span class="line">PRINT_INT(i/j);<span class="comment">//printf("%d\n", i/j);</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h3 id="14-3-3-è¿ç®—ç¬¦"><a href="#14-3-3-è¿ç®—ç¬¦" class="headerlink" title="14.3.3    #è¿ç®—ç¬¦"></a>14.3.3    <code>#</code>è¿ç®—ç¬¦</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†å¸¦å‚æ•°çš„å®çš„å‚æ•°è½¬æ¢ä¸ºå­—ç¬¦ä¸²å­—é¢é‡<br><strong>è¯­æ³•ï¼š</strong><code>#define æ ‡è¯†ç¬¦(x1...) æ›¿æ¢åˆ—è¡¨</code></p>
<ul>
<li><code>#å‚æ•°</code>ä»…å…è®¸å‡ºç°åœ¨å¸¦å‚æ•°çš„å®çš„æ›¿æ¢åˆ—è¡¨ä¸­</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PRINT_INT(x) printf(#x <span class="string">" = %%d"</span>, x)</span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"><span class="comment">//cè¯­è¨€ä¸­ç›¸é‚»çš„å­—ç¬¦ä¸²å­—é¢é‡ä¼šè¢«åˆå¹¶</span></span><br><span class="line">PRINT_INT(i/j);<span class="comment">//printf("i/j = %d\n", i/j);</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h3 id="14-3-4-è¿ç®—ç¬¦"><a href="#14-3-4-è¿ç®—ç¬¦" class="headerlink" title="14.3.4    ##è¿ç®—ç¬¦"></a>14.3.4    <code>##</code>è¿ç®—ç¬¦</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯ä»¥å°†ä¸¤ä¸ªè®°å·ï¼ˆä¾‹å¦‚æ ‡è¯†ç¬¦ï¼‰â€œç²˜â€åœ¨ä¸€èµ·ï¼Œæˆä¸ºä¸€ä¸ªè®°å·ã€‚</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#define MK_ID(n) i##n</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">//int i1, i2, i3;</span><br><span class="line">int MK_ID(1), MK_ID(2), MK_ID(3);</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p><em>æ±‚æœ€å¤§å€¼çš„å‡½æ•°æ¨¡ç‰ˆï¼ˆé’ˆå¯¹ä¸åŒç±»å‹ï¼‰</em></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GENERIC_MAX(type)		\</span><br><span class="line">type type##_max(type x, type y)	\</span><br><span class="line">&#123;								\</span><br><span class="line">	return x &gt; y ? x : y;		\</span><br><span class="line">&#125;	</span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"><span class="comment">/**</span><br><span class="line">* float float_max(float x, float y)&#123;</span><br><span class="line">*	return x &gt; y ? x : y;</span><br><span class="line">* &#125;</span><br><span class="line">*/</span></span><br><span class="line">GENERIC_MAX(<span class="keyword">float</span>);</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h3 id="14-3-5-å®çš„é€šç”¨å±æ€§"><a href="#14-3-5-å®çš„é€šç”¨å±æ€§" class="headerlink" title="14.3.5    å®çš„é€šç”¨å±æ€§"></a>14.3.5    å®çš„é€šç”¨å±æ€§</h3><ul>
<li>å®çš„æ›¿æ¢åˆ—è¡¨å¯ä»¥åŒ…å«å¯¹å¦ä¸€ä¸ªå®çš„è°ƒç”¨</li>
<li>é¢„å¤„ç†å™¨æ™ºæ…§æ›¿æ¢å®Œæ•´çš„è®°å·ï¼Œè€Œä¸ä¼šæ›¿æ¢è®°å·çš„ç‰‡æ®µ</li>
<li>ä¸€ä¸ªå®å®šä¹‰çš„ä½œç”¨èŒƒå›´é€šå¸¸åˆ°å‡ºç°è¿™ä¸ªå®çš„æ–‡ä»¶æœ«å°¾</li>
<li>å®ä¸å¯ä»¥è¢«å®šä¹‰ä¸¤éï¼Œé™¤éæ–°çš„å®šä¹‰å’Œæ—§çš„å®šä¹‰æ˜¯ä¸€æ ·çš„</li>
<li>å®å¯ä»¥ä½¿ç”¨<code>#undef</code>æŒ‡ä»¤å–æ¶ˆå®šä¹‰</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 10</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">undef</span> N<span class="comment">//å–æ¶ˆå¯¹Nçš„å®šä¹‰ä»¥ä¾¿ç»™å‡ºæ–°çš„å®šä¹‰</span></span></span><br></pre></td></tr></table></figure>
<h3 id="14-3-6-å®å®šä¹‰ä¸­çš„åœ†æ‹¬å·"><a href="#14-3-6-å®å®šä¹‰ä¸­çš„åœ†æ‹¬å·" class="headerlink" title="14.3.6    å®å®šä¹‰ä¸­çš„åœ†æ‹¬å·"></a>14.3.6    å®å®šä¹‰ä¸­çš„åœ†æ‹¬å·</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨å®å®šä¹‰ä¸­ç¼ºå°‘åœ†æ‹¬å·ä¼šå¯¼è‡´cè¯­è¨€æœ€è®©äººè®¨åŒçš„é”™è¯¯ï¼ˆæ¯”å¦‚ä¼˜å…ˆçº§é—®é¢˜ï¼‰ã€‚<br><strong>å“ªé‡Œè¦æ·»åŠ åœ†æ‹¬å·ï¼š</strong></p>
<ol>
<li>å¦‚æœå®çš„æ›¿æ¢åˆ—è¡¨ä¸­åˆè¿ç®—ç¬¦ï¼Œé‚£ä¹ˆå§‹ç»ˆè¦è®²æ›¿æ¢åˆ—è¡¨æ”¾åœ¨æ‹¬å·ä¸­</li>
<li>å½“å®æœ‰å‚æ•°æ—¶ï¼Œä»…ç»™æ›¿æ¢åˆ—è¡¨æ·»åŠ åœ†æ‹¬å·æ˜¯ä¸å¤Ÿçš„ï¼Œå‚æ•°çš„æ¯ä¸€æ¬¡å‡ºç°éƒ½è¦æ·»åŠ åœ†æ‹¬å·</li>
</ol>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SCALE(x) (x*10)<span class="comment">//éœ€è¦ç»™xæ·»åŠ æ‹¬å·</span></span></span><br><span class="line">...</span><br><span class="line">j = SCALE(i+<span class="number">1</span>);<span class="comment">//j = ((i+1)*10);</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h3 id="14-3-7-åˆ›å»ºè¾ƒé•¿çš„å®"><a href="#14-3-7-åˆ›å»ºè¾ƒé•¿çš„å®" class="headerlink" title="14.3.7    åˆ›å»ºè¾ƒé•¿çš„å®"></a>14.3.7    åˆ›å»ºè¾ƒé•¿çš„å®</h3><h4 id="14-3-7-1-é€—å·è¿ç®—ç¬¦"><a href="#14-3-7-1-é€—å·è¿ç®—ç¬¦" class="headerlink" title="14.3.7.1    é€—å·è¿ç®—ç¬¦"></a>14.3.7.1    é€—å·è¿ç®—ç¬¦</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ›å»ºè¾ƒé•¿çš„å®çš„ä¸€ä¸ªåŠæ³•æ˜¯ä½¿ç”¨<code>é€—å·è¿ç®—ç¬¦</code>ï¼Œç‰¹åˆ«æ˜¯å¯ä»¥ä½¿ç”¨é€—å·è¿ç®—ç¬¦æ¥ä½¿æ›¿æ¢åˆ—è¡¨åŒ…å«ä¸€ç³»åˆ—è¡¨è¾¾å¼ã€‚<br><strong>é™åˆ¶ï¼š</strong><code>é€—å·è¿ç®—ç¬¦</code>åªèƒ½è¿æ¥<code>è¡¨è¾¾å¼</code>ï¼Œä¸èƒ½è¿æ¥<code>è¯­å¥</code>ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ECHO(s) (gets(s), puts(s))</span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">ECHO(str);<span class="comment">//(gets(str); puts(str););</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h4 id="14-4-7-2-å¤åˆè¯­å¥"><a href="#14-4-7-2-å¤åˆè¯­å¥" class="headerlink" title="14.4.7.2        å¤åˆè¯­å¥"></a>14.4.7.2        å¤åˆè¯­å¥</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é™¤äº†ä½¿ç”¨é€—å·è¡¨è¾¾å¼ï¼Œè¿˜å¯ä»¥å°†<code>è¯­å¥</code>æˆ–<code>è¡¨è¾¾å¼</code>æ”¾åœ¨<code>{}</code>å†…å½¢æˆå¤åˆè¯­å¥ã€‚<br><strong>ç¼ºç‚¹ï¼š</strong>ä¸èƒ½åœ¨<code>æ›¿æ¢åˆ—è¡¨</code>ä¸ºå¤åˆè¯­å¥çš„å®è°ƒç”¨çš„æœ«å°¾ä½¿ç”¨åˆ†å·ç»“å°¾ï¼Œå› ä¸ºåœ¨<code>if</code>è¯­å¥ä¸­ä¼šè°ƒç”¨ä¼šå¯¼è‡´é”™è¯¯ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ECHO(s) (gets(s), puts(s))</span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">ECHO(str);<span class="comment">//(gets(str); puts(str););</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h4 id="14-4-7-3-åœ¨åªå¾ªç¯ä¸€æ¬¡çš„do-whileä¸­åŒ…å«è¯­å¥å’Œè¡¨è¾¾å¼"><a href="#14-4-7-3-åœ¨åªå¾ªç¯ä¸€æ¬¡çš„do-whileä¸­åŒ…å«è¯­å¥å’Œè¡¨è¾¾å¼" class="headerlink" title="14.4.7.3    åœ¨åªå¾ªç¯ä¸€æ¬¡çš„do-whileä¸­åŒ…å«è¯­å¥å’Œè¡¨è¾¾å¼"></a>14.4.7.3    åœ¨åªå¾ªç¯ä¸€æ¬¡çš„do-whileä¸­åŒ…å«è¯­å¥å’Œè¡¨è¾¾å¼</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åŠ å…¥ä¸€ä¸ªå®éœ€è¦åŒ…å«ä¸€ç³»åˆ—çš„è¯­å¥ï¼Œè€Œä¸ä»…ä»…æ˜¯ä¸€äº›åˆ—çš„è¡¨è¾¾å¼ï¼Œå¯ä»¥å°†è¯­å¥æ”¾åœ¨<code>do</code>å¾ªç¯ä¸­ï¼Œå¹¶å°†æ¡ä»¶è®¾ç½®ä¸ºå‡ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ECHO(s)		\</span><br><span class="line">	do&#123;				\</span><br><span class="line">		gets(s); 	\</span><br><span class="line">		puts(s);	\</span><br><span class="line">	&#125;while(0)		</span></span><br><span class="line">...</span><br><span class="line"><span class="comment">//do&#123;gets(s); puts(s);&#125;while(0)</span></span><br><span class="line">ECHO(str);</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h3 id="14-3-8-é¢„å®šä¹‰å®"><a href="#14-3-8-é¢„å®šä¹‰å®" class="headerlink" title="14.3.8    é¢„å®šä¹‰å®"></a>14.3.8    é¢„å®šä¹‰å®</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨cè¯­è¨€ä¸­é¢„å®šä¹‰äº†ä¸€äº›æœ‰ç”¨çš„å®ï¼Œè¿™äº›å®ä¸»è¦æ˜¯æä¾›å½“å‰ç¼–è¯‘çš„ä¿¡æ¯ã€‚<br><strong>æ‰©å±•ï¼š</strong>cè¯­è¨€æä¾›äº†ä¸€ä¸ªé€šç”¨çš„ã€ç”¨äºé”™è¯¯æ£€æµ‹çš„å®â€”assertå®ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>åå­—</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>LINE</em></td>
<td>è¢«ç¼–è¯‘çš„æ–‡ä»¶çš„è¡Œæ•°</td>
</tr>
<tr>
<td><em>FILE</em></td>
<td>è¢«ç¼–è¯‘çš„æ–‡ä»¶çš„åå­—</td>
</tr>
<tr>
<td><em>DATE</em></td>
<td>ç¼–è¯‘çš„æ—¥æœŸï¼ˆæ ¼å¼â€Mmm dd yyyyâ€ï¼‰</td>
</tr>
<tr>
<td><em>TIME</em></td>
<td>ç¼–è¯‘çš„æ—¶é—´ï¼ˆæ ¼å¼â€hh:mm:ssâ€ï¼‰</td>
</tr>
<tr>
<td><em>STDC</em></td>
<td>å¦‚æœç¼–è¯‘å™¨æ¥å—æ ‡å‡†cï¼Œé‚£ä¹ˆå€¼ä¸º1</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ£€æµ‹è¢«é›¶é™¤çš„é”™è¯¯</span></span><br><span class="line"><span class="comment">//è¯¥å®åº”è¯¥åœ¨é™¤æ³•ä¹‹å‰è¢«è°ƒç”¨</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CHECK_ZERO(divisor)	\</span><br><span class="line">	<span class="meta-keyword">if</span>(divisor == 0)&#123;		\</span><br><span class="line">		printf(<span class="string">"**** Attempt to divide by zero on line %d "</span> \</span><br><span class="line">				<span class="string">"of file $s ***\n"</span>, _LINE_, _FILE_);		\\</span><br><span class="line">	&#125;</span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">CHECK_ZERO(j);</span><br><span class="line">k = i / j;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h2 id="14-4-æ¡ä»¶ç¼–è¯‘"><a href="#14-4-æ¡ä»¶ç¼–è¯‘" class="headerlink" title="14.4    æ¡ä»¶ç¼–è¯‘"></a>14.4    æ¡ä»¶ç¼–è¯‘</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ¡ä»¶ç¼–è¯‘æ˜¯æŒ‡æ ¹æ®é¢„å¤„ç†å™¨æ‰€æ‰§è¡Œçš„æµ‹è¯•ç»“æœæ¥åŒ…å«æˆ–æ’é™¤ç¨‹åºçš„ç‰‡æ®µã€‚</p>
</blockquote>
<h3 id="14-4-1-ifæŒ‡ä»¤å’Œ-endifæŒ‡ä»¤"><a href="#14-4-1-ifæŒ‡ä»¤å’Œ-endifæŒ‡ä»¤" class="headerlink" title="14.4.1    #ifæŒ‡ä»¤å’Œ#endifæŒ‡ä»¤"></a>14.4.1    #ifæŒ‡ä»¤å’Œ#endifæŒ‡ä»¤</h3><blockquote>
<p><strong>è¯­æ³•ï¼š</strong>å½“é¢„å¤„ç†å™¨é‡åˆ°<code>if</code>æŒ‡ä»¤æ—¶ï¼Œä¼šè®¡ç®—å¸¸é‡è¡¨è¾¾å¼ã€‚å¦‚æœè¡¨è¾¾å¼çš„å€¼ä¸º0ï¼Œé‚£ä¹ˆ<code>#if</code>ä¸<code>#endif</code>ä¹‹é—´çš„è¡Œå°†åœ¨é¢„å¤„ç†è¿‡ç¨‹ä¸­åˆ é™¤ã€‚<br><strong>æ³¨æ„ï¼š</strong>å¯¹äºæ²¡æœ‰å®šä¹‰è¿‡çš„æ ‡è¯†ç¬¦ï¼Œ<code>#if</code>æŒ‡ä»¤ä¼šæŠŠå®ƒå½“ä½œæ˜¯å€¼ä¸º0çš„å®å¯¹å¾…ã€‚<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="meta">#<span class="meta-keyword">if</span> å¸¸é‡è¡¨è¾¾å¼</span></span><br><span class="line">&gt;	è¯­å¥</span><br><span class="line">&gt;<span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DEBUG 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> DEBUG</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Value of i: %d\n"</span>, i);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Value of j: %d\n"</span>, j);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<h3 id="14-4-2-definedè¿ç®—ç¬¦"><a href="#14-4-2-definedè¿ç®—ç¬¦" class="headerlink" title="14.4.2    definedè¿ç®—ç¬¦"></a>14.4.2    definedè¿ç®—ç¬¦</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¦‚æœæ ‡è¯†ç¬¦æ˜¯ä¸€ä¸ªå®šä¹‰è¿‡çš„å®è¿”å›1ï¼Œå¦åˆ™è¿”å›0ã€‚<br><strong>ç”¨é€”ï¼š</strong>åˆ¤æ–­å®æŸä¸ªæ ‡è¯†ç¬¦æ˜¯å¦è¢«å®šä¹‰çš„å®ï¼Œé€šå¸¸å’Œ<code>#if</code>æŒ‡ä»¤ç»“åˆä½¿ç”¨ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">if</span> defined(DEBUG)</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<h3 id="14-4-3-ifdefæŒ‡ä»¤å’Œ-ifndefæŒ‡ä»¤"><a href="#14-4-3-ifdefæŒ‡ä»¤å’Œ-ifndefæŒ‡ä»¤" class="headerlink" title="14.4.3    #ifdefæŒ‡ä»¤å’Œ#ifndefæŒ‡ä»¤"></a>14.4.3    #ifdefæŒ‡ä»¤å’Œ#ifndefæŒ‡ä»¤</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸¥æ ¼è¯´æ¥ï¼Œè¿™é‡Œè¦ä»‹ç»çš„ä¸¤ç§æŒ‡ä»¤éƒ½ä¸æ˜¯å¿…é¡»çš„ï¼Œå› ä¸ºéƒ½å¯ä»¥ç”¨å…¶ä»–æŒ‡ä»¤æ¨¡æ‹Ÿã€‚</p>
</blockquote>
<h4 id="14-4-3-1-ifdefæŒ‡ä»¤"><a href="#14-4-3-1-ifdefæŒ‡ä»¤" class="headerlink" title="14.4.3.1    #ifdefæŒ‡ä»¤"></a>14.4.3.1    #ifdefæŒ‡ä»¤</h4><blockquote>
<p><strong>è¯­æ³•ï¼š</strong>ç­‰ä»·äº<code>if defined(æ ‡è¯†ç¬¦)</code><br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="meta">#<span class="meta-keyword">ifdef</span> æ ‡è¯†ç¬¦</span></span><br><span class="line">&gt;  å½“æ ‡è¯†ç¬¦è¢«å®šä¹‰ä¸ºå®æ—¶éœ€è¦åŒ…å«çš„ä»£ç </span><br><span class="line">&gt;<span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<h4 id="14-4-3-2-ifndefæŒ‡ä»¤"><a href="#14-4-3-2-ifndefæŒ‡ä»¤" class="headerlink" title="14.4.3.2    #ifndefæŒ‡ä»¤"></a>14.4.3.2    #ifndefæŒ‡ä»¤</h4><blockquote>
<p><strong>è¯­æ³•ï¼š</strong>ç­‰ä»·äº<code>#if !defined(æ ‡è¯†ç¬¦)</code><br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="meta">#<span class="meta-keyword">ifdef</span> æ ‡è¯†ç¬¦</span></span><br><span class="line">&gt;  å½“æ ‡è¯†ç¬¦è¢«å®šä¹‰ä¸ºå®æ—¶éœ€è¦åŒ…å«çš„ä»£ç </span><br><span class="line">&gt;<span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<h3 id="14-4-4-elifæŒ‡ä»¤å’Œ-elseæŒ‡ä»¤"><a href="#14-4-4-elifæŒ‡ä»¤å’Œ-elseæŒ‡ä»¤" class="headerlink" title="14.4.4    #elifæŒ‡ä»¤å’Œ#elseæŒ‡ä»¤"></a>14.4.4    #elifæŒ‡ä»¤å’Œ#elseæŒ‡ä»¤</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">if</span> è¡¨è¾¾å¼1</span></span><br><span class="line">	è¯­å¥</span><br><span class="line"><span class="meta">#<span class="meta-keyword">elif</span> è¡¨è¾¾å¼2</span></span><br><span class="line">	è¯­å¥</span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line">	è¯­å¥</span><br></pre></td></tr></table></figure>
<h3 id="14-4-5-ä½¿ç”¨æ¡ä»¶ç¼–è¯‘"><a href="#14-4-5-ä½¿ç”¨æ¡ä»¶ç¼–è¯‘" class="headerlink" title="14.4.5    ä½¿ç”¨æ¡ä»¶ç¼–è¯‘"></a>14.4.5    ä½¿ç”¨æ¡ä»¶ç¼–è¯‘</h3><p><strong>å¸¸è§åº”ç”¨ï¼š</strong></p>
<ul>
<li>ç¼–å†™åœ¨å¤šå°æœºå™¨æˆ–å¤šç§æ“ä½œç³»ç»Ÿä¹‹é—´å¯ç§»æ¤çš„ç¨‹åº</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">if</span> defined(WINDOWS)</span></span><br><span class="line"> ...</span><br><span class="line"><span class="meta">#<span class="meta-keyword">elif</span> defined(DOS)</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">#<span class="meta-keyword">elif</span> defined(OS2)</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<ul>
<li>ç¼–å†™å¯ä»¥ä½¿ç”¨ä¸åŒçš„ç¼–è¯‘å™¨è¿›è¡Œç¼–è¯‘çš„ç¨‹åº</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">if</span> __STDC__</span></span><br><span class="line">æ ‡å‡†cå‡½æ•°åŸå‹</span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line">ç»å…¸cå‡½æ•°å£°æ˜</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<ul>
<li>ä¸ºå®æä¾›é»˜è®¤å®šä¹‰</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> BUFFER_SIZE</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BUFFER_SIZE 256</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<ul>
<li>ä¸´æ—¶å±è”½åŒ…å«æ³¨é‡Šçš„ä»£ç </li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">if</span> 0</span></span><br><span class="line">åŒ…å«æ³¨é‡Šçš„ä»£ç è¡Œ</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<h2 id="14-5-å…¶ä»–æŒ‡ä»¤"><a href="#14-5-å…¶ä»–æŒ‡ä»¤" class="headerlink" title="14.5    å…¶ä»–æŒ‡ä»¤"></a>14.5    å…¶ä»–æŒ‡ä»¤</h2><h3 id="14-5-1-erroræŒ‡ä»¤"><a href="#14-5-1-erroræŒ‡ä»¤" class="headerlink" title="14.5.1    #erroræŒ‡ä»¤"></a>14.5.1    #erroræŒ‡ä»¤</h3><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>#error æ¶ˆæ¯</code><br><strong>è¯´æ˜ï¼š</strong>å¦‚æœé¢„å¤„ç†å™¨é‡åˆ°ä¸€ä¸ª<code>#error</code>æŒ‡ä»¤ï¼Œå®ƒä¼šæ˜¾ç¤ºä¸€ä¸ªå‡ºé”™æ¶ˆæ¯ï¼Œè¿™ä¸ªæ¶ˆæ¯ä¸€å®šä¼šåŒ…å«<code>æ¶ˆæ¯</code>ï¼Œç„¶åå¤§å¤šæ•°ç¼–è¯‘å™¨ä¼šç«‹å³ç»ˆæ­¢ç¼–è¯‘è€Œä¸å»æ‰¾å‡ºå…¶ä»–é”™è¯¯ã€‚<br><strong>ç”¨é€”ï¼š</strong>é€šå¸¸ä¸æ¡ä»¶ç¼–è¯‘æŒ‡ä»¤ä¸€èµ·ç”¨äºæ£€æµ‹æ­£å¸¸ç¼–è¯‘è¿‡ç¨‹ä¸­ä¸åº”å‡ºç°çš„æƒ…å†µã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#if INT_MAX &lt; 1000000</span><br><span class="line">#error int type is too small//Error directive:int type is too small</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>
<h3 id="14-5-2-lineæŒ‡ä»¤"><a href="#14-5-2-lineæŒ‡ä»¤" class="headerlink" title="14.5.2    #lineæŒ‡ä»¤"></a>14.5.2    #lineæŒ‡ä»¤</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç”¨æ¥æ”¹å˜ç¨‹åºè¡Œç¼–å·çš„æ–¹å¼ä»¥åŠä½¿ç¼–è¯‘å™¨è®¤ä¸ºæ‰€åœ¨æ–‡ä»¶æ˜¯å¦ä¸€ä¸ªæ–‡ä»¶ã€‚<br><strong>è¯­æ³•ï¼š</strong><code>#line è¡Œå· [æ–‡ä»¶å]</code></p>
<ul>
<li><code>è¡Œå·</code>æ˜¯å¤§å°ä»‹äº1-32767ä¹‹é—´çš„æ•´æ•°</li>
<li><code>è¡Œå·</code>ä¼šå½±å“<code>__LINE__</code>å®çš„å€¼ï¼Œ<code>æ–‡ä»¶å</code>å½±å“<code>__FILE__</code>çš„å€¼</li>
</ul>
<p><strong>ç”¨é€”ï¼š</strong>ä¸»è¦ç”¨äºé‚£äº›äº§ç”Ÿcä»£ç ä½œä¸ºè¾“å…¥çš„ç¨‹åºï¼Œå› ä¸ºå‡ºé”™ä¿¡æ¯éƒ½æŒ‡å‘ç¨‹åºå‘˜ç¼–å†™çš„æ–‡ä»¶ï¼Œè€Œä¸æ˜¯ï¼ˆæ›´å¤æ‚ï¼‰ç”±ä¸€äº›å·¥å…·ç”Ÿæˆçš„æ–‡ä»¶ã€‚</p>
</blockquote>
<h3 id="14-5-3-pragmaæŒ‡ä»¤"><a href="#14-5-3-pragmaæŒ‡ä»¤" class="headerlink" title="14.5.3    #pragmaæŒ‡ä»¤"></a>14.5.3    #pragmaæŒ‡ä»¤</h3><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>#pragma è®°å·</code></p>
<ul>
<li>ï¼ƒpragmaæŒ‡ä»¤é€šå¸¸åªè·Ÿç€ä¸€ä¸ªè®°å·ï¼Œè¿™ä¸ªè®°å·è¡¨ç¤ºäº†ä¸€æ¡ç¼–è¯‘å™¨éœ€è¦æœä»çš„å‘½ä»¤</li>
<li>ä¸€äº›ç¼–è¯‘å™¨å…è®¸#pragmaæŒ‡ä»¤æ‰€åŒ…å«çš„ä¸ä»…æ˜¯ç®€å•çš„å‘½ä»¤ï¼ˆç‰¹åˆ«æ˜¯æœ‰äº›ç¼–è¯‘å™¨å…è®¸#pragmaæŒ‡ä»¤å¸¦å‚æ•°ï¼‰</li>
<li>å¦‚æœ#pragmaæŒ‡ä»¤åŒ…å«äº†æ— æ³•è¯†åˆ«çš„å‘½ä»¤ï¼Œç¼–è¯‘å™¨å¿…é¡»å¿½ç•¥è¿™äº›#pragmaæŒ‡ä»¤ï¼Œä¸å…è®¸äº§ç”Ÿå‡ºé”™ä¿¡æ¯</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong>#pragmaæŒ‡ä»¤ä¸­å‡ºç°çš„å‘½ä»¤é›†åœ¨ä¸åŒçš„ç¼–è¯‘å™¨ä¸Šæ˜¯ä¸ä¸€æ ·çš„ï¼Œéœ€è¦æŸ¥é˜…ç›¸å…³ç¼–è¯‘å™¨çš„æ–‡æ¡£ã€‚</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/10/13 å­—ç¬¦ä¸²/" itemprop="url">
                  13 å­—ç¬¦ä¸²
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-10T10:11:36+08:00" content="2016-05-10">
              2016-05-10
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/10/13 å­—ç¬¦ä¸²/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/10/13 å­—ç¬¦ä¸²/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="13-1-å­—ç¬¦ä¸²å­—é¢é‡"><a href="#13-1-å­—ç¬¦ä¸²å­—é¢é‡" class="headerlink" title="13.1    å­—ç¬¦ä¸²å­—é¢é‡"></a>13.1    å­—ç¬¦ä¸²å­—é¢é‡</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç”¨ä¸€å¯¹åŒæ‹¬å·æ‹¬èµ·æ¥çš„å­—ç¬¦åºåˆ—ã€‚</p>
<h3 id="13-1-1-å­—ç¬¦ä¸²å­—é¢é‡ä¸­çš„è½¬ä¹‰åºåˆ—"><a href="#13-1-1-å­—ç¬¦ä¸²å­—é¢é‡ä¸­çš„è½¬ä¹‰åºåˆ—" class="headerlink" title="13.1.1    å­—ç¬¦ä¸²å­—é¢é‡ä¸­çš„è½¬ä¹‰åºåˆ—"></a>13.1.1    å­—ç¬¦ä¸²å­—é¢é‡ä¸­çš„è½¬ä¹‰åºåˆ—</h3><p><strong>è¯´æ˜ï¼š</strong><code>char</code>å‹å­—é¢é‡ä¸­èƒ½å¤Ÿä½¿ç”¨çš„è½¬ä¹‰å­—ç¬¦å­—ç¬¦ä¸²å­—é¢é‡ä¸­éƒ½å¯ä»¥ä½¿ç”¨ã€‚<br><strong>æ³¨æ„ï¼š</strong>æ•°å­—è½¬ä¹‰å­—ç¬¦å¹¶ä¸å¸¸ç”¨ï¼Œä½†ä½¿ç”¨æ—¶ä¼šéœ€è¦æ³¨æ„ä¸€äº›<code>char</code>ä¸­ä¸ä¼šé‡åˆ°çš„é—®é¢˜</p>
</blockquote>
<table>
<thead>
<tr>
<th>æ•°å­—è½¬ä¹‰å­—ç¬¦</th>
<th>æ ¼å¼</th>
<th>å­—ç¬¦ä¸²å­—é¢é‡é¢å¤–è§„åˆ™</th>
</tr>
</thead>
<tbody>
<tr>
<td>å…«è¿›åˆ¶è½¬ä¹‰å­—ç¬¦</td>
<td><code>\æœ€å¤šå«æœ‰3ä½æ•°å­—çš„å…«è¿›åˆ¶æ•°å­—</code></td>
<td>åœ¨3ä¸ªæ•°å­—ä¹‹åç»“æŸï¼Œæˆ–è€…åœ¨ç¬¬ä¸€ä¸ªéå…«è¿›åˆ¶æ•°å­—ç¬¦å¤„ç»“æŸã€‚</td>
</tr>
<tr>
<td>åå…­è¿›åˆ¶è½¬ä¹‰å­—ç¬¦</td>
<td><code>\xåå…­è¿›åˆ¶æ•°</code></td>
<td>æ²¡æœ‰å­—æ•°é™åˆ¶ï¼Œç›´åˆ°ç¬¬ä¸€ä¸ªéåå…­æœºåˆ¶æ•°å­—ç¬¦æˆªæ­¢ï¼ˆé€šå¸¸è¿˜é™åˆ¶åå…­è¿›åˆ¶æ•°å¤§å°ä¸º<code>\x0~\x7f</code>æˆ–<code>\x0~\xff</code>ï¼‰</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å­—ç¬¦ä¸²å­—é¢é‡ä¸­ä½¿ç”¨8è¿›åˆ¶è½¬ä¹‰å­—ç¬¦</span></span><br><span class="line"><span class="string">"\1234"</span><span class="comment">//2ä¸ªå­—ç¬¦ï¼ˆ\123å’Œ4ï¼‰</span></span><br><span class="line"><span class="string">"\189"</span><span class="comment">//3ä¸ªå­—ç¬¦ï¼ˆ\1ï¼Œ8ï¼Œ9ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å­—ç¬¦ä¸²å­—é¢é‡ä¸­ä½¿ç”¨16è¿›åˆ¶è½¬ä¹‰å­—ç¬¦</span></span><br><span class="line"><span class="string">"Z\x81rich"</span><span class="comment">//6ä¸ªå­—ç¬¦ï¼ˆZ, \81, r, i, c, hï¼‰</span></span><br><span class="line"><span class="string">"\x81ber"</span><span class="comment">//2ä¸ªå­—ç¬¦ï¼ˆ\x81beå’Œrï¼‰</span></span><br></pre></td></tr></table></figure>
<h3 id="13-1-2-å»¶ç»­å­—ç¬¦ä¸²å­—é¢é‡"><a href="#13-1-2-å»¶ç»­å­—ç¬¦ä¸²å­—é¢é‡" class="headerlink" title="13.1.2    å»¶ç»­å­—ç¬¦ä¸²å­—é¢é‡"></a>13.1.2    å»¶ç»­å­—ç¬¦ä¸²å­—é¢é‡</h3><h4 id="æ–¹å¼ä¸€ï¼šç”¨å­—ç¬¦-ç»“å°¾"><a href="#æ–¹å¼ä¸€ï¼šç”¨å­—ç¬¦-ç»“å°¾" class="headerlink" title="æ–¹å¼ä¸€ï¼šç”¨å­—ç¬¦\ç»“å°¾"></a>æ–¹å¼ä¸€ï¼šç”¨å­—ç¬¦<code>\</code>ç»“å°¾</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åªè¦åœ¨ä¸€è¡Œç”¨å­—ç¬¦<code>\</code>ç»“å°¾ï¼Œé‚£ä¹ˆcè¯­è¨€å°±å…è®¸åœ¨ä¸‹ä¸€è¡Œå»¶ç»­å­—ç¬¦ä¸²å­—é¢é‡ã€‚<br><strong>æ³¨æ„ï¼š</strong>é™¤äº†ï¼ˆçœ‹ä¸è§ï¼‰çš„æœ«å°¾çš„æ¢è¡Œç¬¦ï¼Œåœ¨åŒä¸€è¡Œä¸å¯ä»¥æœ‰å…¶ä»–å­—ç¬¦è·Ÿåœ¨<code>\</code>åé¢ã€‚<br><strong>æ‰©å±•ï¼š</strong>ä¸åªå­—ç¬¦ä¸²ï¼Œå­—ç¬¦<code>\</code>è¿˜å¯ä»¥ç”¨æ¥åˆ†éš”ä»»ä½•é•¿çš„ç¬¦å·ã€‚<br><strong>ç¼ºç‚¹ï¼š</strong>å­—ç¬¦å­—é¢é‡å¿…é¡»ä»ä¸‹ä¸€è¡Œçš„èµ·å§‹ä½ç½®ç»§ç»­ï¼Œç ´åäº†ç¨‹åºçš„ç¼©ç´§ç»“æ„ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">"Put a disk in drive A,then \</span><br><span class="line">press any key to continue\n"</span>);</span><br></pre></td></tr></table></figure>
<h4 id="æ–¹å¼äºŒï¼šå­—é¢é‡è‡ªåŠ¨åˆå¹¶ï¼ˆcæ ‡å‡†ï¼‰"><a href="#æ–¹å¼äºŒï¼šå­—é¢é‡è‡ªåŠ¨åˆå¹¶ï¼ˆcæ ‡å‡†ï¼‰" class="headerlink" title="æ–¹å¼äºŒï¼šå­—é¢é‡è‡ªåŠ¨åˆå¹¶ï¼ˆcæ ‡å‡†ï¼‰"></a>æ–¹å¼äºŒï¼šå­—é¢é‡è‡ªåŠ¨åˆå¹¶ï¼ˆcæ ‡å‡†ï¼‰</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å½“ä¸¤æ¡æˆ–æ›´å¤šæ¡å­—ç¬¦ä¸²å­—é¢é‡ç›¸è¿æ—¶ï¼ˆä»…ç”¨ç©ºç™½å­—ç¬¦åˆ†å‰²ï¼‰ï¼Œç¼–è¯‘å™¨å¿…é¡»æŠŠä»–ä»¬åˆå¹¶æˆå•ç‹¬ä¸€æ¡å­—ç¬¦ä¸²ã€‚<br><strong>ä¼˜ç‚¹ï¼š</strong>ä¸å¿…ç ´åç¼©ç´§ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">"Put a disk in drive A, then"</span></span><br><span class="line">	   <span class="string">"press any key to continue\n"</span>);</span><br></pre></td></tr></table></figure>
<h3 id="13-1-3-å¦‚ä½•å­˜å‚¨å­—ç¬¦ä¸²å­—é¢é‡"><a href="#13-1-3-å¦‚ä½•å­˜å‚¨å­—ç¬¦ä¸²å­—é¢é‡" class="headerlink" title="13.1.3    å¦‚ä½•å­˜å‚¨å­—ç¬¦ä¸²å­—é¢é‡"></a>13.1.3    å¦‚ä½•å­˜å‚¨å­—ç¬¦ä¸²å­—é¢é‡</h3><blockquote>
<p><strong>å­˜å‚¨å½¢å¼ï¼š</strong>cè¯­è¨€æŠŠå­—ç¬¦ä¸²å­—é¢é‡ä½œä¸ºå­—ç¬¦æ•°ç»„æ¥å¤„ç†ï¼Œç›¸å½“äº<code>char *</code>ã€‚<br><strong>ç©ºå­—ç¬¦ï¼ˆ<code>\0</code>ï¼‰ï¼š</strong><code>ASCII</code>å­—ç¬¦é›†ä¸­çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ã€‚<br><strong>å†…å­˜åˆ†é…ï¼š</strong>å½“cè¯­è¨€ç¼–è¯‘å™¨åœ¨ç¨‹åºä¸­é‡åˆ°é•¿åº¦ä¸º<code>n</code>çš„å­—ç¬¦ä¸²å­—é¢é‡æ—¶ï¼Œå®ƒä¼šä¸ºå­—ç¬¦ä¸²å­—é¢é‡åˆ†é…é•¿åº¦ä¸º<code>n+1</code>çš„å†…å­˜ç©ºé—´ï¼Œç”¨æ¥å­˜å‚¨å­—ç¬¦ä¸²å­æ°‘å•Šé‡ä¸­çš„å­—ç¬¦ï¼Œä»¥åŠé¢å¤–çš„ä¸€ä¸ªå­—ç¬¦â€”â€”<code>ç©ºå­—ç¬¦</code>ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">"abc"</span>);<span class="comment">//å½“è°ƒç”¨printfæ—¶ï¼Œä¼šä¼ é€’"abc"çš„åœ°å€ï¼ˆå³æŒ‡å‘å­—æ¯`a`å­˜å‚¨å•å…ƒçš„æŒ‡é’ˆï¼‰</span></span><br></pre></td></tr></table></figure>
<h3 id="13-1-4-å­—ç¬¦ä¸²å­—é¢é‡çš„æ“ä½œ"><a href="#13-1-4-å­—ç¬¦ä¸²å­—é¢é‡çš„æ“ä½œ" class="headerlink" title="13.1.4    å­—ç¬¦ä¸²å­—é¢é‡çš„æ“ä½œ"></a>13.1.4    å­—ç¬¦ä¸²å­—é¢é‡çš„æ“ä½œ</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯ä»¥å°†å­—ç¬¦ä¸²å­—é¢é‡èµ‹å€¼ç»™<code>char *</code>æŒ‡é’ˆã€‚<br><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li><p>cè¯­è¨€å…è®¸æŒ‡é’ˆæ·»åŠ ä¸‹æ ‡ï¼Œå› æ­¤å¯ä»¥ç»™å­—ç¬¦ä¸²å­—é¢é‡æ·»åŠ ä¸‹æ ‡</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> ch;</span><br><span class="line">ch = <span class="string">"abc"</span>[<span class="number">1</span>];<span class="comment">//b</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å…è®¸æ”¹å˜å­—ç¬¦ä¸²å­—é¢é‡çš„å­—ç¬¦ï¼ˆä¸æ¨èï¼‰</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">//ä¸€äº›ç¼–è¯‘å™¨å¯èƒ½ä¼šå‡ºç°å¼‚å¸¸</span></span><br><span class="line">&gt;<span class="keyword">char</span> *p = <span class="string">"abc"</span>;</span><br><span class="line">&gt;*p = <span class="string">'b'</span>;<span class="comment">//å­—ç¬¦ä¸²å­—é¢é‡è¢«ä¿®æ”¹ä¸º"bbc"</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> *p;</span><br><span class="line">p = <span class="string">"abc"</span>;<span class="comment">//è¿™ä¸ªèµ‹å€¼æ“ä½œä¸æ˜¯å¤åˆ¶"abc"ä¸­çš„å­—ç¬¦ï¼Œè€Œä»…ä»…æ˜¯ä½¿ç”¨pæŒ‡å‘å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ã€‚</span></span><br></pre></td></tr></table></figure>
<h3 id="13-1-5-å­—ç¬¦ä¸²å­—é¢é‡ä¸å­—ç¬¦å¸¸é‡"><a href="#13-1-5-å­—ç¬¦ä¸²å­—é¢é‡ä¸å­—ç¬¦å¸¸é‡" class="headerlink" title="13.1.5    å­—ç¬¦ä¸²å­—é¢é‡ä¸å­—ç¬¦å¸¸é‡"></a>13.1.5    å­—ç¬¦ä¸²å­—é¢é‡ä¸å­—ç¬¦å¸¸é‡</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åªåŒ…å«ä¸€ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²å­—é¢é‡ä¸åŒäºå­—ç¬¦å¸¸é‡ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>ä¾‹å­</th>
<th>ç±»å‹</th>
<th>ç‰¹ç‚¹</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&quot;a&quot;</code></td>
<td>å­—ç¬¦ä¸²å­—é¢é‡</td>
<td>ç”¨æŒ‡é’ˆæ¥è¡¨ç¤º</td>
</tr>
<tr>
<td><code>&#39;a&#39;</code></td>
<td>å­—ç¬¦å¸¸é‡</td>
<td>ç”¨æ•´æ•°ï¼ˆå­—ç¬¦çš„ASCIIç ï¼‰æ¥è¡¨ç¤º</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);<span class="comment">//åˆæ³•ï¼Œç›¸å½“äºä¼ é€’`char *`æŒ‡é’ˆä½œä¸ºå‚æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">'\n'</span>);<span class="comment">//ä¼šæŠ¥é”™ï¼Œä¼ é€’çš„ä¸æ˜¯æŒ‡é’ˆè€Œæ˜¯æ•´æ•°</span></span><br></pre></td></tr></table></figure>
<h2 id="13-2-å­—ç¬¦ä¸²å˜é‡"><a href="#13-2-å­—ç¬¦ä¸²å˜é‡" class="headerlink" title="13.2    å­—ç¬¦ä¸²å˜é‡"></a>13.2    å­—ç¬¦ä¸²å˜é‡</h2><blockquote>
<p><strong>å­˜å‚¨æ–¹å¼ï¼š</strong><code>char str[STR_LEN+1]</code></p>
<ul>
<li>è½½ä½“ä¸ºä¸€ç»´çš„å­—ç¬¦æ•°ç»„</li>
<li>ä»¥ç©ºå­—ç¬¦ä¸²ç»“å°¾ï¼ˆæ•°ç»„çš„é•¿åº¦æ¯”å­—ç¬¦ä¸²çš„é•¿åº¦å¤šä¸€ä¸ªå­—ç¬¦ï¼‰</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong>å¦‚æœæ²¡æœ‰ç»™ç©ºå­—ç¬¦é¢„ç•™ä½ç½®ï¼Œå¯èƒ½å¯¼è‡´ç¨‹åºè¿è¡Œæ—¶å‡ºç°ä¸å¯é¢„çŸ¥çš„ç»“æœï¼Œå› ä¸ºcå‡½æ•°åº“ä¸­çš„å‡½æ•°å‡è®¾å­—ç¬¦ä¸²éƒ½ä»¥ç©ºå­—ç¬¦ä¸²ç»“æŸã€‚<br><strong>æŠ€å·§ï¼š</strong>å­—ç¬¦ä¸²çš„é•¿åº¦å–å†³äºç©ºå­—ç¬¦çš„ä½ç½®ï¼Œè€Œä¸æ˜¯å–å†³äºå­˜æ”¾å­—ç¬¦ä¸²çš„å­—ç¬¦æ•°ç»„çš„é•¿åº¦ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> STR_LEN 80</span></span><br><span class="line"><span class="keyword">char</span> str[STR_LEN+<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<h3 id="13-2-1-åˆå§‹åŒ–å­—ç¬¦ä¸²å˜é‡"><a href="#13-2-1-åˆå§‹åŒ–å­—ç¬¦ä¸²å˜é‡" class="headerlink" title="13.2.1    åˆå§‹åŒ–å­—ç¬¦ä¸²å˜é‡"></a>13.2.1    åˆå§‹åŒ–å­—ç¬¦ä¸²å˜é‡</h3><blockquote>
<p><strong>ä¸¤ç§å­—é¢é‡ï¼š</strong><code>å­—ç¬¦ä¸²å­—é¢é‡</code>å’Œ<code>æ•°ç»„å­—åˆå§‹åŒ–å¼</code></p>
</blockquote>
<h4 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h4><blockquote>
<p><strong>åº•å±‚ï¼š</strong>cç¼–è¯‘å™¨ä¼šæŠŠå®ƒçœ‹æˆæ˜¯æ•°ç»„åˆå§‹åŒ–å¼çš„ç¼©å†™å½¢å¼ã€‚<br><strong>è§„åˆ™ï¼š</strong></p>
<ul>
<li>å¦‚æœåˆå§‹åŒ–å¼å¤ªçŸ­ä»¥è‡³äºä¸èƒ½å¡«æ»¡å­—ç¬¦ä¸²å˜é‡æ—¶ï¼Œcç¼–è¯‘å™¨ä¼šè®²å¤šå‡ºçš„éƒ¨åˆ†éƒ½èµ‹å€¼ä¸º<code>\0</code></li>
<li>å¦‚æœæ²¡æœ‰ç©ºé—´ç»™ç©ºå­—ç¬¦ä¸²ï¼Œå°†ä½¿æ•°ç»„æ— æ³•ä½œä¸ºå­—ç¬¦ä¸²ä½¿ç”¨</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong>ä¸€å®šè¦ç¡®ä¿æ•°ç»„çš„é•¿åº¦è¦é•¿äºåˆå§‹åŒ–å¼çš„é•¿åº¦ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¼–è¯‘å™¨å°†æŠŠå­—ç¬¦åºŠ"June 14"ä¸­çš„å­—ç¬¦å¤åˆ¶åˆ°æ•°ç»„date1ä¸­ï¼Œç„¶åè¿½åŠ ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ä»è€Œä½¿date1å¯ä»¥ä½œä¸ºå­—ç¬¦ä¸²ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">char</span> date[<span class="number">8</span>] = <span class="string">"June 14"</span>;</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>J</th>
<th>u</th>
<th>n</th>
<th>e</th>
<th></th>
<th>1</th>
<th>4</th>
<th>\0</th>
<th>\0</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<h4 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h4><blockquote>
<p><strong>è§„åˆ™ï¼š</strong>å¦‚æœåˆå§‹åŒ–å¼æ¯”æœ¬èº«çŸ­ï¼Œä¼šæŠŠä½™ä¸‹çš„å­—ç¬¦æ•°ç»„å…ƒç´ åˆå§‹åŒ–ä¸º<code>\0</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ•°ç»„é•¿åº¦å¯ä»¥çœç•¥ç”±ç¼–è¯‘å™¨è‡ªå·±è®¡ç®—ï¼Œæ‰‹å·¥è®¡ç®—å¾ˆå®¹æ˜“å‡ºé”™</span></span><br><span class="line"><span class="keyword">char</span> date1[<span class="number">8</span>] = &#123;<span class="string">'J'</span>, <span class="string">'u'</span>, <span class="string">'n'</span>, <span class="string">'e'</span>, <span class="string">' '</span>, <span class="string">'1'</span>, <span class="string">'4'</span>, <span class="string">'\0'</span>&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="13-2-2-å­—ç¬¦æ•°ç»„å’Œå­—ç¬¦æŒ‡é’ˆ"><a href="#13-2-2-å­—ç¬¦æ•°ç»„å’Œå­—ç¬¦æŒ‡é’ˆ" class="headerlink" title="13.2.2    å­—ç¬¦æ•°ç»„å’Œå­—ç¬¦æŒ‡é’ˆ"></a>13.2.2    å­—ç¬¦æ•°ç»„å’Œå­—ç¬¦æŒ‡é’ˆ</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ•°ç»„å˜é‡æœ‰ä¸¤ç§</p>
</blockquote>
<table>
<thead>
<tr>
<th>ï¼Š</th>
<th>å­—ç¬¦æ•°ç»„</th>
<th>å­—ç¬¦æŒ‡é’ˆ</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>å£°æ˜</strong></td>
<td><code>char varStr[]</code></td>
<td><code>char *varStr</code></td>
</tr>
<tr>
<td><strong>å…ƒç´ æ˜¯å¦å¯ä¿®æ”¹</strong></td>
<td>æ˜¯</td>
<td>å¦ï¼ˆå› ä¸ºæŒ‡é’ˆæŒ‡å‘çš„æ˜¯ä¸å¯ä¿®æ”¹çš„å­—ç¬¦ä¸²ï¼‰</td>
</tr>
<tr>
<td><strong>å˜é‡æœ¬èº«æ˜¯å¦å¯æ”¹å˜æŒ‡å‘</strong></td>
<td>å¦ï¼ˆæ•°ç»„åå’Œæ•°ç»„ç»‘å®šåœ¨ä¸€èµ·ä¸”æ— æ³•æ”¹å˜æŒ‡å‘ï¼‰</td>
<td>å¦</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong>å£°æ˜å­—ç¬¦æŒ‡é’ˆå¿…éœ€æŒ‡å‘å­—ç¬¦æ•°ç»„åæ‰èƒ½ä½¿ç”¨ï¼Œæ— è®ºæ˜¯å­—é¢é‡ï¼ˆä¸¤ç§å½¢å¼çš„å­—é¢é‡ï¼‰è¿˜æ˜¯å·²ç»å£°æ˜å¥½çš„å­—ç¬¦æ•°ç»„ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> *p, str[STR_LEN+<span class="number">1</span>];</span><br><span class="line">p = srt;<span class="comment">//pæŒ‡å‘äº†strçš„ç¬¬ä¸€ä¸ªå­—ç¬¦</span></span><br></pre></td></tr></table></figure>
<h2 id="13-3-å­—ç¬¦ä¸²çš„è¯»ï¼å†™"><a href="#13-3-å­—ç¬¦ä¸²çš„è¯»ï¼å†™" class="headerlink" title="13.3    å­—ç¬¦ä¸²çš„è¯»ï¼å†™"></a>13.3    å­—ç¬¦ä¸²çš„è¯»ï¼å†™</h2><h3 id="13-3-1-ç”¨printfå‡½æ•°å’Œputså‡½æ•°å†™å­—ç¬¦ä¸²"><a href="#13-3-1-ç”¨printfå‡½æ•°å’Œputså‡½æ•°å†™å­—ç¬¦ä¸²" class="headerlink" title="13.3.1    ç”¨printfå‡½æ•°å’Œputså‡½æ•°å†™å­—ç¬¦ä¸²"></a>13.3.1    ç”¨printfå‡½æ•°å’Œputså‡½æ•°å†™å­—ç¬¦ä¸²</h3><h4 id="13-3-1-1-printfå‡½æ•°"><a href="#13-3-1-1-printfå‡½æ•°" class="headerlink" title="13.3.1.1    printfå‡½æ•°"></a>13.3.1.1    <code>printf</code>å‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è½¬æ¢è¯´æ˜ä¸º<code>%[m][.p]s</code>ï¼Œä¸‹é¢åˆ†3ä¸­æƒ…æ™¯è®¨è®ºã€‚</p>
</blockquote>
<hr>
<p><em>æƒ…æ™¯1:<code>%s</code>ï¼ˆä¸é™åˆ¶å®½åº¦ï¼Œä¸æˆªæ–­ï¼‰</em></p>
<table>
<thead>
<tr>
<th>æƒ…æ™¯</th>
<th>è¡¨ç°</th>
</tr>
</thead>
<tbody>
<tr>
<td>æœ«å°¾æä¾›äº†<code>ç©ºå­—ç¬¦</code></td>
<td>é€ä¸ªå†™å­—ç¬¦<code>ç›´åˆ°é‡åˆ°ç©ºå­—ç¬¦</code></td>
</tr>
<tr>
<td>æœ«å°¾æ²¡æœ‰<code>ç©ºå­—ç¬¦</code></td>
<td>ä¼šè¶Šè¿‡å­—ç¬¦ä¸²çš„æœ«å°¾ç»§ç»­å†™ï¼Œç›´åˆ°æœ€ç»ˆåœ¨<code>å†…å­˜çš„æŸä¸ªåœ°æ–¹æ‰¾åˆ°ç©ºå­—ç¬¦</code>ä¸ºæ­¢</td>
</tr>
</tbody>
</table>
<hr>
<p><em>æƒ…æ™¯2:<code>%ms</code>ï¼ˆé™åˆ¶å®½åº¦ï¼Œä¸æˆªæ–­ï¼‰</em></p>
<table>
<thead>
<tr>
<th>må¤§å°</th>
<th>è¡¨ç°</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>>å­—ç¬¦ä¸²é•¿åº¦</td>
<td>å¤šå‡ºéƒ¨åˆ†æ˜¾ç¤ºç©ºæ ¼ï¼Œå­—ç¬¦ä¸²å³å¯¹é½</td>
<td>åœ¨<code>m</code>å‰ä½¿ç”¨<code>-</code>å¼ºåˆ¶å·¦å¯¹é½</td>
</tr>
<tr>
<td>&lt;å­—ç¬¦ä¸²é•¿åº¦</td>
<td>å¿½ç•¥è®¾ç½®çš„mï¼Œæ˜¾ç¤ºæ•´ä¸ªå­—ç¬¦ä¸²</td>
<td>ä¸ä¼šæˆªæ–­</td>
</tr>
</tbody>
</table>
<hr>
<p><em>æƒ…æ™¯3:<code>%m.ps</code>ï¼ˆé™åˆ¶å®½åº¦ï¼Œæˆªæ–­ï¼‰</em><br>ä¼šä½¿å­—ç¬¦ä¸²çš„å‰pä¸ªå­—ç¬¦åœ¨å¤§å°ä¸ºmçš„åŒºåŸŸå†…æ˜¾ç¤ºã€‚</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> str[] = <span class="string">"Are we having fun yet?"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"Value of str:%s\n"</span>, str);<span class="comment">//Are we having fun yet?</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">puts</span>(str);<span class="comment">////Are we having fun yet?(\n)</span></span><br></pre></td></tr></table></figure>
<h4 id="13-3-1-2-putå‡½æ•°"><a href="#13-3-1-2-putå‡½æ•°" class="headerlink" title="13.3.1.2    putå‡½æ•°"></a>13.3.1.2    putå‡½æ•°</h4><blockquote>
<p><strong>å‚æ•°ï¼š</strong>éœ€è¦æ˜¾ç¤ºçš„å­—ç¬¦ä¸²<br><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>ä¸ä½¿ç”¨è½¬æ¢è¯´æ˜å’Œæ ¼å¼ä¸²</li>
<li>åœ¨å†™å®Œå­—ç¬¦ä¸²åï¼Œputså‡½æ•°æ€»ä¼šæ·»åŠ ä¸€ä¸ªé¢å¤–çš„æ¢è¡Œç¬¦</li>
</ul>
</blockquote>
<h3 id="13-3-2-ç”¨scanfå‡½æ•°å’Œgetså‡½æ•°è¯»å­—ç¬¦ä¸²"><a href="#13-3-2-ç”¨scanfå‡½æ•°å’Œgetså‡½æ•°è¯»å­—ç¬¦ä¸²" class="headerlink" title="13.3.2    ç”¨scanfå‡½æ•°å’Œgetså‡½æ•°è¯»å­—ç¬¦ä¸²"></a>13.3.2    ç”¨scanfå‡½æ•°å’Œgetså‡½æ•°è¯»å­—ç¬¦ä¸²</h3><h4 id="13-3-2-1-scanfå‡½æ•°"><a href="#13-3-2-1-scanfå‡½æ•°" class="headerlink" title="13.3.2.1    scanfå‡½æ•°"></a>13.3.2.1    scanfå‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>ä¸éœ€è¦åœ¨strå‰æ·»åŠ è¿ç®—ç¬¦<code>&amp;</code>ï¼Œå› ä¸ºstræ˜¯æ•°ç»„åï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æŠŠå®ƒå½“ä½œæŒ‡é’ˆæ¥å¤„ç†</li>
<li>ç©ºç™½ç¬¦ï¼ˆæ¢è¡Œç¬¦ã€ç©ºæ ¼ç¬¦ã€åˆ¶è¡¨ç¬¦ï¼‰ä¼šä½¿scanfå‡½æ•°åœæ­¢è¯»å…¥ï¼Œå› æ­¤ç”¨scanfè¾“å…¥çš„å­—ç¬¦ä¸²æ°¸è¿œä¸ä¼šåŒ…å«ç©ºç™½ç¬¦</li>
<li>scanfå‡½æ•°å§‹ç»ˆä¼šåœ¨å­—ç¬¦ä¸²æœ«å°¾å­˜å‚¨ä¸€ä¸ª<code>ç©ºå­—ç¬¦</code>ï¼ˆå¦åˆ™æ— æ³•å½“ä½œæ­£å¸¸å­—ç¬¦ä¸²ä½¿ç”¨ï¼‰</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong>scanfä¸ä¼šæ£€æµ‹ä½•æ—¶å¡«æ»¡æ•°ç»„ï¼Œå¯èƒ½ä¼šè¶Šè¿‡æ•°ç»„è¾¹ç•Œï¼Œå¯¼è‡´å¼‚å¸¸ã€‚<br><strong>æŠ€å·§ï¼š</strong>ä½¿ç”¨<code>%ns</code>ä»£æ›¿<code>%s</code>å¯ä»¥ä½¿scanfå‡½æ•°æ›´å®‰å…¨ï¼ˆ<code>n</code> æŒ‡å¯ä»¥å­˜å‚¨çš„æœ€å¤§å­—ç¬¦çš„æ•°é‡ï¼‰</p>
<p><strong>é™åˆ¶ï¼š</strong>é€šå¸¸ä¸ç”¨äºè¯»å…¥ä¸€æ•´è¡Œè¾“å…¥ã€‚</p>
</blockquote>
<h4 id="13-3-2-2-getså‡½æ•°"><a href="#13-3-2-2-getså‡½æ•°" class="headerlink" title="13.3.2.2    getså‡½æ•°"></a>13.3.2.2    getså‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç±»ä¼¼scanfå‡½æ•°ï¼ŒæŠŠè¯»å…¥çš„å­—ç¬¦æ”¾åœ¨æ•°ç»„ä¸­ï¼Œç„¶åå­˜å‚¨ä¸€ä¸ª<code>ç©ºå­—ç¬¦</code>ã€‚</p>
<ul>
<li>ä¸ä¼šåœ¨å¼€å§‹è¯»å­—ç¬¦ä¸²ä¹‹å‰è·³è¿‡ç©ºç™½å­—ç¬¦ï¼ˆscanfå‡½æ•°ä¼šè·³è¿‡ï¼‰</li>
<li>ä¼šæŒç»­è¯»å…¥ç›´åˆ°æ‰¾åˆ°æ¢è¡Œç¬¦ï¼ˆä¸æ˜¯ä»»æ„ç©ºç™½ç¬¦ï¼‰</li>
</ul>
<p><strong>æ‰©å±•ï¼š</strong>getså‡½æ•°å¤©ç”Ÿå°±æ˜¯ä¸å®‰å…¨çš„ï¼Œfgetså‡½æ•°æ˜¯æ›´åŠ å®‰å…¨çš„é€‰æ‹©ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> sentence[STR_LEN+<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"Enter a sentence:\n"</span>);<span class="comment">//To , or not to c</span></span><br><span class="line">gets(sentence);<span class="comment">//sentenceçš„å€¼ä¸º"To , or not to c"</span></span><br></pre></td></tr></table></figure>
<h3 id="13-3-3-é€ä¸ªå­—ç¬¦è¯»å­—ç¬¦ä¸²"><a href="#13-3-3-é€ä¸ªå­—ç¬¦è¯»å­—ç¬¦ä¸²" class="headerlink" title="13.3.3    é€ä¸ªå­—ç¬¦è¯»å­—ç¬¦ä¸²"></a>13.3.3    é€ä¸ªå­—ç¬¦è¯»å­—ç¬¦ä¸²</h3><p><strong>è¯´æ˜ï¼š</strong>åˆ©ç”¨<code>getchar</code>è‡ªå®šä¹‰æ›´åŠ çµæ´»çš„è¾“å…¥å‡½æ•°<br><strong>ç¼–ç¨‹æ€è·¯ï¼š</strong></p>
<ol>
<li>åœ¨å¼€å§‹å­˜å‚¨å­—ç¬¦ä¸²ä¹‹å‰ï¼Œå‡½æ•°åº”è¯¥è·³è¿‡ç©ºç™½å­—ç¬¦å—ï¼Ÿ</li>
<li>ä»€ä¹ˆå­—ç¬¦ä¼šå¯¼è‡´å‡½æ•°åœæ­¢è¯»å–ï¼šæ¢è¡Œç¬¦ã€ä»»æ„ç©ºç™½å­—ç¬¦ã€è¿˜æ˜¯å…¶ä»–ä¸€äº›å­—ç¬¦ï¼Ÿéœ€è¦å­˜å‚¨è¿™ç±»å­—ç¬¦è¿˜æ˜¯å¿½ç•¥æ‰ï¼Ÿ</li>
<li>å¦‚æœè¾“å…¥çš„å­—ç¬¦ä¸²å¤ªé•¿ä»¥è‡´æ— æ³•å­˜å‚¨ï¼Œé‚£ä¹ˆç¨‹åºåº”è¯¥åšäº›ä»€ä¹ˆï¼šèƒ¡å’§é¢å¤–çš„å­—ç¬¦ï¼Œè¿˜æ˜¯æŠŠå®ƒä»¬ç•™ç»™ä¸‹ä¸€æ¬¡çš„æ“ä½œè¾“å…¥ï¼Ÿ</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* ä¸ä¼šè·³è¿‡ç©ºç™½ç¬¦ï¼Œåœ¨ç¬¬ä¸€ä¸ªæ¢è¡Œç¬¦å¤„ï¼ˆä¸æŠŠæ¢è¡Œç¬¦å­˜å‚¨åˆ°å­—ç¬¦ä¸²ä¸­ï¼‰åœæ­¢è¯»å–ï¼Œ</span><br><span class="line">* å¹¶ä¸”å¿½ç•¥é¢å¤–çš„å­—ç¬¦ã€‚</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">read_line</span><span class="params">(<span class="keyword">char</span> str[], <span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> ch;</span><br><span class="line">	<span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>((ch = getchar()) != <span class="string">'\n'</span>)&#123;</span><br><span class="line">		<span class="keyword">if</span>(i &lt; n)&#123;</span><br><span class="line">			str[i++] = ch;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	str[i] = <span class="string">'\0'</span>;</span><br><span class="line">	return i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="13-4-è®¿é—®å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦"><a href="#13-4-è®¿é—®å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦" class="headerlink" title="13.4    è®¿é—®å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦"></a>13.4    è®¿é—®å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦</h2><p><strong>è¯´æ˜ï¼š</strong>è®¿é—®å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦å­˜åœ¨ä¸¤ç§æ–¹å¼</p>
<ol>
<li>æ•°ç»„ä¸‹æ ‡</li>
<li>æŒ‡é’ˆ</li>
</ol>
<h3 id="13-4-1-ç”¨æ•°ç»„ä¸‹æ ‡"><a href="#13-4-1-ç”¨æ•°ç»„ä¸‹æ ‡" class="headerlink" title="13.4.1    ç”¨æ•°ç»„ä¸‹æ ‡"></a>13.4.1    ç”¨æ•°ç»„ä¸‹æ ‡</h3><p><strong>è¯´æ˜ï¼š</strong>æ—¢ç„¶å­—ç¬¦ä¸²æ˜¯ä»¥æ•°ç»„çš„æ–¹å¼å­˜å‚¨çš„ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ä¸‹æ ‡æ¥è®¿é—®å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ã€‚<br><strong><code>const</code>ï¼š</strong>å½¢å¼å‚æ•°ä½¿ç”¨<code>const</code>ä¿®é¥°å¯ä»¥é˜²æ­¢æ•°ç»„è¢«ä¿®æ”¹ã€‚</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* ä½¿ç”¨æ•°ç»„ä¸‹æ ‡éå†æ•°ç»„è®¡ç®—æ•°ç»„ä¸­ç©ºæ ¼çš„æ•°é‡</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">count_spaces</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> s[])</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> count = <span class="number">0</span>, i;</span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; s[i] != <span class="string">'\0'</span>; i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(s[i] == <span class="string">' '</span>)&#123;</span><br><span class="line">			coun++;</span><br><span class="line">		&#125;</span><br><span class="line">		return count;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="13-4-2-ç”¨æŒ‡é’ˆ"><a href="#13-4-2-ç”¨æŒ‡é’ˆ" class="headerlink" title="13.4.2    ç”¨æŒ‡é’ˆ"></a>13.4.2    ç”¨æŒ‡é’ˆ</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä½¿ç”¨æŒ‡é’ˆä»£æ›¿æ•°ç»„ä¸‹æ ‡è®¿é—®å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ä¼šæ›´åŠ ä¾¿æ·ã€‚<br><code>const</code>ï¼šç”¨<code>const</code>ä¿®é¥°å­—ç¬¦ä¸²æŒ‡é’ˆå¯ä»¥é¿å…ä¼ è¿›æ¥çš„å®å‚çš„æŒ‡å‘è¢«æ”¹å˜ï¼Œå³ä¾¿å¦‚æ­¤ï¼Œå› ä¸ºä¼ è¿›æ¥çš„æŒ‡é’ˆçš„å‰¯æœ¬ï¼Œæ‰€ä»¥å¯ä»¥å¯ä»¥è‡ªå¢ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* ä½¿ç”¨æŒ‡é’ˆéå†æ•°ç»„è®¡ç®—æ•°ç»„ä¸­ç©ºæ ¼çš„æ•°é‡</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">count_spaces</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *s&#123;</span><br><span class="line">	<span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(; s != <span class="string">'\0'</span>; s++)</span></span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(*s == <span class="string">' '</span>)&#123;</span><br><span class="line">			coun++;</span><br><span class="line">		&#125;</span><br><span class="line">		return count;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="13-5-ä½¿ç”¨cè¯­è¨€çš„å­—ç¬¦ä¸²åº“"><a href="#13-5-ä½¿ç”¨cè¯­è¨€çš„å­—ç¬¦ä¸²åº“" class="headerlink" title="13.5    ä½¿ç”¨cè¯­è¨€çš„å­—ç¬¦ä¸²åº“"></a>13.5    ä½¿ç”¨cè¯­è¨€çš„å­—ç¬¦ä¸²åº“</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>cè¯­è¨€çš„å‡½æ•°åº“ä¸ºå­—ç¬¦ä¸²çš„æ“ä½œæä¾›äº†ä¸°å¯Œçš„å‡½æ•°é›†ï¼ŒåŒ…å«åœ¨<code>string.h</code>ä¸­ã€‚<br><strong>å‚æ•°ï¼š</strong></p>
<ul>
<li>æ¯ä¸ªå‡½æ•°è‡³å°‘éœ€è¦ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå®é™…å‚æ•°</li>
<li>å­—ç¬¦ä¸²å½¢å¼å‚æ•°ç±»å‹å¯ä»¥æ˜¯<code>char *</code></li>
<li>åˆæ³•çš„å®é™…å‚æ•°ç±»å‹ï¼šå­—ç¬¦æ•°ç»„ã€<code>char *</code>ç±»å‹å˜é‡ã€å­—ç¬¦ä¸²å­—é¢é‡</li>
</ul>
<p><strong>æŠ€å·§ï¼š</strong></p>
<ul>
<li>å½¢å¼å‚æ•°æ²¡æœ‰å£°æ˜ä¸ºconstçš„å‡½æ•°ä¼šåœ¨è°ƒç”¨å‡½æ•°æ—¶ä¿®æ”¹å½¢å¼å‚æ•°ï¼Œå› æ­¤å¯¹åº”çš„å®é™…å‚æ•°ä¸èƒ½ä¸ºå­—ç¬¦ä¸²å­—é¢é‡ï¼ˆå­—ç¬¦ä¸²å­—é¢é‡çš„ç‰¹ç‚¹åœ¨äºä¸å¯ä¿®æ”¹ï¼‰ã€‚</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br></pre></td></tr></table></figure>
<h3 id="13-5-1-strcpyå‡½æ•°"><a href="#13-5-1-strcpyå‡½æ•°" class="headerlink" title="13.5.1    strcpyå‡½æ•°"></a>13.5.1    strcpyå‡½æ•°</h3><p><strong>èƒŒæ™¯ï¼š</strong>ä¸èƒ½ä½¿ç”¨èµ‹å€¼è¿ç®—ç¬¦å°†å­—ç¬¦ä¸²å­—é¢é‡èµ‹å€¼ç»™å­—ç¬¦æ•°ç»„ï¼ˆä½†å­—ç¬¦ä¸²æŒ‡é’ˆå¯ä»¥ï¼‰ã€‚å› ä¸ºæ•°ç»„ååœ¨cè¯­è¨€ä¸­æ˜¯ä¸èƒ½ä½œä¸ºå·¦å€¼ä½¿ç”¨çš„ã€‚</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å­—ç¬¦æ•°ç»„å½¢å¼å£°æ˜çš„å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">char</span> strArr[] = &#123;<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'\0'</span>&#125;;</span><br><span class="line"><span class="comment">//æŒ‡é’ˆæ–¹å¼å£°æ˜çš„å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">char</span> *strPointer = <span class="string">"def"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// strArr = "aaa";//è¿™ç§æ–¹å¼ä¼šæŠ¥é”™</span></span><br><span class="line">strPointer = <span class="string">"bbb"</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%s\n"</span>, strPointer);</span><br></pre></td></tr></table></figure>
<p><strong>åŸå‹ï¼š</strong><code>char *strcpy(char *s1, const char *s2)</code><br><strong>ç”¨é€”ï¼š</strong>å°†<code>s2</code>æŒ‡å‘çš„å­—ç¬¦ä¸²å¤åˆ¶åˆ°<code>s1</code>æŒ‡å‘çš„æ•°ç»„ä¸­ã€‚<br><strong>è¿”å›å€¼ï¼š</strong>è¢«èµ‹å€¼çš„å­—ç¬¦ä¸²çš„é¦–åœ°å€ï¼Œå¯ä»¥è¢«ç”¨æ¥å®ç°å¤šé‡èµ‹å€¼ã€‚</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">strcpy</span>(s1, <span class="built_in">strcpy</span>(s2, <span class="string">"abc"</span>));<span class="comment">//å°†abcå¤åˆ¶ç»™s1å’Œs2</span></span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>å‡½æ•°ä¼šå°†<code>s2</code>æŒ‡å‘çš„å­—ç¬¦ä¸²é€ä¸ªå¤åˆ¶è¿‡å»ç›´åˆ°é‡åˆ°ä¸€ä¸ªç©ºå­—ç¬¦ä¸ºæ­¢ï¼Œå› æ­¤å‡è®¾<code>s2</code>é•¿åº¦ä¸º<code>n</code>ï¼Œå¦‚æœ<code>s1</code>é•¿åº¦å°äº<code>n</code>åŒ…å«ï¼ˆ<code>\0</code>ï¼‰ï¼Œ<code>s1</code>åé¢çš„å†…å­˜ä¹Ÿä¼šè¢«è¦†ç›–</li>
<li>å› ä¸ºä¸ä¼šä¿®æ”¹<code>s2</code>æŒ‡å‘çš„å­—ç¬¦ä¸²ï¼Œå› æ­¤s2è¢«å£°æ˜ä¸º<code>const</code></li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å­—ç¬¦æ•°ç»„å½¢å¼å£°æ˜çš„å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">char</span> strArr[] = &#123;<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'\0'</span>&#125;;</span><br><span class="line"><span class="comment">//æŒ‡é’ˆæ–¹å¼å£°æ˜çš„å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">char</span> *strPointer = <span class="string">"def"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// strArr = "aaa";//è¿™ç§æ–¹å¼ä¼šæŠ¥é”™</span></span><br><span class="line">strPointer = <span class="string">"bbb"</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%s\n"</span>, strPointer);</span><br></pre></td></tr></table></figure>
<h3 id="13-5-2-strcatå‡½æ•°"><a href="#13-5-2-strcatå‡½æ•°" class="headerlink" title="13.5.2    strcatå‡½æ•°"></a>13.5.2    strcatå‡½æ•°</h3><p><strong>åŸå‹ï¼š</strong><code>char *strcats(char *s1, const char *s2)</code><br><strong>è¯´æ˜ï¼š</strong>å°†<code>s2</code>æŒ‡å‘çš„å­—ç¬¦ä¸²è¿½åŠ åˆ°<code>s1</code>æŒ‡å‘çš„å­—ç¬¦ä¸²çš„åé¢<br><strong>è¿”å›å€¼ï¼š</strong><code>s1</code>æŒ‡å‘çš„å­—ç¬¦ä¸²ï¼ˆæŒ‡é’ˆï¼‰<br><strong>æ³¨æ„ï¼š</strong>å¦‚æœ<code>s1</code>æŒ‡å‘çš„æ•°ç»„çš„å¤§å°ä¸è¶³ä»¥å®¹çº³æ‰€æœ‰çš„å­—ç¬¦ï¼Œå°†ä¼šå¤šä½™çš„å­—ç¬¦å¤åˆ¶åˆ°æ•°ç»„åé¢çš„å†…å­˜ï¼Œåˆ°å¤„é”™è¯¯ã€‚</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">strcpy</span>(s1, <span class="string">"abc"</span>);</span><br><span class="line"><span class="built_in">strcpy</span>(s2, <span class="string">"def"</span>);<span class="comment">//"abcdefhgi"</span></span><br><span class="line"><span class="built_in">strcpy</span>(s1, <span class="built_in">strcat</span>(s2, <span class="string">"ghi"</span>));<span class="comment">//"defhgi"</span></span><br></pre></td></tr></table></figure>
<h3 id="13-5-3-strcmpå‡½æ•°"><a href="#13-5-3-strcmpå‡½æ•°" class="headerlink" title="13.5.3    strcmpå‡½æ•°"></a>13.5.3    strcmpå‡½æ•°</h3><p><strong>åŸå‹ï¼š</strong><code>int strcmp(const char *s1, const chat *s2)</code><br><strong>è¯´æ˜ï¼š</strong>æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²çš„å¤§å°</p>
<table>
<thead>
<tr>
<th>è¿”å›å€¼</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>å°äº0</td>
<td>s1 &lt; s2</td>
</tr>
<tr>
<td>0</td>
<td>s1 == s2</td>
</tr>
<tr>
<td>å¤§äº0</td>
<td>s1 &gt; s2</td>
</tr>
</tbody>
</table>
<p><strong>åº•å±‚ï¼š</strong>ä¾æ®å¯¹åº”ASCIIå­—ç¬¦é›†çš„å¤§å°</p>
<ul>
<li>å­—å…¸é¡ºåº</li>
<li>å‰<code>i</code>ä¸ªå­—ç¬¦ç›¸åŒï¼Œç¬¬<code>i+1</code>ä¸ªå­—ç¬¦å¤§çš„å¤§ï¼ˆè‹¥å…¶ä¸­ä¸€ä¸ªæ²¡æœ‰ç¬¬<code>i+1</code>ä¸ªå­—ç¬¦ï¼Œåˆ™å­—ç¬¦æ•°å¤šçš„å¤§ï¼‰</li>
<li>æ‰€æœ‰å¤§å†™å­—æ¯ï¼ˆ65ï½90ï¼‰éƒ½å°äºæ‰€æœ‰å°å†™å­—ç¬¦ï¼ˆ97ï½122 ï¼‰</li>
<li>æ•°å­—ï¼ˆ48ï½57ï¼‰å°äºå­—æ¯</li>
<li>ç©ºæ ¼ç¬¦ï¼ˆ32ï¼‰å°äºæ‰€æœ‰æ‰“å°å­—ç¬¦</li>
</ul>
<h3 id="13-5-4-strlenå‡½æ•°"><a href="#13-5-4-strlenå‡½æ•°" class="headerlink" title="13.5.4    strlenå‡½æ•°"></a>13.5.4    strlenå‡½æ•°</h3><p><strong>åŸå‹ï¼š</strong><code>size_t strlen(const char *s)</code><br><strong>è¯´æ˜ï¼š</strong>æ±‚å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œå³å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€ä¸ªç©ºå­—ç¬¦ä¸²å‰çš„å­—ç¬¦çš„ä¸ªæ•°ï¼ˆä¸åŒ…æ‹¬ç©ºå­—ç¬¦ï¼‰ã€‚</p>
<blockquote>
<p><strong>size_ t</strong>ï¼šæ— ç¬¦å·æ•´æ•°ç±»å‹ï¼ˆunsigned int æˆ– unsigned long int ï¼‰ï¼Œåœ¨cå‡½æ•°åº“å®šä¹‰çš„ã€‚</p>
</blockquote>
<p><strong>æ³¨æ„ï¼š</strong>å½“ç”¨æ•°ç»„ä½œä¸ºå‡½æ•°çš„å®é™…å‚æ•°æ—¶ï¼Œstrlenå‡½æ•°ä¸ä¼šæµ‹é‡æ•°ç»„æœ¬èº«çš„é•¿åº¦ï¼Œè€Œæ˜¯è¿”å›å­˜å‚¨åœ¨æ•°ç»„ä¸­çš„å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> len;</span><br><span class="line">fen = <span class="built_in">strlen</span>(<span class="string">"abc"</span>);<span class="comment">//3</span></span><br><span class="line">len = <span class="built_in">strlen</span>(<span class="string">" "</span>);<span class="comment">//0</span></span><br><span class="line"><span class="built_in">strcpy</span>(str1, <span class="string">"abc"</span>);</span><br><span class="line">len = <span class="built_in">strlen</span>(str1);<span class="comment">//3</span></span><br></pre></td></tr></table></figure>
<h3 id="13-5-5-ç¨‹åºï¼šæ˜¾ç¤ºä¸€ä¸ªæœˆçš„æç¤ºåˆ—è¡¨"><a href="#13-5-5-ç¨‹åºï¼šæ˜¾ç¤ºä¸€ä¸ªæœˆçš„æç¤ºåˆ—è¡¨" class="headerlink" title="13.5.5    ç¨‹åºï¼šæ˜¾ç¤ºä¸€ä¸ªæœˆçš„æç¤ºåˆ—è¡¨"></a>13.5.5    ç¨‹åºï¼šæ˜¾ç¤ºä¸€ä¸ªæœˆçš„æç¤ºåˆ—è¡¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$./remind</span><br><span class="line"> Enter day and reminder:1 dd</span><br><span class="line"> Enter day and reminder:2 ff</span><br><span class="line"> Enter day and reminder:3 ff</span><br><span class="line"> Enter day and reminder:0</span><br><span class="line"></span><br><span class="line"> Day Reminder</span><br><span class="line">  1 dd</span><br><span class="line">  2 ff</span><br><span class="line">  3 ff</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Prints a one-month reminder list</span><br><span class="line"> * ç¨‹åºéœ€è¦è¯»å…¥ä¸€ç³»åˆ—å¤©å’Œæç¤ºçš„ç»„åˆ(è®°å½•å¤‡å¿˜åˆ—è¡¨)ï¼Œå¹¶ä¸”æŒ‰ç…§é¡ºè®­è¿›è¡Œå­˜å‚¨ï¼ˆæŒ‰æ—¥æœŸæ’åºï¼‰</span><br><span class="line"> * é¢å¤–éœ€æ±‚ï¼š</span><br><span class="line"> * 1. å¤©åœ¨ä¸¤ä¸ªå­—ç¬¦çš„åŸŸä¸­å³å¯¹é½</span><br><span class="line"> * 2. ç¡®å®šç”¨æˆ·æ²¡æœ‰è¾“å…¥ä¸¤ä½ä»¥ä¸Šçš„æ•°å­—</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_REMIND 50<span class="comment">//å¤‡å¿˜å½•æ•°é‡</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MSG_LEN 60<span class="comment">//æ¯æ¡å¤‡å¿˜çš„æœ€å¤§é•¿åº¦</span></span></span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">read_line</span><span class="params">(<span class="keyword">char</span> str[], <span class="keyword">int</span> n)</span></span>;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="comment">//å¤‡å¿˜å½•åˆ—è¡¨</span></span><br><span class="line"> 	<span class="keyword">char</span> reminders[MAX_REMIND][MSG_LEN + <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"> 	<span class="comment">//æ—¥æœŸå­—ç¬¦ä¸²å’Œä¿¡æ¯å­—ç¬¦ä¸²</span></span><br><span class="line"> 	<span class="keyword">char</span> day_str[<span class="number">3</span>], msg_str[MSG_LEN + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"> 	<span class="keyword">int</span> day, i, j, num_remind = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"> 	<span class="keyword">for</span>(;;)&#123;</span><br><span class="line"> 		<span class="comment">//å¦‚æœå¤‡å¿˜å½•å·²æ»¡ï¼Œå°±åœæ­¢å¾ªç¯</span></span><br><span class="line"> 		<span class="keyword">if</span>(num_remind == MAX_REMIND)&#123;</span><br><span class="line"> 			<span class="built_in">printf</span>(<span class="string">"-- No space left --\n"</span>);</span><br><span class="line"> 			<span class="keyword">break</span>;</span><br><span class="line"> 		&#125;</span><br><span class="line"> 		<span class="comment">//è¾“å…¥æ—¥æœŸå’Œä¸€æ¡å¤‡å¿˜æ¸…å•</span></span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"Enter day and reminder:"</span>);</span><br><span class="line"></span><br><span class="line"> 		<span class="comment">//æŠŠæ—¥æœŸè¯»å…¥åˆ°æ•´å½¢å˜é‡dayä¸­ï¼Œå³ä½¿è¾“å…¥æ›´å¤šçš„æ•°å­—ï¼Œåœ¨%ä¸dä¹‹é—´çš„æ•°2ä¹Ÿä¼šé€šçŸ¥scanfå‡½æ•°åœ¨è¯»å…¥ä¸¤ä¸ªæ•°å­—ååœæ­¢</span></span><br><span class="line"> 		<span class="built_in">scanf</span>(<span class="string">"%2d"</span>, &amp;day);</span><br><span class="line"></span><br><span class="line"> 		<span class="comment">//å¦‚æœæ—¥æœŸè¾“å…¥0ï¼Œåˆ™åœæ­¢å¾ªç¯ï¼Œä¸åœ¨è¾“å…¥ä»»ä½•å¤‡å¿˜</span></span><br><span class="line"> 		<span class="keyword">if</span>(day == <span class="number">0</span>)&#123;</span><br><span class="line"> 			<span class="keyword">break</span>;</span><br><span class="line"> 		&#125;</span><br><span class="line"> 		</span><br><span class="line"> 		<span class="comment">//æŠŠdayçš„å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶å†™åˆ°day_strä¸­</span></span><br><span class="line"> 		<span class="built_in">sprintf</span>(day_str, <span class="string">"%2d"</span>, day);<span class="comment">//day_strä¼šåŒ…å«ä¸€ä¸ªç©ºå­—ç¬¦ç»“å°¾çš„åˆæ³•å­—ç¬¦ä¸²</span></span><br><span class="line"> 		read_line(msg_str, MSG_LEN);<span class="comment">//è¯»å…¥å¤‡å¿˜ä¿¡æ¯</span></span><br><span class="line"></span><br><span class="line"> 		<span class="comment">//æ‰¾åˆ°å¤‡å¿˜å½•çš„ä½ç½®ï¼ˆæ ¹æ®æ—¥æœŸä»å°åˆ°å¤§æ’åºçš„ä½ç½®ï¼‰</span></span><br><span class="line"> 		<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; num_remind; i++)&#123;</span><br><span class="line"> 			<span class="comment">//ç¡®å®šè¿™ä¸€å¤©çš„ä½ç½®</span></span><br><span class="line"> 			<span class="keyword">if</span>(<span class="built_in">strcmp</span>(day_str, reminders[i]) &lt; <span class="number">0</span>)&#123;</span><br><span class="line"> 				<span class="keyword">break</span>;</span><br><span class="line"> 			&#125;</span><br><span class="line"> 		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//å°†åŒ…æ‹¬è¯¥ä½ç½®ä¹‹åçš„å¤‡å¿˜ä¿¡æ¯å‘åç§»åŠ¨</span></span><br><span class="line">		<span class="keyword">for</span>(j = num_remind; j &gt; i; j--)&#123;</span><br><span class="line">			<span class="built_in">strcpy</span>(reminders[j], reminders[j<span class="number">-1</span>]);</span><br><span class="line">		&#125; 	</span><br><span class="line"></span><br><span class="line"> 		<span class="comment">//å°†å¤‡å¿˜ä¿¡æ¯æ”¾åœ¨ç©ºå‡ºæ¥çš„ä½ç½®</span></span><br><span class="line"> 		<span class="built_in">strcpy</span>(reminders[i], day_str);</span><br><span class="line"></span><br><span class="line"> 		<span class="comment">//å°†å¤‡å¿˜ä¿¡æ¯æ‹¼æ¥è¿‡å»</span></span><br><span class="line"> 		<span class="built_in">strcat</span>(reminders[i], msg_str);</span><br><span class="line"> 		num_remind++;</span><br><span class="line"> 	&#125;</span><br><span class="line"></span><br><span class="line"> 	<span class="comment">//æ‰“å°å‡ºå½“å‰æ‰€æœ‰å¤‡å¿˜ä¿¡æ¯</span></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"\nDay Reminder\n"</span>);</span><br><span class="line"> 	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; num_remind; i++)&#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"%s\n"</span>, reminders[i]);</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * è¯»å…¥ä¸€è¡Œ</span><br><span class="line"> * @param  str å­˜å‚¨å­—ç¬¦ä¸²çš„ä½ç½®</span><br><span class="line"> * @param  n   å­—ç¬¦ä¸²é•¿åº¦ä¸Šé™</span><br><span class="line"> * @return     è¯¥æ¡å­—ç¬¦ä¸²çš„é•¿åº¦</span><br><span class="line"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">read_line</span><span class="params">(<span class="keyword">char</span> str[], <span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">char</span> ch;</span><br><span class="line"> 	<span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"> 	<span class="keyword">while</span>((ch = getchar()) != <span class="string">'\n'</span>)&#123;</span><br><span class="line"> 		<span class="keyword">if</span>(i &lt; n)&#123;</span><br><span class="line"> 			str[i++] = ch;</span><br><span class="line"> 		&#125;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	str[i] = <span class="string">'\0'</span>;</span><br><span class="line"> 	return i;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h2 id="13-6-å­—ç¬¦ä¸²æƒ¯ç”¨æ³•"><a href="#13-6-å­—ç¬¦ä¸²æƒ¯ç”¨æ³•" class="headerlink" title="13.6    å­—ç¬¦ä¸²æƒ¯ç”¨æ³•"></a>13.6    å­—ç¬¦ä¸²æƒ¯ç”¨æ³•</h2><h3 id="13-6-1-æœç´¢å­—ç¬¦ä¸²çš„ç»“å°¾"><a href="#13-6-1-æœç´¢å­—ç¬¦ä¸²çš„ç»“å°¾" class="headerlink" title="13.6.1    æœç´¢å­—ç¬¦ä¸²çš„ç»“å°¾"></a>13.6.1    æœç´¢å­—ç¬¦ä¸²çš„ç»“å°¾</h3><p><strong>ç›¸å…³æƒ¯ç”¨æ³•ï¼š</strong></p>
<ol>
<li><code>while(*s){s++;}</code></li>
<li><code>while(*s++){...}
 ;</code></li>
</ol>
<h4 id="13-6-1-1-åŸå§‹ç‰ˆæœ¬"><a href="#13-6-1-1-åŸå§‹ç‰ˆæœ¬" class="headerlink" title="13.6.1.1    åŸå§‹ç‰ˆæœ¬"></a>13.6.1.1    åŸå§‹ç‰ˆæœ¬</h4><blockquote>
<p><strong>æ€è·¯ï¼š</strong>ä»å·¦åˆ°å³æ‰«æå­—ç¬¦ä¸²ï¼Œnè‡ªå¢ã€‚å½“sæœ€ç»ˆæŒ‡å‘ä¸€ä¸ªç©ºå­—ç¬¦ä¸²æ—¶ï¼Œnçš„é•¿åº¦å°±æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">size_t</span> <span class="built_in">strlen</span>(<span class="keyword">const</span> <span class="keyword">char</span> *s)&#123;</span><br><span class="line">	<span class="keyword">size_t</span> n;</span><br><span class="line">	<span class="keyword">for</span>(n = <span class="number">0</span>; *s != <span class="string">'\0'</span>; s++)&#123;</span><br><span class="line">		n++;</span><br><span class="line">	&#125;</span><br><span class="line">	n++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="13-6-1-2-ä¼˜åŒ–ç‰ˆæœ¬"><a href="#13-6-1-2-ä¼˜åŒ–ç‰ˆæœ¬" class="headerlink" title="13.6.1.2    ä¼˜åŒ–ç‰ˆæœ¬"></a>13.6.1.2    ä¼˜åŒ–ç‰ˆæœ¬</h4><blockquote>
<p><strong>æ€è·¯ï¼š</strong></p>
<ol>
<li>ç©ºå­—ç¬¦çš„ASCIIç å€¼ä¸º0ï¼Œè€Œ0åœ¨cè¯­è¨€ä¸­å¯ä»¥ä»£è¡¨â€œå‡â€</li>
<li>å­—ç¬¦ä¸²æ˜¯è¢«å½“ä½œå­—ç¬¦æ•°ç»„æ¥å¤„ç†çš„ï¼Œè€Œæ•°ç»„ä¸åŒå…ƒç´ çš„å­˜å‚¨åœ°å€ä¹‹å·®å’Œä¸‹æ ‡ä¹‹å·®ç›¸åŒï¼Œå› æ­¤å¯ä»¥é€šè¿‡åœ°å€ä¹‹å·®è®¡ç®—æ•°ç»„é•¿åº¦ï¼Œé¿å…äº†é¢‘ç¹çš„è‡ªå¢æ“ä½œï¼Œä»è€Œæé«˜é€Ÿåº¦</li>
</ol>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">size_t</span> <span class="built_in">strlen</span>(<span class="keyword">const</span> chat *s)&#123;</span><br><span class="line">	<span class="keyword">const</span> <span class="keyword">char</span> *p = s;</span><br><span class="line">	<span class="keyword">while</span>(*s)&#123;</span><br><span class="line">		*s++;</span><br><span class="line">	&#125;</span><br><span class="line">	return s - p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="13-6-2-å¤åˆ¶å­—ç¬¦ä¸²"><a href="#13-6-2-å¤åˆ¶å­—ç¬¦ä¸²" class="headerlink" title="13.6.2    å¤åˆ¶å­—ç¬¦ä¸²"></a>13.6.2    å¤åˆ¶å­—ç¬¦ä¸²</h3><blockquote>
<p><strong>æƒ¯ç”¨æ³•ï¼š</strong>å­—ç¬¦ä¸²å¤åˆ¶æƒ¯ç”¨æ³•<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="keyword">while</span>(*p++ = *s2++)</span><br><span class="line">&gt; ;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h4 id="13-6-2-1-åŸç‰ˆ"><a href="#13-6-2-1-åŸç‰ˆ" class="headerlink" title="13.6.2.1    åŸç‰ˆ"></a>13.6.2.1    åŸç‰ˆ</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è‡ªå®šä¹‰å®ç°<code>strcat</code>å‡½æ•°<br><strong>æ€è·¯ï¼š</strong></p>
<ol>
<li>æŸ¥æ‰¾å­—ç¬¦ä¸²s1æœ«å°¾ç©ºå­—ç¬¦ä¸²çš„ä½ç½®ï¼Œå¹¶ä½¿æŒ‡é’ˆpæŒ‡å‘å®ƒ</li>
<li>æŠŠå­—ç¬¦ä¸²s2ä¸­çš„å­—ç¬¦é€ä¸ªå¤åˆ¶åˆ°pæ‰€æŒ‡å‘çš„ä½ç½®</li>
</ol>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">strcat</span><span class="params">(<span class="keyword">char</span> *s1, <span class="keyword">const</span> chat *s2)</span></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> *p;</span><br><span class="line">	p = s1;</span><br><span class="line">	<span class="comment">//1. æŸ¥æ‰¾å­—ç¬¦ä¸²s1æœ«å°¾ç©ºå­—ç¬¦ä¸²çš„ä½ç½®ï¼Œå¹¶ä½¿æŒ‡é’ˆpæŒ‡å‘å®ƒ</span></span><br><span class="line">	<span class="keyword">while</span>(*p != <span class="string">'\0'</span>)&#123;</span><br><span class="line">		p++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//2. æŠŠå­—ç¬¦ä¸²s2ä¸­çš„å­—ç¬¦é€ä¸ªå¤åˆ¶åˆ°pæ‰€æŒ‡å‘çš„ä½ç½®</span></span><br><span class="line">	<span class="keyword">while</span>(*s2 != <span class="string">'\0'</span>)&#123;</span><br><span class="line">		*p = *s2;</span><br><span class="line">		p++;</span><br><span class="line">		s2++;</span><br><span class="line">	&#125;</span><br><span class="line">	*p = <span class="string">'\0'</span>;</span><br><span class="line">	return s1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="13-6-2-2-ä¼˜åŒ–ç‰ˆ"><a href="#13-6-2-2-ä¼˜åŒ–ç‰ˆ" class="headerlink" title="13.6.2.2    ä¼˜åŒ–ç‰ˆ"></a>13.6.2.2    ä¼˜åŒ–ç‰ˆ</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">strcat</span><span class="params">(<span class="keyword">char</span> *s1, <span class="keyword">const</span> <span class="keyword">char</span> *s2)</span></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> *p = s1;</span><br><span class="line">	<span class="comment">//1. æŸ¥æ‰¾å­—ç¬¦ä¸²s1æœ«å°¾ç©ºå­—ç¬¦ä¸²çš„ä½ç½®ï¼Œå¹¶ä½¿æŒ‡é’ˆpæŒ‡å‘å®ƒ</span></span><br><span class="line">	<span class="keyword">while</span>(*p)&#123;</span><br><span class="line">		p++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//2. æŠŠå­—ç¬¦ä¸²s2ä¸­çš„å­—ç¬¦é€ä¸ªå¤åˆ¶åˆ°pæ‰€æŒ‡å‘çš„ä½ç½®</span></span><br><span class="line">	<span class="keyword">while</span>(*p++ = s2++)</span><br><span class="line">		;</span><br><span class="line">	return s1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="13-7-å­—ç¬¦ä¸²æ•°ç»„"><a href="#13-7-å­—ç¬¦ä¸²æ•°ç»„" class="headerlink" title="13.7    å­—ç¬¦ä¸²æ•°ç»„"></a>13.7    å­—ç¬¦ä¸²æ•°ç»„</h2><blockquote>
<p><strong>ä¸¤ç§æ–¹å¼ï¼š</strong><code>äºŒç»´å­—ç¬¦æ•°ç»„</code>å’Œ<code>ä¸€ç»´æŒ‡é’ˆæ•°ç»„</code><br><strong>æŠ€å·§ï¼š</strong>å¾—ç›ŠäºæŒ‡é’ˆå’Œæ•°ç»„ä¹‹é—´çš„ç´§å¯†è”ç³»ï¼Œè®¿é—®ä¸€ç»´æŒ‡é’ˆæ•°ç»„ä¸­çš„å…ƒç´ çš„æ–¹å¼å’Œè®¿é—®è€Œä¸ºå­—ç¬¦æ•°ç»„ä¸­å…ƒç´ çš„æ–¹å¼ç›¸åŒã€‚</p>
</blockquote>
<h4 id="äºŒç»´å­—ç¬¦æ•°ç»„"><a href="#äºŒç»´å­—ç¬¦æ•°ç»„" class="headerlink" title="äºŒç»´å­—ç¬¦æ•°ç»„"></a>äºŒç»´å­—ç¬¦æ•°ç»„</h4><blockquote>
<p><strong>ç¼ºç‚¹</strong></p>
<ol>
<li>éœ€è¦çŸ¥é“æ‰€æœ‰å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œä»¥æœ€é•¿çš„å­—ç¬¦ä¸²çš„é•¿åº¦æ¥ç¡®å®šäºŒä½æ•°ç»„æ¯ä¸€è¡Œçš„é•¿åº¦ã€‚</li>
<li>ä¸èƒ½å¡«æ»¡æ•°ç»„çš„ä¸€æ•´è¡Œçš„å­—ç¬¦ä¼šç”¨ç©ºå­—ç¬¦å¡«è¡¥ï¼Œæµªè´¹ç©ºé—´ã€‚</li>
</ol>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> planets[][<span class="number">8</span>] = &#123;<span class="string">"Mercury"</span>, <span class="string">"Venus"</span>, <span class="string">"Earth"</span>, <span class="string">"Mars"</span>, <span class="string">"Jupiter"</span>, <span class="string">"Saturn"</span>, <span class="string">"Uranus"</span>, <span class="string">"Neptune"</span>, <span class="string">"Pluto"</span>&#125;;</span><br></pre></td></tr></table></figure>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-07-31%20%E4%B8%8A%E5%8D%888.16.44.png" alt="Alt text"></p>
<h4 id="ä¸€ç»´å­—ç¬¦æŒ‡é’ˆæ•°ç»„"><a href="#ä¸€ç»´å­—ç¬¦æŒ‡é’ˆæ•°ç»„" class="headerlink" title="ä¸€ç»´å­—ç¬¦æŒ‡é’ˆæ•°ç»„"></a>ä¸€ç»´å­—ç¬¦æŒ‡é’ˆæ•°ç»„</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¤§éƒ¨åˆ†å­—ç¬¦ä¸²é›†éƒ½æ˜¯é•¿çŸ­å­—ç¬¦ä¸²çš„æ··åˆï¼Œcè¯­è¨€æœ¬èº«ä¸æä¾›â€œå‚æ¬¡ä¸é½çš„æ•°ç»„â€ï¼Œä½†å¯ä»¥é€šè¿‡å­—ç¬¦æ•°ç»„æŒ‡é’ˆçš„æ•°ç»„æ¨¡æ‹Ÿã€‚<br><strong>å‚æ¬¡ä¸é½çš„æ•°ç»„(ragged array)ï¼š</strong>æ•°ç»„çš„æ¯ä¸€è¡Œæœ‰ä¸åŒçš„é•¿åº¦ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">m</span><br><span class="line"></span><br><span class="line"><span class="title">for</span><span class="params">(i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(planets[i][<span class="number">0</span>] == <span class="string">'M'</span>)&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%s begins with M\n"</span>, planets[i]);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-07-31%20%E4%B8%8A%E5%8D%888.23.02.png" alt="Alt text"></p>
<h3 id="13-7-1-å‘½ä»¤è¡Œå‚æ•°"><a href="#13-7-1-å‘½ä»¤è¡Œå‚æ•°" class="headerlink" title="13.7.1    å‘½ä»¤è¡Œå‚æ•°"></a>13.7.1    å‘½ä»¤è¡Œå‚æ•°</h3><p><strong>ç¨‹åºå‚æ•°ï¼ˆcommand-line atgumentï¼‰ï¼š</strong>ä¸ä»…æ˜¯æ“ä½œç³»ç»Ÿå‘½ä»¤ï¼Œæ‰€æœ‰ç¨‹åºéƒ½æœ‰å‘½ä»¤è¡Œä¿¡æ¯ã€‚<code>Q&amp;A</code>ä¸ºäº†èƒ½å¤Ÿè®¿é—®è¿™äº›å‘½ä»¤è¡Œå‚æ•°ï¼Œå¿…é¡»ä¸º<code>main</code>å‡½æ•°å®šä¹‰ä¸ºå«æœ‰ä¸¤ä¸ªå‚æ•°çš„å‡½æ•°ï¼Œè¿™ä¸¤ä¸ªå‚æ•°é€šå¸¸å‘½åä¸º<code>argc</code>å’Œ<code>argv</code>ã€‚<br><strong>ç©ºæŒ‡é’ˆï¼š</strong>æ˜¯ä¸€ç§ä¸æŒ‡å‘ä»»ä½•å†…å®¹çš„ç‰¹æ®ŠæŒ‡é’ˆã€‚å®<code>NULL</code>ä»£è¡¨ç©ºæŒ‡é’ˆã€‚<br><strong>å‚æ•°å‘é‡ï¼ˆargvï¼‰å’Œå‚æ•°è®¡æ•°ï¼ˆargcï¼‰ï¼š</strong></p>
<ul>
<li>argv[0]ï¼šæŒ‡å‘ç¨‹åºåçš„å­—ç¬¦ä¸²</li>
<li>argv[1]~argv[argc-1]ï¼šä½™ä¸‹çš„å‘½ä»¤è¡Œå‚æ•°</li>
<li>argv[argc]ï¼šæŒ‡å‘ç©ºæŒ‡é’ˆã€‚</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">*argcï¼šå‚æ•°è®¡æ•°ï¼Œå‘½ä»¤è¡Œå‚æ•°çš„æ•°é‡ï¼ˆåŒ…æ‹¬ç¨‹åºåæœ¬èº«ï¼‰</span><br><span class="line">*argv: å‚æ•°å‘é‡ï¼ŒæŒ‡å‘å‘½ä»¤è¡Œå‚æ•°çš„æŒ‡é’ˆæ•°ç»„ï¼ˆä»¥å­—ç¬¦ä¸²çš„è¡Œä¹¦å­˜å‚¨ï¼‰</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span>&#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-07-31%20%E4%B8%8A%E5%8D%888.56.34.png" alt="Alt text"></p>
<p><em>å‘½ä»¤è¡Œè¾“å…¥å‚æ•°æ¡ˆä¾‹</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ls -l remind.c</span><br></pre></td></tr></table></figure>
<p><em>è·å–å‚æ•°ä»£ç ï¼ˆåˆ©ç”¨æ•°ç»„ï¼‰</em></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">1</span>; i&lt;argc; i++)&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%s\n"</span>, argv[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>è·å–å‚æ•°ä»£ç ï¼ˆåˆ©ç”¨æŒ‡é’ˆï¼‰</em></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> **p;<span class="comment">//pç”¨æ¥æŒ‡å‘argvä¸­çš„å­—ç¬¦ä¸²ï¼Œå› ä¸ºargvæœ¬èº«ä½œä¸ºæ•°ç»„å°±æ˜¯æŒ‡é’ˆï¼Œè€Œå…¶ä¸­çš„å­—ç¬¦ä¸²ï¼ˆå­—ç¬¦æ•°ç»„ï¼‰ä¹Ÿæ˜¯æŒ‡é’ˆï¼Œæ‰€ä»¥å£°æ˜pä¸ºæŒ‡é’ˆçš„æŒ‡é’ˆ</span></span><br><span class="line"><span class="keyword">for</span>(p = &amp;argv[<span class="number">1</span>]; *p != <span class="literal">NULL</span>; p++)&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%s\n"</span>, *p);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="13-7-2-ç¨‹åºï¼šæ ¸å¯¹è¡Œæ˜Ÿçš„åå­—"><a href="#13-7-2-ç¨‹åºï¼šæ ¸å¯¹è¡Œæ˜Ÿçš„åå­—" class="headerlink" title="13.7.2    ç¨‹åºï¼šæ ¸å¯¹è¡Œæ˜Ÿçš„åå­—"></a>13.7.2    ç¨‹åºï¼šæ ¸å¯¹è¡Œæ˜Ÿçš„åå­—</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NUM_PLANETS 9<span class="comment">//è¡Œæ˜Ÿçš„æ•°é‡</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="comment">//9å¤§è¡Œæ˜Ÿ</span></span><br><span class="line">	<span class="keyword">char</span> *planets[] = &#123;<span class="string">"Mercury"</span>, <span class="string">"Venus"</span>, <span class="string">"Eath"</span>, <span class="string">"Mars"</span>, <span class="string">"Jupiter"</span>,  <span class="string">"Saturn"</span>, <span class="string">"Uranus"</span>, <span class="string">"Nepture"</span>, <span class="string">"Pluto"</span>&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//ä»¥æ­¤è®¿é—®æ¯ä¸ªå‚æ•°ï¼Œå¹¶éå†9å¤§è¡Œæ˜Ÿå¯»æ‰¾åŒ¹é…çš„ç›®æ ‡</span></span><br><span class="line">	<span class="keyword">int</span> i, j;</span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">1</span>; i &lt; argc; i++)&#123;</span><br><span class="line">		<span class="keyword">for</span>(j = <span class="number">0</span>; j &lt; NUM_PLANETS; j++)&#123;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">strcmp</span>(argv[i], planets[j]) == <span class="number">0</span>)&#123;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">"%s is planets %d\n"</span>, argv[i], j+<span class="number">1</span>);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(j == NUM_PLANETS)&#123;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">"%s is not a planet\n"</span>, argv[i]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ./planet Pluto  </span><br><span class="line"> Pluto is planets 9</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/09/12 æŒ‡é’ˆå’Œæ•°ç»„/" itemprop="url">
                  12 æŒ‡é’ˆå’Œæ•°ç»„
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-09T23:24:07+08:00" content="2016-05-09">
              2016-05-09
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/09/12 æŒ‡é’ˆå’Œæ•°ç»„/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/09/12 æŒ‡é’ˆå’Œæ•°ç»„/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="12-1-æŒ‡é’ˆçš„ç®—æœ¯è¿ç®—"><a href="#12-1-æŒ‡é’ˆçš„ç®—æœ¯è¿ç®—" class="headerlink" title="12.1    æŒ‡é’ˆçš„ç®—æœ¯è¿ç®—"></a>12.1    æŒ‡é’ˆçš„ç®—æœ¯è¿ç®—</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æŒ‡é’ˆä¸ä»…å¯ä»¥æŒ‡å‘æ™®é€šå˜é‡ï¼Œè¿˜å¯ä»¥æŒ‡å‘æ•°ç»„å…ƒç´ ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>], *p;</span><br><span class="line">p = &amp;a[<span class="number">0</span>];</span><br><span class="line">*p = <span class="number">5</span>;<span class="comment">//a[0]å€¼å˜ä¸º5</span></span><br></pre></td></tr></table></figure>
<p><strong>3ç§æ ¼å¼ï¼š</strong></p>
<ol>
<li>æŒ‡é’ˆåŠ ä¸Šæ•´æ•°</li>
<li>æŒ‡é’ˆå‡å»æ•´æ•°</li>
<li>ä¸¤ä¸ªæŒ‡é’ˆç›¸å‡</li>
</ol>
<h3 id="12-1-1-æŒ‡é’ˆåŠ ä¸Šæ•´æ•°"><a href="#12-1-1-æŒ‡é’ˆåŠ ä¸Šæ•´æ•°" class="headerlink" title="12.1.1    æŒ‡é’ˆåŠ ä¸Šæ•´æ•°"></a>12.1.1    æŒ‡é’ˆåŠ ä¸Šæ•´æ•°</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æŒ‡é’ˆ<code>p</code>åŠ ä¸Šæ•´æ•°<code>j</code>äº§ç”ŸæŒ‡å‘<code>p</code>å…ƒç´ å<code>j</code>ä¸ªä½ç½®çš„æŒ‡é’ˆã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p = &amp;a[<span class="number">2</span>];</span><br><span class="line">q = p + <span class="number">3</span>;<span class="comment">//pæŒ‡å‘äº†æ•°ç»„ä¸‹æ ‡ä¸º5çš„ä½ç½®</span></span><br></pre></td></tr></table></figure>
<h3 id="12-1-2-æŒ‡é’ˆå‡å»æ•´æ•°"><a href="#12-1-2-æŒ‡é’ˆå‡å»æ•´æ•°" class="headerlink" title="12.1.2    æŒ‡é’ˆå‡å»æ•´æ•°"></a>12.1.2    æŒ‡é’ˆå‡å»æ•´æ•°</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¦‚æœ<code>p</code>æŒ‡å‘æ•°ç»„å…ƒç´ <code>a[i]</code>ï¼Œé‚£ä¹ˆ<code>p-j</code>æŒ‡å‘<code>a[i-j]</code>ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p = &amp;a[<span class="number">8</span>];</span><br><span class="line">q = p<span class="number">-3</span>;<span class="comment">//æŒ‡å‘æ•°ç»„aä¸‹æ ‡ä¸º5çš„ä½ç½®</span></span><br></pre></td></tr></table></figure>
<h3 id="12-1-3-æŒ‡é’ˆç›¸å‡"><a href="#12-1-3-æŒ‡é’ˆç›¸å‡" class="headerlink" title="12.1.3    æŒ‡é’ˆç›¸å‡"></a>12.1.3    æŒ‡é’ˆç›¸å‡</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å½“ä¸¤ä¸ªæŒ‡é’ˆç›¸å‡æ—¶ï¼Œç»“æœä¸ºæŒ‡é’ˆä¹‹é—´çš„è·ç¦»ã€‚<br><strong>ç”¨é€”ï¼š</strong>ç”¨æ¥è®¡ç®—æ•°ç»„ç§å…ƒç´ çš„ä¸ªæ•°ã€‚å¦‚æœ<code>p</code>æŒ‡å‘<code>a[i]</code>ä¸”<code>q</code>æŒ‡å‘<code>a[j]</code>ï¼Œé‚£ä¹ˆ<code>p-q</code>å°±ç­‰äº<code>i-j</code>ã€‚<br><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li>åªæœ‰åœ¨<code>p</code>æŒ‡å‘æ•°ç»„å…ƒç´ æ—¶ï¼ŒæŒ‡é’ˆ<code>p</code>ä¸Šçš„ç®—æ•°è¿ç®—æ‰ä¼šè·å¾—æ„ä¹‰çš„ç»“æœ</li>
<li>åªæœ‰åœ¨ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€ä¸ªæ•°ç»„æ—¶ï¼ŒæŒ‡é’ˆç›¸å‡æ‰æœ‰æ„ä¹‰</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">p = &amp;a[<span class="number">5</span>];</span><br><span class="line">q = &amp;a[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">i = p - q;<span class="comment">//4</span></span><br><span class="line">i = q - p;<span class="comment">//-4</span></span><br></pre></td></tr></table></figure>
<h3 id="12-1-4-æŒ‡é’ˆæ¯”è¾ƒ"><a href="#12-1-4-æŒ‡é’ˆæ¯”è¾ƒ" class="headerlink" title="12.1.4    æŒ‡é’ˆæ¯”è¾ƒ"></a>12.1.4    æŒ‡é’ˆæ¯”è¾ƒ</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯ä»¥ç”¨å…³ç³»è¿ç®—ç¬¦ï¼ˆ<code>&lt;</code> <code>&lt;=</code>  <code>&lt;</code>  <code>&gt;=</code>ï¼‰å’Œåˆ¤ç­‰è¿ç®—ç¬¦ï¼ˆ<code>==</code>å’Œ<code>!=</code>ï¼‰ã€‚<br><strong>é™åˆ¶ï¼š</strong>åªæœ‰åœ¨ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€ä¸ªæ•°ç»„æ—¶ï¼Œç”¨å…³ç³»è¿ç®—ç¬¦è¿›è¡Œçš„æŒ‡é’ˆæ¯”è¾ƒæ‰æœ‰æ„ä¹‰ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">p = &amp;a[<span class="number">5</span>];</span><br><span class="line">q = &amp;a[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">p &lt;= q;<span class="comment">//0</span></span><br><span class="line">q &gt; p;<span class="comment">//1</span></span><br></pre></td></tr></table></figure>
<h2 id="12-2-æŒ‡é’ˆç”¨äºæ•°ç»„å¤„ç†"><a href="#12-2-æŒ‡é’ˆç”¨äºæ•°ç»„å¤„ç†" class="headerlink" title="12.2    æŒ‡é’ˆç”¨äºæ•°ç»„å¤„ç†"></a>12.2    æŒ‡é’ˆç”¨äºæ•°ç»„å¤„ç†</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æŒ‡é’ˆçš„ç®—æœ¯è¿ç®—å…è®¸é€šè¿‡å¯¹æŒ‡é’ˆå˜é‡è¿›è¡Œé‡å¤è‡ªå¢æ¥è®¿é—®æ•°ç»„çš„å…ƒç´ ã€‚<br><strong>æ³¨æ„ï¼š</strong>æ•°ç»„<code>a</code>çš„ä¸‹æ ‡æ˜¯<code>0åˆ°N-1</code>,ä½†<code>&amp;a[N]</code>æ˜¯åˆæ³•çš„ï¼Œåªè¦ä¸å°è¯•å¯¹è¯¥åœ°å€å­˜å‚¨ç©ºé—´è¿›è¡Œè¯»å–æ´»å†™å…¥ï¼Œå°±æ˜¯å®‰å…¨çš„ã€‚<br><strong>æ€§èƒ½ï¼š</strong>ä¸€äº›ç¼–è¯‘å™¨ä¾èµ–ä¸‹æ ‡è€Œä¸æ˜¯æŒ‡é’ˆäº§ç”Ÿçš„å¾ªç¯ä»£ç æ€§ä¼šæ›´å¥½ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 10</span></span><br><span class="line"><span class="keyword">int</span> a[N], sum, *p;</span><br><span class="line">sum = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//è®¡ç®—æ•°ç»„å…ƒç´ çš„å’Œ</span></span><br><span class="line"><span class="keyword">for</span>(p = &amp;a[<span class="number">0</span>]; p &lt; &amp;a[N]; p++)&#123;</span><br><span class="line">	sum += *p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="è¿ç®—ç¬¦å’Œ-è¿ç®—ç¬¦çš„ç»„åˆ"><a href="#è¿ç®—ç¬¦å’Œ-è¿ç®—ç¬¦çš„ç»„åˆ" class="headerlink" title="*è¿ç®—ç¬¦å’Œ++è¿ç®—ç¬¦çš„ç»„åˆ"></a><code>*</code>è¿ç®—ç¬¦å’Œ<code>++</code>è¿ç®—ç¬¦çš„ç»„åˆ</h4><table>
<thead>
<tr>
<th>è¡¨è¾¾å¼</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>*p++</code>æˆ–<code>*(p++)</code></td>
<td>è¡¨è¾¾å¼çš„å€¼æ˜¯<code>*p</code>ï¼Œç„¶å<code>p</code>è‡ªå¢1</td>
</tr>
<tr>
<td><code>(*p)++</code></td>
<td>è¡¨è¾¾å¼çš„å€¼ä¸º<code>*p</code>ï¼Œç„¶å<code>*p</code>è‡ªå¢1</td>
</tr>
<tr>
<td><code>*++p</code></td>
<td>å…ˆè‡ªå¢<code>p</code>ï¼Œåœ¨è‡ªå¢åçš„æŒ‡é’ˆå¯¹åº”çš„å€¼</td>
</tr>
<tr>
<td><code>++*p</code>æˆ–<code>++(*p)</code></td>
<td>è¡¨è¾¾å¼çš„å€¼æ˜¯<code>*p</code>è‡ªå¢åçš„å€¼</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">p = &amp;a[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">while</span>(p &lt; &amp;a[N])&#123;</span><br><span class="line">	sum += *p++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="ç¨‹åº-æ ˆ"><a href="#ç¨‹åº-æ ˆ" class="headerlink" title="ç¨‹åº:æ ˆ"></a>ç¨‹åº:æ ˆ</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> STACK_SIZE 100</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TRUE 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FALSE 0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> Bool;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> contents[STACK_SIZE];</span><br><span class="line"><span class="keyword">int</span> *top = contents[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * æ¸…ç©ºæ ˆ</span><br><span class="line"> * å°†topæŒ‡é’ˆæŒ‡å‘æ•°ç»„çš„ç¬¬ä¸€é¡¹</span><br><span class="line"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">make_empty</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">	top = &amp;contents[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * æ£€æŸ¥æ ˆæ˜¯å¦ä¸ºç©º</span><br><span class="line"> * @return  true:ç©ºï¼›false:éç©º</span><br><span class="line"> */</span></span><br><span class="line"><span class="function">Bool <span class="title">is_empty</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">	return *top == contents[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * æ£€æŸ¥æ ˆæ˜¯å¦å·²æ»¡</span><br><span class="line"> * @return  true:å·²æ»¡ï¼›false:æœªæ»¡</span><br><span class="line"> */</span></span><br><span class="line"><span class="function">Bool <span class="title">is_full</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">	return *top == contents[STACK_SIZE];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * å‘æ ˆä¸­å‹å…¥æ•°æ®</span><br><span class="line"> * @param i è¦å‹å…¥çš„æ•°æ®é¡¹</span><br><span class="line"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(is_full())&#123;</span><br><span class="line">		stace_overflow();</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		*top++ = i;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * ä»æ ˆä¸­å¼¹å‡ºæ•°æ®é¡¹</span><br><span class="line"> * @return  æ•°æ®é¡¹</span><br><span class="line"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pop</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(is_empty())&#123;</span><br><span class="line">		stack_underflow();</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		return *--top;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="12-3-ç”¨æ•°ç»„åä½œä¸ºæŒ‡é’ˆ"><a href="#12-3-ç”¨æ•°ç»„åä½œä¸ºæŒ‡é’ˆ" class="headerlink" title="12.3    ç”¨æ•°ç»„åä½œä¸ºæŒ‡é’ˆ"></a>12.3    ç”¨æ•°ç»„åä½œä¸ºæŒ‡é’ˆ</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯ä»¥ç”¨æ•°ç»„çš„åå­—ä½œä¸ºæŒ‡å‘æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆã€‚<br><strong>æ„ä¹‰ï¼š</strong>ç®€åŒ–äº†æŒ‡é’ˆçš„ç®—æœ¯è¿ç®—ï¼Œè€Œä¸”ä½¿å¾—æ•°ç»„å’ŒæŒ‡é’ˆéƒ½æ›´åŠ é€šç”¨ã€‚<br><strong>å±€é™ï¼š</strong>è™½ç„¶å¯ä»¥æŠŠæ•°ç»„åç”¨ä½œæŒ‡é’ˆï¼Œä½†æ˜¯ä¸èƒ½ç»™æ•°ç»„åèµ‹æ–°çš„å€¼ã€‚è¯•å›¾ä½¿æ•°ç»„åæŒ‡å‘å…¶å®ƒåœ°æ–¹æ˜¯é”™è¯¯çš„ã€‚æ‰€ä»¥å½“éœ€è¦çš„æ—¶å€™ï¼Œå¯ä»¥å…ˆå°†æ•°ç»„æŒ‡é’ˆå¤åˆ¶ç»™å…¶å®ƒå˜é‡ï¼Œç„¶åæ”¹å˜è¯¥æŒ‡é’ˆå˜é‡ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">*a = <span class="number">7</span>;<span class="comment">//a[0]=7</span></span><br><span class="line">*(a+<span class="number">1</span>); = <span class="number">12</span>;<span class="comment">//a[1]=12</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è®¡ç®—æ•°ç»„å…ƒç´ çš„å’Œ</span></span><br><span class="line"><span class="keyword">for</span>(p = a; p &lt; a + N; p++)&#123;</span><br><span class="line">	sum += *p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="12-3-1-ç¨‹åºï¼šæ•°åˆ—åå‘ï¼ˆæ”¹è¿›ç‰ˆï¼‰"><a href="#12-3-1-ç¨‹åºï¼šæ•°åˆ—åå‘ï¼ˆæ”¹è¿›ç‰ˆï¼‰" class="headerlink" title="12.3.1    ç¨‹åºï¼šæ•°åˆ—åå‘ï¼ˆæ”¹è¿›ç‰ˆï¼‰"></a>12.3.1    ç¨‹åºï¼šæ•°åˆ—åå‘ï¼ˆæ”¹è¿›ç‰ˆï¼‰</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Reverses a series of numbers (pointer version)</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="meta">#<span class="meta-keyword">define</span> N 10</span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> a[N], *p;</span><br><span class="line"></span><br><span class="line"> 	<span class="comment">//è¾“å…¥Nä¸ªæ•°ç»„å­˜å‚¨åˆ°æ•°ç»„ä¸­</span></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter %d numbers\n"</span>, N);</span><br><span class="line"> 	<span class="keyword">for</span>(p = a; p &lt; a + N; p++)&#123;</span><br><span class="line"> 		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, p);</span><br><span class="line"> 	&#125;</span><br><span class="line"></span><br><span class="line"> 	<span class="comment">//é€†å‘æ‰“å°æ‰€æœ‰æ•°ç»„å…ƒç´ </span></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"In reverse order:"</span>);</span><br><span class="line"> 	<span class="keyword">for</span>(p = a + N <span class="number">-1</span>; p &gt;= a; p--)&#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">" %d"</span>, *p);</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ ./reverse2                             </span><br><span class="line"> Enter 10 numbers</span><br><span class="line"> 1 2 3 4 5 6 7 8 9 0</span><br><span class="line"> In reverse order: 0 9 8 7 6 5 4 3 2 1</span><br></pre></td></tr></table></figure>
<h3 id="12-3-2-æ•°ç»„å‹å®é™…å‚æ•°ï¼ˆæ”¹è¿›ç‰ˆï¼‰"><a href="#12-3-2-æ•°ç»„å‹å®é™…å‚æ•°ï¼ˆæ”¹è¿›ç‰ˆï¼‰" class="headerlink" title="12.3.2    æ•°ç»„å‹å®é™…å‚æ•°ï¼ˆæ”¹è¿›ç‰ˆï¼‰"></a>12.3.2    æ•°ç»„å‹å®é™…å‚æ•°ï¼ˆæ”¹è¿›ç‰ˆï¼‰</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ•°ç»„ä½œä¸ºå®å‚ä¼ é€’ç»™å‡½æ•°æ˜¯æ˜¯ä½œä¸ºæŒ‡é’ˆä¼ é€’çš„ï¼ˆä¼ å¼•ç”¨ï¼‰ï¼Œè€Œä¸ä¼šå¤åˆ¶æ•°ç»„ã€‚</p>
</blockquote>
<ul>
<li><p>å› ä¸ºæ²¡æœ‰å¯¹æ•°ç»„è¿›è¡Œå¤åˆ¶ï¼Œæ‰€ä»¥æ•°ç»„ä½œä¸ºå®é™…å‚æ•°ä¸ä¼šé˜²æ­¢åŸæ•°ç»„è¢«ä¿®æ”¹<br><strong>é˜²æ”¹å˜ï¼š</strong>ä¸ºäº†æŒ‡æ˜æ•°ç»„å½¢å¼å‚æ•°ä¸ä¼šæ”¹å˜ï¼Œå¯ä»¥åœ¨å®ƒçš„å£°æ˜ä¸­åŒ…å«å•è¯<code>const</code></p>
</li>
<li><p>ç»™å‡½æ•°ä¼ é€’æ•°ç»„æ‰€éœ€çš„æ—¶é—´ä¸ä¾èµ–äºæ•°ç»„çš„å¤§å°</p>
</li>
<li>å£°æ˜å½¢å‚æ—¶ï¼Œæ•°ç»„å‹å¼å’ŒæŒ‡é’ˆå½¢å¼ç­‰ä»·ï¼Œç¼–è¯‘å™¨å¤„ç†è¿™ä¸¤ç±»å£°æ˜å°±å¥½åƒå®ƒä»¬æ˜¯å®Œå…¨ä¸€æ ·çš„<br><strong>å±€é™ï¼š</strong>ä¸é€‚ç”¨äºæ™®é€šå˜é‡çš„å£°æ˜</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>];<span class="comment">//ä¼šå¯¼è‡´ç¼–è¯‘å™¨ä¸º10ä¸ªè¯ä¹¦é¢„ç•™ç©ºé—´</span></span><br><span class="line"><span class="keyword">int</span> *a;<span class="comment">//ä¼šå¯¼è‡´ç¼–è¯‘å™¨ä¸ºæŒ‡é’ˆå˜é‡åˆ†é…ç©ºé—´</span></span><br></pre></td></tr></table></figure>
<ul>
<li>å¯ä»¥ç»™å½¢å¼å‚æ•°ä¸ºæ•°ç»„çš„å‡½æ•°ä¼ é€’æ•°ç»„çš„â€œç‰‡æ®µâ€</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find_largest</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i, max;</span><br><span class="line">	max = a[<span class="number">0</span>];</span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">1</span>; i &lt; n; i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(a[i] &gt; max)&#123;</span><br><span class="line">			max = a[i];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	return max;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> N = <span class="number">4</span>, b = [<span class="number">2</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> larget = find_largest(b, N);<span class="comment">//ä¼šæŠŠæ•°ç»„bçš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„åœ°å€èµ‹ç»™aï¼Œæ•°ç»„æœ¬èº«å¹¶æ²¡æœ‰å¤åˆ¶</span></span><br></pre></td></tr></table></figure>
<h3 id="12-3-3-ç”¨æŒ‡é’ˆä½œä¸ºæ•°ç»„å"><a href="#12-3-3-ç”¨æŒ‡é’ˆä½œä¸ºæ•°ç»„å" class="headerlink" title="12.3.3    ç”¨æŒ‡é’ˆä½œä¸ºæ•°ç»„å"></a>12.3.3    ç”¨æŒ‡é’ˆä½œä¸ºæ•°ç»„å</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆé™¤äº†å¯ä»¥é€šè¿‡æŒ‡é’ˆçš„æ–¹å¼æ“ä½œæ•°ç»„å¤–ï¼Œè¿˜å¯ä»¥å°†è¯¥æŒ‡é’ˆå½“ä½œæ•°ç»„æ¥ä½¿ç”¨ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 100</span></span><br><span class="line"><span class="keyword">int</span> a[N], i, sum = <span class="number">0</span>, *p = a;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; N; i++)&#123;</span><br><span class="line">	sum += p[i];<span class="comment">//*(p+i)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="12-4-æŒ‡é’ˆå’Œå¤šç»´æ•°ç»„"><a href="#12-4-æŒ‡é’ˆå’Œå¤šç»´æ•°ç»„" class="headerlink" title="12.4    æŒ‡é’ˆå’Œå¤šç»´æ•°ç»„"></a>12.4    æŒ‡é’ˆå’Œå¤šç»´æ•°ç»„</h2><h3 id="12-4-1-å¤„ç†å¤šç»´æ•°ç»„çš„å…ƒç´ "><a href="#12-4-1-å¤„ç†å¤šç»´æ•°ç»„çš„å…ƒç´ " class="headerlink" title="12.4.1    å¤„ç†å¤šç»´æ•°ç»„çš„å…ƒç´ "></a>12.4.1    å¤„ç†å¤šç»´æ•°ç»„çš„å…ƒç´ </h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯ä»¥é€šè¿‡æŒ‡é’ˆé€’å¢çš„æ–¹å¼è®¿é—®åˆ°å¤šç»´æ•°ç»„çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œå› ä¸ºcè¯­è¨€å§‹ç»ˆæŒ‰ç…§é¡ºåºå­˜å‚¨å¤šç»´æ•°ç»„çš„å…ƒç´ ã€‚</p>
</blockquote>
<p><em>æ•°ç»„éå†ï¼ˆæ•°ç»„ä¸‹æ ‡çš„æ–¹å¼ï¼‰</em></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> row, col;</span><br><span class="line"><span class="comment">//å°†æ•°ç»„å…ƒç´ åˆå§‹åŒ–ä¸º0</span></span><br><span class="line"><span class="keyword">for</span>(row = <span class="number">0</span>; row &lt; NUM_ROWS; row++)&#123;</span><br><span class="line">	<span class="keyword">for</span>(col = <span class="number">0</span>; col &lt; NUM_COLS; col++)&#123;</span><br><span class="line">		a[row][col] = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>æ•°ç»„éå†ï¼ˆæŒ‡é’ˆçš„æ–¹å¼ï¼‰</em></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> *p;</span><br><span class="line"><span class="keyword">for</span>(p = &amp;a[<span class="number">0</span>][<span class="number">0</span>]; p &lt;= &amp;a[NUMROWS<span class="number">-1</span>][NUM_COLS<span class="number">-1</span>]; P++)&#123;</span><br><span class="line">	*p = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="12-4-2-å¤„ç†å¤šç»´æ•°ç»„çš„è¡Œ"><a href="#12-4-2-å¤„ç†å¤šç»´æ•°ç»„çš„è¡Œ" class="headerlink" title="12.4.2    å¤„ç†å¤šç»´æ•°ç»„çš„è¡Œ"></a>12.4.2    å¤„ç†å¤šç»´æ•°ç»„çš„è¡Œ</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>äºŒç»´æ•°ç»„ç¬¬<code>i</code>(ä»0å¼€å§‹)è¡Œç¬¬ä¸€ä¸ªå…ƒç´ çš„åœ°å€<br><code>a[i]</code> == <code>*(a + i)</code> ==<code>&amp;a[i][0]</code> == <code>&amp;(*(a[i] + 0))</code> == <code>&amp;*a[i]</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a[NUM_ROWS][NUM_COLS], *p, i;</span><br><span class="line">...</span><br><span class="line"><span class="comment">//åˆå§‹åŒ–açš„ç¬¬iè¡Œå…ƒç´ ä¸º0</span></span><br><span class="line"><span class="keyword">for</span>(p = a[i]; p &lt; a[i] + NUM_COLS; p++)&#123;</span><br><span class="line">	*p = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="12-4-3-ç”¨å¤šç»´æ•°ç»„åä½œä¸ºæŒ‡é’ˆ"><a href="#12-4-3-ç”¨å¤šç»´æ•°ç»„åä½œä¸ºæŒ‡é’ˆ" class="headerlink" title="12.4.3    ç”¨å¤šç»´æ•°ç»„åä½œä¸ºæŒ‡é’ˆ"></a>12.4.3    ç”¨å¤šç»´æ•°ç»„åä½œä¸ºæŒ‡é’ˆ</h3><p><strong>æŒ‡é’ˆçš„æŒ‡é’ˆï¼š</strong><code>int a[10], b[10][10];</code></p>
<blockquote>
<p><code>a</code>å¯ä»¥çœ‹ä½œæ˜¯<code>int *</code>å‹çš„æŒ‡é’ˆï¼Œè€Œ<code>b</code>ç”¨ä½œæŒ‡é’ˆæ—¶åˆ™æ˜¯<code>int **</code>å‹çš„ï¼ˆæŒ‡é’ˆæŸä¸ªæ•´æ•°çš„æŒ‡é’ˆçš„æŒ‡é’ˆï¼‰ã€‚</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/09/11 æŒ‡é’ˆ/" itemprop="url">
                  11 æŒ‡é’ˆ
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-09T23:05:35+08:00" content="2016-05-09">
              2016-05-09
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/09/11 æŒ‡é’ˆ/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/09/11 æŒ‡é’ˆ/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>å­—èŠ‚(byte)ï¼š</strong>å¤§å¤šæ•°ç°ä»£è®¡ç®—æœºç”¨å­—èŠ‚æ¥åˆ†å‰²å†…å­˜ï¼Œæ¯ä¸ªå­—èŠ‚å¯ä»¥å­˜å‚¨8ä½ä¿¡æ¯ã€‚æ¯ä¸ªå­—èŠ‚éƒ½æœ‰å”¯ä¸€çš„åœ°å€ï¼Œç”¨æ¥å’Œå†…å­˜ä¸­çš„å…¶ä»–å­—èŠ‚è¿›è¡ŒåŒºåˆ«ã€‚<br><strong>å˜é‡åœ¨å†…å­˜ä¸­çš„åœ°å€ï¼š</strong>ç¨‹åºä¸­çš„æ¯ä¸ªå˜é‡å æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå†…å­˜å­—èŠ‚ï¼ŒæŠŠç¬¬ä¸€ä¸ªå­—èŠ‚çš„åœ°å€ç§°ä¸ºå˜é‡çš„åœ°å€ã€‚<br><strong>æŒ‡é’ˆå˜é‡ï¼šï¼ˆpointer variableï¼‰</strong>è™½ç„¶å¯ä»¥ç”¨æ•´æ•°è¡¨ç¤ºåœ°å€ï¼Œä½†æ˜¯å…¶å–å€¼å•ä½å¯èƒ½ä¸åŒäºæ•´æ•°çš„èŒƒå›´ï¼Œæ‰€ä»¥ä¸€å®šä¸èƒ½ç”¨æ™®é€šæ•´å‹å˜é‡å­˜å‚¨åœ°å€ã€‚ä½†æ˜¯ï¼Œå¯ä»¥ç”¨çƒ­ç†Ÿçš„æŒ‡é’ˆå˜é‡å­˜å‚¨åœ°å€ã€‚<br><strong>æŒ‡é’ˆï¼š</strong>åœ¨ç”¨æŒ‡é’ˆå˜é‡på­˜å‚¨å˜é‡içš„åœ°å€æ—¶ï¼Œæˆ‘ä»¬è¯´æˆæ˜¯pâ€œæŒ‡å‘â€iã€‚æ¢å¥è¯è¯´ï¼ŒæŒ‡é’ˆå°±æ˜¯åœ°å€ï¼Œè€Œä¸”æŒ‡é’ˆå˜é‡æ˜¯åªå­˜å‚¨åœ°å€çš„å˜é‡ã€‚</p>
<h2 id="11-1å£°æ˜æŒ‡é’ˆå˜é‡"><a href="#11-1å£°æ˜æŒ‡é’ˆå˜é‡" class="headerlink" title="11.1å£°æ˜æŒ‡é’ˆå˜é‡"></a>11.1å£°æ˜æŒ‡é’ˆå˜é‡</h2><p><strong>è¯­æ³•ï¼š</strong><code>int *p</code></p>
<ul>
<li>å¿…é¡»åœ¨æŒ‡é’ˆå˜é‡åå­—å‰æ”¾ç½®<code>*</code></li>
<li>å¯ä»¥å’Œå…¶ä»–å˜é‡ä¸€èµ·å‡ºç°åœ¨å£°æ˜ä¸­</li>
<li>æ¯ä¸ªæŒ‡é’ˆå˜é‡å”¯ä¸€æŒ‡å‘ç‰¹å®šç±»å‹ï¼ˆå¼•ç”¨ç±»å‹ï¼‰çš„å¯¹è±¡</li>
<li>å¯¹æŒ‡é’ˆå¯ä»¥æŒ‡å‘çš„å¼•ç”¨ç±»å‹æ²¡æœ‰é™åˆ¶ï¼Œç”šè‡³å¯ä»¥æŒ‡å‘å¦ä¸€ä¸ªæŒ‡é’ˆã€‚</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i, i, a[<span class="number">10</span>], *p;</span><br></pre></td></tr></table></figure>
<h2 id="11-2-å–åœ°å€è¿ç®—ç¬¦å’Œé—´æ¥å¯»å€è¿ç®—ç¬¦"><a href="#11-2-å–åœ°å€è¿ç®—ç¬¦å’Œé—´æ¥å¯»å€è¿ç®—ç¬¦" class="headerlink" title="11.2    å–åœ°å€è¿ç®—ç¬¦å’Œé—´æ¥å¯»å€è¿ç®—ç¬¦"></a>11.2    å–åœ°å€è¿ç®—ç¬¦å’Œé—´æ¥å¯»å€è¿ç®—ç¬¦</h2><table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>åç§°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&amp;å˜é‡</code></td>
<td>å–åœ°å€è¿ç®—ç¬¦</td>
<td>æ‰¾åˆ°å˜é‡çš„åœ°å€</td>
</tr>
<tr>
<td><code>*æŒ‡é’ˆå˜é‡</code></td>
<td>é—´æ¥å¯»å€è¿ç®—ç¬¦</td>
<td>æ‰¾åˆ°æŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡</td>
</tr>
</tbody>
</table>
<h3 id="11-2-1-å–åœ°å€è¿ç®—ç¬¦"><a href="#11-2-1-å–åœ°å€è¿ç®—ç¬¦" class="headerlink" title="11.2.1    å–åœ°å€è¿ç®—ç¬¦"></a>11.2.1    å–åœ°å€è¿ç®—ç¬¦</h3><p><strong>å…ˆå£°æ˜åèµ‹å€¼ï¼š</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i, *p;</span><br><span class="line">p = &amp;i;</span><br></pre></td></tr></table></figure>
<p><strong>å£°æ˜çš„åŒæ—¶èµ‹å€¼ï¼š</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i, *p = &amp;i;</span><br></pre></td></tr></table></figure>
<h3 id="11-2-2-é—´æ¥å¯»å€è¿ç®—ç¬¦"><a href="#11-2-2-é—´æ¥å¯»å€è¿ç®—ç¬¦" class="headerlink" title="11.2.2    é—´æ¥å¯»å€è¿ç®—ç¬¦"></a>11.2.2    é—´æ¥å¯»å€è¿ç®—ç¬¦</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸€æ—¦æŒ‡é’ˆå˜é‡æŒ‡å‘æŒ‡å‘äº†å¯¹è±¡ï¼Œå°±å¯ä»¥ä½¿ç”¨<code>*</code>è¿ç®—ç¬¦è®¿é—®å­˜å‚¨åœ¨å¯¹è±¡ä¸­çš„å†…å®¹ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i, *p = &amp;i;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>, *p);<span class="comment">//*pç­‰ä»·äºi</span></span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„ï¼š</strong>ä¸è¦æŠŠé—´æ¥å¯»å€è¿ç®—ç¬¦ç”¨äºæœªåˆå§‹åŒ–çš„æŒ‡é’ˆå˜é‡ã€‚å¦åˆ™ä¸€æ—¦æ”¹å˜æœªçŸ¥çš„å†…å­˜å•å…ƒå¯èƒ½ä¼šå¯¼è‡´ä¸è§„å¾‹çš„è¡Œä¸ºæˆ–æ“ä½œç³»ç»Ÿçš„å´©æºƒã€‚</p>
<h2 id="11-3-æŒ‡é’ˆèµ‹å€¼"><a href="#11-3-æŒ‡é’ˆèµ‹å€¼" class="headerlink" title="11.3    æŒ‡é’ˆèµ‹å€¼"></a>11.3    æŒ‡é’ˆèµ‹å€¼</h2><blockquote>
<p><strong>å‰æï¼š</strong>ä¸¤ä¸ªæŒ‡é’ˆå…·æœ‰ç›¸åŒçš„ç±»å‹</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i, j, *p, *q;</span><br><span class="line">p = &amp;i;</span><br><span class="line">q = p;<span class="comment">//æŠŠiçš„åœ°å€å³èµ‹å€¼ç»™äº†pï¼Œæ­¤æ—¶å³ä¸¤ä¸ªæŒ‡é’ˆåŒæ—¶æŒ‡å‘i</span></span><br></pre></td></tr></table></figure>
<h2 id="11-4-æŒ‡é’ˆä½œä¸ºå®é™…å‚æ•°"><a href="#11-4-æŒ‡é’ˆä½œä¸ºå®é™…å‚æ•°" class="headerlink" title="11.4    æŒ‡é’ˆä½œä¸ºå®é™…å‚æ•°"></a>11.4    æŒ‡é’ˆä½œä¸ºå®é™…å‚æ•°</h2><blockquote>
<p><strong>èƒŒæ™¯ï¼š</strong>cè¯­è¨€çš„å‚æ•°ä¼ é€’æœºåˆ¶ä¸ºâ€œå€¼ä¼ é€’â€ï¼Œå‚æ•°ä¼ é€’è¿›æ¥çš„æ˜¯å˜é‡çš„å‰¯æœ¬ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> int_part;</span><br><span class="line"><span class="keyword">float</span> frace_part;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/*å£°æ˜*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">decompose</span><span class="params">(<span class="keyword">float</span> x, <span class="keyword">int</span> *int_part, <span class="keyword">float</span> *frac_part)</span></span>;</span><br><span class="line"><span class="comment">//æˆ–void decompose(float x, int *, float *);</span></span><br><span class="line">decompose(<span class="number">3.1415926</span>, &amp;i, &amp;f);</span><br><span class="line"><span class="comment">/*è°ƒç”¨*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*å®šä¹‰*/</span></span><br><span class="line"><span class="comment">/**</span><br><span class="line">* å–å‡ºä¸€ä¸ªæµ®ç‚¹æ•°çš„æ•´æ•°éƒ¨åˆ†å’Œå°æ•°éƒ¨å¹¶åˆ†åˆ«èµ‹å€¼ç»™ä¸¤ä¸ªå¤–éƒ¨å˜é‡</span><br><span class="line">* @param x ç›®æ ‡æµ®ç‚¹æ•°</span><br><span class="line">* @param *int_part å­˜å‚¨æ•´æ•°éƒ¨åˆ†çš„åœ°å€</span><br><span class="line">* @param *fract_part å­˜å‚¨å°æ•°éƒ¨åˆ†çš„å˜é‡</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">decompose</span><span class="params">(<span class="keyword">float</span> x, <span class="keyword">int</span> *int_part, <span class="keyword">float</span> *fract_part)</span></span>&#123;</span><br><span class="line">	*int_part = (int) x;</span><br><span class="line">	*fract_part = x - *int_part;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="11-4-1-ç¨‹åºï¼šæ‰¾å‡ºæ•°ç»„ä¸­çš„æœ€å¤§å…ƒç´ å’Œæœ€å°å…ƒç´ "><a href="#11-4-1-ç¨‹åºï¼šæ‰¾å‡ºæ•°ç»„ä¸­çš„æœ€å¤§å…ƒç´ å’Œæœ€å°å…ƒç´ " class="headerlink" title="11.4.1    ç¨‹åºï¼šæ‰¾å‡ºæ•°ç»„ä¸­çš„æœ€å¤§å…ƒç´ å’Œæœ€å°å…ƒç´ "></a>11.4.1    ç¨‹åºï¼šæ‰¾å‡ºæ•°ç»„ä¸­çš„æœ€å¤§å…ƒç´ å’Œæœ€å°å…ƒç´ </h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Finds the largest and smallest elements in an array</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"> <span class="meta">#<span class="meta-keyword">define</span> N 10</span></span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">max_min</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> n, <span class="keyword">int</span> *max, <span class="keyword">int</span> *min)</span></span>;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> b[N], i, big, small;</span><br><span class="line"></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter %d numbers:"</span>, N);</span><br><span class="line"> 	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; N; i++)&#123;</span><br><span class="line"> 		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;b[i]);</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	max_min(b, N, &amp;big, &amp;small);</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Largest: %d\n"</span>, big);</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"smallest: %d\n"</span>, small);</span><br><span class="line"></span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * æ‰¾å‡ºæœ€å¤§å€¼å’Œæœ€å°å€¼å¹¶å°†ç»“æœèµ‹ç»™å“åº”æŒ‡é’ˆå¯¹åº”çš„å˜é‡</span><br><span class="line"> * @param a   æ•°ç»„</span><br><span class="line"> * @param n   æ•°ç»„å¤§å°</span><br><span class="line"> * @param max å­˜å‚¨æœ€å¤§å€¼çš„å˜é‡</span><br><span class="line"> * @param min å­˜å‚¨æœ€å°å€¼çš„å˜é‡</span><br><span class="line"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">max_min</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> n, <span class="keyword">int</span> *max, <span class="keyword">int</span> *min)</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> i;</span><br><span class="line"> 	*max = *min = a[<span class="number">0</span>];</span><br><span class="line"> 	<span class="keyword">for</span>(i = <span class="number">1</span>; i &lt; n; i++)&#123;</span><br><span class="line"> 		<span class="keyword">if</span>(a[i] &gt; *max)&#123;</span><br><span class="line"> 			*max = a[i];</span><br><span class="line"> 		&#125;<span class="keyword">else</span> <span class="keyword">if</span>(a[i] &lt; *min)&#123;</span><br><span class="line"> 			*min = a[i];</span><br><span class="line"> 		&#125;</span><br><span class="line"> 	&#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ ./maxmin </span><br><span class="line"> Enter 10 numbers:1 2 3 4 5 6 7 8 9 10</span><br><span class="line"> Largest: 10</span><br><span class="line"> smallest: 1</span><br></pre></td></tr></table></figure>
<h3 id="11-4-2-ç”¨constä¿æŠ¤å®é™…å‚æ•°"><a href="#11-4-2-ç”¨constä¿æŠ¤å®é™…å‚æ•°" class="headerlink" title="11.4.2    ç”¨constä¿æŠ¤å®é™…å‚æ•°"></a>11.4.2    ç”¨constä¿æŠ¤å®é™…å‚æ•°</h3><p><strong>ä½¿ç”¨æŒ‡é’ˆæ›¿ä»£å˜é‡å‰¯æœ¬ï¼š</strong>å¦‚æœéœ€è¦å¤§é‡çš„å­˜å‚¨ç©ºé—´ï¼Œé‚£ä¹ˆä¼ é€’å˜é‡çš„å€¼å¯èƒ½æµªè´¹æ—¶é—´å’Œç©ºé—´ã€‚<br><strong>constï¼š</strong>æ”¾åœ¨å½¢å¼å‚æ•°çš„ç±»å‹è¯´æ˜ä¹‹å‰ï¼Œè¯æ˜å‡½æ•°ä¸ä¼šæ”¹å˜ä¼ é€’ç»™å‡½æ•°çš„æŒ‡é’ˆæ‰€æŒ‡å‘çš„å¯¹è±¡ã€‚è¯•å›¾æ”¹å˜ç”¨<code>const</code>ä¿®é¥°çš„å½¢å‚å¯¹åº”çš„å®å‚ä¼šå¼•å‘ç¼–è¯‘å™¨å‘å‡ºç‰¹å®šæ¶ˆæ¯ã€‚</p>
<h2 id="11-5-æŒ‡é’ˆä½œä¸ºè¿”å›å€¼"><a href="#11-5-æŒ‡é’ˆä½œä¸ºè¿”å›å€¼" class="headerlink" title="11.5    æŒ‡é’ˆä½œä¸ºè¿”å›å€¼"></a>11.5    æŒ‡é’ˆä½œä¸ºè¿”å›å€¼</h2><p><strong>ç”¨é€”ï¼š</strong>å‡½æ•°è¿”å›ç»“æœçš„å†…å­˜ä½ç½®è€Œä¸æ˜¯è¿”å›å€¼ã€‚<br><strong>åœºæ™¯ï¼š</strong></p>
<ol>
<li>è¿”å›æŒ‡å‘å¤–éƒ¨å˜é‡çš„æŒ‡é’ˆ</li>
<li>è¿”å›å£°æ˜ä¸º<code>static</code>çš„å±€éƒ¨å˜é‡çš„æŒ‡é’ˆ</li>
<li><strong>é™åˆ¶ï¼š</strong>æ°¸è¿œä¸ä¼šè¿”å›æŒ‡å‘è‡ªåŠ¨å±€éƒ¨å˜é‡çš„æŒ‡é’ˆï¼Œå› ä¸ºå‡½æ•°è¿”å›åå±€éƒ¨å˜é‡çš„å­˜å‚¨ç©ºé—´å°±ä¸å­˜åœ¨äº†ã€‚</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> *<span class="title">max</span><span class="params">(<span class="keyword">int</span> *a, <span class="keyword">int</span> *b)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(*a &gt; *b)&#123;</span><br><span class="line">		return a;</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		return b;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> *p, x, y;</span><br><span class="line">p = max(*x, &amp;y);</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/09/10 ç¨‹åºç»“æ„/" itemprop="url">
                  10 ç¨‹åºç»“æ„
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-09T22:53:52+08:00" content="2016-05-09">
              2016-05-09
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/09/10 ç¨‹åºç»“æ„/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/09/10 ç¨‹åºç»“æ„/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="10-1-å±€éƒ¨å˜é‡"><a href="#10-1-å±€éƒ¨å˜é‡" class="headerlink" title="10.1    å±€éƒ¨å˜é‡"></a>10.1    å±€éƒ¨å˜é‡</h2><p><strong>å±€éƒ¨ï¼š</strong>åœ¨å‡½æ•°ä½“å†…å£°æ˜çš„å˜é‡ç§°ä¸ºç›¸å¯¹äºå‡½æ•°çš„å±€éƒ¨ã€‚<br><strong>å­˜å‚¨æœŸé™ï¼ˆstorage durationï¼‰ï¼š</strong>è°ƒç”¨é—­åˆå‡½æ•°æ—¶â€œè‡ªåŠ¨â€åˆ†é…å±€éƒ¨å˜é‡çš„å­˜å‚¨å•å…ƒï¼Œå‡½æ•°è¿”å›æ—¶æ”¶å›åˆ†é…ã€‚<br><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li><strong>è‡ªåŠ¨å­˜å‚¨æœŸé™ï¼š</strong>è°ƒç”¨é—­åˆå‡½æ•°æ—¶â€œè‡ªåŠ¨â€åˆ†é…å±€éƒ¨å˜é‡çš„å­˜å‚¨å•å…ƒï¼Œå‡½æ•°è¿”å›æ—¶æ”¶å›åˆ†é…ã€‚åœ¨é—­åˆå‡½æ•°è¿”å›æ—¶æ”¶å›åˆ†é…ã€‚</li>
<li><strong>ç¨‹åºå¿«ä½œç”¨åŸŸï¼š</strong>å˜é‡çš„ä½œç”¨åŸŸæ˜¯å¯ä»¥å‚è€ƒå˜é‡çš„ç¨‹åºæ–‡æœ¬çš„éƒ¨åˆ†ã€‚ä»å˜é‡å£°æ˜çš„ç‚¹å¼€å§‹ä¸€ç›´åˆ°é—­åˆå‡½æ•°çš„æœ«å°¾ã€‚å±€éƒ¨å˜é‡æ‹¥æœ‰ç¨‹åºå—ä½œç”¨åŸŸã€‚</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">log2</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">   <span class="keyword">int</span> <span class="built_in">log</span> = <span class="number">0</span>;<span class="comment">/*å±€éƒ¨å˜é‡*/</span></span><br><span class="line">   <span class="keyword">while</span>(n &gt; <span class="number">1</span>)&#123;</span><br><span class="line">     n /= <span class="number">2</span>;</span><br><span class="line">     <span class="built_in">log</span>++;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="10-1-1-é™æ€å­˜å‚¨æœŸé™ï¼šstatic"><a href="#10-1-1-é™æ€å­˜å‚¨æœŸé™ï¼šstatic" class="headerlink" title="10.1.1 é™æ€å­˜å‚¨æœŸé™ï¼šstatic"></a>10.1.1 é™æ€å­˜å‚¨æœŸé™ï¼š<code>static</code></h3><p><strong>ç‰¹ç‚¹ï¼š</strong>å…·æœ‰é™æ€å­˜å‚¨æœŸé™çš„å˜é‡æ‹¥æœ‰æ°¸ä¹…çš„å­˜å‚¨å•å…ƒï¼Œæ‰€ä»¥ä¼šåœ¨æ•´ä¸ªç¨‹åºæ‰§è¡ŒæœŸé—´ä¼šä¿ç•™å˜é‡çš„å€¼ã€‚</p>
<ol>
<li>é™æ€å±€éƒ¨å˜é‡å§‹ç»ˆæœ‰ç¨‹åºå—ä½œç”¨åŸŸï¼Œå®ƒå¯¹å…¶ä»–å‡½æ•°è€Œè¨€æ˜¯ä¸å¯è§çš„</li>
<li>é™æ€å˜é‡æ˜¯éšè—æ¥è‡ªå…¶ä»–å‡½æ•°çš„æ•°æ®çš„åœ°æ–¹ï¼Œä½†æ˜¯å®ƒä¼šä¸ºå°†æ¥åŒä¸€ä¸ªå‡½æ•°çš„è°ƒç”¨ä¿ç•™è¿™äº›æ•°æ®ã€‚</li>
</ol>
<p><strong>å£°æ˜æ–¹å¼ï¼š</strong>åœ¨å±€éƒ¨å˜é‡å£°æ˜ä¸­æ”¾ç½®å•è¯<code>static</code>å¯ä»¥ä½¿ç”¨å˜é‡ä»è‡ªåŠ¨å­˜å‚¨æœŸé™å˜ä¸ºé™æ€å­˜å‚¨æœŸé™ã€‚</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">  <span class="comment">/*å› ä¸ºå±€éƒ¨å˜é‡iå·²ç»å£°æ˜ä¸ºstaticï¼Œæ‰€ä»¥åœ¨ç¨‹åºæ‰§è¡ŒæœŸé—´å®ƒå æœ‰åŒæ ·çš„å­˜å‚¨å•å…ƒã€‚åœ¨fè¿”å›æ—¶ï¼Œå˜é‡iä¸ä¼šä¸¢å¤±è‡ªèº«çš„å€¼ã€‚*/</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">int</span> i;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="10-1-2-å½¢å¼å‚æ•°"><a href="#10-1-2-å½¢å¼å‚æ•°" class="headerlink" title="10.1.2 å½¢å¼å‚æ•°"></a>10.1.2 å½¢å¼å‚æ•°</h3><p><strong>å’Œå±€éƒ¨å˜é‡æ¯”è¾ƒ</strong></p>
<ul>
<li><strong>ç›¸åŒç‚¹ï¼š</strong>è‡ªåŠ¨å­˜å‚¨æœŸé™ã€å—çº§ä½œç”¨åŸŸ</li>
<li><strong>ä¸åŒç‚¹ï¼š</strong>åœ¨æ¯æ¬¡å‡½æ•°è°ƒç”¨æ—¶å¯¹å½¢å¼å‚æ•°è‡ªåŠ¨è¿›è¡Œåˆå§‹åŒ–ï¼ˆè°ƒç”¨ä¸­é€šè¿‡èµ‹å€¼è·å¾—å®é™…å‚æ•°çš„å€¼ï¼‰</li>
</ul>
<h2 id="10-2-å¤–éƒ¨å˜é‡"><a href="#10-2-å¤–éƒ¨å˜é‡" class="headerlink" title="10.2    å¤–éƒ¨å˜é‡"></a>10.2    å¤–éƒ¨å˜é‡</h2><blockquote>
<p><strong>åˆåï¼š</strong>å…¨å±€å˜é‡<br><strong>å£°æ˜ä½ç½®ï¼š</strong>å¤–éƒ¨å˜é‡æ˜¯å£°æ˜åœ¨ä»»ä½•å‡½æ•°ä½“å¤–çš„ã€‚<br><strong>æ€§è´¨ï¼š</strong></p>
<ul>
<li>é™æ€å­˜å‚¨æœŸé™ï¼šåŒå£°æ˜çš„staticçš„å±€éƒ¨å˜é‡ä¸€æ ·ï¼Œå¤–éƒ¨å˜é‡æ‹¥æœ‰é™æ€å­˜å‚¨æœŸé™ã€‚å­˜å‚¨åœ¨å¤–éƒ¨å˜é‡ä¸­çš„å€¼å°†æ°¸ä¹…ä¿ç•™ä¸‹æ¥ã€‚</li>
<li>æ–‡ä»¶ä½œç”¨åŸŸï¼šä»å˜é‡å£°æ˜çš„ç‚¹å¼€å§‹ä¸€ç›´åˆ°é—­åˆæ–‡ä»¶çš„æœ«å°¾ã€‚è·Ÿéšåœ¨å¤–éƒ¨å˜é‡å£°æ˜åçš„æ‰€æœ‰å‡½æ•°éƒ½å¯ä»¥è®¿é—®å®ƒã€‚</li>
</ul>
</blockquote>
<h3 id="10-2-1-ç¨‹åºï¼šç”¨å¤–éƒ¨å˜é‡å®ç°æ ˆ"><a href="#10-2-1-ç¨‹åºï¼šç”¨å¤–éƒ¨å˜é‡å®ç°æ ˆ" class="headerlink" title="10.2.1    ç¨‹åºï¼šç”¨å¤–éƒ¨å˜é‡å®ç°æ ˆ"></a>10.2.1    ç¨‹åºï¼šç”¨å¤–éƒ¨å˜é‡å®ç°æ ˆ</h3><blockquote>
<p><strong>æ ˆï¼ˆstackï¼‰ï¼š</strong>åƒæ•°ç»„ä¸€æ ·ï¼Œæ ˆå¯ä»¥å­˜å‚¨å…·æœ‰ç›¸åŒæ•°æ®ç±»å‹çš„å¤šä¸ªæ•°æ®é¡¹ã€‚<br><strong>æ“ä½œæ–¹å¼ï¼š</strong>LIFO(åè¿›å…ˆå‡º)ï¼Œå ä¸­æ•°æ®é¡¹çš„æ“ä½œæ˜¯ååˆ†å—é™åˆ¶çš„ï¼Œå¯ä»¥å¿˜æ ˆä¸­å‹å…¥æ•°æ®ï¼Œæˆ–è€…ä»æ ˆä¸­å¼¹å‡ºæ•°æ®é¡¹ã€‚ç¦æ­¢æµ‹è¯•æˆ–ä¿®æ”¹ä¸åœ¨æ ˆé¡¶çš„æ•°æ®é¡¹ã€‚<br><strong>cè¯­è¨€å®ç°ï¼š</strong>æŠŠå…ƒç´ å­˜å‚¨åœ¨æ•°ç»„ä¸­ï¼Œç§°ä¸º<code>constents</code>,å‘½åä¸ºtopçš„ä¸€ä¸ªæ•´å‹å˜é‡ç”¨æ¥æ ‡è®°æ ˆæ ˆé¡¶çš„ä½ç½®ã€‚æ ˆä¸ºç©ºæ—¶ï¼Œtopå€¼ä¸º0ã€‚ä¸ºäº†å¾€æ ˆä¸­å‹å…¥æ•°æ®é¡¹ï¼Œå¯ä»¥æŠŠæ•°æ®é¡¹ç®€å•å­˜å‚¨åœ¨contentsä¸­æ ‡è®°ä¸ºtopçš„ä½ç½®ä¸Šï¼Œç„¶åè‡ªå¢topã€‚å¼¹å‡ºæ•°æ®é¡¹åˆ™è¦æ±‚è‡ªå‡topï¼Œç„¶åç”¨å®ƒä½œä¸º<code>contents</code>ä¸­æ ‡è®°ä¸ºtopçš„ä½ç½®ä¸Šï¼Œè°ˆåè‡ªå¢topã€‚å¼¹å‡ºæ•°æ®é¡¹åˆ™è¦æ±‚è‡ªå‡topï¼Œç„¶åç”¨å®ƒä½œä¸º<code>contents</code>çš„ç´¢å¼•å–å›å¼¹å‡ºçš„æ•°æ®é¡¹ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> STACK_SIZE 100</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TRUE 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FALSE 0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> Bool;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> contents[STACK_SIZE];</span><br><span class="line"><span class="keyword">int</span> top = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * æ¸…ç©ºæ ˆ</span><br><span class="line"> * å°†topæŒ‡é’ˆæŒ‡å‘æ•°ç»„çš„ç¬¬ä¸€é¡¹</span><br><span class="line"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">make_empty</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">	top = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * æ£€æŸ¥æ ˆæ˜¯å¦ä¸ºç©º</span><br><span class="line"> * @return  true:ç©ºï¼›false:éç©º</span><br><span class="line"> */</span></span><br><span class="line"><span class="function">Bool <span class="title">is_empty</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">	return top == <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * æ£€æŸ¥æ ˆæ˜¯å¦å·²æ»¡</span><br><span class="line"> * @return  true:å·²æ»¡ï¼›false:æœªæ»¡</span><br><span class="line"> */</span></span><br><span class="line"><span class="function">Bool <span class="title">is_full</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">	return top == STACK_SIZE;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * å‘æ ˆä¸­å‹å…¥æ•°æ®</span><br><span class="line"> * @param i è¦å‹å…¥çš„æ•°æ®é¡¹</span><br><span class="line"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(is_full())&#123;</span><br><span class="line">		stace_overflow();</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		contents[top++] = i;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * ä»æ ˆä¸­å¼¹å‡ºæ•°æ®é¡¹</span><br><span class="line"> * @return  æ•°æ®é¡¹</span><br><span class="line"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pop</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(is_empty())&#123;</span><br><span class="line">		stack_underflow();</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		return contents[--top];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="10-2-2-å¤–éƒ¨å˜é‡çš„åˆ©ä¸å¼Š"><a href="#10-2-2-å¤–éƒ¨å˜é‡çš„åˆ©ä¸å¼Š" class="headerlink" title="10.2.2 å¤–éƒ¨å˜é‡çš„åˆ©ä¸å¼Š"></a>10.2.2 å¤–éƒ¨å˜é‡çš„åˆ©ä¸å¼Š</h3><blockquote>
<p><strong>åˆ©ï¼š</strong>æœ‰åˆ©äºå¤šä¸ªå‡½æ•°å¿…é¡»å…±äº«ä¸€ä¸ªå˜é‡æˆ–è€…ä¸Šè¿°å‡ ä¸ªå‡½æ•°å…±äº«å¤§é‡å˜é‡ã€‚<br><strong>è”½ï¼š</strong></p>
<ol>
<li>å¯ç»´æŠ¤æ€§å·®ï¼šå¦‚æœæ”¹å˜å¤–éƒ¨å˜é‡ï¼Œé‚£ä¹ˆéœ€è¦æ£€æŸ¥åŒä¸€ä¸ªæ–‡ä»¶ä¸­çš„æ¯ä¸ªå‡½æ•°ï¼Œç¡®è®¤è¯¥æ”¹å˜å¯¹å‡½æ•°çš„å½±å“ã€‚</li>
<li>å¯è¯»æ€§å·®ï¼šå¦‚æœå¤–éƒ¨å˜é‡å‡ºç°é—®é¢˜ï¼Œéš¾ä»¥ç¡®å®šå¯¼è‡´è¿™ä¸ªå€¼å‘ç”Ÿé”™è¯¯çš„å‡½æ•°ã€‚</li>
<li>å¯å¤ç”¨æ€§å·®ï¼šå¾ˆéš¾å†å…¶ä»–åŸç¨‹åºä¸­å¤ç”¨ä¾èµ–äºå¤–éƒ¨å˜é‡çš„å‡½æ•°ã€‚å› ä¸ºä»¥æ¥å¤–éƒ¨å˜é‡çš„å‡½æ•°ä¸æ˜¯â€œç‹¬ç«‹çš„â€ã€‚</li>
</ol>
<p><strong>æŠ€å·§ï¼š</strong>ä¸ºäº†æé«˜å¯é˜…è¯»æ€§å’Œå¯èƒ½çš„é”™è¯¯ï¼Œä½¿ç”¨å¤–éƒ¨å˜é‡æ—¶ï¼Œç¡®ä¿å®ƒä»¬éƒ½æ‹¥æœ‰æœ‰æ„ä¹‰çš„åå­—ã€‚</p>
</blockquote>
<h3 id="10-2-3-ç¨‹åºï¼šçŒœæ•°ï¼ˆç•¥ï¼‰"><a href="#10-2-3-ç¨‹åºï¼šçŒœæ•°ï¼ˆç•¥ï¼‰" class="headerlink" title="10.2.3 ç¨‹åºï¼šçŒœæ•°ï¼ˆç•¥ï¼‰"></a>10.2.3 ç¨‹åºï¼šçŒœæ•°ï¼ˆç•¥ï¼‰</h3><h2 id="10-3-ç¨‹åºå—"><a href="#10-3-ç¨‹åºå—" class="headerlink" title="10.3    ç¨‹åºå—"></a>10.3    ç¨‹åºå—</h2><blockquote>
<p><strong>è¯­æ³•ï¼š</strong></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    å¤šæ¡å£°æ˜</span><br><span class="line">    å¤šæ¡è¯­å¥</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>ä½œç”¨åŸŸï¼š</strong>ç¨‹åºå—ä¸­çš„å˜é‡å…·æœ‰è¿›å…¥ç¨‹åºå—æ—¶ä¸ºå­˜å‚¨å˜é‡åˆ†é…å•å…ƒï¼Œè€Œåœ¨é€€å‡ºç¨‹åºå—æ—¶è§£é™¤åˆ†é…ã€‚<br><strong>å‡½æ•°ä½“ï¼ˆä¹Ÿæ˜¯ç¨‹åºå—ï¼‰æ”¾ç½®ä¸´æ—¶å˜é‡çš„ä¼˜ç‚¹ï¼š</strong></p>
<ol>
<li>é¿å…å‡½æ•°ä½“èµ·å§‹ä½ç½®çš„å£°æ˜ä¸åªæ˜¯ä¸´æ—¶ä½¿ç”¨çš„å˜é‡ç›¸æ··æ·†</li>
<li>å‡å°‘äº†åå­—å†²çª</li>
</ol>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(i &gt; j)&#123;</span><br><span class="line">	<span class="keyword">int</span> temp;</span><br><span class="line">	temp = i;</span><br><span class="line">	i = j;</span><br><span class="line">	j = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="10-4-ä½œç”¨åŸŸ"><a href="#10-4-ä½œç”¨åŸŸ" class="headerlink" title="10.4    ä½œç”¨åŸŸ"></a>10.4    ä½œç”¨åŸŸ</h2><blockquote>
<p><strong>è§„åˆ™ï¼š</strong></p>
<ol>
<li>æ ‡è¯†ç¬¦æ‹¥æœ‰æ–‡ä»¶ä½œç”¨åŸŸï¼Œå³åœ¨æ‰€å£°æ˜çš„é—­åˆç¨‹åºå—å†…æœ‰æ•ˆ</li>
<li>æ–°çš„å£°æ˜ä¸´æ—¶ä¼šâ€œéšè—â€æ—§çš„å£°æ˜</li>
<li>åœ¨ç¨‹åºå—ç»“æŸååé¢ï¼Œè¢«â€œéšè—â€çš„æ ‡è¯†ç¬¦é‡æ–°è·å¾—æ—§çš„å«ä¹‰</li>
</ol>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*ç¬¬1ä¸ª*/</span></span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*ç¬¬2ä¸ª*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">	i = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">g</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">	<span class="comment">/*ç¬¬3ä¸ª*/</span></span><br><span class="line">	<span class="keyword">int</span> i = <span class="number">2</span>;</span><br><span class="line">	<span class="keyword">if</span>(i &gt; <span class="number">0</span>)&#123;</span><br><span class="line">		<span class="comment">/*ç¬¬4ä¸ª*/</span></span><br><span class="line">		<span class="keyword">int</span> i;</span><br><span class="line">		i = <span class="number">3</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	i = <span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">h</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">	i = <span class="number">5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="10-5-æ„å»ºc-ç¨‹åº"><a href="#10-5-æ„å»ºc-ç¨‹åº" class="headerlink" title="10.5    æ„å»ºc ç¨‹åº"></a>10.5    æ„å»ºc ç¨‹åº</h2><p><strong>ç¨‹åºæ„æˆè¦ç´ ï¼š</strong></p>
<ul>
<li>é¢„å¤„ç†æŒ‡ä»¤ï¼šè¯¸å¦‚<code>#include</code>å’Œ<code>#define</code></li>
<li>ç±»å‹å®šä¹‰</li>
<li>å‡½æ•°å£°æ˜å’Œå¤–éƒ¨å˜é‡å£°æ˜</li>
<li>å‡½æ•°å®šä¹‰</li>
</ul>
<p><strong>å»ºè®®ç¼–æ’é¡ºåºï¼š</strong></p>
<ol>
<li>#includeæŒ‡ä»¤</li>
<li>defineæŒ‡ä»¤</li>
<li>ç±»å‹å®šä¹‰ï¼ˆtypedefï¼‰</li>
<li>å¤–éƒ¨å˜é‡å£°æ˜</li>
<li>é™¤mainå‡½æ•°ä¹‹å¤–çš„å‡½æ•°åŸå‹</li>
<li>mainå‡½æ•°çš„å®šä¹‰</li>
<li>å…¶ä»–å‡½æ•°çš„å®šä¹‰</li>
</ol>
<p><strong>å»ºè®®å‡½æ•°æ³¨é‡Šï¼š</strong>ç›’å½¢æ³¨é‡Š</p>
<ul>
<li>å‡½æ•°å</li>
<li>æè¿°å‡½æ•°çš„ç›®çš„</li>
<li>è®¨è®ºæ¯ä¸ªå‚æ•°çš„å«ä¹‰</li>
<li>æè¿°è¿”å›å€¼</li>
<li>ç½—åˆ—ä»»ä½•çš„å‰¯ä½œç”¨</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/09/9 å‡½æ•°/" itemprop="url">
                  9 å‡½æ•°
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-09T19:06:38+08:00" content="2016-05-09">
              2016-05-09
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/09/9 å‡½æ•°/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/09/9 å‡½æ•°/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="9-1-å‡½æ•°çš„å®šä¹‰å’Œè°ƒç”¨"><a href="#9-1-å‡½æ•°çš„å®šä¹‰å’Œè°ƒç”¨" class="headerlink" title="9.1    å‡½æ•°çš„å®šä¹‰å’Œè°ƒç”¨"></a>9.1    å‡½æ•°çš„å®šä¹‰å’Œè°ƒç”¨</h2><blockquote>
<p><strong>è¯­æ³•</strong></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¿”å›ç±»å‹ å‡½æ•°å(å½¢å¼å‚æ•°)&#123;</span><br><span class="line">  å‡½æ•°ä½“</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>ç®€æ</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>ç»„æˆ</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>è¿”å›ç±»å‹ï¼ˆreturn typeï¼‰</td>
<td>æ¯æ¬¡è°ƒç”¨å‡½æ•°è¿”å›æ•°æ®çš„ç±»å‹ï¼Œå½“ä¸éœ€è¦è¿”å›å€¼æ—¶ä½¿ç”¨<code>void</code></td>
</tr>
<tr>
<td>å½¢å¼å‚æ•°ï¼ˆparameterï¼‰</td>
<td>æ¯ä¸€ä¸ªå‚æ•°éƒ½å¿…é¡»æœ‰ç±»å‹ï¼Œæ²¡æœ‰è¡Œå‚ä½¿ç”¨<code>void</code></td>
</tr>
<tr>
<td>å‡½æ•°ä½“ï¼ˆbodyï¼‰</td>
<td>ç”¨<code>{}</code>æ‹¬èµ·æ¥çš„æ‰§è¡Œéƒ¨åˆ†</td>
</tr>
<tr>
<td>å®é™…å‚æ•°ï¼ˆargumentï¼‰</td>
<td>ä¸ºäº†æ¿€æ´»ï¼ˆå³è°ƒç”¨ï¼ˆcallï¼‰ï¼‰å‡½æ•°ï¼Œéœ€è¦å†™å‡ºå‡½æ•°ååŠè·Ÿéšå…¶åçš„å®é™…å‚æ•°åˆ—è¡¨</td>
</tr>
</tbody>
</table>
<h3 id="9-1-1-ç¨‹åºï¼šè®¡ç®—å¹³å‡å€¼"><a href="#9-1-1-ç¨‹åºï¼šè®¡ç®—å¹³å‡å€¼" class="headerlink" title="9.1.1    ç¨‹åºï¼šè®¡ç®—å¹³å‡å€¼"></a>9.1.1    ç¨‹åºï¼šè®¡ç®—å¹³å‡å€¼</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Computes pairwise averages of three numbers</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">float</span> <span class="title">average</span><span class="params">(<span class="keyword">float</span> a, <span class="keyword">float</span> b)</span></span>&#123;</span><br><span class="line"> 	return (a+b) / <span class="number">2</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">float</span> x, y, z;</span><br><span class="line"></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter three numbers:"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%f%f%f"</span>, &amp;x, &amp;y, &amp;z);</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Average of %g and %g: %g\n"</span>, x, y, average(x,y));</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Average of %g and %g: %g\n"</span>, y, z, average(y,z));</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Average of %g and %g: %g\n"</span>, x, z, average(x,z));</span><br><span class="line"></span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ ./average</span><br><span class="line"> Enter three numbers:1 2 3</span><br><span class="line"> Average of 1 and 2: 1.5</span><br><span class="line"> Average of 2 and 3: 2.5</span><br><span class="line"> Average of 1 and 3: 2</span><br></pre></td></tr></table></figure>
<h3 id="9-1-2-ç¨‹åºï¼šæ˜¾ç¤ºå€’æ•°è®¡æ—¶"><a href="#9-1-2-ç¨‹åºï¼šæ˜¾ç¤ºå€’æ•°è®¡æ—¶" class="headerlink" title="9.1.2    ç¨‹åºï¼šæ˜¾ç¤ºå€’æ•°è®¡æ—¶"></a>9.1.2    ç¨‹åºï¼šæ˜¾ç¤ºå€’æ•°è®¡æ—¶</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Prints a countdown</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">print_count</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"T minus %d and counting\n"</span>, n);</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> i;</span><br><span class="line"> 	<span class="keyword">for</span>(i = <span class="number">10</span>; i &gt; <span class="number">0</span>; --i)&#123;</span><br><span class="line"> 		print_count(i);</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">./countdwn </span><br><span class="line">T minus 10 and counting</span><br><span class="line">T minus 9 and counting</span><br><span class="line">T minus 8 and counting</span><br><span class="line">T minus 7 and counting</span><br><span class="line">T minus 6 and counting</span><br><span class="line">T minus 5 and counting</span><br><span class="line">T minus 4 and counting</span><br><span class="line">T minus 3 and counting</span><br><span class="line">T minus 2 and counting</span><br><span class="line">T minus 1 and counting</span><br></pre></td></tr></table></figure>
<h3 id="9-1-3-ç¨‹åºï¼šæ˜¾ç¤ºåŒå…³è¯­"><a href="#9-1-3-ç¨‹åºï¼šæ˜¾ç¤ºåŒå…³è¯­" class="headerlink" title="9.1.3    ç¨‹åºï¼šæ˜¾ç¤ºåŒå…³è¯­"></a>9.1.3    ç¨‹åºï¼šæ˜¾ç¤ºåŒå…³è¯­</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Prints a bad pun</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">print_pun</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"To c, or not to c:that is the question.\n"</span>);</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	print_pun();</span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ./pun2</span><br><span class="line"> To c, or not to c:that is the question.</span><br></pre></td></tr></table></figure>
<h3 id="9-1-4-å‡½æ•°å®šä¹‰"><a href="#9-1-4-å‡½æ•°å®šä¹‰" class="headerlink" title="9.1.4    å‡½æ•°å®šä¹‰"></a>9.1.4    å‡½æ•°å®šä¹‰</h3><blockquote>
<p><strong>å‡½æ•°å®šä¹‰ï¼š</strong></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¿”å›ç±»å‹ å‡½æ•°å(å½¢å¼å‚æ•°)&#123;</span><br><span class="line">  å£°æ˜</span><br><span class="line">  è¯­å¥</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a>è¿”å›å€¼</h4><blockquote>
<p><strong>è§„åˆ™ï¼š</strong></p>
<ul>
<li>å‡½æ•°æ— æ³•è¿”å›æ•°ç»„ï¼Œä½†æ˜¯æ²¡æœ‰å…¶å®ƒå…³äºè¿”å›ç±»å‹çš„é™åˆ¶</li>
<li>å¦‚æœå¿½ç•¥è¿”å›ç±»å‹ï¼Œé‚£ä¹ˆä¼šå‡å®šå‡½æ•°è¿”å›å€¼çš„ç±»å‹æ—¶<code>int</code>å‹</li>
<li>åˆ¶å®šè¿”å›ç±»å‹æ˜¯<code>void</code>å‹è¯´æ˜å‡½æ•°æ²¡æœ‰è¿”å›å€¼</li>
</ul>
<p><strong>æŠ€å·§ï¼š</strong></p>
<ul>
<li>ä¸ºæ¯ä¸ªå‡½æ•°æŒ‡å®šä¸€ä¸ªæ˜æ˜¾çš„è¿”å›ç±»å‹æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ–¹æ³•ï¼ˆ<code>void</code>ä¹Ÿå¯ä»¥çœç•¥ï¼Œæ¯•ç«Ÿç»å…¸cæ²¡æœ‰<code>void</code>æ¦‚å¿µï¼Œä½†ä¸æ¨èè¿™æ ·ï¼‰</li>
<li>å¦‚æœè¿”å›å€¼å¾ˆå†—é•¿ï¼Œæ¯”å¦‚<code>unsigned long int</code>ï¼Œé‚£ä¹ˆæŠŠè¿”å›ç±»å‹å•ç‹¬æ”¾ä¸€è¡Œæ˜¯éå¸¸æœ‰ç”¨çš„</li>
</ul>
</blockquote>
<h4 id="å‚æ•°åˆ—è¡¨"><a href="#å‚æ•°åˆ—è¡¨" class="headerlink" title="å‚æ•°åˆ—è¡¨"></a>å‚æ•°åˆ—è¡¨</h4><blockquote>
<p><strong>è§„åˆ™ï¼š</strong></p>
<ul>
<li>éœ€è¦åœ¨æ¯ä¸ªå½¢å¼å‚æ•°çš„å‰é¢è¯´æ˜å…¶ç±»å‹</li>
<li>å½¢å¼å‚æ•°é—´ç”¨é€—å·è¿›è¡Œåˆ†éš”</li>
<li>å¦‚æœå‡½æ•°æ²¡æœ‰å½¢å¼å‚æ•°ï¼Œé‚£ä¹ˆåœ¨åœ†å£å“ˆæ²¡åº”è¯¥å‡ºç°<code>void</code></li>
<li>å³ä½¿æœ‰äº›è¡Œå‚å…·æœ‰ç›¸åŒæ•°æ®ç±»å‹ï¼Œä¹Ÿå¿…é¡»å¯¹æ¯ä¸ªå½¢å¼å‚æ•°åˆ†åˆ«è¿›è¡Œç±»å‹è¯´æ˜</li>
</ul>
</blockquote>
<h4 id="å‡½æ•°ä½“"><a href="#å‡½æ•°ä½“" class="headerlink" title="å‡½æ•°ä½“"></a>å‡½æ•°ä½“</h4><blockquote>
<p><strong>è§„åˆ™ï¼š</strong></p>
<ul>
<li>å‡½æ•°ä½“å†…å£°æ˜çš„å˜é‡ä¸“å±äºæ­¤å‡½æ•°ï¼Œå…¶å®ƒå‡½æ•°ä¸èƒ½å¯¹è¿™äº›å˜é‡è¿›è¡Œæ£€æŸ¥æˆ–ä¿®æ”¹</li>
<li>å‡½æ•°ä½“å¯ä»¥ä¸ºç©ºï¼Œä»¥åå¯ä»¥å›æ¥ç¼–å†™å®ƒçš„å‡½æ•°ä½“</li>
</ul>
</blockquote>
<h3 id="9-1-5-å‡½æ•°è°ƒç”¨"><a href="#9-1-5-å‡½æ•°è°ƒç”¨" class="headerlink" title="9.1.5    å‡½æ•°è°ƒç”¨"></a>9.1.5    å‡½æ•°è°ƒç”¨</h3><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>[å¼ºåˆ¶è½¬æ¢è¿”å›ç±»å‹] å‡½æ•°å(å®å‚1, å®å‚2 ...);</code><br><strong>æœ‰æ— è¿”å›å€¼çš„å‡½æ•°è°ƒç”¨çš„åŒºåˆ«ï¼š</strong>voidå‹çš„å‡½æ•°è°ƒç”¨æ˜¯è¯­å¥ï¼Œæ‰€ä»¥è°ƒç”¨åè¾¹å§‹ç»ˆè·Ÿç€åˆ†å·ï¼›évoidå‹çš„å‡½æ•°è°ƒç”¨æ˜¯è¡¨è¾¾å¼ã€‚<br><strong>æ³¨æ„ï¼š</strong>ä¸¢æ‰åœ†æ‹¬å·ä»ç„¶æ˜¯åˆæ³•çš„è¡¨è¾¾å¼ï¼Œä½†ä¸èµ·ä»»ä½•ä½œç”¨ï¼Œæœ‰äº›ç¼–è¯‘å™¨ä¼šç»™å‡ºè­¦å‘Šã€‚</p>
</blockquote>
<h4 id="å¼ºåˆ¶è½¬æ¢è¿”å›ç±»å‹"><a href="#å¼ºåˆ¶è½¬æ¢è¿”å›ç±»å‹" class="headerlink" title="[å¼ºåˆ¶è½¬æ¢è¿”å›ç±»å‹]"></a>[å¼ºåˆ¶è½¬æ¢è¿”å›ç±»å‹]</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¾ˆå°‘ç”¨åˆ°ï¼Œå¯ä»¥çœç•¥<br><strong>æŠ€å·§ï¼š</strong>å¯ä»¥å°†è¿”å›å€¼å¼ºåˆ¶ç±»å‹è½¬æ¢æˆ<code>void</code>ï¼Œä½¿åˆ«äººæ¸…æ¥šç¼–å†™è€…ä½¿æ•…æ„æ‰”æ‰è¿”å›å€¼çš„ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">void</span>) <span class="built_in">printf</span>(<span class="string">"Hi, Mom!\n"</span>);</span><br></pre></td></tr></table></figure>
<h3 id="9-1-6-ç¨‹åºï¼šåˆ¤å®šç´ æ•°"><a href="#9-1-6-ç¨‹åºï¼šåˆ¤å®šç´ æ•°" class="headerlink" title="9.1.6    ç¨‹åºï¼šåˆ¤å®šç´ æ•°"></a>9.1.6    ç¨‹åºï¼šåˆ¤å®šç´ æ•°</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Tests whether a number is prime</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="meta">#<span class="meta-keyword">define</span> TRUE 1</span></span><br><span class="line"> <span class="meta">#<span class="meta-keyword">define</span> FALSE 0</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">typedef</span> <span class="keyword">int</span> Bool;</span><br><span class="line"> <span class="function">Bool <span class="title">is_prime</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> divisor;</span><br><span class="line"></span><br><span class="line"> 	<span class="keyword">if</span>(n &lt;= <span class="number">1</span>)&#123;</span><br><span class="line"> 		return FALSE;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="keyword">for</span>(divisor = <span class="number">2</span>; divisor * divisor &lt;= n; divisor++)&#123;</span><br><span class="line"> 		<span class="keyword">if</span>(n % divisor == <span class="number">0</span>)&#123;</span><br><span class="line"> 			return FALSE;</span><br><span class="line"> 		&#125;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	return TRUE;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> n;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter a number:"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line"> 	<span class="keyword">if</span>(is_prime(n))&#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"'Prime'\n"</span>);</span><br><span class="line"> 	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"Not prime\n"</span>);</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ./prime </span><br><span class="line"> Enter a number:34</span><br><span class="line"> Not prime</span><br></pre></td></tr></table></figure>
<h2 id="9-2-å‡½æ•°å£°æ˜"><a href="#9-2-å‡½æ•°å£°æ˜" class="headerlink" title="9.2    å‡½æ•°å£°æ˜"></a>9.2    å‡½æ•°å£°æ˜</h2><blockquote>
<p><strong>èƒŒæ™¯ï¼š</strong>cè¯­è¨€æ²¡æœ‰è¦æ±‚å‡½æ•°çš„å®šä¹‰å¿…é¡»æ”¾ç½®åœ¨<code>main</code>å‡½æ•°çš„å®šä¹‰ä¹‹åã€‚å¦‚æœå‡½æ•°çš„å®šä¹‰åœ¨è°ƒç”¨ä¹‹åï¼Œé‚£ä¹ˆç¼–è¯‘å™¨ä¼šä¸ºè¢«è°ƒç”¨çš„å‡½æ•°çš„å‡½æ•°åšä¸€äº›å‡è®¾ã€‚å¦‚æœå‡è®¾é”™è¯¯ï¼Œåˆ™ç¨‹åºæ— æ³•æ­£å¸¸å·¥ä½œã€‚<br><strong>è¯´æ˜ï¼š</strong>åœ¨è°ƒç”¨å‰å£°æ˜ï¼ˆdeclareï¼‰æ¯ä¸ªå‡½æ•°ï¼Œå‡½æ•°å£°æ˜æ˜¯çš„ç¼–è¯‘å™¨å¯¹å‡½æ•°è¿›è¡Œæ¦‚è¦æµè§ˆï¼Œè€Œå‡½æ•°çš„å®Œæ•´å®šä¹‰ç¨åå†å‡ºç°ã€‚</p>
<blockquote>
<p><strong>å‡½æ•°åŸå‹ï¼ˆfunction prototypeï¼‰ï¼š</strong><code>Q&amp;A</code>ä¸­å°†è¿™ç§å‡½æ•°å£°æ˜ç§°ä¸ºå‡½æ•°åŸå‹ã€‚åŸå‹ä¸ºå¦‚ä½•è°ƒç”¨å‡½æ•°æä¾›äº†ä¸€ä¸ªå®Œæ•´çš„æè¿°ï¼šæä¾›äº†å¤šå°‘å®é™…å‚æ•°ï¼Œè¿™äº›å‚æ•°åº”è¯¥æ˜¯ä»€ä¹ˆç±»å‹ï¼Œä»¥åŠè¿”å›çš„ç»“æœæ˜¯ä»€ä¹ˆç±»å‹ã€‚<br><strong>è¡Œå‚è§„åˆ™ï¼š</strong>å¯ä»¥ä¸å†™å½¢å¼å‚æ•°çš„åå­—ï¼Œåªè¦æ˜¾ç¤ºç±»å‹å°±å¯ä»¥ï¼Œ<code>float average(float float)</code>ï¼Œä½†ä¸å»ºè®®ï¼Œä¸ºäº†ä»£ç çš„å¯é˜…è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p>
</blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>è¿”å›ç±»å‹ å‡½æ•°åï¼ˆå½¢å¼å‚æ•°ï¼‰;</code><br><strong>æ³¨æ„ï¼š</strong>å‡½æ•°çš„å£°æ˜å¿…é¡»å’Œå‡½æ•°çš„å®šä¹‰ä¸€è‡´ã€‚</p>
</blockquote>
<h2 id="9-3-å®é™…å‚æ•°"><a href="#9-3-å®é™…å‚æ•°" class="headerlink" title="9.3    å®é™…å‚æ•°"></a>9.3    å®é™…å‚æ•°</h2><blockquote>
<p><strong>å®å‚å’Œå½¢å‚ï¼š</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>åˆ†ç±»</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>å½¢å¼å‚æ•°(parameter)</td>
<td>å‡ºç°åœ¨å‡½æ•°å®šä¹‰ä¸­ï¼Œå®ƒä»¬ä»¥å‡åå­—æ¥è¡¨ç¤ºå‡½æ•°è°ƒç”¨æ—¶æä¾›çš„å€¼</td>
</tr>
<tr>
<td>å®é™…å‚æ•°(argument)</td>
<td>å‡ºç°åœ¨å‡½æ•°è°ƒç”¨ä¸­çš„è¡¨è¾¾å¼</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>é€šè¿‡å€¼ä¼ é€’ï¼š</strong>è°ƒç”¨å‡½æ•°æ—¶ï¼Œè®¡ç®—å‡ºæ¯ä¸ªå®é™…å‚æ•°çš„å€¼å¹¶ä¸”æŠŠå®ƒèµ‹å€¼ç»™ç›¸åº”çš„å½¢å¼å‚æ•°ã€‚</p>
<blockquote>
<p><strong>ç‰¹ç‚¹ï¼š</strong>åœ¨å‡½æ•°çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯¹å½¢å¼å‚æ•°çš„æ”¹å˜ä¸ä¼šå½±å“å®é™…å‚æ•°çš„å€¼ã€‚</p>
</blockquote>
</blockquote>
<h3 id="9-3-1-å®é™…å‚æ•°çš„è½¬æ¢"><a href="#9-3-1-å®é™…å‚æ•°çš„è½¬æ¢" class="headerlink" title="9.3.1    å®é™…å‚æ•°çš„è½¬æ¢"></a>9.3.1    å®é™…å‚æ•°çš„è½¬æ¢</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>cè¯­è¨€å…è®¸åœ¨å®é™…å‚æ•°çš„ç±»å‹å’Œå½¢å¼å‚æ•°çš„ç±»å‹ä¸åŒ¹é…çš„æƒ…å†µä¸‹è¿›è¡Œå‡½æ•°è°ƒç”¨ã€‚<br><strong>å®å‚è½¬æ¢è§„åˆ™ï¼š</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>ç¼–è¯‘å™¨åœ¨è°ƒç”¨å‰æ˜¯å¦é‡åˆ°åŸå‹</th>
<th>è½¬æ¢æ–¹å¼</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ˜¯</td>
<td>å®å‚çš„å€¼è¢«éšå¼è½¬æ¢æˆç›¸åº”å½¢å¼å‚æ•°çš„ç±»å‹ã€‚</td>
</tr>
<tr>
<td>å¦</td>
<td>ç¼–è¯‘å™¨æ‰§è¡Œé»˜è®¤çš„å®é™…å‚æ•°æå‡</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>é»˜è®¤çš„å®é™…å‚æ•°æå‡</strong></p>
<ol>
<li>æŠŠ<code>float</code>å‹çš„å®é™…å‚æ•°è½¬æ¢æˆ<code>double</code>ç±»å‹</li>
<li>æ‰§è¡Œæ•´æ•°çš„æå‡ï¼ˆå³æŠŠ<code>char</code>å‹å’Œ<code>short</code>å‹çš„å®é™…å‚æ•°è½¬æ¢æˆ<code>int</code>å‹ï¼‰<br><strong>æ³¨æ„ï¼š</strong>é»˜è®¤çš„å®é™…å‚æ•°æå‡ä¸æ€»ä¼šè·å¾—æœŸæœ›çš„æ•ˆæœ<br><strong>æŠ€å·§ï¼š</strong>å§‹ç»ˆåœ¨è°ƒç”¨å‡½æ•°å‰å£°æ˜å‡½æ•°éå¸¸å¿…è¦ã€‚</li>
</ol>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Enter number to be squard:"</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;i);</span><br><span class="line">	<span class="comment">//æŠŠå˜é‡iå¼ºåˆ¶è½¬æ¢ä¸ºæ­£ç¡®çš„ç±»å‹çš„æ–¹æ³•</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"The answer if %g\n"</span>, square((double)i));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="9-3-2-æ•°ç»„å‹å®é™…å‚æ•°"><a href="#9-3-2-æ•°ç»„å‹å®é™…å‚æ•°" class="headerlink" title="9.3.2    æ•°ç»„å‹å®é™…å‚æ•°"></a>9.3.2    æ•°ç»„å‹å®é™…å‚æ•°</h3><p><strong>è¯­æ³•ï¼š</strong><code>æ•°ç»„ç±»å‹ æ•°ç»„å®å‚å[æ•°ç»„é•¿åº¦]</code><br><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>å…¶ä¸­<code>æ•°ç»„é•¿åº¦</code>é€šå¸¸çœç•¥ä¸å†™ã€‚å³ä¾¿å†™äº†åœ¨å‡½æ•°ä¸­ä»ç„¶æ— æ³•åˆ¤æ–­æ•°ç»„çš„é•¿åº¦ã€‚</li>
<li>å¤šç»´æ•°ç»„å½¢å¼å‚æ•°åªèƒ½å¿½ç•¥ç¬¬ä¸€ä½çš„é•¿åº¦</li>
</ul>
<p><strong>è·å–å®å‚æ•°ç»„é•¿åº¦ï¼š</strong>cè¯­è¨€æ²¡æœ‰æä¾›ä»»ä½•ç®€ä¾¿çš„æ–¹æ³•æ¥ç¡®å®šä¼ é€’ç»™å®ƒçš„æ•°ç»„çš„é•¿åº¦ã€‚ä½†æ˜¯å¦‚æœå‡½æ•°éœ€è¦ï¼Œå¿…é¡»æŠŠé•¿åº¦ä½œä¸ºé¢å¤–çš„å®é™…å‚æ•°æä¾›ç»™å‡½æ•°ã€‚<br><strong>æ³¨æ„ï¼š</strong>åœ¨å‡½æ•°å†…éƒ¨é€šè¿‡<code>sizeof(a) / sizeof(a[0])</code>çš„æ–¹å¼å¹¶ä¸èƒ½æ­£ç¡®è®¡ç®—å‡ºä¼ é€’è¿›æ¥çš„æ•°ç»„çš„é•¿åº¦ã€‚<br><strong>æŠ€å·§ï¼š</strong>é€šè¿‡ä¼ é€’æ¯”æ•°ç»„å®é™…é•¿åº¦å°çš„æ•´æ•°å‚æ•°ï¼Œæ¥éƒ¨åˆ†æ“ä½œæ•°ç»„ã€‚<br><strong>å»¶ä¼¸ï¼š</strong>ä¸èƒ½ä¼ é€’ä»¤äººå›°æ‰°çš„å…·æœ‰ä»»æ„åˆ—æ•°çš„å¤šç»´æ•°ç»„ã€‚å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬ç»å¸¸å¯ä»¥é€šè¿‡ä½¿ç”¨æŒ‡é’ˆæ•°ç»„çš„æ–¹å¼å¤„ç†ã€‚</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LEN 100</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*å‡½æ•°åŸå‹*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sun_array</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> n)</span></span>;<span class="comment">//å¦‚æœæ„¿æ„å¯ä»¥çœç•¥å½¢å¼å‚æ•°çš„åå­—</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> b[LEN], total;</span><br><span class="line">	total = sun_array(b, LEN);<span class="comment">//åœ¨æ•°ç»„åä¼ é€’ç»™å‡½æ•°æ—¶ï¼Œä¸è¦åœ¨æ•°ç»„åçš„åè¾¹æ”¾ç½®æ–¹æ‹¬å·</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line">* params&#123;int Array&#125; a æ•°ç»„</span><br><span class="line">* params&#123;int&#125; n æ•°ç»„é•¿åº¦</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sun_array</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i, sun = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">		sun += a[i];</span><br><span class="line">	&#125;</span><br><span class="line">	return sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="9-4-returnè¯­å¥"><a href="#9-4-returnè¯­å¥" class="headerlink" title="9.4    returnè¯­å¥"></a>9.4    returnè¯­å¥</h2><blockquote>
<p><strong>returnè¯­å¥ï¼š</strong><code>return è¡¨è¾¾å¼;</code><br><strong>éšå¼è½¬æ¢ï¼š</strong>å¦‚æœ<code>return</code>è¯­å¥ä¸­è¡¨è¾¾å¼çš„ç±»å‹å’Œå‡½æ•°çš„è¿”å›ç±»å‹ä¸åŒ¹é…ï¼Œé‚£ä¹ˆç³»ç»Ÿå°†ä¼šæŠŠè¡¨è¾¾å¼çš„ç±»å‹éšå¼è½¬æ¢ä¸ºè¿”å›ç±»å‹<br><strong>ç«‹å³è¿”å›ï¼š</strong>åœ¨è¿”å›ç±»å‹ä¸º<code>void</code>çš„å‡½æ•°ä¸­å¯ä»¥ä½¿ç”¨<code>return;</code>ï¼Œä¼šå¯¼è‡´å‡½æ•°ç«‹å³è¿”å›ï¼Œåé¢ä¸èƒ½åŒ…å«è¡¨è¾¾å¼</p>
</blockquote>
<p><strong><code>void</code>å’Œé<code>void</code></strong></p>
<table>
<thead>
<tr>
<th>è¿”å›å€¼ç±»å‹æ˜¯å¦ä¸º<code>void</code></th>
<th>æ˜¯å¦å¿…é¡»<code>return</code></th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>å¦</td>
<td>æ˜¯</td>
<td>å¿…é¡»ä½¿ç”¨<code>return è¡¨è¾¾å¼</code>è¿”å›å€¼ï¼Œå¦åˆ™æŸäº›ç¼–è¯‘å™¨ä¼šæŠ¥é”™</td>
</tr>
<tr>
<td>æ˜¯</td>
<td>å¦</td>
<td><code>return</code>å¹¶ä¸æ˜¯å¿…é¡»çš„ï¼Œå› ä¸ºåœ¨æ‰§è¡Œæœ€åä¸€æ¡è¯­å¥åå‡½æ•°å°†ä¼šè‡ªåŠ¨è·³è½¬ã€‚</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print_pun</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"To c, or not to C :that is the qyestion.\n"</span>)</span><br><span class="line">	return;<span class="comment">/*å¯ä»¥çœç•¥*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="9-5-ç¨‹åºç»ˆæ­¢"><a href="#9-5-ç¨‹åºç»ˆæ­¢" class="headerlink" title="9.5    ç¨‹åºç»ˆæ­¢"></a>9.5    ç¨‹åºç»ˆæ­¢</h2><blockquote>
<p><strong>çŠ¶æ€ç ï¼š</strong>å³<code>main</code>å‡½æ•°çš„è¿”å›å€¼ï¼Œé»˜è®¤ä¸º<code>int</code>ç±»å‹ï¼›æˆ–è€…<code>exit</code>å‡½æ•°çš„å®å‚ã€‚</p>
<blockquote>
<p><strong>ç”¨é€”ï¼š</strong>åœ¨æŸäº›æ“ä½œç³»ç»Ÿä¸­ç¨‹åºç»ˆæ­¢æ—¶å¯ä»¥æ£€æµ‹åˆ°çŠ¶æ€ç ã€‚</p>
</blockquote>
</blockquote>
<table>
<thead>
<tr>
<th>çŠ¶æ€</th>
<th>çŠ¶æ€ç </th>
</tr>
</thead>
<tbody>
<tr>
<td>æ­£å¸¸ç»ˆæ­¢</td>
<td>0</td>
</tr>
<tr>
<td>å¼‚å¸¸ç»ˆæ­¢</td>
<td>é0</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æŠ€å·§ï¼š</strong>å³ä½¿ä¸æ‰“ç®—ç”¨çŠ¶æ€ç ï¼Œç¡®ä¿¡æ¯ä¸ªcç¨‹åºéƒ½è¿”å›çŠ¶æ€ç ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å®è·µï¼Œå› ä¸ºæŸäº›è¿è¡Œç¨‹åºçš„äººå¯èƒ½ç¨åå†å†³å®šæµ‹è¯•çŠ¶æ€ç ã€‚</p>
<h3 id="exitå‡½æ•°"><a href="#exitå‡½æ•°" class="headerlink" title="exitå‡½æ•°"></a>exitå‡½æ•°</h3><p><strong>åŠŸèƒ½ï¼š</strong>ç»ˆæ­¢ç¨‹åºï¼Œç›¸å½“äºåœ¨<code>main</code>å‡½æ•°ä¸­ä½¿ç”¨<code>return</code>ã€‚<br><strong>å®å‚ï¼š</strong>ä¼ é€’ç»™<code>exit</code>å‡½æ•°çš„å®é™…å‚æ•°å’Œ<code>main</code>å‡½æ•°çš„è¿”å›å€¼å…·æœ‰ç›¸åŒçš„å«ä¹‰ï¼Œä¸¤è€…éƒ½è¯´æ˜ç¨‹åºç»ˆæ­¢æ—¶çš„çŠ¶æ€ã€‚<br><strong>æ‰€åœ¨åº“ï¼š</strong><code>&lt;stdlib.h&gt;</code><br><strong>ç›¸å…³å®å®šä¹‰ï¼š</strong><code>EXIT_SUCCESS</code>å’Œ<code>EXIT_FAILURE</code>,å€¼ç”±å®ç°å®šä¹‰ï¼Œå…¸å‹çš„å€¼æ˜¯0å’Œ1<br><strong>åŒºåˆ«äº<code>return</code>ï¼š</strong><code>return</code>å’Œ<code>exit</code>éƒ½å¯ä»¥åœ¨ä»»ä½•å‡½æ•°ä¸­è°ƒç”¨ï¼Œä½†<code>return</code>åªæœ‰åœ¨<code>main</code>å‡½æ•°ä¸­è°ƒç”¨æ‰ä¼šç»ˆæ­¢ç¨‹åºï¼›<code>exit</code>åœ¨ä»»ä½•å‡½æ•°ä¸­è°ƒç”¨éƒ½ä¼šç»ˆæ­¢ç¨‹åºã€‚<br><strong>æŠ€å·§ï¼š</strong>ä¸€äº›ç¨‹åºå‘˜ä¸“é—¨ä½¿ç”¨<code>exit</code>å‡½æ•°ä»¥ä¾¿äºæ¨¡å¼åŒ¹é…ç¨‹åºå¯ä»¥å¾ˆå®¹æ˜“åœ°å®šä½ç¨‹åºä¸­å…¨éƒ¨çš„é€€å‡ºç‚¹ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exit</span>(EXIT_SUCCESS);</span><br></pre></td></tr></table></figure>
<h2 id="9-6-é€’å½’å‡½æ•°"><a href="#9-6-é€’å½’å‡½æ•°" class="headerlink" title="9.6    é€’å½’å‡½æ•°"></a>9.6    é€’å½’å‡½æ•°</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¦‚æœå‡½æ•°è°ƒç”¨å®ƒæœ¬èº«ï¼Œé‚£ä¹ˆæ­¤å‡½æ•°å°±æ˜¯é€’å½’çš„ï¼ˆrecursiceï¼‰ã€‚<br><strong>æŠ€å·§ï¼š</strong>ä¸ºäº†é˜²æ­¢æ— é™é€’å½’ï¼Œæ‰€æœ‰é€’å½’å‡½æ•°éƒ½éœ€è¦æŸäº›ç±»å‹çš„ç»ˆæ­¢æ¡ä»¶ã€‚<br><strong>æ³¨æ„ï¼š</strong>cè¯­è¨€å…è®¸é€’å½’ï¼Œä½†å¤§å¤šæ•°cç¨‹åºå‘˜å¹¶ä¸ç»å¸¸ä½¿ç”¨é€’å½’ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* è®¡ç®—nçš„é˜¶ä¹˜</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">face</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(n &lt;= <span class="number">1</span>)&#123;</span><br><span class="line">		return <span class="number">1</span>;</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		return n * fact(n<span class="number">-1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line">* è®¡ç®—x^n</span><br><span class="line">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">power</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">	return n == <span class="number">0</span> ? <span class="number">1</span> : x * power(x, n - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="9-6-1-å¿«é€Ÿæ’åºç®—æ³•"><a href="#9-6-1-å¿«é€Ÿæ’åºç®—æ³•" class="headerlink" title="9.6.1    å¿«é€Ÿæ’åºç®—æ³•"></a>9.6.1    å¿«é€Ÿæ’åºç®—æ³•</h3><blockquote>
<p><strong>åˆ†æ²»æ³•(divide-and-conquer)ï¼š</strong>æŠŠä¸€ä¸ªå¤§é—®é¢˜åˆ’åˆ†æˆå¤šä¸ªè¾ƒå°çš„é—®é¢˜ï¼Œç„¶åé‡‡ç”¨ç›¸åŒçš„ç®—æ³•åˆ†åˆ«è§£å†³è¿™äº›å°é—®é¢˜ã€‚æ¯”å¦‚æ’åºç®—æ³•ã€‚<br><strong>ç®—æ³•æ“ä½œï¼š</strong></p>
<ol>
<li>é€‰æ‹©æ•°ç»„å…ƒç´ eï¼ˆä½œä¸ºâ€œåˆ†å‰²å…ƒç´ â€ï¼‰ï¼Œç„¶åé‡æ–°æ’åˆ—æ•°ç»„ä½¿å¾—å…ƒç´ ä»1ä¸€ç›´åˆ°i-1éƒ½æ˜¯å°é›¨æˆ–ç­‰äºå…ƒç´ eçš„ï¼Œå…ƒç´ iåŒ…å«eï¼Œè€Œå…ƒç´ ä»i-1ä¸€ç›´åˆ°néƒ½æ˜¯å¤§äºæˆ–ç­‰äºeçš„ã€‚</li>
<li>é€šè¿‡é€’å½’åœ°é‡‡ç”¨å¿«é€Ÿæ’åºç®—æ³•ï¼Œå¯¹ä»1åˆ°i-1çš„å…ƒç´ è¿›è¡Œæ’åºã€‚</li>
<li>é€šè¿‡é€’å½’åœ°é‡‡ç”¨å¿«é€Ÿæ’åºæ–¹æ³•ï¼Œå¯¹ä»i+1åˆ°nçš„å…ƒç´ è¿›è¡Œæ’åºã€‚</li>
</ol>
</blockquote>
<h4 id="è‡ªå·±å®ç°"><a href="#è‡ªå·±å®ç°" class="headerlink" title="è‡ªå·±å®ç°"></a>è‡ªå·±å®ç°</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Sorts an array of integers using Quicksort algorthm</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"> <span class="meta">#<span class="meta-keyword">define</span> N 12</span></span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">quicksort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span></span>;</span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">printArr</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> flag)</span></span>;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> a[N] = &#123;<span class="number">5</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">7</span>,<span class="number">1</span>,<span class="number">9</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">6</span>&#125;;</span><br><span class="line"> 			  </span><br><span class="line"> 	quicksort(a, <span class="number">0</span>, N<span class="number">-1</span>);</span><br><span class="line"> 	printArr(a, <span class="number">3</span>);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * æ‰“å°æ•°ç»„</span><br><span class="line"> * @param &#123;int&#125; a éœ€è¦æ‰“å°çš„æ•°ç»„</span><br><span class="line"> * @param &#123;int&#125; flag è¡¨ç¤ºæ‰“å°æ—¶æ’åºå¤„åœ¨çš„çŠ¶æ€</span><br><span class="line"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printArr</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> flag)</span></span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, flag);</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, a[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * è‡ªå·±å®ç°çš„å¿«æ’ç¨‹åºï¼šå¿«é€Ÿæ’åº</span><br><span class="line"> * @param &#123;int&#125; a[] è¢«æ’åºçš„æ•°ç»„</span><br><span class="line"> * @param &#123;int&#125; low èµ·ç‚¹</span><br><span class="line"> * @param &#123;int&#125; high ç»ˆç‚¹</span><br><span class="line"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">myquicksort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span></span>&#123;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"%d****%d\n"</span>, low, high);</span><br><span class="line"> 	<span class="keyword">if</span>(low &gt;= high)&#123;</span><br><span class="line"> 		return ;</span><br><span class="line"> 	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"> 		<span class="keyword">int</span> middleValue = a[low];</span><br><span class="line"> 		<span class="keyword">int</span> emptyPoint = low;</span><br><span class="line"> 		<span class="keyword">int</span> newLow = low, </span><br><span class="line"> 			newHigh = high;</span><br><span class="line"> 		</span><br><span class="line"> 		<span class="comment">/**</span><br><span class="line"> 		 * åªè¦lowæŒ‡é’ˆå’ŒhighæŒ‡é’ˆæ²¡æœ‰æœ€åç›¸é‡ï¼Œå°±äº¤æ›¿å¾€ä¸­é—´é æ‹¢ã€‚å¹¶åœ¨åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å®Œæˆä½ç½®çš„äº¤æ¢ã€‚</span><br><span class="line"> 		 * åŸç†æ˜¯ï¼šæœ‰ç‚¹åƒæ‹†ä¸œå¢™è¡¥è¥¿å¢™ï¼ŒæŠŠä¸­é—´æ•°å­—ä¸¤è¾¹çš„æ•°å­—çœ‹ä½œä¸œå¢™å’Œè¥¿å¢™çš„è¯ï¼Œ</span><br><span class="line"> 		 * å…¶å®å°±æ˜¯åœ¨ä¸œå¢™ä¸Šæ‰¾è¥¿å¢™ä¸Šçš„ç –è¡¥åˆ°è¥¿å¢™ä¸Šï¼Œä¸œå¢™è¢«æ‹¿èµ°ç –çš„ä½ç½®ä¸”åªèƒ½æ˜¯è¿™ä¸ªä½ç½®éœ€è¦è¥¿å¢™å»è¡¥ã€‚ä¸€æ¥äºŒå»å°±å®Œæˆäº†ç –çš„äº¤æ¢è¿‡ç¨‹ã€‚</span><br><span class="line"> 		 */</span></span><br><span class="line"> 		<span class="keyword">while</span>(newLow &lt; newHigh)&#123;</span><br><span class="line"> 			<span class="keyword">if</span>(newLow == emptyPoint)&#123;</span><br><span class="line"> 				<span class="comment">//å¾…å®šçš„ä½ç½®ä¸ºä½ä½ï¼šé«˜ä½æŒ‡é’ˆå‘å·¦ç§»åŠ¨å¯»æ‰¾æ¯”ä¸­é—´å€¼å°çš„æ•°</span></span><br><span class="line"> 				<span class="keyword">while</span>(a[newHigh] &gt;= middleValue)&#123;</span><br><span class="line"> 					<span class="keyword">if</span>(newHigh &gt; newLow)&#123;</span><br><span class="line"> 						newHigh--;	</span><br><span class="line"> 					&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"> 						<span class="keyword">goto</span> done;</span><br><span class="line"> 					&#125;</span><br><span class="line"> 				&#125;</span><br><span class="line"> 				a[emptyPoint] = a[newHigh];</span><br><span class="line"> 				emptyPoint = newHigh;</span><br><span class="line"> 			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"> 				<span class="comment">//å¾…å®šçš„ä½ç½®ä¸ºé«˜ä½ï¼šä½ä½æŒ‡é’ˆå‘å³ç§»åŠ¨å¯»æ‰¾æ¯”ä¸­é—´å€¼å¤§çš„æ•°</span></span><br><span class="line"> 				<span class="keyword">while</span>(a[newLow] &lt;= middleValue)&#123;</span><br><span class="line"> 					<span class="keyword">if</span>(newHigh &gt; newLow)&#123;</span><br><span class="line"> 						newLow++;</span><br><span class="line"> 					&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"> 						<span class="keyword">goto</span> done;</span><br><span class="line"> 					&#125;</span><br><span class="line"> 				&#125;</span><br><span class="line"> 				a[emptyPoint] = a[newLow];</span><br><span class="line"> 				emptyPoint = newLow;</span><br><span class="line"> 			&#125;</span><br><span class="line"> 			printArr(a, <span class="number">1</span>);</span><br><span class="line"> 		&#125;</span><br><span class="line"> 		<span class="comment">//æ ‡è®°</span></span><br><span class="line"> 		done:</span><br><span class="line"> 		a[emptyPoint] = middleValue;</span><br><span class="line"> 		printArr(a, <span class="number">0</span>);</span><br><span class="line"> 		<span class="keyword">if</span>(newLow &gt; low)&#123;</span><br><span class="line"> 			quicksort(a, low, newLow - <span class="number">1</span>);	</span><br><span class="line"> 		&#125;</span><br><span class="line"> 		<span class="keyword">if</span>(newHigh &lt; high)&#123;</span><br><span class="line"> 			quicksort(a, newHigh + <span class="number">1</span>, high);	</span><br><span class="line"> 		&#125;</span><br><span class="line"> 	&#125;	</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h3 id="9-6-2-ç¨‹åºï¼šå¿«é€Ÿæ’åº"><a href="#9-6-2-ç¨‹åºï¼šå¿«é€Ÿæ’åº" class="headerlink" title="9.6.2 ç¨‹åºï¼šå¿«é€Ÿæ’åº"></a>9.6.2 ç¨‹åºï¼šå¿«é€Ÿæ’åº</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Sorts an array of intergers using Quicksort algorithm</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="meta">#<span class="meta-keyword">define</span> N 10</span></span><br><span class="line"> <span class="comment">/*å£°æ˜å‡½æ•°*/</span></span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">quicksort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span></span>;</span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">split</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span></span>;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> a[N], i;</span><br><span class="line"></span><br><span class="line"> 	<span class="comment">/*è¾“å…¥éœ€è¦æ’é˜Ÿçš„æ•°ç»„*/</span></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter %d numbers to be sorted :"</span>, N);</span><br><span class="line"> 	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; N; i++)&#123;</span><br><span class="line"> 		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[i]);</span><br><span class="line"> 	&#125;</span><br><span class="line"></span><br><span class="line"> 	<span class="comment">/*è°ƒç”¨æ’åºå‡½æ•°è¿›è¡Œæ’åº*/</span></span><br><span class="line"> 	quicksort(a, <span class="number">0</span>, N - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"> 	<span class="comment">/*æ‰“å°æ’åºå¥½çš„æ•°ç»„*/</span></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"In sorted order:"</span>);</span><br><span class="line"> 	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; N; i++)&#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"%d "</span>, a[i]);</span><br><span class="line"> 	&#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * å¿«æ’ç¨‹åº</span><br><span class="line"> * @param &#123;Array&#125; a æ•°ç»„</span><br><span class="line"> * @param &#123;int&#125; low å¼€å§‹ä¸‹æ ‡ </span><br><span class="line"> * @param &#123;int&#125; high ç»“æŸä¸‹æ ‡</span><br><span class="line"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">quicksort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> low, high)</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> middle;</span><br><span class="line"> 	<span class="keyword">if</span>(low &gt;= high)&#123;</span><br><span class="line"> 		return;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="comment">//è·å¾—åˆ†æ®µçš„ä¸­é—´ä½ç½®</span></span><br><span class="line"> 	middle = split(a, low, high);</span><br><span class="line"> 	quicksort(a, low, middle <span class="number">-1</span>);</span><br><span class="line"> 	quicksort(a, middle + <span class="number">1</span>, high);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">split</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> part_element = a[low];</span><br><span class="line"> 	<span class="keyword">for</span>(;;)&#123;</span><br><span class="line"> 		<span class="comment">/*highæŒ‡é’ˆå‘å·¦ç§»åŠ¨å¯»æ‰¾æ¯”part_elementå°çš„æ•°ï¼Œç›´åˆ°æ‰¾åˆ°æˆ–lowå’ŒhighæŒ‡é’ˆé‡åˆ*/</span></span><br><span class="line"> 		<span class="keyword">while</span>(low &lt; high &amp;&amp; part_element &lt;= a[high])&#123;</span><br><span class="line"> 			high--;</span><br><span class="line"> 		&#125;</span><br><span class="line"> 		<span class="comment">//å¦‚æœé‡åˆäº†ï¼Œè¯´æ˜æ²¡æœ‰æ‰¾åˆ°</span></span><br><span class="line"> 		<span class="keyword">if</span>(low &gt;= high)&#123;</span><br><span class="line"> 			<span class="keyword">break</span>;</span><br><span class="line"> 		&#125;</span><br><span class="line"> 		<span class="comment">//å¦‚æœæ‰¾åˆ°äº†ï¼Œå°†æ‰¾åˆ°çš„æ¯”ä¸­é—´å€¼å°çš„æ•°æ”¾åˆ°å½“å‰lowæŒ‡é’ˆæŒ‡å‘çš„ä½ç½®ï¼Œå¹¶å°†æŒ‡é’ˆå‘å³ç§»åŠ¨</span></span><br><span class="line"> 		a[low++] = a[high];</span><br><span class="line"></span><br><span class="line"> 		<span class="comment">/*lowæŒ‡é’ˆå‘å³ç§»åŠ¨ï¼Œå¯»æ‰¾æ¯”part_elementå¤§çš„æ•°ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªæˆ–lowå’Œhighé‡åˆ*/</span></span><br><span class="line"> 		<span class="keyword">while</span>(low &lt; high &amp;&amp; a[low] &lt;= part_element)&#123;</span><br><span class="line"> 			low++;</span><br><span class="line"> 		&#125;</span><br><span class="line"> 		<span class="comment">//é‡åˆäº†å°±åœæ­¢å¾ªç¯</span></span><br><span class="line"> 		<span class="keyword">if</span>(low &gt;= high)&#123;</span><br><span class="line"> 			<span class="keyword">break</span>;</span><br><span class="line"> 		&#125;</span><br><span class="line"> 		<span class="comment">//å¦‚æœæ²¡é‡åˆï¼Œå°±è®²æ‰¾åˆ°çš„æ•°ç§»åŠ¨åˆ°highæŒ‡é’ˆæŒ‡å‘çš„ä½ç½®ï¼Œå¹¶å°†highçš„æŒ‡é’ˆå‘å·¦ç§»åŠ¨ä¸€ä¸‹</span></span><br><span class="line"> 		a[high--] = a[low];</span><br><span class="line"> 		return high;</span><br><span class="line"> 	&#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h3 id="9-6-3-æ”¹è¿›"><a href="#9-6-3-æ”¹è¿›" class="headerlink" title="9.6.3    æ”¹è¿›"></a>9.6.3    æ”¹è¿›</h3><ol>
<li><p>æ”¹è¿›åˆ†å‰²ç®—æ³•</p>
<blockquote>
<p>ä¸Šé¢ä»‹ç»çš„æ–¹æ³•ä¸æ˜¯æœ€æœ‰æ•ˆçš„ã€‚æˆ‘ä»¬ä¸å†é€‰æ‹©æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºåˆ†å‰²å…ƒç´ ï¼Œè¾ƒå¥½çš„æ–¹æ³•æ˜¯å–ç¬¬ä¸€ä¸ªå…ƒç´ ã€ä¸­é—´å…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´ çš„ä¸­é—´å€¼ã€‚åˆ†ä¸ªè¿‡ç¨‹æœ¬èº«ä¹Ÿå¯ä»¥åŠ é€Ÿã€‚ç‰¹åˆ«æ˜¯ï¼Œåœ¨ä¸¤ä¸ªwhileå¾ªç¯ä¸­é¿å…æµ‹è¯•low&lt;highæ˜¯å¯èƒ½çš„ã€‚</p>
</blockquote>
</li>
<li><p>é‡‡ç”¨ä¸åŒçš„æ–¹æ³•è¿›è¡Œå°æ•°ç»„æ’åº</p>
</li>
<li><p>ä½¿å¾—å¿«é€Ÿæ’åºéé€’å½’</p>
<blockquote>
<p>è™½ç„¶å¿«é€Ÿæ’åºæœ¬è´¨ä¸Šæ˜¯ä½¿ç”¨é€’å½’ç®—æ³•ï¼Œå¹¶ä¸”é€’å½’æ ¼å¼çš„å¿«é€Ÿæ’åºæ˜¯æœ€å®¹æ˜“ç†è§£çš„ï¼Œä½†æ˜¯å®é™…ä¸Šè‹¥å»æ‰é€’å½’ä¼šæ›´æœ‰æ•ˆç‡ã€‚</p>
</blockquote>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/09/8 æ•°ç»„/" itemprop="url">
                  8 æ•°ç»„
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-09T18:48:30+08:00" content="2016-05-09">
              2016-05-09
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/09/8 æ•°ç»„/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/09/8 æ•°ç»„/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>å˜é‡ï¼š</strong>å˜é‡åˆ†ä¸ºä¸¤ç§</p>
</blockquote>
<table>
<thead>
<tr>
<th>åˆ†ç±»</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ ‡é‡ï¼ˆscalarï¼‰</td>
<td>æ ‡äº®å…·æœ‰ä¿å­˜å•ä¸€æ•°æ®é¡¹çš„èƒ½åŠ›</td>
</tr>
<tr>
<td>èšåˆï¼ˆaggregateï¼‰</td>
<td>å­˜å‚¨æ•°å€¼çš„é›†åˆï¼ˆæ•°ç»„(array)å’Œç»“æ„(structure)ï¼‰</td>
</tr>
</tbody>
</table>
<h2 id="8-1-ä¸€ç»´æ•°ç»„"><a href="#8-1-ä¸€ç»´æ•°ç»„" class="headerlink" title="8.1    ä¸€ç»´æ•°ç»„"></a>8.1    ä¸€ç»´æ•°ç»„</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ•°ç»„æ˜¯å«æœ‰å¤šä¸ªæ•°æ®å€¼çš„æ•°æ®ç»“æ„ï¼Œå¹¶ä¸”æ¯ä¸ªæ•°æ®ä¹‹å…·æœ‰ç›¸åŒçš„æ•°æ®ç±»å‹ã€‚è¿™äº›æ•°æ®ç±»å‹çš„å€¼è¢«ç§°ä¸ºå…ƒç´ ï¼ˆelementï¼‰ã€‚<br><strong>å£°æ˜æ•°ç»„ï¼š</strong>éœ€è¦è¯´æ˜æ•°ç»„å…ƒç´ çš„<code>ç±»å‹</code>(ä»»ä½•ç±»å‹)å’Œ<code>æ•°é‡</code>ï¼ˆä»»ä½•æ•´æ•°å¸¸é‡è¡¨è¾¾å¼ï¼‰ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>];</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>æŠ€å·§ï¼š</strong>å› ä¸ºç¨‹åºåé¢å˜åŒ–æ—¶å¯èƒ½éœ€è¦è°ƒæ•´æ•°ç»„çš„é•¿åº¦ï¼Œæ‰€ä»¥è¾ƒå¥½çš„æ–¹æ³•æ˜¯ç”¨å®æ¥å®šä¹‰æ•°ç»„çš„é•¿åº¦ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 10</span></span><br><span class="line"><span class="keyword">int</span> a[N];</span><br></pre></td></tr></table></figure>
<h3 id="8-1-1-æ•°ç»„ä¸‹æ ‡"><a href="#8-1-1-æ•°ç»„ä¸‹æ ‡" class="headerlink" title="8.1.1    æ•°ç»„ä¸‹æ ‡"></a>8.1.1    æ•°ç»„ä¸‹æ ‡</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸ºäº†å­˜å–ç‰¹å®šçš„æ•°ç»„å…ƒç´ ï¼Œå¯ä»¥åœ¨å†™æ•°ç»„åçš„åŒæ—¶åœ¨åè¿·å‘åŠ ä¸Šä¸€ä¸ªç”¨æ–¹æ‹¬å·å›´ç»•çš„æ•´æ•°å€¼ï¼ˆç§°è¿™æ˜¯å¯¹æ•°ç»„è¿›è¡Œä¸‹æ ‡ï¼ˆsubsvriptingï¼‰æˆ–ç´¢å¼•ï¼ˆindexingï¼‰ï¼‰ã€‚<br><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li><code>a[i]</code>çš„è¡¨è¾¾å¼æ ¼å¼æ˜¯å·¦å€¼ï¼Œæ‰€ä»¥æ•°ç»„å…ƒç´ å¯ä»¥å’Œæ™®é€šå˜é‡ä¸€æ ·ä½¿ç”¨</li>
<li>åœ¨è°ƒç”¨scanfå‡½æ•°è¯»å–æ•°ç»„å…ƒç´ æ—¶ï¼Œå°±åƒå¯¹å¾…æ™®é€šå˜é‡ä¸€æ ·ï¼Œå¿…é¡»ä½¿ç”¨å–åœ°å€ç¬¦å·<code>&amp;</code>ã€‚</li>
<li>cè¯­è¨€ä¸è¦æ±‚æ£€æŸ¥ä¸‹æ ‡çš„èŒƒå›´ï¼Œå½“ä¸‹æ ‡è¶…å‡ºèŒƒå›´æ—¶ï¼Œç¨‹åºå¯èƒ½æ‰§è¡Œä¸å¯é¢„çŸ¥çš„è¡Œä¸ºã€‚</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>], i;</span><br><span class="line"><span class="comment">//å¯¹æŸäº›ç¼–è¯‘å™¨æ¥è¯´ï¼Œè¿™ä¸ªè¡¨é¢ä¸Šæ­£ç¡®çš„forè¯­å¥å´äº§ç”Ÿäº†ä¸€ä¸ªæ— é™å¾ªç¯</span></span><br><span class="line"><span class="comment">//å¦‚æœiåœ¨å†…å­˜ä¸­çš„ä½ç½®åœ¨a[9]åé¢ï¼Œé‚£ä¹ˆä¿®æ”¹a[10]å…¶å®æ˜¯ä¿®æ”¹äº†iï¼Œä½¿iå˜ä¸º0</span></span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">		a[i] = <span class="number">0</span>;	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>æŠ€å·§ï¼š</strong>é¿å…æ•°ç»„ä¸‹æ ‡çš„å‰¯ä½œç”¨ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¸ç¡®å®šçš„åšæ³•</span></span><br><span class="line"><span class="keyword">while</span>(i &lt; N)&#123;</span><br><span class="line">	a[i] = b[i++];<span class="comment">//iæœ‰å¯èƒ½ä¼šåœ¨å¤åˆ¶å‘ç”Ÿä¹‹å‰å°±è¿›è¡Œè‡ªå¢ï¼Œå¯¼è‡´ä¸¤ä¸ªæ•°ç»„é”™ä½</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å®‰å…¨çš„åšæ³•</span></span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; N; i++)&#123;</span><br><span class="line">	a[i] = b[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">a[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>, a[<span class="number">5</span>]);</span><br><span class="line">++a[i];</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ¸…ç©ºæ•°ç»„</span></span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; N; i++)&#123;</span><br><span class="line">	a[i] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¯»å–æ•°ç»„å…ƒç´ </span></span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; N; i++)&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ±‚å’Œ</span></span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; N; i++)&#123;</span><br><span class="line">	sun += a[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="8-1-2-ç¨‹åºï¼šæ•°åˆ—åå‘"><a href="#8-1-2-ç¨‹åºï¼šæ•°åˆ—åå‘" class="headerlink" title="8.1.2    ç¨‹åºï¼šæ•°åˆ—åå‘"></a>8.1.2    ç¨‹åºï¼šæ•°åˆ—åå‘</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Reverse a series of numbers</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="meta">#<span class="meta-keyword">define</span> N 10</span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> a[N], i;</span><br><span class="line"></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter %d numbers:"</span>, N);</span><br><span class="line"> 	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; N; ++i)&#123;</span><br><span class="line"> 		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[i]);</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"In reverse order:"</span>);</span><br><span class="line"> 	<span class="keyword">for</span>(i = N<span class="number">-1</span>; i &gt;= <span class="number">0</span>; --i)&#123;</span><br><span class="line"></span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">" %d"</span>, a[i]);</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ ./reverse</span><br><span class="line"> Enter 10 numbers:10</span><br><span class="line"> 9</span><br><span class="line"> 8</span><br><span class="line"> 7</span><br><span class="line"> 6</span><br><span class="line"> 5</span><br><span class="line"> 4</span><br><span class="line"> 3</span><br><span class="line"> 2</span><br><span class="line"> 1</span><br><span class="line"> In reverse order: 1 2 3 4 5 6 7 8 9 10</span><br></pre></td></tr></table></figure>
<h3 id="8-1-3-æ•°ç»„åˆå§‹åŒ–"><a href="#8-1-3-æ•°ç»„åˆå§‹åŒ–" class="headerlink" title="8.1.3    æ•°ç»„åˆå§‹åŒ–"></a>8.1.3    æ•°ç»„åˆå§‹åŒ–</h3><blockquote>
<p><strong>å¸¸é‡è¡¨è¾¾å¼åˆ—è¡¨è§„åˆ™ï¼š</strong></p>
<ul>
<li>åˆ—è¡¨ç”¨<code>{}</code>æ‹¬èµ·æ¥ï¼Œå†…éƒ¨æ•°å€¼ç”¨<code>,</code>åˆ†éš”</li>
<li>åˆå§‹åŒ–å¼å®Œå…¨ä¸ºç©ºæˆ–æ¯”æ•°ç»„é•¿åº¦é•¿æ˜¯éæ³•çš„ï¼Œä½†å¯ä»¥æ¯”æ•°ç»„çŸ­ï¼Œæ­¤æ—¶æ•°ç»„ä¸­ç”Ÿè‚²çš„å…ƒç´ èµ‹å€¼ä¸º0</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®Œæ•´çš„æ ¼å¼</span></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//çœç•¥æ•°ç»„çš„é•¿åº¦ï¼Œæ­¤æ—¶ç¼–è¯‘å™¨ä¼šåˆ©ç”¨åˆå§‹åŒ–å¼çš„é•¿åº¦ç¡®å®šæ•°ç»„çš„å¤§å°</span></span><br><span class="line"><span class="keyword">int</span> a[] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆå§‹åŒ–å¼æ¯”æ•°ç»„é•¿åº¦çŸ­</span></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;;<span class="comment">//&#123;1,2,3,4,5,6,0,0,0,0&#125;;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å…¨éƒ¨æ•°ç»„å…ƒç´ åˆå§‹åŒ–ä¸º0</span></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>] = &#123;<span class="number">0</span>&#125;;<span class="comment">//&#123;0,0,0,0,0,0,0,0,0,0&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="8-1-4-ç¨‹åºï¼šæ£€æŸ¥æ•°ä¸­é‡å¤å‡ºç°çš„æ•°å­—"><a href="#8-1-4-ç¨‹åºï¼šæ£€æŸ¥æ•°ä¸­é‡å¤å‡ºç°çš„æ•°å­—" class="headerlink" title="8.1.4    ç¨‹åºï¼šæ£€æŸ¥æ•°ä¸­é‡å¤å‡ºç°çš„æ•°å­—"></a>8.1.4    ç¨‹åºï¼šæ£€æŸ¥æ•°ä¸­é‡å¤å‡ºç°çš„æ•°å­—</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Checks numbers for repeated digits</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="meta">#<span class="meta-keyword">define</span> TRUE 1</span></span><br><span class="line"> <span class="meta">#<span class="meta-keyword">define</span> FALSE 0</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">typedef</span> <span class="keyword">int</span> Bool;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	Bool digit_seen[<span class="number">10</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"> 	<span class="keyword">int</span> digit;</span><br><span class="line"> 	<span class="keyword">long</span> <span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter a number:"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%ld"</span>, &amp;n);</span><br><span class="line"></span><br><span class="line"> 	<span class="keyword">while</span>(n &gt; <span class="number">0</span>)&#123;</span><br><span class="line"> 		<span class="comment">//å–ä¸ªä½æ•°</span></span><br><span class="line"> 		digit  = n % <span class="number">10</span>;</span><br><span class="line"> 		<span class="comment">//æ£€æŸ¥ä¸ªä½æ•°æ˜¯ä¸æ˜¯å·²ç»æœ‰è¿‡ä¸€ä¸ªäº†ï¼Œæ˜¯çš„è¯ç»ˆæ­¢å¾ªç¯</span></span><br><span class="line"> 		<span class="keyword">if</span>(digit_seen[digit])&#123;</span><br><span class="line"> 			<span class="keyword">break</span>;</span><br><span class="line"> 		&#125;</span><br><span class="line"> 		<span class="comment">//ä»¥å½“å‰ä¸ªä½æ•°ä½œä¸ºç´¢å¼•å°†å¯¹åº”æ•°å­—å…ƒç´ çš„å€¼æ”¹ä¸ºTRUE</span></span><br><span class="line"> 		digit_seen[digit] = TRUE;</span><br><span class="line"> 		n /= <span class="number">10</span>;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="keyword">if</span>(n&gt;<span class="number">0</span>)&#123;</span><br><span class="line"> 		<span class="comment">//n&gt;0è¯´æ˜è‡³å°‘æœ‰ä¸€ä¸ªæ•°å­—å‘ç”Ÿäº†é‡å¤</span></span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"Repeated digit\n\n"</span>);</span><br><span class="line"> 	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"No repeated digit\n\n"</span>);</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">./repdigit </span><br><span class="line">Enter a number:12345677</span><br><span class="line">Repeated digit</span><br></pre></td></tr></table></figure>
<h3 id="8-1-5-å¯¹æ•°ç»„ä½¿ç”¨sizeofè¿ç®—ç¬¦"><a href="#8-1-5-å¯¹æ•°ç»„ä½¿ç”¨sizeofè¿ç®—ç¬¦" class="headerlink" title="8.1.5    å¯¹æ•°ç»„ä½¿ç”¨sizeofè¿ç®—ç¬¦"></a>8.1.5    å¯¹æ•°ç»„ä½¿ç”¨sizeofè¿ç®—ç¬¦</h3><blockquote>
<p><strong>ç”¨é€”ï¼š</strong></p>
<ul>
<li>è®¡ç®—æ•°ç»„çš„å­—èŠ‚æ•°</li>
<li>è®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ çš„å­—èŠ‚æ•°</li>
<li>åˆ©ç”¨ä¸Šé¢çš„ç»“æœè®¡ç®—æ•°ç»„çš„é•¿åº¦</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="keyword">sizeof</span>(a) / <span class="keyword">sizeof</span>(a[<span class="number">10</span>]); i++)&#123;</span><br><span class="line">  a[i] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>åˆ©ç”¨å®ï¼š</strong>ç®€åŒ–ç”¨sizeofè®¡ç®—æ•°ç»„é•¿åº¦ã€‚æ›´åŠ æœ‰æ•ˆçš„æ–¹å¼æ˜¯ä½¿ç”¨å¸¦å‚æ•°çš„å®ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SIZE (sizeof(a) / sizeof(a[0]))</span></span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; SIZE; i++)&#123;</span><br><span class="line">  a[i] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="8-1-6-ç¨‹åºï¼šè®¡ç®—åˆ©æ¯"><a href="#8-1-6-ç¨‹åºï¼šè®¡ç®—åˆ©æ¯" class="headerlink" title="8.1.6    ç¨‹åºï¼šè®¡ç®—åˆ©æ¯"></a>8.1.6    ç¨‹åºï¼šè®¡ç®—åˆ©æ¯</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Prints a table of compound interest</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="meta">#<span class="meta-keyword">define</span> NUM_RATES (sizeof(value) / sizeof(value[0]))</span></span><br><span class="line"> <span class="meta">#<span class="meta-keyword">define</span> INITIAL_BALANCE 100.00</span></span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> i, low_rate, num_years, year;</span><br><span class="line"> 	<span class="keyword">float</span> value[<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter interest rate:"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;low_rate);</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter number of years:"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;num_years);</span><br><span class="line"></span><br><span class="line"> 	<span class="comment">//è¡¨æ ¼æ ‡é¢˜è¡Œ</span></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"\nYears"</span>);</span><br><span class="line"> 	<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; NUM_RATES; i++)&#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"%6d%%"</span>, low_rate + i);<span class="comment">//ä¸¤ä¸ª%%ä»£è¡¨è¦æ˜¾ç¤º%å­—ç¬¦ä¸²</span></span><br><span class="line"> 		value[i] = INITIAL_BALANCE;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"> 	<span class="comment">//å„ä¸ªåˆ©ç‡ä¸‹é€å¹´100ç¾é‡‘çš„ä»·å€¼</span></span><br><span class="line"> 	<span class="keyword">for</span>(year = <span class="number">1</span>; year &lt;= num_years; year++)&#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"%3d    "</span>, year);</span><br><span class="line"> 		<span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; NUM_RATES; i++)&#123;</span><br><span class="line"> 			value[i] += (low_rate+i) / <span class="number">100.0</span> * value[i];</span><br><span class="line"> 			<span class="built_in">printf</span>(<span class="string">"%7.2f"</span>, value[i]);</span><br><span class="line"> 		&#125;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"\n"</span>);	</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ ./interest                            </span><br><span class="line"> Enter interest rate:5</span><br><span class="line"> Enter number of years:6</span><br><span class="line"></span><br><span class="line"> Years     5%     6%     7%     8%     9%</span><br><span class="line">  1     105.00 106.00 107.00 108.00 109.00</span><br><span class="line">  2     110.25 112.36 114.49 116.64 118.81</span><br><span class="line">  3     115.76 119.10 122.50 125.97 129.50</span><br><span class="line">  4     121.55 126.25 131.08 136.05 141.16</span><br><span class="line">  5     127.63 133.82 140.26 146.93 153.86</span><br><span class="line">  6     134.01 141.85 150.07 158.69 167.71</span><br></pre></td></tr></table></figure>
<h2 id="8-2-å¤šç»´æ•°ç»„"><a href="#8-2-å¤šç»´æ•°ç»„" class="headerlink" title="8.2    å¤šç»´æ•°ç»„"></a>8.2    å¤šç»´æ•°ç»„</h2><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>m[i][j]</code><br><strong>æ³¨æ„ï¼š</strong>ä¸èƒ½æŠŠ<code>m[i][j]</code>å†™ä¸º<code>m[i, j]</code>ã€‚cè¯­è¨€æŠŠé€—å·çœ‹æˆæ˜¯é€—å·è¿ç®—ç¬¦ï¼Œæ‰€ä»¥<code>m[i,j]</code>ç­‰åŒäº<code>m[j]</code>ã€‚<br><strong>åœ°ä½ï¼š</strong>å’Œå…¶å®ƒç¼–ç¨‹è¯­è¨€ä¸­çš„å¤šä½æ•°ç»„ç›¸æ¯”ï¼Œ cè¯­è¨€ä¸­çš„å¤šä½æ•°ç»„æ‰®æ¼”çš„è§’è‰²ç›¸å¯¹è¾ƒå¼±ï¼Œè¿™ä¸»è¦æ˜¯å› ä¸ºcè¯­è¨€ä¸ºå­˜å‚¨å¤šç»´æ•°ç»„æä¾›äº†æ›´åŠ çµæ´»çš„æ–¹æ³•ï¼šæŒ‡é’ˆæ•°ç»„ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 10</span></span><br><span class="line"><span class="keyword">float</span> ident[N][N];</span><br><span class="line"><span class="keyword">int</span> row, col;</span><br><span class="line"><span class="keyword">for</span>(row = <span class="number">0</span>; row &lt; N; row++)&#123;</span><br><span class="line">	<span class="keyword">for</span>(col = <span class="number">0</span>; col &lt; N; col++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(row == col)&#123;</span><br><span class="line">			ident[row][col] = <span class="number">1.0</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			ident[row][col] = <span class="number">0.0</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="8-2-1-å¤šä¸ºæ•°ç»„çš„åˆå§‹åŒ–"><a href="#8-2-1-å¤šä¸ºæ•°ç»„çš„åˆå§‹åŒ–" class="headerlink" title="8.2.1    å¤šä¸ºæ•°ç»„çš„åˆå§‹åŒ–"></a>8.2.1    å¤šä¸ºæ•°ç»„çš„åˆå§‹åŒ–</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šè¿‡åµŒå¥—ä¸€ç»´åˆå§‹åŒ–å¼çš„æ–¹å¼å¯ä»¥äº§ç”ŸäºŒç»´æ•°ç»„çš„åˆå§‹åŒ–å¼ã€‚<br><strong>è§„åˆ™ï¼š</strong>c è¯­è¨€æä¾›äº†å¤šç§æ–¹æ³•æ¥ç¼©å†™åˆå§‹åŒ–å¼ã€‚</p>
<ul>
<li>å¦‚æœåˆå§‹åŒ–å¼ä¸å¤§åˆ°è¶³ä»¥å¡«æ»¡æ•´ä¸ªå¤šä½æ•°ç»„ï¼Œé‚£ä¹ˆæ•°ç»„ä¸­å‰©ä½™çš„å…ƒç´ ä¼šè¢«èµ‹å€¼ä¸º0ã€‚</li>
<li>å¦‚æœå†…å±‚çš„åˆ—è¡¨ä¸å¤§åˆ°è¶³ä»¥å¡«æ»¡æ•°ç»„çš„ä¸€è¡Œï¼Œé‚£ä¹ˆæ…ˆèˆªçš„å‰©ä½™å…ƒç´ ä¼šè¢«åˆå§‹åŒ–ä¸º0ã€‚</li>
<li>å¯ä»¥å¿½ç•¥æ‰å†…å±‚çš„å¤§æ‹¬å·<br><strong>æ³¨æ„ï¼š</strong>åœ¨å¤šç»´æ•°ç»„ä¸­å¿½ç•¥æ‰å†…å±‚çš„å¤§æ‹¬å·å¯èƒ½å¾ˆå±é™©ï¼Œæ­¤å¤–çœç•¥æ‹¬å·ä¼šå¼•èµ·æŸäº›ç¼–è¯‘å™¨äº§ç”Ÿè­¦å‘Šä¿¡æ¯ã€‚</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¡Œæ•°ä¸è¶³</span></span><br><span class="line"><span class="keyword">int</span> m[<span class="number">5</span>][<span class="number">9</span>] = &#123;&#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>&#125;,</span><br><span class="line">			   &#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>&#125;,</span><br><span class="line">			   &#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>&#125;,</span><br><span class="line">			   &#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>&#125;&#125;;</span><br><span class="line"><span class="comment">//åˆ—æ•°ä¸è¶³</span></span><br><span class="line"><span class="keyword">int</span> m[<span class="number">5</span>][<span class="number">9</span>] = &#123;&#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>&#125;,</span><br><span class="line">			   &#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>&#125;,</span><br><span class="line">			   &#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>&#125;,</span><br><span class="line">			   &#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>&#125;,</span><br><span class="line">			   &#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>&#125;&#125;;</span><br><span class="line"><span class="comment">//å¿½ç•¥å†…å±‚çš„å¤§æ‹¬å·</span></span><br><span class="line"><span class="keyword">int</span> m[<span class="number">5</span>][<span class="number">9</span>] = &#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,</span><br><span class="line">			   <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,</span><br><span class="line">			   <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,</span><br><span class="line">			   <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,</span><br><span class="line">			   <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="8-2-2-å¸¸é‡æ•°ç»„"><a href="#8-2-2-å¸¸é‡æ•°ç»„" class="headerlink" title="8.2.2    å¸¸é‡æ•°ç»„"></a>8.2.2    å¸¸é‡æ•°ç»„</h3><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>const ç±»å‹ æ•°ç»„å[]</code><br><strong>è¯´æ˜ï¼š</strong>ç¨‹åºä¸åº”å¯¹å£°æ˜ä¸º<code>const</code>çš„æ•°ç»„è¿›è¡Œä¿®æ”¹ã€‚</p>
<ul>
<li>è¡¨æ˜ç¨‹åºä¸ä¼šä¿®æ”¹æ•°ç»„</li>
<li>å‘ŠçŸ¥ä¸æ‰“ç®—ä¿®æ”¹æ•°ç»„å¯¹ç¼–è¯‘å™¨å‘ç°é”™è¯¯æ˜¯å¾ˆæœ‰å¸®åŠ©çš„</li>
</ul>
</blockquote>
<h3 id="8-2-3-å‘ç‰Œ"><a href="#8-2-3-å‘ç‰Œ" class="headerlink" title="8.2.3    å‘ç‰Œ"></a>8.2.3    å‘ç‰Œ</h3><blockquote>
<p><strong>ç›¸å…³å‡½æ•°ï¼š</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>å‡½æ•°</th>
<th>æ‰€å±åº“</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>time</td>
<td>time.h</td>
<td>è¿”å›å½“å‰çš„æ—¶é—´ï¼Œä¸”è¿™ä¸ªæ—¶é—´æ˜¯è¢«ç¼–ç æˆå•ç‹¬çš„æ•°ã€‚</td>
</tr>
<tr>
<td>srand</td>
<td>stdlib.h</td>
<td>åˆå§‹åŒ–cè¯­è¨€çš„éšæœºæ•°ç”Ÿæˆå™¨</td>
</tr>
<tr>
<td>rand</td>
<td>stdlib.h</td>
<td>åœ¨æ¯æ¬¡è°ƒç”¨æ—¶ä¼šäº§ç”Ÿä¸€ä¸ªæ˜¾ç„¶éšæœºçš„æ•°</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Deals a random hand of cards</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NUM_SUITS 4</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NUM_RANKS 13</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TRUE 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>	FALSE 0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> Bool;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	Bool in_hand[NUM_SUITS][NUM_RANKS] = &#123;&#123;<span class="number">0</span>&#125;&#125;;</span><br><span class="line">	<span class="keyword">int</span> num_cards, rank, suit;</span><br><span class="line">	<span class="keyword">const</span> <span class="keyword">char</span> rank_code[] = &#123;<span class="string">'2'</span>,<span class="string">'3'</span>,<span class="string">'4'</span>,<span class="string">'5'</span>,<span class="string">'6'</span>,<span class="string">'7'</span>,<span class="string">'8'</span>,<span class="string">'9'</span>,<span class="string">'t'</span>,<span class="string">'j'</span>,<span class="string">'q'</span>,<span class="string">'k'</span>,<span class="string">'a'</span>&#125;;</span><br><span class="line">	<span class="keyword">const</span> <span class="keyword">char</span> suit_code[] = &#123;<span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'s'</span>, <span class="string">'h'</span>&#125;;</span><br><span class="line">	srand((unsigned)time(NULL));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Enter number of cards in hand:"</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;num_cards);</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Your hand:"</span>);</span><br><span class="line">	<span class="keyword">while</span>(num_cards &gt; <span class="number">0</span>)&#123;</span><br><span class="line">		suit = rand() % NUM_SUITS;<span class="comment">//æ£€å‡ºéšæœºçš„èŠ±é¢</span></span><br><span class="line">		rank = rand() % NUM_RANKS;<span class="comment">//æ£€å‡ºéšæœºçš„çº¸ç‰Œç­‰çº§</span></span><br><span class="line">		<span class="comment">//å¦‚æœæŸå¼ ç‰Œå·²ç»å‘å‡ºå»è¿‡ï¼Œåˆ™ä¸èƒ½å†å‘åŒæ ·çš„ç‰Œï¼Œåº”å½“é‡æ–°å‘</span></span><br><span class="line">		<span class="keyword">if</span>(!in_hand[suit][rank] == TRUE)&#123;</span><br><span class="line">			in_hand[suit][rank] = TRUE;</span><br><span class="line">			num_cards--;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">" %c%c"</span>, rank_code[rank], suit_code[suit]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ./deal                        </span><br><span class="line"> Enter number of cards <span class="keyword">in</span> hand:10</span><br><span class="line"> Your hand: 5s 6d th 9c 6s qs 7c 9d kh 2d</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/09/7 åŸºæœ¬ç±»å‹/" itemprop="url">
                  7 åŸºæœ¬ç±»å‹
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-09T18:39:48+08:00" content="2016-05-09">
              2016-05-09
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/09/7 åŸºæœ¬ç±»å‹/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/09/7 åŸºæœ¬ç±»å‹/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="7-1-æ•´å‹"><a href="#7-1-æ•´å‹" class="headerlink" title="7.1    æ•´å‹"></a>7.1    æ•´å‹</h2><blockquote>
<p><strong>å¯ç§»æ¤æ€§æŠ€å·§ï¼š</strong>å¯¹ä¸è¶…è¿‡32767çš„æ•´æ•°é‡‡ç”¨intæˆ–shaort intï¼Œå…¶å®ƒæƒ…å†µä¸‹ä½¿ç”¨long intã€‚<br><strong>æ³¨æ„ï¼š</strong>ä¸è¦éƒ¨åˆ†å·®åˆ«åœ°ä½¿ç”¨é•¿æ•´å‹ï¼Œå› ä¸ºé•¿æ•´å‹æ“ä½œæ¯”è¾ƒè€—æ—¶ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>æ•´æ•°ç±»å‹</th>
<th>è¯´æ˜</th>
<th>bitï¼ˆ16ä½æœºå™¨ï¼‰</th>
<th>bit(32ä½æœºå™¨)</th>
<th>æ•°å€¼èŒƒå›´(16ä½æœºå™¨)</th>
<th>æ•°å€¼èŒƒå›´(32ä½æœºå™¨)</th>
<th>æœ‰æ— ç¬¦å·</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>short [signed] int</code></td>
<td>çŸ­æ•´å‹</td>
<td>16</td>
<td>16</td>
<td>-2^15~2^15-1</td>
<td>-2^15~2^15-1</td>
<td>æœ‰</td>
</tr>
<tr>
<td><code>short usigned int</code></td>
<td>æ— ç¬¦å·çŸ­æ•´å‹</td>
<td>16</td>
<td>16</td>
<td>0~2^16-1</td>
<td>0~2^16-1</td>
<td>æ— </td>
</tr>
<tr>
<td><code>int [signed]</code></td>
<td>æ•´å‹</td>
<td>16</td>
<td>32</td>
<td>-2^15~2^15-1</td>
<td>-2^31~2^31-1</td>
<td>æœ‰</td>
</tr>
<tr>
<td><code>int unsigned</code></td>
<td>æ— ç¬¦å·æ•´å‹</td>
<td>16</td>
<td>32</td>
<td>0~2^16-1</td>
<td>0~2^32-1</td>
<td>æ— </td>
</tr>
<tr>
<td><code>long [signed]</code></td>
<td>é•¿æ•´å‹</td>
<td>32</td>
<td>32</td>
<td>-2^31~2^31-1</td>
<td>-2^31~2^31-1</td>
<td>æœ‰</td>
</tr>
<tr>
<td><code>long unsigned int</code></td>
<td>æ— ç¬¦å·é•¿æ•´å‹</td>
<td>32</td>
<td>32</td>
<td>0~2^32-1</td>
<td>0~2^32-1</td>
<td>æ— </td>
</tr>
</tbody>
</table>
<h3 id="7-1-1-æ•´å‹å¸¸é‡"><a href="#7-1-1-æ•´å‹å¸¸é‡" class="headerlink" title="7.1.1    æ•´å‹å¸¸é‡"></a>7.1.1    æ•´å‹å¸¸é‡</h3><h4 id="è¿›åˆ¶"><a href="#è¿›åˆ¶" class="headerlink" title="è¿›åˆ¶"></a>è¿›åˆ¶</h4><blockquote>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ol>
<li>æ•´æ•°éƒ½æ˜¯ä»¥äºŒè¿›åˆ¶å½¢å¼å­˜å‚¨çš„ï¼Œä¸ä¼šè€ƒè™‘å®é™…çš„ä¹¦å†™æ–¹å¼</li>
<li>ä»»ä½•æ—¶å€™éƒ½å¯ä»¥ä»ä¸€ç§ä¹¦å†™æ–¹å¼åˆ‡æ¢åˆ°å¦ä¸€ç§ï¼Œç”šè‡³å¯ä»¥æ··åˆä½¿ç”¨</li>
</ol>
</blockquote>
<table>
<thead>
<tr>
<th>è¿›åˆ¶</th>
<th>åŒ…å«æ•°å­—</th>
<th>å†™æ³•</th>
<th>ä¸¾ä¾‹</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>åè¿›åˆ¶</td>
<td>0~9</td>
<td>ä¸èƒ½ä»¥0å¼€å¤´</td>
<td>15 255</td>
<td></td>
</tr>
<tr>
<td>å…«è¿›åˆ¶</td>
<td>0~7</td>
<td>å¿…é¡»ä»¥0å¼€å¤´</td>
<td>017 0377</td>
<td></td>
</tr>
<tr>
<td>åå…­è¿›åˆ¶</td>
<td>0~9å’Œå­—æ¯a~f</td>
<td>å­—æ¯éƒ¨åˆ†å¤§å°å†™å‡å¯</td>
<td>0xf</td>
</tr>
</tbody>
</table>
<h4 id="é•¿æ•´å‹å’Œæ— ç¬¦å·æ•´å‹"><a href="#é•¿æ•´å‹å’Œæ— ç¬¦å·æ•´å‹" class="headerlink" title="é•¿æ•´å‹å’Œæ— ç¬¦å·æ•´å‹"></a>é•¿æ•´å‹å’Œæ— ç¬¦å·æ•´å‹</h4><blockquote>
<p><strong>æ³¨æ„ï¼š</strong>é»˜è®¤æƒ…å†µä¸‹ç¼–è¯‘å™¨å¯¹å¤„äºintç±»å‹å–å€¼èŒƒå›´å†…çš„æ•´æ•°ä½¿ç”¨intç±»å‹ï¼Œå¦åˆ™ä½¿ç”¨long intã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>åç¼€</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>U(u)</td>
<td>æŒ‡å®šå¸¸é‡ä¸ºæ— ç¬¦å·æ•´å‹</td>
</tr>
<tr>
<td>L(l)</td>
<td>æŒ‡å®šå¸¸é‡ä¸ºé•¿æ•´å‹</td>
</tr>
</tbody>
</table>
<h3 id="7-1-2-è¯»ï¼å†™æ•´æ•°"><a href="#7-1-2-è¯»ï¼å†™æ•´æ•°" class="headerlink" title="7.1.2    è¯»ï¼å†™æ•´æ•°"></a>7.1.2    è¯»ï¼å†™æ•´æ•°</h3><blockquote>
<p><strong>æº¢å‡ºï¼š</strong>å½“ç¨‹åºä»˜ç»™å˜é‡çš„å€¼å¤ªå¤§ä»¥è‡³äºæ— æ³•å­˜å‚¨åœ¨intç±»å‹ä¸­æ—¶ï¼Œè¿™æ—¶å€¼ä¼šè¢«å¤„ç†ä¸ºä¸ç¬¦åˆé¢„æœŸçš„å€¼ã€‚</p>
</blockquote>
<h4 id="printfå‡½æ•°å’Œscanfå‡½æ•°"><a href="#printfå‡½æ•°å’Œscanfå‡½æ•°" class="headerlink" title="printfå‡½æ•°å’Œscanfå‡½æ•°"></a><code>printf</code>å‡½æ•°å’Œ<code>scanf</code>å‡½æ•°</h4><p><strong>æœ‰ç¬¦å·æ•´æ•°</strong></p>
<table>
<thead>
<tr>
<th>è½¬æ¢è¯´æ˜ç¬¦</th>
<th>ç±»å‹</th>
<th>è¿›åˆ¶</th>
</tr>
</thead>
<tbody>
<tr>
<td>%d</td>
<td>int</td>
<td>åè¿›åˆ¶</td>
</tr>
<tr>
<td>%hd</td>
<td>short signed int</td>
<td>åè¿›åˆ¶</td>
</tr>
<tr>
<td>%ld</td>
<td>long signed int</td>
<td>åè¿›åˆ¶</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">short</span> <span class="keyword">int</span> s;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">int</span> l;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%hd"</span>, &amp;s);<span class="comment">//å†™ï¼šçŸ­æ•´å‹</span></span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%ld"</span>, &amp;l);<span class="comment">//å†™ï¼šé•¿æ•´å‹</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%hd"</span>, s);<span class="comment">//è¯»ï¼šçŸ­æ•´å‹</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%ld"</span>, l);<span class="comment">//è¯»ï¼šé•¿æ•´å‹</span></span><br></pre></td></tr></table></figure>
<p><strong>æ— ç¬¦å·æ•´æ•°</strong></p>
<table>
<thead>
<tr>
<th>è½¬æ¢è¯´æ˜ç¬¦</th>
<th>ç±»å‹</th>
<th>è¿›åˆ¶</th>
</tr>
</thead>
<tbody>
<tr>
<td>%u</td>
<td>unsigned int</td>
<td>åè¿›åˆ¶æ•°å­—</td>
</tr>
<tr>
<td>%o</td>
<td>unsigned int</td>
<td>å…«è¿›åˆ¶</td>
</tr>
<tr>
<td>%x</td>
<td>unsigned int</td>
<td>åå…­è¿›åˆ¶</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> u;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%u"</span>, %u);<span class="comment">//å†™ï¼šæ— ç¬¦å·åè¿›åˆ¶</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%u"</span>, u);<span class="comment">//è¯»ï¼šæ— ç¬¦å·åè¿›åˆ¶</span></span><br></pre></td></tr></table></figure>
<h3 id="7-1-3-ç¨‹åºï¼šæ•°åˆ—æ±‚å’Œï¼ˆæ”¹è¿›ç‰ˆï¼‰"><a href="#7-1-3-ç¨‹åºï¼šæ•°åˆ—æ±‚å’Œï¼ˆæ”¹è¿›ç‰ˆï¼‰" class="headerlink" title="7.1.3    ç¨‹åºï¼šæ•°åˆ—æ±‚å’Œï¼ˆæ”¹è¿›ç‰ˆï¼‰"></a>7.1.3    ç¨‹åºï¼šæ•°åˆ—æ±‚å’Œï¼ˆæ”¹è¿›ç‰ˆï¼‰</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Sums a series of numbers</span><br><span class="line"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n, sum = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"This program sums a series of intergers.\n"</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Enter intergers (0 to terminate:)"</span>);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">	<span class="keyword">while</span>(n != <span class="number">0</span>)&#123;</span><br><span class="line">		sum += n;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"The sun is:%d\n"</span>, sum);</span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="7-2-æµ®ç‚¹æ•°"><a href="#7-2-æµ®ç‚¹æ•°" class="headerlink" title="7.2    æµ®ç‚¹æ•°"></a>7.2    æµ®ç‚¹æ•°</h2><blockquote>
<p><strong>IEEEæµ®ç‚¹æ ‡å‡†ï¼š</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>bit</th>
<th>æœ€å°æ­£æ•°</th>
<th>æœ€å¤§å€¼</th>
<th>ç²¾åº¦</th>
</tr>
</thead>
<tbody>
<tr>
<td>float</td>
<td>32</td>
<td>1.17x10^-38</td>
<td>3.40x10^38</td>
<td>6ä¸ªæ•°å­—</td>
</tr>
<tr>
<td>double</td>
<td>64</td>
<td>2.22x0^-308</td>
<td>1.79x10^308</td>
<td>15ä¸ªæ•°å­—</td>
</tr>
<tr>
<td>long float</td>
<td>>=43</td>
<td>æœªè¯´æ˜</td>
<td>æœªè¯´æ˜</td>
<td>æœªè¯´æ˜</td>
</tr>
<tr>
<td>long double</td>
<td>>=79</td>
<td>æœªè¯´æ˜</td>
<td>æœªè¯´æ˜</td>
<td>æœªè¯´æ˜</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>cè¯­è¨€æµ®ç‚¹æ•°ï¼š</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>æµ®ç‚¹æ•°</th>
<th>è¯´æ˜</th>
<th>é€‚ç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>float</td>
<td>å•ç²¾åº¦æµ®ç‚¹æ•°</td>
<td>å½“ç²¾åº¦è¦æ±‚ä¸ä¸¥æ ¼æ—¶ï¼Œfloatç±»å‹æ˜¯å¾ˆé€‚åˆçš„ç±»å‹</td>
</tr>
<tr>
<td>double</td>
<td>åŒç²¾åº¦æµ®ç‚¹æ•°</td>
<td>æä¾›æ›´é«˜çš„ç²¾åº¦ï¼Œé€‚åˆç»å¤§å¤šæ•°</td>
</tr>
<tr>
<td>long double</td>
<td>æ‰©å±•åŒç²¾åº¦æµ®ç‚¹æ•°</td>
<td>æ”¯æŒæé«˜ç²¾åº¦çš„è¦æ±‚ï¼Œå¾ˆå°‘ä¼šç”¨åˆ°</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ol>
<li>long doubleç±»å‹æ²¡æœ‰å‡ºç°åœ¨IEEEæ ‡å‡†ä¸­ï¼Œå…¶é•¿åº¦éšæœºå™¨çš„ä¸åŒè€Œå˜åŒ–ï¼Œæœ€å¸¸é€šç”¨çš„å°ºå¯¸æ˜¯80ä½å’Œ128ä½</li>
</ol>
</blockquote>
<h3 id="7-2-1-æµ®ç‚¹å¸¸é‡"><a href="#7-2-1-æµ®ç‚¹å¸¸é‡" class="headerlink" title="7.2.1    æµ®ç‚¹å¸¸é‡"></a>7.2.1    æµ®ç‚¹å¸¸é‡</h3><blockquote>
<p><strong>è¯­æ³•ï¼š</strong>å¿…é¡»åŒ…å«å°æ•°ç‚¹æˆ–æŒ‡æ•°<br><strong>ä¸¾ä¸ªæ —å­ï¼š</strong>57.0çš„å¤šç§å†™æ³•</p>
</blockquote>
<p><code>57.0</code> <code>57.</code> <code>57.0e0</code> <code>57E0</code> <code>5.7e1</code> <code>5.7e+1</code> <code>.57e2</code> <code>570.e-1</code></p>
<blockquote>
<p><strong>å­˜å‚¨æ–¹å¼ï¼š</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>æƒ…æ™¯</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>é»˜è®¤æƒ…å†µ</td>
<td><code>double</code></td>
</tr>
<tr>
<td><code>æµ®ç‚¹å¸¸é‡F(f)</code></td>
<td><code>float</code></td>
</tr>
<tr>
<td><code>æµ®ç‚¹å¸¸é‡L(l)</code></td>
<td><code>long double</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong><code>double</code>ç±»å‹çš„å€¼åœ¨ä½¿ç”¨æ—¶ï¼Œå¦‚æœéœ€è¦ä¼šè‡ªåŠ¨è½¬æ¢ä¸º<code>float</code>ç±»å‹çš„å€¼ã€‚</p>
</blockquote>
<h3 id="7-2-2-è¯»-äº›æµ®ç‚¹æ•°"><a href="#7-2-2-è¯»-äº›æµ®ç‚¹æ•°" class="headerlink" title="7.2.2    è¯»/äº›æµ®ç‚¹æ•°"></a>7.2.2    è¯»/äº›æµ®ç‚¹æ•°</h3><table>
<thead>
<tr>
<th>æµ®ç‚¹ç±»å‹</th>
<th>è¯»</th>
<th>å†™</th>
</tr>
</thead>
<tbody>
<tr>
<td>float</td>
<td><code>%e</code> <code>%f</code> <code>%g</code></td>
<td><code>%e</code> <code>%f</code> <code>%g</code></td>
</tr>
<tr>
<td>double</td>
<td><code>%e</code> <code>%f</code> <code>%g</code></td>
<td><code>%le</code> <code>%lf</code> <code>%lg</code></td>
</tr>
<tr>
<td>long double</td>
<td><code>%Le</code> <code>%Lf</code> <code>%Lg</code></td>
<td><code>%Le</code> <code>%Lf</code> <code>%Lg</code></td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> d;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%lf"</span>, &amp;d);</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">double</span> ld;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%Lf"</span>, &amp;ld);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%Lf"</span>, ld);</span><br></pre></td></tr></table></figure>
<h2 id="7-3-å­—ç¬¦å‹"><a href="#7-3-å­—ç¬¦å‹" class="headerlink" title="7.3    å­—ç¬¦å‹"></a>7.3    å­—ç¬¦å‹</h2><blockquote>
<p><strong>charï¼š</strong><code>Q&amp;A</code> <code>char</code>ç±»å‹çš„å€¼å¯ä»¥æ ¹æ®è®¡ç®—æœºçš„ä¸åŒè€Œä¸åŒï¼Œå› ä¸ºä¸åŒçš„æœºå™¨å¯èƒ½ä¼šæœ‰ä¸åŒçš„å­—ç¬¦é›†ã€‚<br><strong>ASCIIå­—ç¬¦é›†ï¼š</strong>ç”¨7ä½ä»£ç è¡¨ç¤º128ä¸ªå­—ç¬¦ï¼Œä¸€äº›è®¡ç®—æœºæŠŠASCIIç æ‰©å±•ä¸º8ä½ä»£ç ä»¥ä¾¿å¯ä»¥è¡¨ç¤º256ä¸ªå­—ç¬¦ã€‚<br><strong>å­—ç¬¦å¸¸é‡ï¼š</strong>å­—ç¬¦å¸¸é‡éœ€è¦ç”¨å•å¼•å·æ‹¬èµ·æ¥ï¼Œè€Œä¸æ˜¯åŒå¼•å·ã€‚<br><strong>å°†<code>char</code>å½“ä½œæ•´æ•°ï¼š</strong>cè¯­è¨€ä¼šæŒ‰å°æ•´æ•°çš„æ–¹å¼å¤„ç†å­—ç¬¦ï¼Œæ¯•ç«Ÿæ‰€æœ‰å­—ç¬¦éƒ½æ˜¯ä»¥äºŒè¿›åˆ¶çš„å½¢å¼è¿›è¡Œç¼–ç çš„ã€‚åœ¨ASCIIç ä¸­ï¼Œå­—ç¬¦çš„å–å€¼èŒƒå›´æ˜¯0000000(0)~1111111(127)ã€‚</p>
<blockquote>
<p><strong>ä¼˜ç‚¹ï¼š</strong>åˆ©ç”¨å­—ç¬¦å’Œæ•°ç›¸åŒçš„å±æ€§çµæ´»å¤„ç†å­—ç¬¦ï¼Œä¾‹å¦‚<code>for(ch = &#39;A&#39;; ch &lt;= &#39;Z&#39;; ch++) ...</code><br><strong>ç¼ºç‚¹ï¼š</strong></p>
<ol>
<li>å¯¼è‡´ç¼–è¯‘å™¨æ— æ³•æ£€æŸ¥å‡ºçš„å¤šç§ç¼–ç¨‹é”™è¯¯</li>
<li>ç¼–å†™å‡ºè¯¸å¦‚<code>&#39;a&#39; * &#39;b&#39; / &#39;c&#39;</code>è¿™ç±»æ— æ„ä¹‰çš„è¡¨è¾¾å¼</li>
<li>å¦¨ç¢ç¨‹åºçš„å¯ç§»æ¤æ€§ï¼ˆå› ä¸ºç¨‹åºå¯èƒ½ä¼šåŸºäºä¸€äº›å¯¹å­—ç¬¦é›†çš„å‡è®¾ï¼‰</li>
</ol>
</blockquote>
<p><strong>æœ‰ç¬¦å·å’Œæ— ç¬¦å·</strong></p>
<blockquote>
<p><strong>ç¼–è¯‘å™¨è¡Œä¸ºï¼š</strong>ä¸€äº›ç¼–è¯‘å™¨æŒ‰ç…§æœ‰ç¬¦å·æ•°æ®(-128~127)å¤„ç†<code>char</code>ï¼Œå¦ä¸€äº›åˆ™ä¸ºæ— ç¬¦å·(0~255)<code>char</code>ã€‚è®¾ç½®æœ‰äº›ç¼–è¯‘å™¨å…è®¸ç¨‹åºå‘˜é€šè¿‡ç¼–è¯‘å™¨é€‰é¡¹é€‰æ‹©<code>char</code>æ—¶æœ‰ç¬¦å·å‹è¿˜æ˜¯æ— ç¬¦å·å‹<br><strong>å¯ç§»æ¤æ€§æŠ€å·§ï¼š</strong>ç”¨<code>signed char</code>æˆ–<code>unsigned char</code>ä»£æ›¿<code>char</code>ã€‚</p>
</blockquote>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> ch;</span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line">i = <span class="string">'a'</span>;<span class="comment">//i is now 97</span></span><br><span class="line">ch = <span class="number">65</span>;<span class="comment">//ch is now 'A'</span></span><br><span class="line">ch = ch + <span class="number">1</span>;<span class="comment">//ch is now 'B'</span></span><br><span class="line">ch++;<span class="comment">//ch is now 'C'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¦‚æœchæ—¶å°å†™å­—æ¯ï¼Œè½¬ä¸ºå¤§å†™å­—æ¯</span></span><br><span class="line"><span class="keyword">if</span>(<span class="string">'a'</span> &lt;= ch &amp;&amp; ch &lt;= <span class="string">'z'</span>)&#123;</span><br><span class="line">	ch = ch - <span class="string">'a'</span> + <span class="string">'A'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-3-1-è½¬ä¹‰åºåˆ—"><a href="#7-3-1-è½¬ä¹‰åºåˆ—" class="headerlink" title="7.3.1    è½¬ä¹‰åºåˆ—"></a>7.3.1    è½¬ä¹‰åºåˆ—</h3><blockquote>
<p><strong>ç”¨é€”ï¼š</strong>cè¯­è¨€ä¸ºäº†å¤„ç†å­—ç¬¦é›†ä¸­çš„æ¯ä¸€ä¸ªå­—ç¬¦ï¼Œæä¾›äº†<code>è½¬ä¹‰å­—ç¬¦</code>ç”¨æ¥è¡¨ç¤ºä¸€äº›ä¸å¯è§æˆ–æ— æ³•ä»é”®ç›˜è¾“å…¥çš„å­—ç¬¦ã€‚<br><strong>å­—ç¬¦è½¬ä¹‰å­—ç¬¦ï¼š</strong>æ²¡æœ‰åŒ…å«æ‰€æœ‰æ— æ³•æ‰“å°çš„ASCIIå­—ç¬¦ï¼ŒåªåŒ…å«äº†æœ€å¸¸ç”¨çš„å­—ç¬¦ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>åç§°</th>
<th>è½¬ç§»åºåˆ—</th>
</tr>
</thead>
<tbody>
<tr>
<td>è­¦æŠ¥ï¼ˆå“é“ƒï¼‰ç¬¦</td>
<td>\a</td>
</tr>
<tr>
<td>å›é€€ç¬¦</td>
<td><code>\b</code></td>
</tr>
<tr>
<td>æ¢é¡µç¬¦</td>
<td><code>\f</code></td>
</tr>
<tr>
<td>æ¢è¡Œç¬¦</td>
<td><code>\n</code></td>
</tr>
<tr>
<td>å›è½¦ç¬¦</td>
<td><code>\r</code></td>
</tr>
<tr>
<td>æ¨ªå‘åˆ¶è¡¨ç¬¦</td>
<td><code>\t</code></td>
</tr>
<tr>
<td>çºµå‘åˆ¶è¡¨ç¬¦</td>
<td><code>\v</code></td>
</tr>
<tr>
<td>åæ–œæ </td>
<td><code>\\</code></td>
</tr>
<tr>
<td>é—®å·</td>
<td><code>\?</code></td>
</tr>
<tr>
<td>å•å¼•å·</td>
<td><code>\&#39;</code></td>
</tr>
<tr>
<td>åŒå¼•å·</td>
<td><code>\&quot;</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æ•°å­—è½¬ä¹‰å­—ç¬¦ï¼š</strong>å¯ä»¥è¡¨ç¤ºä»»ä½•å­—ç¬¦ï¼Œçªç ´<code>å­—ç¬¦è½¬ä¹‰å­—ç¬¦</code>çš„é™åˆ¶ã€‚<br><strong>è½¬ä¹‰å­—ç¬¦å¸¸é‡ï¼š</strong>æœ‰8è¿›åˆ¶å’Œ16è¿›åˆ¶ä¸¤ç§ä¹¦å†™æ–¹å¼ï¼Œéœ€è¦ç”¨ä¸€å¯¹å•å¼•å·æ‹¬èµ·æ¥ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>è¿›åˆ¶</th>
<th>ä¹¦å†™æ–¹å¼</th>
<th>ç‰¹ç‚¹</th>
</tr>
</thead>
<tbody>
<tr>
<td>å…«è¿›åˆ¶è½¬ä¹‰åºåˆ—</td>
<td><code>\æœ€å¤šå«æœ‰ä¸‰ä½æ•°å­—çš„å…«è¿›åˆ¶æ•°</code></td>
<td>å¿…é¡»è¡¨ç¤ºä¸ºæ— ç¬¦å·å­—ç¬¦å‹</td>
</tr>
<tr>
<td>åå…­è¿›åˆ¶è½¬ä¹‰åºåˆ—</td>
<td><code>\xåå…­è¿›åˆ¶æ•°</code></td>
<td>æ ‡å‡†cå¯¹äºæ•°å­—ä¸ªæ•°æ²¡æœ‰é™åˆ¶ï¼Œ<code>x</code>å¿…é¡»ä¸ºå°å†™ï¼Œåå…­è¿›åˆ¶æ•°æ— é™åˆ¶</td>
</tr>
</tbody>
</table>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># define ESC '\33'	//ç”¨å®çš„æ–¹å¼å®šä¹‰æ•°å­—è½¬ä¹‰å­—ç¬¦å¸¸é‡</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>è¡¥å……ï¼š</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>å…¶å®ƒåºåˆ—</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>ä¸‰å­—ç¬¦åºåˆ—ï¼ˆtrigraph sequenceï¼‰</td>
<td>ä¸€äº›ç‰¹æ®Šçš„ASCIIå­—ç¬¦çš„ä»£ç </td>
</tr>
<tr>
<td>å¤šå­—èŠ‚å­—ç¬¦ï¼ˆmultibyte characterï¼‰</td>
<td></td>
</tr>
<tr>
<td>å®½å­—ç¬¦ï¼ˆnultibyte characterï¼‰</td>
</tr>
</tbody>
</table>
<h3 id="7-3-2-å­—ç¬¦å¤„ç†å‡½æ•°"><a href="#7-3-2-å­—ç¬¦å¤„ç†å‡½æ•°" class="headerlink" title="7.3.2    å­—ç¬¦å¤„ç†å‡½æ•°"></a>7.3.2    å­—ç¬¦å¤„ç†å‡½æ•°</h3><blockquote>
<p><strong>toupperï¼š</strong>cè¯­è¨€çš„toupperåº“å‡½æ•°ï¼Œç”¨æ¥æ£€æµ‹è‡ªèº«çš„å‚æ•°æ˜¯å¦æ˜¯å°å†™å­—æ¯ï¼Œå¦‚æœæ˜¯åˆ™å°†å…¶è½¬æ¢æˆç›¸åº”çš„å¤§å†™å­—æ¯ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;ctype.h&gt;</span></span></span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">toupper</span>(ch)) == <span class="string">'A'</span>) ...</span><br></pre></td></tr></table></figure>
<h3 id="7-3-3-è¯»-å†™å­—ç¬¦"><a href="#7-3-3-è¯»-å†™å­—ç¬¦" class="headerlink" title="7.3.3    è¯»/å†™å­—ç¬¦"></a>7.3.3    è¯»/å†™å­—ç¬¦</h3><blockquote>
<p><strong>ä¸¤ç§æ–¹å¼ï¼š</strong><code>printf</code>/<code>scanf</code>å’Œ<code>getChar</code>/<code>putchar</code></p>
</blockquote>
<h4 id="7-3-3-1-printf-å’Œ-scanf"><a href="#7-3-3-1-printf-å’Œ-scanf" class="headerlink" title="7.3.3.1    printf å’Œ scanf"></a>7.3.3.1    printf å’Œ scanf</h4><blockquote>
<p><strong>è½¬æ¢è¯´æ˜ï¼š</strong><code>%c</code><br><strong>æŠ€å·§ï¼š</strong></p>
<ul>
<li>åœ¨æ ¼å¼ä¸²è½¬æ¢è¯´æ˜<code>%c</code>å‰é¢åŠ ä¸€ä¸ªç©ºæ ¼ï¼Œå¼ºåˆ¶<code>scanf</code>å‡½æ•°åœ¨è¯»å…¥å­—ç¬¦å‰è·³è¿‡ç©ºç™½å­—ç¬¦ã€‚</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">scanf</span>(<span class="string">" %c"</span>, &amp;ch);<span class="comment">//ä¼šè·³è¿‡é›¶ä¸ªæˆ–å¤šä¸ªç©ºç™½å­—ç¬¦</span></span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>é€šå¸¸æƒ…å†µä¸‹scanfå‡½æ•°ä¸ä¼šè·³è¿‡ç©ºç™½ï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“æ£€æŸ¥åˆ°è¾“å…¥è¡Œçš„ç»“å°¾</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%c"</span>, &amp;ch);</span><br><span class="line">&#125;<span class="keyword">while</span>(ch != <span class="string">'\n'</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> ch;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%c"</span>, &amp;hc);<span class="comment">//reads a single character</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%c"</span>, ch);<span class="comment">//writes a single character</span></span><br></pre></td></tr></table></figure>
<h4 id="7-3-3-2-getchar-å’Œ-putchar"><a href="#7-3-3-2-getchar-å’Œ-putchar" class="headerlink" title="7.3.3.2    getchar å’Œ putchar"></a>7.3.3.2    getchar å’Œ putchar</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>åº“æ–¹æ³•</th>
<th>è¯´æ˜</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>getchar</td>
<td>è¯»å…¥ä¸€ä¸ªå­—ç¬¦å¹¶è¿”å›è¿™ä¸ªå­—ç¬¦</td>
<td>ä¸ä¼šè·³è¿‡ç©ºç™½å­—ç¬¦</td>
</tr>
<tr>
<td>putchar</td>
<td>ç”¨æ¥å•ç‹¬å†™ä¸€ä¸ªå­—ç¬¦</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æ‰§è¡Œé€Ÿåº¦å¿«ï¼š</strong>æ¯” scanf å’Œ printf èŠ‚çº¦æ—¶é—´ã€‚</p>
<ol>
<li>è¿™ä¸¤ä¸ªå‡½æ•°æ¯”scanfå’Œprinfç®€å•ï¼Œå› ä¸ºscanfå’Œprinfæ˜¯è®¾è®¡ç”¨æ¥è¯»/å†™å¤šç§ä¸åŒæ ¼å¼ç±»å‹æ•°æ®çš„</li>
<li>ä¸ºäº†é¢å¤–çš„é€Ÿåº¦æå‡ï¼Œé€šå¸¸getcharå‡½æ•°å’Œpucharå‡½æ•°æ˜¯ä½œä¸ºå®æ¥å®ç°çš„</li>
</ol>
<p><strong>å¯ä»¥åº”ç”¨å¤šç§ä¸åŒçš„cè¯­è¨€æƒ¯ç”¨æ³•ï¼š</strong>åŒ…æ‹¬ç”¨å¾ªç¯æœç´¢å­—ç¬¦æˆ–è·³è¿‡æ‰€æœ‰å‡ºç°çš„ç»Ÿä¸€å­—ç¬¦ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¾ªç¯æœç´¢å­—ç¬¦</span></span><br><span class="line"><span class="keyword">while</span>(getchar != <span class="string">'\n'</span>)</span><br><span class="line">;</span><br><span class="line"><span class="comment">//è·³è¿‡æ‰€æœ‰å‡ºç°çš„ç»Ÿä¸€å­—ç¬¦</span></span><br><span class="line"><span class="keyword">while</span>((ch = getchar()) == <span class="string">' '</span>)</span><br><span class="line">;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>é¿å…æ··åˆä½¿ç”¨<code>scanf</code>å’Œ<code>getchar</code>ï¼š</strong>scanfå‡½æ•°æœ‰ä¸€ç§ç•™ä¸‹åè¾¹å­—ç¬¦çš„è¶‹åŠ¿ï¼Œä¹Ÿå°±æ˜¯è¯´å¯¹äºè¾“å…¥åé¢çš„å­—ç¬¦åªæ˜¯çœ‹äº†ä¸€ä¸‹ï¼Œå¹¶æ²¡æœ‰è¯»å…¥ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">"Enter an interger:"</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;i);<span class="comment">//è¯»å…¥içš„åŒæ—¶ï¼Œscanfå‡½æ•°è°ƒç”¨å°†ä¼šç•™ä¸‹åé¢æ²¡æœ‰æ¶ˆè€—æ‰çš„äººä¸€å­—ç¬¦ï¼ŒåŒ…æ‹¬æ¢è¡Œç¬¦</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"Enter a command:"</span>);</span><br><span class="line">command = getchar();<span class="comment">//getcharä¼šå–å›ç¬¬ä¸€ä¸ªå£°èª‰å­—ç¬¦</span></span><br></pre></td></tr></table></figure>
<h3 id="7-3-4-ç¨‹åºï¼šç¡®å®šæ¶ˆæ¯çš„é•¿åº¦"><a href="#7-3-4-ç¨‹åºï¼šç¡®å®šæ¶ˆæ¯çš„é•¿åº¦" class="headerlink" title="7.3.4    ç¨‹åºï¼šç¡®å®šæ¶ˆæ¯çš„é•¿åº¦"></a>7.3.4    ç¨‹åºï¼šç¡®å®šæ¶ˆæ¯çš„é•¿åº¦</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Determines the length a message</span><br><span class="line"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter a message:"</span>);</span><br><span class="line"> 	<span class="keyword">while</span>(getchar() != <span class="string">'\n'</span>)&#123;</span><br><span class="line"> 		len ++;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Your message was %d character(s) long.\n"</span>, len);</span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">./length2 </span><br><span class="line"> Enter a message:1234567</span><br><span class="line"> Your message was 7 character(s) long.</span><br></pre></td></tr></table></figure>
<h2 id="7-4-sizeofè¿ç®—ç¬¦"><a href="#7-4-sizeofè¿ç®—ç¬¦" class="headerlink" title="7.4    sizeofè¿ç®—ç¬¦"></a>7.4    sizeofè¿ç®—ç¬¦</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç¼–è¯‘å™¨æœ¬èº«å°±å¯ä»¥è®¡ç®—sizeofè¡¨è¾¾å¼çš„å€¼ï¼Œæ‰€ä»¥sizeof æ˜¯ä¸€ç§ç‰¹æ®Šçš„è¿ç®—ç¬¦ï¼ˆä¸€å…ƒè¿ç®—ç¬¦ï¼‰<br><strong>ç”¨é€”ï¼š</strong>ç”¨æ¥è®¡ç®—åˆ¶å®šç±»å‹å€¼æ‰€éœ€ç©ºé—´çš„å¤§å°ã€‚<br><strong>sizeofè¡¨è¾¾å¼ï¼š</strong><code>sizeof(ç±»å‹å)</code><br><strong>å‚æ•°ï¼š</strong>å¸¸é‡ã€å˜é‡æˆ–è¡¨è¾¾å¼<br><strong>ä¼˜å…ˆçº§ï¼š</strong>é«˜äºäºŒå…ƒè¿ç®—ç¬¦ï¼ˆæ¯”å¦‚+ï¼‰<br><strong>è¿”å›å€¼ï¼š</strong>å­—èŠ‚æ•°ï¼Œç±»å‹ç”±å®ç°å®šä¹‰ï¼Œé€šå¸¸æ˜¯æ— ç¬¦å·æ•´æ•°<br><strong>åœ†æ‹¬å·ï¼š</strong>å½“åº”ç”¨äºè¡¨ç¤ºå¼æ—¶ä¸éœ€è¦åœ†æ‹¬å·ï¼Œæ¯”å¦‚<code>sizeof i</code>ï¼Œä½†æ˜¯ç”±äºè¿ç®—ç¬¦ä¼˜å…ˆçº§çš„é—®é¢˜ï¼Œå»ºè®®å§‹ç»ˆåœ¨sizeofè¡¨è¾¾å¼ä¸­é‡‡ç”¨åœ†æ‹¬å·ã€‚<br><strong>ä»¥<code>int</code>ä¸ºä¾‹ï¼š</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>å¤„ç†å™¨æ¶æ„</th>
<th>å­—èŠ‚æ•°</th>
</tr>
</thead>
<tbody>
<tr>
<td>16</td>
<td>2(é€šå¸¸)</td>
</tr>
<tr>
<td>32</td>
<td>4(é€šå¸¸)</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æŠŠsizeofè¡¨è¾¾å¼è½¬æ¢æˆ`unsigned long`(æœ€å¤§çš„æ— ç¬¦å·ç±»å‹)</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"Size of int:%lu\n"</span>, (unsigned long)<span class="keyword">sizeof</span>(int));</span><br></pre></td></tr></table></figure>
<h2 id="7-5-ç±»å‹è½¬æ¢"><a href="#7-5-ç±»å‹è½¬æ¢" class="headerlink" title="7.5    ç±»å‹è½¬æ¢"></a>7.5    ç±»å‹è½¬æ¢</h2><blockquote>
<p><strong>è®¡ç®—æœºæ‰§è¡Œç®—æœ¯è¿ç®—çš„é™åˆ¶ï¼š</strong>è¦æ±‚æ“ä½œæ•°å¤§å°ç›¸åŒï¼Œå­˜å‚¨æ–¹å¼ä¹Ÿç›¸åŒã€‚</p>
</blockquote>
<h2 id="7-5-1-éšå¼è½¬æ¢ï¼ˆimplicit-conversion"><a href="#7-5-1-éšå¼è½¬æ¢ï¼ˆimplicit-conversion" class="headerlink" title="7.5.1    éšå¼è½¬æ¢ï¼ˆimplicit conversion)"></a>7.5.1    éšå¼è½¬æ¢ï¼ˆimplicit conversion)</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>cè¯­è¨€å…è®¸åœ¨è¡¨è¾¾å¼ä¸­æ··åˆä½¿ç”¨åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆæ•´æ•°ã€æµ®ç‚¹æ•°ç”šè‡³æ˜¯å­—ç¬¦ï¼‰ã€‚æ­¤æ—¶cè¯­è¨€ç¼–è¯‘å™¨éœ€è¦ç”Ÿæˆä¸€äº›æŒ‡ä»¤å°†æŸäº›æ“ä½œæ•°è½¬æ¢æˆä¸åŒç±»å‹ï¼Œæ˜¯çš„ç¡¬ä»¶å¯ä»¥å¯¹è¡¨è¾¾å¼è¿›è¡Œè®¡ç®—ã€‚<br><strong>éšå¼è½¬æ¢æƒ…æ™¯ï¼š</strong></p>
<ul>
<li>å½“ç®—æœ¯è¡¨è¾¾å¼æˆ–é€»è¾‘è¡¨è¾¾å¼ä¸­æ“ä½œæ•°çš„ç±»å‹ä¸ç›¸åŒæ—¶ï¼ˆå¸¸ç”¨ç®—æ•°è½¬æ¢ï¼‰</li>
<li>å½“èµ‹å€¼è¿ç®—ç¬¦å³ä¾§è¡¨è¾¾å¼çš„ç±»å‹å’Œå·¦ä¾§å˜é‡çš„ç±»å‹ä¸åŒ¹é…æ—¶</li>
<li>å½“å‡½æ•°è°ƒç”¨ä¸­ä½¿ç”¨çš„å‚æ•°ç±»å‹ä¸å…¶å¯¹åº”çš„å‚æ•°çš„ç±»å‹ä¸åŒ¹é…æ—¶</li>
<li>å½“ returnè¯­å¥ä¸­è¡¨è¾¾å¼çš„ç±»å‹å’Œå‡½æ•°è¿”å›å€¼çš„ç±»å‹ä¸åŒ¹é…æ—¶</li>
</ul>
</blockquote>
<h3 id="7-5-1-å¸¸ç”¨ç®—æ•°è½¬æ¢"><a href="#7-5-1-å¸¸ç”¨ç®—æ•°è½¬æ¢" class="headerlink" title="7.5.1    å¸¸ç”¨ç®—æ•°è½¬æ¢"></a>7.5.1    å¸¸ç”¨ç®—æ•°è½¬æ¢</h3><blockquote>
<p><strong>åŸç†ï¼š</strong>ä¸ºäº†ç»Ÿä¸€æ“ä½œæ•°çš„ç±»å‹ï¼Œé€šå¸¸å¯ä»¥å°†ç›¸å¯¹ç‹­å°çš„æ“ä½œæ•°è½¬æ¢æˆå¦ä¸€ä¸ªæ“ä½œæ•°çš„ç±»å‹æ¥å®ç°ï¼ˆå³æå‡ï¼‰ã€‚<br><strong>æ•´å‹æå‡ï¼ˆintegral promitionï¼‰ï¼š</strong>æŠŠ<code>char</code>æˆ–<code>short int</code>è½¬æ¢æˆ<code>int</code>ï¼ˆæˆ–<code>unsigned int</code>ï¼‰ã€‚</p>
<p><strong>ä¸¤ç§æƒ…å†µï¼š</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>æƒ…å†µ</th>
<th>æå‡æ–¹å¼</th>
</tr>
</thead>
<tbody>
<tr>
<td>ä»»ä¸€æ“ä½œæ•°çš„ç±»å‹æ—¶æµ®ç‚¹å‹çš„æƒ…å†µ</td>
<td><code>long double&lt;-double&lt;-float</code></td>
</tr>
<tr>
<td>ä¸¤ä¸ªæ“ä½œæ•°éƒ½ä¸æ˜¯æµ®ç‚¹å‹çš„æƒ…å†µ</td>
<td><code>unsigned long int&lt;-long int&lt;-usigned int&lt;-int</code></td>
</tr>
<tr>
<td><code>long int</code>å’Œ<code>unsigned int</code></td>
<td>ä¸¤ä¸ªæ“ä½œæ•°éƒ½ä¼šè½¬æ¢æˆ<code>usigned long int</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong>å°½é‡é¿å…ä½¿ç”¨<code>unsigned int</code>ï¼Œç‰¹åˆ«ä¸è¦æŠŠå®ƒå’Œæœ‰ç¬¦å·æ•´æ•°æ··åˆä½¿ç”¨ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i ,u;</span><br><span class="line">i = <span class="number">-10</span>;</span><br><span class="line">u = <span class="number">10</span>;</span><br><span class="line"><span class="comment">//intè½¬æ¢ä¸ºusigned intæ—¶æœ€é«˜ä½çš„ç¬¦å·ä½ä¸å†æ˜¯ç¬¦å·ä½</span></span><br><span class="line">i &lt; u;<span class="comment">//0ï¼Œå› ä¸ºä¼šè¿›è¡Œéšå¼è½¬æ¢å¯¼è‡´è®²-10å½“ä½œunsigned int</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> c;</span><br><span class="line"><span class="keyword">short</span> <span class="keyword">int</span> s;</span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> u;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">int</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">int</span> ul;</span><br><span class="line"><span class="keyword">float</span> f;</span><br><span class="line"><span class="keyword">double</span> d;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">double</span> ld;</span><br><span class="line"></span><br><span class="line">i = i + c;<span class="comment">//cè¢«è½¬ä¸ºint</span></span><br><span class="line">i = i + s;<span class="comment">//sè¢«è½¬ä¸ºint</span></span><br><span class="line">u = u + i;<span class="comment">//iè¢«è½¬ä¸ºunsigned int</span></span><br><span class="line">l = l + u;<span class="comment">//lè¢«è½¬ä¸ºlong int</span></span><br><span class="line">ul = ul + <span class="number">1</span>;<span class="comment">//lè¢«è½¬ä¸ºunsigned long int</span></span><br><span class="line">f = f + ul;<span class="comment">//fè¢«è½¬ä¸ºdouble</span></span><br><span class="line">d = d + f;<span class="comment">//fè¢«è½¬ä¸ºdouble</span></span><br><span class="line">ld = ld + d;<span class="comment">//dè¢«è½¬ä¸ºlong double</span></span><br></pre></td></tr></table></figure>
<h3 id="7-5-2-èµ‹å€¼ä¸­çš„è½¬æ¢"><a href="#7-5-2-èµ‹å€¼ä¸­çš„è½¬æ¢" class="headerlink" title="7.5.2    èµ‹å€¼ä¸­çš„è½¬æ¢"></a>7.5.2    èµ‹å€¼ä¸­çš„è½¬æ¢</h3><blockquote>
<p><strong>è½¬åŒ–è§„åˆ™ï¼š</strong>æŠŠèµ‹å€¼è¿ç®—å³è¾¹çš„è¡¨è¾¾å¼è½¬æ¢æˆå·¦è¾¹å˜é‡çš„ç±»å‹ã€‚</p>
</blockquote>
<h4 id="7-5-2-1-ä¸¤è¾¹ç±»å‹ä¸€æ ·â€œå®½â€"><a href="#7-5-2-1-ä¸¤è¾¹ç±»å‹ä¸€æ ·â€œå®½â€" class="headerlink" title="7.5.2.1    ä¸¤è¾¹ç±»å‹ä¸€æ ·â€œå®½â€"></a>7.5.2.1    ä¸¤è¾¹ç±»å‹ä¸€æ ·â€œå®½â€</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> c;</span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">float</span> f;</span><br><span class="line"><span class="keyword">double</span> d;</span><br><span class="line"></span><br><span class="line">i = c;<span class="comment">//cè¢«è½¬ä¸ºint</span></span><br><span class="line">f = i;<span class="comment">//iè¢«è½¬ä¸ºfloat</span></span><br><span class="line">d = f;<span class="comment">//fè¢«è½¬ä¸ºdouble</span></span><br></pre></td></tr></table></figure>
<h4 id="7-5-2-2-æµ®ç‚¹æ•°èµ‹å€¼ç»™æ•´å‹"><a href="#7-5-2-2-æµ®ç‚¹æ•°èµ‹å€¼ç»™æ•´å‹" class="headerlink" title="7.5.2.2    æµ®ç‚¹æ•°èµ‹å€¼ç»™æ•´å‹"></a>7.5.2.2    æµ®ç‚¹æ•°èµ‹å€¼ç»™æ•´å‹</h4><blockquote>
<p><strong>è§„åˆ™ï¼š</strong>å»æ‰å°æ•°éƒ¨åˆ†ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i;</span><br><span class="line">i = <span class="number">842.97</span>;<span class="comment">//iä¸º842</span></span><br><span class="line">i = <span class="number">-842.87</span>;<span class="comment">//iä¸º-842</span></span><br></pre></td></tr></table></figure>
<h4 id="7-5-2-3-æº¢å‡º"><a href="#7-5-2-3-æº¢å‡º" class="headerlink" title="7.5.2.3    æº¢å‡º"></a>7.5.2.3    æº¢å‡º</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>Q&amp;A</code>å¦‚æœå–å€¼åœ¨å˜é‡ç±»å‹èŒƒå›´ä¹‹å¤–ï¼Œé‚£ä¹ˆæŠŠå€¼èµ‹ç»™ä¸€ä¸ªç‹­å°ç±»å‹çš„å˜é‡å°†ä¼šå¾—åˆ°æ— æ„ä¹‰çš„ç»“æœï¼ˆè®¾ç½®æ›´ç³Ÿï¼‰ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">c = <span class="number">10000</span>;</span><br><span class="line">i = <span class="number">1.0e20</span>;</span><br><span class="line">f = <span class="number">1.0e100</span>;</span><br></pre></td></tr></table></figure>
<h3 id="7-5-3-å¼ºåˆ¶ç±»å‹è½¬æ¢"><a href="#7-5-3-å¼ºåˆ¶ç±»å‹è½¬æ¢" class="headerlink" title="7.5.3    å¼ºåˆ¶ç±»å‹è½¬æ¢"></a>7.5.3    å¼ºåˆ¶ç±»å‹è½¬æ¢</h3><blockquote>
<p><strong>å¼ºåˆ¶è½¬æ¢è¡¨è¾¾å¼ï¼š</strong><code>ï¼ˆç±»å‹åï¼‰è¡¨è¾¾å¼</code><br><strong>ä¼˜å…ˆçº§ï¼š</strong>è¢«å½“ä½œä¸€å…ƒè¿ç®—ç¬¦ï¼Œå› æ­¤é«˜äºäºŒå…ƒè¿ç®—ç¬¦</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">float</span> f, frac_part;</span><br><span class="line">frac_part = f - (int)f;<span class="comment">//è·å¾—æµ®ç‚¹æ•°fçš„å°æ•°éƒ¨åˆ†</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">float</span> quotient;</span><br><span class="line"><span class="keyword">int</span> divided, divisor;</span><br><span class="line">quotient = (float)dividend / divisor;<span class="comment">//divisorä¼šè¢«è¿«ä½¿ç¼–è¯‘å™¨æŠŠdivisorä¹Ÿè½¬æ¢æˆä¸ºfloatç±»å‹ã€‚</span></span><br></pre></td></tr></table></figure>
<h2 id="7-6-ç±»å‹å®šä¹‰"><a href="#7-6-ç±»å‹å®šä¹‰" class="headerlink" title="7.6    ç±»å‹å®šä¹‰"></a>7.6    ç±»å‹å®šä¹‰</h2><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>typedef åŸæœ¬ç±»å‹å ç±»å‹åˆ«å;</code><br><strong>è¯´æ˜ï¼š</strong>é‡‡ç”¨typedefå®šä¹‰ç±»å‹åˆ«åä¼šå¯¼è‡´ç¼–è¯‘å™¨å°†å…¶åŠ å…¥åˆ°ç±»å‹åˆ—è¡¨ä¸­ã€‚<br><strong>ç”¨é€”ï¼š</strong></p>
<ol>
<li>å¦‚æœç¨‹åºå‘˜ä½¿ç”¨æœ‰æ„ä¹‰çš„ç±»å‹åï¼Œä¼šä½¿ç¨‹åºæ›´åŠ æ˜“äºç†è§£</li>
<li>ä½¿ç¨‹åºæ›´åŠ æ˜“äºç»´æŠ¤</li>
<li>æ˜¯ç¼–å†™å¯ç§»æ¤ç¨‹åºçš„ä¸€ç§é‡è¦å·¥å…·</li>
</ol>
<p><strong>å¯ç§»æ¤æ€§æŠ€å·§ï¼š</strong>ä¸ºäº†æ›´å¤§çš„å¯ç§»æ¤æ€§ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨<code>typedef</code>å®šä¹‰æ–°çš„æ•´å‹åã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åœ¨16ä½æœºå™¨ä¸Š</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> Quantity;</span><br><span class="line">Quantity q;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åœ¨32ä½æœºå™¨ä¸Š</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">int</span> Quantity;</span><br><span class="line">Quantity q;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>ç¼–è¯‘å™¨åº“ä¸­ï¼ˆå¯èƒ½ï¼‰è‡ªå¸¦çš„ç±»å‹å®šä¹‰ï¼š</strong></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> <span class="keyword">ptrdiff_t</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">size_t</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> <span class="keyword">wchar_t</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">float</span> Dollars;</span><br><span class="line">Dollars cash_in, cash_out;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/09/6 å¾ªç¯/" itemprop="url">
                  6 å¾ªç¯
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-09T18:09:39+08:00" content="2016-05-09">
              2016-05-09
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/09/6 å¾ªç¯/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/09/6 å¾ªç¯/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="6-1-whileè¯­å¥"><a href="#6-1-whileè¯­å¥" class="headerlink" title="6.1    whileè¯­å¥"></a>6.1    whileè¯­å¥</h2><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>while(è¡¨è¾¾å¼)è¯­å¥</code></p>
<ul>
<li>åœ†æ‹¬å·å¼ºåˆ¶è¦æ±‚ï¼Œå¾ªç¯ä½“å¤–é¢çš„å¤§æ‹¬å·ä¸å¼ºåˆ¶è¦æ±‚ä½¿ç”¨ï¼ˆå¤šä¸ªè¯­å¥é™¤å¤–ï¼‰</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">while</span>(i &gt; <span class="number">0</span>)&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"T minus %d and counting\n"</span>, i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-1-1-æ— é™å¾ªç¯"><a href="#6-1-1-æ— é™å¾ªç¯" class="headerlink" title="6.1.1    æ— é™å¾ªç¯"></a>6.1.1    æ— é™å¾ªç¯</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¦‚æœæ§åˆ¶è¡¨è¾¾å¼çš„å€¼å§‹ç»ˆæ˜¯éé›¶å€¼çš„è¯ï¼Œwhileè¯­å¥å°†æ— æ³•ç»ˆæ­¢ã€‚<br><strong>æŠ€å·§ï¼š</strong>cè¯­è¨€ç¨‹åºå‘˜æœ‰æ—¶æ•…æ„ç”¨éé›¶å¸¸é‡ä½œä¸ºæ§åˆ¶è¡¨è¾¾å¼æ¥æ„é€ æ— é™å¾ªç¯ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(<span class="number">1</span>) ...</span><br></pre></td></tr></table></figure>
<h3 id="6-1-2-ç¨‹åºï¼šæ˜¾ç¤ºå¹³æ–¹å€¼çš„è¡¨æ ¼"><a href="#6-1-2-ç¨‹åºï¼šæ˜¾ç¤ºå¹³æ–¹å€¼çš„è¡¨æ ¼" class="headerlink" title="6.1.2    ç¨‹åºï¼šæ˜¾ç¤ºå¹³æ–¹å€¼çš„è¡¨æ ¼"></a>6.1.2    ç¨‹åºï¼šæ˜¾ç¤ºå¹³æ–¹å€¼çš„è¡¨æ ¼</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Prints a table of squares using a while statement</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> i, n;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"This program prints a table of ssquares.\n"</span>);</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter number of entries in table :"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line"> 	i = <span class="number">1</span>;</span><br><span class="line"> 	<span class="keyword">while</span>(i &lt;= n)&#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"%10d%10d\n"</span>, i, i*i);</span><br><span class="line"> 		i++;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ ./square                          </span><br><span class="line"> This program prints a table of ssquares.</span><br><span class="line"> Enter number of entries <span class="keyword">in</span> table :5</span><br><span class="line">         1         1</span><br><span class="line">         2         4</span><br><span class="line">         3         9</span><br><span class="line">         4        16</span><br><span class="line">         5        25</span><br></pre></td></tr></table></figure>
<h3 id="6-1-3-ç¨‹åºï¼šæ•°åˆ—æ±‚å’Œ"><a href="#6-1-3-ç¨‹åºï¼šæ•°åˆ—æ±‚å’Œ" class="headerlink" title="6.1.3    ç¨‹åºï¼šæ•°åˆ—æ±‚å’Œ"></a>6.1.3    ç¨‹åºï¼šæ•°åˆ—æ±‚å’Œ</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Sums a series of numbers</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n, sum = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"This program sums a series of intergers.\n"</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Enter intergers (0 to terminate:)"</span>);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">	<span class="keyword">while</span>(n != <span class="number">0</span>)&#123;</span><br><span class="line">		sum += n;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"The sun is:%d\n"</span>, sum);</span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ ./sum </span><br><span class="line"> This program sums a series of intergers.</span><br><span class="line"> Enter intergers (0 to terminate:)1 2 3 4 0</span><br><span class="line"> The sun is:10</span><br></pre></td></tr></table></figure>
<h2 id="6-2-doè¯­å¥"><a href="#6-2-doè¯­å¥" class="headerlink" title="6.2    doè¯­å¥"></a>6.2    doè¯­å¥</h2><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>do è¯­å¥ while(è¡¨è¾¾å¼);</code><br><strong>è¯­å¥è¯´æ˜ï¼š</strong>doè¯­å¥çš„æœ¬è´¨å°±æ˜¯whileè¯­å¥ï¼Œåªä¸è¿‡doè¯­å¥æ˜¯åœ¨æ¯æ¬¡æ‰§è¡Œå¾ªç¯ä½“ä¹‹åå¯¹æ§åˆ¶è¡¨è¾¾å¼è¿›è¡Œåˆ¤å®šçš„ã€‚<br><strong>é€‚ç”¨åœºæ™¯ï¼š</strong>è‡³å°‘è¦æ‰§è¡Œä¸€æ¬¡çš„å¾ªç¯ä½“<br><strong>æ³¨æ„ï¼š</strong>æœ€å¥½æ‰€æœ‰çš„doè¯­å¥éƒ½é€‚ç”¨å¤§æ‹¬å·ï¼Œå› ä¸ºæ²¡æœ‰å¤§æ‹¬å·çš„doè¯­å¥å¾ˆå®¹æ˜“è¢«è¯¯è®¤ä¸ºwhileè¯­å¥ã€‚</p>
</blockquote>
<h3 id="ç¨‹åºï¼šè®¡ç®—æ•´æ•°ä¸­æ•°å­—çš„ä½æ•°"><a href="#ç¨‹åºï¼šè®¡ç®—æ•´æ•°ä¸­æ•°å­—çš„ä½æ•°" class="headerlink" title="ç¨‹åºï¼šè®¡ç®—æ•´æ•°ä¸­æ•°å­—çš„ä½æ•°"></a>ç¨‹åºï¼šè®¡ç®—æ•´æ•°ä¸­æ•°å­—çš„ä½æ•°</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Calculates the number od digits in an interger</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> digits = <span class="number">0</span>, n;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter a nonnegative interger:"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line"> 	<span class="comment">//å¦‚æœä½¿ç”¨whileå¾ªç¯ï¼Œè¾“å…¥0å°†å¯¼è‡´åˆ¤æ–­é”™è¯¯ï¼ˆè®¤ä¸º0ä¸º0ä½æ•°å­—ï¼‰</span></span><br><span class="line"> 	<span class="keyword">do</span>&#123;</span><br><span class="line"> 		n /= <span class="number">10</span>;</span><br><span class="line"> 		digits++;</span><br><span class="line"> 	&#125;<span class="keyword">while</span>(n &gt; <span class="number">0</span>);</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"The number has %d digit(s).\n"</span>, digits);</span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ./numdigit </span><br><span class="line"> Enter a nonnegative interger:20150621</span><br><span class="line"> The number has 8 digit(s).</span><br></pre></td></tr></table></figure>
<h2 id="6-3-forè¯­å¥"><a href="#6-3-forè¯­å¥" class="headerlink" title="6.3    forè¯­å¥"></a>6.3    forè¯­å¥</h2><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>for (è¡¨è¾¾å¼1;è¡¨è¾¾å¼2;è¡¨è¾¾å¼3) è¯­å¥</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(i = <span class="number">10</span>;  i &gt; <span class="number">0</span>; i--)&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"T minus %d and counting\n"</span>, i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>whileæ¨¡æ‹Ÿforï¼š</strong></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¡¨è¾¾å¼<span class="number">1</span>ï¼›</span><br><span class="line"><span class="keyword">while</span>(è¡¨è¾¾å¼<span class="number">2</span>)&#123;</span><br><span class="line">    è¯­å¥</span><br><span class="line">    è¡¨è¾¾å¼<span class="number">3</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-3-1-forè¯­å¥çš„æƒ¯ç”¨æ³•"><a href="#6-3-1-forè¯­å¥çš„æƒ¯ç”¨æ³•" class="headerlink" title="6.3.1    forè¯­å¥çš„æƒ¯ç”¨æ³•"></a>6.3.1    forè¯­å¥çš„æƒ¯ç”¨æ³•</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä»0å‘ä¸ŠåŠ åˆ°n-1</span></span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line"><span class="comment">//ä»1å‘ä¸ŠåŠ åˆ°n</span></span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">1</span>; i &lt;= n ; n++)</span><br><span class="line"><span class="comment">//ä»n-1å‡åˆ°0</span></span><br><span class="line"><span class="keyword">for</span>(i = n<span class="number">-1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line"><span class="comment">//ä»nå‡åˆ°1</span></span><br><span class="line"><span class="keyword">for</span>(i = n; i &gt; <span class="number">0</span>; i--)</span><br></pre></td></tr></table></figure>
<h3 id="6-3-2-åœ¨-forè¯­å¥ä¸­çœç•¥è¡¨è¾¾å¼"><a href="#6-3-2-åœ¨-forè¯­å¥ä¸­çœç•¥è¡¨è¾¾å¼" class="headerlink" title="6.3.2 åœ¨ forè¯­å¥ä¸­çœç•¥è¡¨è¾¾å¼"></a>6.3.2 åœ¨ forè¯­å¥ä¸­çœç•¥è¡¨è¾¾å¼</h3><table>
<thead>
<tr>
<th>çœç•¥</th>
<th>è¯­æ³•</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>è¡¨è¾¾å¼1</td>
<td><code>for(; è¡¨è¾¾å¼2; è¡¨è¾¾å¼3)</code></td>
<td>æ‰§è¡Œå¾ªç¯å‰æ²¡æœ‰åˆå§‹åŒ–çš„æ“ä½œ</td>
</tr>
<tr>
<td>è¡¨è¾¾å¼2</td>
<td><code>for(è¡¨è¾¾å¼1; ; è¡¨è¾¾å¼3)</code></td>
<td>è¡¨è¾¾å¼2é»˜è®¤ä¸ºçœŸå€¼ï¼Œæ— é™å¾ªç¯</td>
</tr>
<tr>
<td>è¡¨è¾¾å¼3</td>
<td><code>for(è¡¨è¾¾å¼1; è¡¨è¾¾å¼2;)</code></td>
<td>å¾ªç¯ä½“æœ‰è´£ä»»ç¡®è®¤ç¬¬äºŒä¸ªè¡¨è¾¾å¼çš„å€¼æœ€ç»ˆå›å˜ä¸ºå‡</td>
</tr>
<tr>
<td>è¡¨è¾¾å¼1ã€3</td>
<td><code>for(;è¡¨è¾¾å¼2;)</code></td>
<td>åŒ<code>while</code></td>
</tr>
<tr>
<td>è¡¨è¾¾å¼1ã€2ã€3</td>
<td><code>for(;;)</code></td>
<td>ç®€å•çš„æ— é™å¾ªç¯</td>
</tr>
</tbody>
</table>
<h3 id="6-3-3-é€—å·è¿ç®—ç¬¦"><a href="#6-3-3-é€—å·è¿ç®—ç¬¦" class="headerlink" title="6.3.3    é€—å·è¿ç®—ç¬¦"></a>6.3.3    é€—å·è¿ç®—ç¬¦</h3><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>è¡¨è¾¾å¼1,è¡¨è¾¾å¼2</code><br><strong>ç”¨é€”ï¼š</strong>ä¸ºäº†åœ¨cè¯­è¨€è¦æ±‚å•ç‹¬ä¸€ä¸ªè¡¨è¾¾å¼çš„æƒ…å†µä¸‹ä½¿ç”¨ä¸¤ä¸ªæˆ–å¤šä¸ªè¡¨è¾¾å¼ã€‚<br><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong>å®ã€<code>for</code>å¾ªç¯<br><strong>ä¼˜å…ˆçº§ï¼š</strong>ä½äºæ‰€æœ‰å…¶å®ƒè¿ç®—ç¬¦ã€‚<br><strong>è®¡ç®—è¿‡ç¨‹ï¼š</strong></p>
<ol>
<li>è®¡ç®—è¡¨è¾¾å¼1å¹¶ä¸”ä»ä½å“¦è®¡ç®—å‡ºçš„å€¼</li>
<li>è®¡ç®—è¡¨è¾¾å¼2ï¼ŒæŠŠè¿™ä¸ªå€¼ä½œä¸ºæ•´ä¸ªè¡¨è¾¾å¼çš„å€¼</li>
</ol>
<p><strong>æ³¨æ„ï¼š</strong>è®¡ç®—è¡¨è¾¾å¼1å§‹ç»ˆä¼šæœ‰å‰¯ä½œç”¨ï¼›å¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆè¡¨è¾¾å¼1å°±æ²¡æœ‰äº†å­˜åœ¨çš„æ„ä¹‰ã€‚</p>
</blockquote>
<h3 id="6-2-4-ç¨‹åºï¼šæ˜¾ç¤ºå¹³æ–¹å€¼çš„è¡¨æ ¼ï¼ˆæ”¹è¿›ç‰ˆï¼‰"><a href="#6-2-4-ç¨‹åºï¼šæ˜¾ç¤ºå¹³æ–¹å€¼çš„è¡¨æ ¼ï¼ˆæ”¹è¿›ç‰ˆï¼‰" class="headerlink" title="6.2.4    ç¨‹åºï¼šæ˜¾ç¤ºå¹³æ–¹å€¼çš„è¡¨æ ¼ï¼ˆæ”¹è¿›ç‰ˆï¼‰"></a>6.2.4    ç¨‹åºï¼šæ˜¾ç¤ºå¹³æ–¹å€¼çš„è¡¨æ ¼ï¼ˆæ”¹è¿›ç‰ˆï¼‰</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Prints a table of squares using a for statement</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> i, n;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"This program prints a table of squares."</span>);</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter number of entries in table:"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line"></span><br><span class="line"> 	<span class="keyword">for</span>(i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line"> 		<span class="built_in">printf</span>(<span class="string">"%10d%10d\n"</span>, i, i * i);</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h2 id="6-4-é€€å‡ºå¾ªç¯"><a href="#6-4-é€€å‡ºå¾ªç¯" class="headerlink" title="6.4    é€€å‡ºå¾ªç¯"></a>6.4    é€€å‡ºå¾ªç¯</h2><h3 id="6-4-1-breakè¯­å¥"><a href="#6-4-1-breakè¯­å¥" class="headerlink" title="6.4.1    breakè¯­å¥"></a>6.4.1    breakè¯­å¥</h3><blockquote>
<p><strong>ä½œç”¨ï¼š</strong>æŠŠç¨‹åºä»<code>switch</code>è¯­å¥ä¸­è½¬ç§»å‡ºæ¥ï¼›è·³å‡º<code>while</code>ã€<code>do</code>ã€<code>for</code>å¾ªç¯ã€‚<br><strong>æ³¨æ„ï¼š</strong>breakåªèƒ½è·³å‡ºä¸€å±‚å¾ªç¯</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(;;)&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Enter a number (enter 0 to stop):"</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">	<span class="keyword">if</span>(n == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d cubed is %d\n"</span>, n, n*n*n);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-4-2-continue-è¯­å¥"><a href="#6-4-2-continue-è¯­å¥" class="headerlink" title="6.4.2    continue è¯­å¥"></a>6.4.2    continue è¯­å¥</h3><blockquote>
<p><strong>ä½œç”¨ï¼š</strong>æŠŠç¨‹åºæ§åˆ¶æ­£å·è½¬ç§»åˆ°å¾ªç¯ç»“æŸä¹‹å‰çš„ä¸€ç‚¹ï¼›åªèƒ½ç”¨äºå¾ªç¯ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">n = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(n &lt; <span class="number">10</span>)&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;i);</span><br><span class="line">	<span class="keyword">if</span>(i == <span class="number">0</span>)<span class="keyword">continue</span>;</span><br><span class="line">	sun += i;</span><br><span class="line">	n ++;</span><br><span class="line">	<span class="comment">/*continue jumps to here*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-4-3-gotoè¯­å¥"><a href="#6-4-3-gotoè¯­å¥" class="headerlink" title="6.4.3    gotoè¯­å¥"></a>6.4.3    gotoè¯­å¥</h3><blockquote>
<p><strong>è¯­æ³•ï¼š</strong></p>
<ul>
<li>æ ‡å·è¯­å¥ï¼š<code>æ ‡è¯†ç¬¦ : è¯­å¥</code></li>
<li>gotoè¯­å¥ï¼š<code>goto æ ‡è¯†ç¬¦</code></li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong><code>break</code> <code>continue</code> <code>return</code>æœ¬è´¨ä¸Šéƒ½æ˜¯å—é™åˆ¶çš„gotoè¯­å¥ï¼Œå®ƒä»¬å’Œ<code>exit</code>å‡½æ•°é…åˆå¯ä»¥åº”å¯¹å¤§å¤šæ•°éœ€è¦gotoè¯­å¥çš„æƒ…å†µã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(d = <span class="number">2</span>; d &lt; n; d++)&#123;</span><br><span class="line">	<span class="keyword">if</span>(n % d == <span class="number">0</span>)&#123;</span><br><span class="line">		<span class="comment">//gotoè¯­å¥</span></span><br><span class="line">		<span class="keyword">goto</span> done;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ ‡å·è¯­å¥</span></span><br><span class="line">done:</span><br><span class="line"><span class="keyword">if</span>(d &lt; n)&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d is divisible by %d\n"</span>, n, d);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d is prime\n"</span>, n);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-4-4-ç¨‹åºï¼šè´¦ç›®ç°¿ç»“ç®—"><a href="#6-4-4-ç¨‹åºï¼šè´¦ç›®ç°¿ç»“ç®—" class="headerlink" title="6.4.4    ç¨‹åºï¼šè´¦ç›®ç°¿ç»“ç®—"></a>6.4.4    ç¨‹åºï¼šè´¦ç›®ç°¿ç»“ç®—</h3><h2 id="6-5-ç©ºè¯­å¥"><a href="#6-5-ç©ºè¯­å¥" class="headerlink" title="6.5    ç©ºè¯­å¥"></a>6.5    ç©ºè¯­å¥</h2><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>;</code><br><strong>ç”¨é€”ï¼š</strong></p>
<ul>
<li>ç¼–å†™ç©ºå¾ªç¯ä½“ï¼ˆåœ¨æŸäº›æƒ…å†µä¸‹å¸®åŠ©çœç•¥å¾ªç¯ä½“ï¼‰</li>
<li><code>goto</code>è¯­å¥çš„æ ‡å·ä¸èƒ½ç‹¬ç«‹å­˜åœ¨ï¼Œåé¢å¿…é¡»æœ‰è¯­å¥ï¼Œå¯ä»¥ä½¿ç”¨ç©ºè¯­å¥</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(d =<span class="number">2</span>; d &lt; n &amp;&amp; n % d != <span class="number">0</span>; d++)</span><br><span class="line">;<span class="comment">/*empty body*/</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong>å»ºè®®å°†ç©ºè¯­å¥å•ç‹¬æ”¾åœ¨ä¸€è¡Œï¼Œä¾¿äºä»£ç é˜…è¯»ã€‚</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/09/5 é€‰æ‹©è¯­å¥/" itemprop="url">
                  5 é€‰æ‹©è¯­å¥
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-09T17:51:28+08:00" content="2016-05-09">
              2016-05-09
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/09/5 é€‰æ‹©è¯­å¥/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/09/5 é€‰æ‹©è¯­å¥/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>cè¯­è¨€è¯­å¥ï¼š</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>åˆ†ç±»</th>
<th>è¯­å¥</th>
</tr>
</thead>
<tbody>
<tr>
<td>returnè¯­å¥</td>
<td><code>return</code></td>
</tr>
<tr>
<td>è¡¨è¾¾å¼è¯­å¥</td>
<td><code>è¡¨è¾¾å¼;</code></td>
</tr>
<tr>
<td>é€‰æ‹©è¯­å¥</td>
<td><code>if</code> <code>switch</code></td>
</tr>
<tr>
<td>å¾ªç¯è¯­å¥</td>
<td><code>while</code> <code>do</code> <code>for</code></td>
</tr>
<tr>
<td>è·³è½¬è¯­å¥</td>
<td><code>break</code> <code>continue</code> <code>goto</code></td>
</tr>
<tr>
<td>å¤åˆè¯­å¥</td>
<td>å‡ æ¡è¯­å¥ç»„åˆæˆä¸€ä¸ª</td>
</tr>
<tr>
<td>ç©ºè¯­å¥</td>
<td>ä¸æ‰§è¡Œä»»ä½•æ“ä½œ</td>
</tr>
</tbody>
</table>
<h2 id="5-1-é€»è¾‘è¡¨è¾¾å¼"><a href="#5-1-é€»è¾‘è¡¨è¾¾å¼" class="headerlink" title="5.1    é€»è¾‘è¡¨è¾¾å¼"></a>5.1    é€»è¾‘è¡¨è¾¾å¼</h2><blockquote>
<p><strong>æ³¨æ„ï¼š</strong>cè¯­è¨€æ²¡æœ‰<code>Boolean</code>ç±»å‹ï¼Œè¡¨è¾¾å¼çš„<code>çœŸå‡</code>ä¾èµ–äºå…¶ç»“æœæ˜¯<code>0</code>æˆ–<code>é0</code>ã€‚</p>
</blockquote>
<h3 id="5-1-1-å…³ç³»è¿ç®—ç¬¦"><a href="#5-1-1-å…³ç³»è¿ç®—ç¬¦" class="headerlink" title="5.1.1    å…³ç³»è¿ç®—ç¬¦"></a>5.1.1    å…³ç³»è¿ç®—ç¬¦</h3><p><code>&gt;</code> <code>&lt;</code> <code>&gt;=</code> <code>&lt;=</code></p>
<blockquote>
<p><strong>æ“ä½œæ•°ç±»å‹ï¼š</strong>å¯ä»¥ç”¨å…³ç³»è¿ç®—ç¬¦æ¯”è¾ƒæ•´æ•°å’Œæµ®ç‚¹æ•°ï¼Œä»¥åŠæ··åˆç±»å‹çš„æ“ä½œæ•°ã€‚<br><strong>è¿”å›å€¼ï¼š</strong>cè¯­è¨€çš„è¡¨è¾¾å¼ä¸­äº§ç”Ÿçš„ç»“æœæ˜¯<code>0æˆ–1</code><br><strong>ä¼˜å…ˆçº§äºç»“åˆæ€§ï¼š</strong>å…³ç³»è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ä½äºç®—æœ¯è¿ç®—ç¬¦ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i &lt; j &lt; k;<span class="comment">//(i &lt; j) &lt; k</span></span><br></pre></td></tr></table></figure>
<h3 id="5-1-2-åˆ¤ç­‰è¿ç®—ç¬¦"><a href="#5-1-2-åˆ¤ç­‰è¿ç®—ç¬¦" class="headerlink" title="5.1.2    åˆ¤ç­‰è¿ç®—ç¬¦"></a>5.1.2    åˆ¤ç­‰è¿ç®—ç¬¦</h3><p><code>==</code> <code>!=</code></p>
<blockquote>
<p><strong>æ“ä½œæ•°ç±»å‹ï¼š</strong>åŒå…³ç³»è¿ç®—ç¬¦<br><strong>è¿”å›å€¼ï¼š</strong>åŒå…³ç³»è¿ç®—ç¬¦<br><strong>ä¼˜å…ˆçº§äºç»“åˆæ€§ï¼š</strong>ä¼˜å…ˆçº§ä½äºå…³ç³»è¿ç®—ç¬¦ï¼Œå·¦ç»“åˆ<br><strong>æŠ€å·§ï¼š</strong>åˆ©ç”¨å…³ç³»è¿ç®—ç¬¦å’Œåˆ¤ç­‰è¿ç®—ç¬¦è¿”å›æ•´æ•°å€¼è¿™ä¸€äº‹å®</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(i &gt;= j) + (i == j);<span class="comment">//0(å¤§äº),1(ç­‰äº),2(å°äº)</span></span><br></pre></td></tr></table></figure>
<h3 id="5-1-3-é€»è¾‘è¿ç®—ç¬¦"><a href="#5-1-3-é€»è¾‘è¿ç®—ç¬¦" class="headerlink" title="5.1.3    é€»è¾‘è¿ç®—ç¬¦"></a>5.1.3    é€»è¾‘è¿ç®—ç¬¦</h3><p><code>&amp;&amp;</code> <code>\|\|</code> <code>!</code></p>
<blockquote>
<p><strong>æ“ä½œæ•°ç±»å‹ï¼š</strong>çœŸï¼ˆä»»ä½•éé›¶å€¼æ“ä½œæ•°ï¼‰ï¼Œå‡ï¼ˆé›¶å€¼ï¼‰ã€‚<br><strong>è¿”å›å€¼ï¼š</strong>0ï¼ˆå‡ï¼‰æˆ–1ï¼ˆçœŸï¼‰ã€‚<br><strong>ä¼˜å…ˆçº§äºç»“åˆæ€§ï¼š</strong><code>&amp;&amp;</code>å’Œ<code>||</code>ä¼˜å…ˆçº§ä½äºå…³ç³»è¿ç®—ç¬¦å’Œåˆ¤ç­‰è¿ç®—ç¬¦ï¼Œå·¦ç»“åˆï¼›<code>!</code>ä¼˜å…ˆçº§åŒ<code>+(æ­£)ã€-(è´Ÿ)</code>ã€‚<br><strong>æ³¨æ„ï¼š</strong><code>&amp;&amp;</code>å’Œ<code>||</code>éƒ½å¯¹è¿ç®—ç¬¦è¿›è¡Œ<code>çŸ­è·¯</code>è®¡ç®—ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè®¡ç®—æœºå…ˆè®¡ç®—å·¦ä¾§çš„å€¼ï¼Œå¦‚æœé€šè¿‡å·¦ä¾§çš„å€¼æ¨å¯¼å‡ºè¡¨è¾¾å¼çš„å€¼å°±ä¸éœ€è¦è¿è¡Œè®¡ç®—å³ä¾§çš„å€¼ï¼ˆæ“ä½œæ•°çš„å‰¯ä½œç”¨ä¹Ÿä¸ä¼šå‘ç”Ÿï¼‰ã€‚</p>
</blockquote>
<h2 id="5-2-ifè¯­å¥"><a href="#5-2-ifè¯­å¥" class="headerlink" title="5.2    ifè¯­å¥"></a>5.2    ifè¯­å¥</h2><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>if (è¡¨è¾¾å¼) è¯­å¥ï¼ˆå•ç‹¬ä¸€æ¡ï¼‰</code><br><strong>æ³¨æ„ï¼š</strong>ä¸ºè¯­å¥å¢åŠ å¤§æ‹¬å·æˆ–è¡¨è¾¾å¼ä½¿ç”¨åœ†æ‹¬å·æœ‰æ—¶å¹¶ä¸æ˜¯å¿…éœ€çš„ï¼Œä½†ä¼šä½¿ç¨‹åºæ›´æ˜“è¯»ï¼Œä½¿ç¼–è¯‘å™¨æ›´å®¹æ˜“ç†è§£ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(lent_num == MAX_LINES)&#123;</span><br><span class="line">	line_num = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-2-1-å¤åˆè¯­å¥"><a href="#5-2-1-å¤åˆè¯­å¥" class="headerlink" title="5.2.1    å¤åˆè¯­å¥"></a>5.2.1    å¤åˆè¯­å¥</h3><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>if(è¡¨è¾¾å¼){è¯­å¥1;è¯­å¥2;...}</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(lent_num == MAX_LINES)&#123;</span><br><span class="line">	line_num = <span class="number">0</span>;</span><br><span class="line">	page_num ++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-2-2-elseè¯­å¥"><a href="#5-2-2-elseè¯­å¥" class="headerlink" title="5.2.2 elseè¯­å¥"></a>5.2.2 elseè¯­å¥</h3><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>if(è¡¨è¾¾å¼) è¯­å¥ else è¯­å¥</code></p>
<h3 id="5-2-3-çº§è”ifè¯­å¥"><a href="#5-2-3-çº§è”ifè¯­å¥" class="headerlink" title="5.2.3    çº§è”ifè¯­å¥"></a>5.2.3    çº§è”ifè¯­å¥</h3><p><strong>è¯­æ³•ï¼š</strong></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(è¡¨è¾¾å¼)</span><br><span class="line">	è¯­å¥</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(è¡¨è¾¾å¼)</span><br><span class="line">	è¯­å¥</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(è¡¨è¾¾å¼)</span><br><span class="line">	è¯­å¥</span><br><span class="line"><span class="keyword">else</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(n &lt; <span class="number">0</span>)&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"n is less than 0\n"</span>)</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(n == <span class="number">0</span>)&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"n is equal to 0\n"</span>)</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"n is greter than 0\n"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-2-4-ç¨‹åºï¼šè®¡ç®—è‚¡ç¥¨ç»çºªäººçš„ä½£é‡‘"><a href="#5-2-4-ç¨‹åºï¼šè®¡ç®—è‚¡ç¥¨ç»çºªäººçš„ä½£é‡‘" class="headerlink" title="5.2.4    ç¨‹åºï¼šè®¡ç®—è‚¡ç¥¨ç»çºªäººçš„ä½£é‡‘"></a>5.2.4    ç¨‹åºï¼šè®¡ç®—è‚¡ç¥¨ç»çºªäººçš„ä½£é‡‘</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Calculate a broker's commission</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">float</span> commission, value;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter value of trade:"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%f"</span>, &amp;value);</span><br><span class="line"></span><br><span class="line"> 	<span class="keyword">if</span> (value &lt; <span class="number">2500.00</span>)&#123;</span><br><span class="line"> 		commission = <span class="number">30.00</span> + <span class="number">.017</span> * value;</span><br><span class="line"> 	&#125;<span class="keyword">else</span> <span class="keyword">if</span> (value &lt; <span class="number">6250.00</span>)&#123;</span><br><span class="line"> 		commission = <span class="number">56.00</span> + <span class="number">.0066</span> * value;</span><br><span class="line"> 	&#125;<span class="keyword">else</span> <span class="keyword">if</span> (value &lt; <span class="number">20000.00</span>)&#123;</span><br><span class="line"> 		commission = <span class="number">76.00</span> + <span class="number">.0034</span> * value;</span><br><span class="line"> 	&#125;<span class="keyword">else</span> <span class="keyword">if</span> (value &lt; <span class="number">50000.00</span>)&#123;</span><br><span class="line"> 		commission = <span class="number">100.00</span> + <span class="number">.0022</span> * value;</span><br><span class="line"> 	&#125;<span class="keyword">else</span> <span class="keyword">if</span> (value &lt; <span class="number">500000.00</span>)&#123;</span><br><span class="line"> 		commission = <span class="number">155.00</span> + <span class="number">.0011</span> * value;</span><br><span class="line"> 	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"> 		commission = <span class="number">255.00</span> + <span class="number">.0009</span> * value;</span><br><span class="line"> 	&#125;</span><br><span class="line"></span><br><span class="line"> 	<span class="keyword">if</span>(commission &lt; <span class="number">39.00</span>)&#123;</span><br><span class="line"> 		commission = <span class="number">39.00</span>;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"commission:$%.2f\n\n"</span>, commission);</span><br><span class="line"></span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ./broker </span><br><span class="line"> Enter value of trade:6000</span><br><span class="line"> commission:<span class="variable">$95</span>.60</span><br></pre></td></tr></table></figure>
<h3 id="5-2-5-â€œæ‚¬ç©ºelseâ€çš„é—®é¢˜"><a href="#5-2-5-â€œæ‚¬ç©ºelseâ€çš„é—®é¢˜" class="headerlink" title="5.2.5    â€œæ‚¬ç©ºelseâ€çš„é—®é¢˜"></a>5.2.5    â€œæ‚¬ç©ºelseâ€çš„é—®é¢˜</h3><blockquote>
<p><strong>è§„åˆ™ï¼š</strong>cè¯­è¨€éµå¾ªçš„è§„åˆ™æ˜¯elseå­—å¥åº”è¯¥å±äºç¦»å®ƒæœ€è¿‘çš„ä¸”è¿˜æœªå’Œå…¶ä»–elseåŒ¹é…çš„ifè¯­å¥ã€‚<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(y != <span class="number">0</span>)</span><br><span class="line">	<span class="keyword">if</span>(x != <span class="number">0</span>)</span><br><span class="line">		result = x / y;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Error:y is equal to 0\n"</span>);</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h3 id="5-2-6-æ¡ä»¶è¡¨è¾¾å¼"><a href="#5-2-6-æ¡ä»¶è¡¨è¾¾å¼" class="headerlink" title="5.2.6    æ¡ä»¶è¡¨è¾¾å¼"></a>5.2.6    æ¡ä»¶è¡¨è¾¾å¼</h3><blockquote>
<p><strong>åˆåï¼š</strong>ä¸‰å…ƒè¿ç®—ç¬¦<br><strong>è¯­æ³•ï¼š</strong><code>è¡¨è¾¾å¼1 ? è¡¨è¾¾å¼2 : è¡¨è¾¾å¼3</code><br><strong>ä¼˜å…ˆçº§ï¼š</strong>ä½äºæ‰€æœ‰å…¶å®ƒè¿ç®—ç¬¦<br><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong>returnè¯­å¥ã€printfå‡½æ•°ä¸­ã€æŸäº›ç±»å‹çš„å®å®šä¹‰<br><strong>æ³¨æ„ï¼š</strong>æ¡ä»¶è¡¨è¾¾å¼ä½¿ç¨‹åºæ›´åŠ çŸ­å°ä¹Ÿæ›´éš¾ä»¥é˜…è¯»ï¼Œæ‰€ä»¥æœ€å¥½é¿å…ä½¿ç”¨<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i, j, k;</span><br><span class="line">i = <span class="number">1</span>;</span><br><span class="line">j = <span class="number">2</span>;</span><br><span class="line">k = i &gt; (j ? i : j) + j;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h3 id="5-2-7-æ¨¡æ‹Ÿå¸ƒå°”å€¼"><a href="#5-2-7-æ¨¡æ‹Ÿå¸ƒå°”å€¼" class="headerlink" title="5.2.7    æ¨¡æ‹Ÿå¸ƒå°”å€¼"></a>5.2.7    æ¨¡æ‹Ÿå¸ƒå°”å€¼</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TRUE 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FALSE 0</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BOOL int</span></span><br><span class="line">...</span><br><span class="line"><span class="keyword">if</span>(flag == TRUE) ...</span><br><span class="line"><span class="keyword">if</span>(flag == FALSE) ...</span><br><span class="line"><span class="keyword">if</span>(!flag) ...</span><br></pre></td></tr></table></figure>
<h2 id="5-3-switchè¯­å¥"><a href="#5-3-switchè¯­å¥" class="headerlink" title="5.3    switchè¯­å¥"></a>5.3    switchè¯­å¥</h2><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(è¡¨è¾¾å¼)&#123;</span><br><span class="line">	<span class="keyword">case</span> å¸¸é‡è¡¨è¾¾å¼ : å¤šæ¡è¯­å¥</span><br><span class="line">	...</span><br><span class="line">	<span class="keyword">case</span> å¸¸é‡è¡¨è¾¾å¼ : å¤šæ¡è¯­å¥</span><br><span class="line">	<span class="keyword">default</span> : å¤šæ¡è¯­å¥</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ol>
<li>ä¸å…è®¸ç”±é‡å¤çš„æƒ…å†µæ ‡å·</li>
<li>å¯¹æƒ…å†µçš„é¡ºåºæ²¡æœ‰è¦æ±‚ï¼ˆdefaultï¼‰ä¸ä¸€å®šè¦æ”¾ç½®åœ¨æœ€å</li>
<li>ä¸è¦æ±‚ä¸€å®šè¦æœ‰defaultï¼Œå¦‚æœä¸åŒ¹é…ä»»ä½•æƒ…å†µåˆæ²¡æœ‰defaultï¼Œåˆ™ä»€ä¹ˆä¹Ÿä¸åš</li>
</ol>
</blockquote>
<table>
<thead>
<tr>
<th>ç»„æˆ</th>
<th>è¯´æ˜</th>
<th>ç‰¹ç‚¹</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ§åˆ¶è¡¨è¾¾å¼</td>
<td>switch <code>æ§åˆ¶è¡¨è¾¾å¼</code></td>
<td>æ•´æ•°æˆ–å­—ç¬¦ï¼ˆä¹Ÿä¼šè¢«å½“ä½œæ•´æ•°ï¼‰</td>
</tr>
<tr>
<td>æƒ…å†µæ ‡å·</td>
<td><code>case å¸¸é‡è¡¨è¾¾å¼</code></td>
<td>å¸¸é‡è¡¨è¾¾å¼ä¸­åªèƒ½å­˜åœ¨å¸¸é‡ï¼ˆåŒ…æ‹¬å®ï¼‰</td>
</tr>
<tr>
<td>è¯­å¥</td>
<td>æ¯ä¸ªæƒ…å†µæ ‡å·åè¾¹ä»»æ„æ•°é‡çš„è¯­å¥</td>
<td>cè¯­è¨€ä¸­å°‘æ•°å‡ ä¸ªä¸éœ€è¦å¤§æ‹¬å·çš„åœ°æ–¹ä¹‹ä¸€</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(grade)&#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">4</span>: <span class="keyword">case</span> <span class="number">3</span>: <span class="keyword">case</span> <span class="number">2</span>: <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Passing"</span>);</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">0</span>: <span class="built_in">printf</span>(<span class="string">"Failing"</span>);</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">default</span>: <span class="built_in">printf</span>(<span class="string">"Illegal grade"</span>);</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-3-1-breakè¯­å¥çš„ä½œç”¨"><a href="#5-3-1-breakè¯­å¥çš„ä½œç”¨" class="headerlink" title="5.3.1    breakè¯­å¥çš„ä½œç”¨"></a>5.3.1    breakè¯­å¥çš„ä½œç”¨</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>switchè¯­å¥å®é™…ä¸Šæ˜¯ä¸€ç§åŸºäºè®¡ç®—çš„è·³è½¬ï¼Œå¦‚æœæ²¡æœ‰breakæˆ–å…¶å®ƒè·³è½¬è¯­å¥ï¼Œç¨‹åºæ§åˆ¶å°†ä¼šä»ä¸€ç§æƒ…å†µç»§ç»­åˆ°ä¸‹é¢ä¸€ç§æƒ…å†µã€‚<br><strong>æ³¨æ„ï¼š</strong>breakçš„æ•…æ„çœç•¥éœ€è¦æ˜ç¡®æŒ‡å‡ºä»¥é˜²æŸäº›äººå°è¯•ä¿®æ­£â€œé”™è¯¯â€ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(grade)&#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">4</span>: <span class="keyword">case</span> <span class="number">3</span>: <span class="keyword">case</span> <span class="number">2</span>: <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">		num_passing++;</span><br><span class="line">		<span class="comment">/*FALL THROUGH*/</span></span><br><span class="line">	<span class="keyword">case</span> <span class="number">0</span>: total grades++;</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-3-2-ç¨‹åºï¼šæ˜¾ç¤ºæ³•å®šæ ¼å¼çš„æ—¥æœŸ"><a href="#5-3-2-ç¨‹åºï¼šæ˜¾ç¤ºæ³•å®šæ ¼å¼çš„æ—¥æœŸ" class="headerlink" title="5.3.2    ç¨‹åºï¼šæ˜¾ç¤ºæ³•å®šæ ¼å¼çš„æ—¥æœŸ"></a>5.3.2    ç¨‹åºï¼šæ˜¾ç¤ºæ³•å®šæ ¼å¼çš„æ—¥æœŸ</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Prints a date in legal form</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> month, day, year;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter date (mm/dd/yy):"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%d /%d /%d"</span>, &amp;month, &amp;day, &amp;year);</span><br><span class="line"></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Dated this %d"</span>, day);</span><br><span class="line"> 	<span class="keyword">switch</span>(day)&#123;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">1</span>:<span class="keyword">case</span> <span class="number">21</span>:<span class="keyword">case</span> <span class="number">31</span>:</span><br><span class="line"> 			<span class="built_in">printf</span>(<span class="string">"st"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">2</span>:<span class="keyword">case</span> <span class="number">22</span>:</span><br><span class="line"> 			<span class="built_in">printf</span>(<span class="string">"nd"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">3</span>:<span class="keyword">case</span> <span class="number">23</span>:</span><br><span class="line"> 			<span class="built_in">printf</span>(<span class="string">"th"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">" day of "</span>);</span><br><span class="line"> 	<span class="keyword">switch</span>(month)&#123;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">1</span>: <span class="built_in">printf</span>(<span class="string">"January"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">2</span>: <span class="built_in">printf</span>(<span class="string">"February"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">3</span>: <span class="built_in">printf</span>(<span class="string">"Marth"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">4</span>: <span class="built_in">printf</span>(<span class="string">"April"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">5</span>: <span class="built_in">printf</span>(<span class="string">"May"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">6</span>: <span class="built_in">printf</span>(<span class="string">"June"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">7</span>: <span class="built_in">printf</span>(<span class="string">"July"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">8</span>: <span class="built_in">printf</span>(<span class="string">"August"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">9</span>: <span class="built_in">printf</span>(<span class="string">"September"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">10</span>: <span class="built_in">printf</span>(<span class="string">"October"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">11</span>: <span class="built_in">printf</span>(<span class="string">"November"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 		<span class="keyword">case</span> <span class="number">12</span>: <span class="built_in">printf</span>(<span class="string">"December"</span>);<span class="keyword">break</span>;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">",20%.2d\n"</span>, year);</span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ./date                        </span><br><span class="line"> Enter date (mm/dd/yy):6/21/15          </span><br><span class="line"> Dated this 21st day of June,2015</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/09/4 è¡¨è¾¾å¼/" itemprop="url">
                  4	è¡¨è¾¾å¼
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-09T16:41:12+08:00" content="2016-05-09">
              2016-05-09
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/09/4 è¡¨è¾¾å¼/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/09/4 è¡¨è¾¾å¼/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="4-1-ç®—æ•°è¿ç®—ç¬¦"><a href="#4-1-ç®—æ•°è¿ç®—ç¬¦" class="headerlink" title="4.1    ç®—æ•°è¿ç®—ç¬¦"></a>4.1    ç®—æ•°è¿ç®—ç¬¦</h2><h3 id="ä¸€å…ƒè¿ç®—ç¬¦"><a href="#ä¸€å…ƒè¿ç®—ç¬¦" class="headerlink" title="ä¸€å…ƒè¿ç®—ç¬¦"></a>ä¸€å…ƒè¿ç®—ç¬¦</h3><table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>è¯´æ˜</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>ä¸€å…ƒæ­£å·è¿ç®—ç¬¦</td>
<td>åœ¨<code>ç»å…¸c</code>ä¸­ä¸å­˜åœ¨è¿™ç§è¿ç®—ç¬¦ï¼Œå®ƒä¸»è¦ç”¨äºå¼ºè°ƒæŸæ•°å€¼å¸¸é‡æ˜¯æ­£æ•°</td>
</tr>
<tr>
<td>-</td>
<td>ä¸€å…ƒè´Ÿå·å·è¿ç®—ç¬¦</td>
</tr>
</tbody>
</table>
<h3 id="äºŒå…ƒè¿ç®—ç¬¦"><a href="#äºŒå…ƒè¿ç®—ç¬¦" class="headerlink" title="äºŒå…ƒè¿ç®—ç¬¦"></a>äºŒå…ƒè¿ç®—ç¬¦</h3><blockquote>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ol>
<li>é™¤<code>%</code>å¤–ï¼ŒäºŒå…ƒè¿ç®—ç¬¦å…è®¸æ“ä½œæ•°æ—¢å¯ä»¥æ˜¯æ•´æ•°ä¹Ÿå¯ä»¥æ˜¯æµ®ç‚¹æ•°ï¼Œæˆ–è€…æ˜¯ä¸¤è€…æ··åˆ</li>
<li><code>int</code>ç±»å‹çš„æ“ä½œæ•°å’Œ<code>float</code>å‹æ“ä½œæ•°æ··åˆåœ¨ä¸€èµ·æ—¶ï¼Œè¿ç®—ç»“æœä¸º<code>float</code>å‹</li>
<li>å½“<code>/</code>å’Œ<code>%</code>ç”¨äºè´Ÿæ“ä½œæ•°æ—¶ï¼Œå…¶ç»“æœä¸å…·ä½“å®ç°æœ‰å…³</li>
</ol>
<p><strong>ç”±å®ç°å®šä¹‰(implementtion-defined)ï¼š</strong>è½¯ä»¶åœ¨ç‰¹å®šçš„å¹³å°ä¸Šç¼–è¯‘ã€é“¾æ¥å’Œæ‰§è¡Œï¼Œè¡Œä¸ºå¯èƒ½ä¼šç¨æœ‰å·®å¼‚ã€‚è¿™æ˜¯cè¯­è¨€ä¸ºäº†å’Œç¡¬ä»¶å¹³å°åŒ¹é…è¿½æ±‚é«˜æ•ˆç‡çš„ç»“æœã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>è¯´æ˜</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>åŠ æ³•è¿ç®—ç¬¦</td>
<td></td>
</tr>
<tr>
<td>-</td>
<td>å‡æ³•è¿ç®—ç¬¦</td>
<td></td>
</tr>
<tr>
<td>*</td>
<td>ä¹˜æ³•è¿ç®—ç¬¦</td>
<td></td>
</tr>
<tr>
<td>/</td>
<td>é™¤æ³•è¿ç®—ç¬¦</td>
<td>å½“ä¸¤ä¸ªæ“ä½œæ•°éƒ½æ˜¯æ•´æ•°æ—¶ï¼Œè¿ç®—ç»“æœä¼šå‘ä¸‹å–æ•´</td>
</tr>
<tr>
<td>%</td>
<td>å–ä½™è¿ç®—ç¬¦</td>
<td>æ“ä½œæ•°è¦æ±‚éƒ½æ˜¯æ•´æ•°ï¼Œå¦åˆ™æ— æ³•ç¼–è¯‘é€šè¿‡</td>
</tr>
</tbody>
</table>
<h3 id="4-1-1-è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ä¸ç»“åˆæ€§"><a href="#4-1-1-è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ä¸ç»“åˆæ€§" class="headerlink" title="4.1.1    è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ä¸ç»“åˆæ€§"></a>4.1.1    è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ä¸ç»“åˆæ€§</h3><blockquote>
<p><strong>æ³¨æ„ï¼š</strong>å¾ˆå°‘æœ‰ç¨‹åºå‘˜ä¼šè´¹å¿ƒè®°ä½ä¼˜å…ˆçº§å’Œç»“åˆæ€§è§„åˆ™ï¼Œè€Œæ˜¯åœ¨éœ€è¦æ—¶å‚è€ƒè¿ç®—ç¬¦è¡¨æˆ–æ·»åŠ è¶³å¤Ÿå¤šçš„<code>()</code>ã€‚<br><strong>è¿ç®—ç¬¦ä¼˜å…ˆçº§ï¼š</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>ä¼˜å…ˆçº§</th>
<th>è¿ç®—ç¬¦</th>
</tr>
</thead>
<tbody>
<tr>
<td>æœ€é«˜ä¼˜å…ˆçº§</td>
<td><code>+(è´Ÿ)</code> <code>-ï¼ˆæ­£ï¼‰</code>  <code>*</code> <code>/</code> <code>%</code></td>
</tr>
<tr>
<td>æœ€ä½ä¼˜å…ˆçº§</td>
<td><code>+(åŠ )</code> <code>-(å‡)</code></td>
</tr>
</tbody>
</table>
<p><strong>ç»“åˆæ€§ï¼š</strong></p>
<ul>
<li>ä¸€å…ƒè¿ç®—ç¬¦éƒ½æ˜¯å³ç»“åˆ<code>(right assoiative)</code>çš„,å³ä»å³å‘å·¦ç»“åˆ</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-+i;<span class="comment">//-(+i)</span></span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>äºŒå…ƒè¿ç®—ç¬¦éƒ½æ˜¯å·¦ç»“åˆ<code>(left assoiative)</code>çš„ï¼Œå³ä»å·¦å‘å³ç»“åˆ</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">i-j-k;<span class="comment">//(i-j)-k</span></span><br><span class="line">+i+jk/;<span class="comment">//(+i)+(j/k)</span></span><br></pre></td></tr></table></figure>
<h3 id="4-1-2-ç¨‹åºï¼šè®¡ç®—é€šç”¨äº§å“ä»£ç çš„æ ¡éªŒä½"><a href="#4-1-2-ç¨‹åºï¼šè®¡ç®—é€šç”¨äº§å“ä»£ç çš„æ ¡éªŒä½" class="headerlink" title="4.1.2    ç¨‹åºï¼šè®¡ç®—é€šç”¨äº§å“ä»£ç çš„æ ¡éªŒä½"></a>4.1.2    ç¨‹åºï¼šè®¡ç®—é€šç”¨äº§å“ä»£ç çš„æ ¡éªŒä½</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Compaer a Universal Prouct Code check digit</span><br><span class="line"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> d, i1, i2, i3, i4, i5, j1, j2, j3, j4, j5, first_sum, second_sum, total;</span><br><span class="line"> 	<span class="comment">/*è¾“å…¥å·¦è¾¹ç¬¬ä¸€ä½æ•°å­—*/</span></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter the first (single) digit:"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;d);</span><br><span class="line"> 	<span class="comment">/*è¾“å…¥2-6ä½æ•°å­—*/</span></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter first groun of value digits:"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%1d%1d%1d%1d%1d"</span>, &amp;i1, &amp;i2, &amp;i3, &amp;i4, &amp;i5);</span><br><span class="line"> 	<span class="comment">/*è¾“å…¥7-11ä½æ•°å­—*/</span></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter second group of five digits:"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%1d%1d%1d%1d%1d"</span>, &amp;j1, &amp;j2, &amp;j3, &amp;j4, &amp;j5);</span><br><span class="line"> 	first_sum = d + i2 + i4 + j1 + j3 + j5;</span><br><span class="line"> 	second_sum = i1 + i3 + i5 + j2 + j4;</span><br><span class="line"> 	total = <span class="number">3</span> * first_sum + second_sum;</span><br><span class="line"></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Check digit:%d\n"</span>, <span class="number">9</span> - ((total - <span class="number">1</span>) % <span class="number">10</span>));</span><br><span class="line"></span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ ./upc </span><br><span class="line"> Enter the first (single) digit:2</span><br><span class="line"> Enter first groun of value digits:23456</span><br><span class="line"> Enter second group of five digits:78954</span><br><span class="line"> Check digit:5</span><br></pre></td></tr></table></figure>
<h2 id="4-2-èµ‹å€¼è¿ç®—ç¬¦"><a href="#4-2-èµ‹å€¼è¿ç®—ç¬¦" class="headerlink" title="4.2    èµ‹å€¼è¿ç®—ç¬¦"></a>4.2    èµ‹å€¼è¿ç®—ç¬¦</h2><blockquote>
<p><strong>æ³¨æ„ï¼š</strong>cè¯­è¨€çš„<code>=</code>ä¸æ˜¯<code>è¯­å¥</code>ï¼Œè€Œæ˜¯<code>è¿ç®—ç¬¦</code>ã€‚èµ‹å€¼è¡¨è¾¾å¼<code>v=e</code>çš„ç»“æœæ˜¯vçš„å€¼ã€‚</p>
</blockquote>
<h3 id="4-2-1-ç®€å•èµ‹å€¼"><a href="#4-2-1-ç®€å•èµ‹å€¼" class="headerlink" title="4.2.1    ç®€å•èµ‹å€¼"></a>4.2.1    ç®€å•èµ‹å€¼</h3><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>v=e</code>ï¼Œ<code>e</code>å¯ä»¥æ˜¯å¸¸é‡ã€å˜é‡æˆ–è¡¨è¾¾å¼ã€‚<br><strong>å‰¯ä½œç”¨ï¼š</strong>ç®€å•èµ‹å€¼è¿ç®—ç¬¦æ˜¯å·²çŸ¥çš„ç¬¬ä¸€ä¸ªæœ‰å‰¯ä½œç”¨çš„è¿ç®—ç¬¦ï¼Œå› ä¸ºå®ƒä¼šæ”¹å˜æ“ä½œæ•°çš„å€¼ã€‚<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i = j = k = <span class="number">0</span>;<span class="comment">//i = (j = k = 0)</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<h3 id="4-2-2-å·¦å€¼"><a href="#4-2-2-å·¦å€¼" class="headerlink" title="4.2.2    å·¦å€¼"></a>4.2.2    å·¦å€¼</h3><blockquote>
<p><strong>å®šä¹‰ï¼š</strong><code>Q&amp;A</code>å·¦å€¼è¡¨ç¤ºå­˜å‚¨åœ¨è®¡ç®—æœºå†…å­˜ä¸­çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯å¸¸é‡å’Œè®¡ç®—ç»“æœã€‚ä¾‹å¦‚å˜é‡ã€‚<br><strong>æ³¨æ„ï¼š</strong>èµ‹å€¼è¿ç®—ç¬¦è¦æ±‚å·¦è¾¹çš„æ“ä½œæ•°å¿…é¡»æ˜¯å·¦å€¼ã€‚</p>
</blockquote>
<h3 id="4-2-3-å¤åˆèµ‹å€¼"><a href="#4-2-3-å¤åˆèµ‹å€¼" class="headerlink" title="4.2.3    å¤åˆèµ‹å€¼"></a>4.2.3    å¤åˆèµ‹å€¼</h3><blockquote>
<p><strong>ç”¨é€”ï¼š</strong>ç®€åŒ–åˆ©ç”¨å˜é‡åŸæœ‰å€¼è®¡ç®—å‡ºæ–°å€¼ï¼Œå¹¶é‡æ–°èµ‹å€¼ç»™è¿™ä¸ªå˜é‡çš„æ“ä½œã€‚<br><strong>åˆ—ä¸¾ï¼š</strong>å…±10ç§</p>
</blockquote>
<table>
<thead>
<tr>
<th>+=</th>
<th>-=</th>
<th>*=</th>
<th>/=</th>
<th>%=</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ol>
<li><code>v += e</code>å¹¶ä¸å®Œå…¨ç­‰åŒäº<code>v = v + e</code>(ä¼˜å…ˆçº§é—®é¢˜)</li>
</ol>
</blockquote>
<h2 id="4-3-è‡ªå¢è¿ç®—ç¬¦å’Œè‡ªå‡è¿ç®—ç¬¦"><a href="#4-3-è‡ªå¢è¿ç®—ç¬¦å’Œè‡ªå‡è¿ç®—ç¬¦" class="headerlink" title="4.3    è‡ªå¢è¿ç®—ç¬¦å’Œè‡ªå‡è¿ç®—ç¬¦"></a>4.3    è‡ªå¢è¿ç®—ç¬¦å’Œè‡ªå‡è¿ç®—ç¬¦</h2><blockquote>
<p><strong>å’Œ<code>i+=1</code>æˆ–<code>i-=1</code>çš„åŒºåˆ«</strong>ï¼š</p>
<ol>
<li><code>++</code>å’Œ<code>--</code>æ—¢å¯ä»¥æ˜¯å‰ç¼€è¿ç®—ç¬¦ï¼Œä¹Ÿå¯ä»¥æ˜¯åç¼€è¿ç®—ç¬¦</li>
<li>å’Œèµ‹å€¼è¿ç®—ç¬¦ä¸€æ ·ï¼Œ<code>++</code>å’Œ<code>--</code>ä¹Ÿæœ‰å‰¯ä½œç”¨ï¼šå®ƒä¼šæ”¹å˜æ“ä½œæ•°çš„å€¼</li>
</ol>
</blockquote>
<p><strong>å‰ç¼€ä½¿ç”¨å’Œåç¼€ä½¿ç”¨çš„åŒºåˆ«ï¼š</strong></p>
<table>
<thead>
<tr>
<th>æ–¹å¼</th>
<th>è¯­æ³•</th>
<th>æ‰§è¡Œæ—¶æœº</th>
<th>ä¼˜å…ˆçº§</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>å‰ç¼€æ–¹å¼</td>
<td><code>++i</code>æˆ–<code>--i</code></td>
<td>ç«‹å³æ‰§è¡Œ</td>
<td>å’Œ<code>ä¸€å…ƒæ­£è´Ÿå·</code>ä¼˜å…ˆçº§ç›¸åŒï¼Œå³ç»“åˆæ–¹å¼</td>
</tr>
<tr>
<td>åç¼€æ–¹å¼</td>
<td><code>i++</code>æˆ–<code>++i</code></td>
<td>ç¨åå†æ‰§è¡Œ</td>
<td>é«˜äº<code>ä¸€å…ƒæ­£è´Ÿå·</code>ï¼Œå·¦ç»“åˆæ–¹å¼</td>
<td><code>Q&amp;A</code>æ²¡æœ‰ç»™å‡ºæ˜ç¡®çš„æ—¶é—´ï¼Œå½“ä¼šæ˜¯ä¸‹ä¸€æ¡è¯­å¥æ‰§è¡Œä¹‹å‰</td>
</tr>
</tbody>
</table>
<h2 id="4-4-è¡¨è¾¾å¼æ±‚å€¼"><a href="#4-4-è¡¨è¾¾å¼æ±‚å€¼" class="headerlink" title="4.4    è¡¨è¾¾å¼æ±‚å€¼"></a>4.4    è¡¨è¾¾å¼æ±‚å€¼</h2><h3 id="4-4-1-éƒ¨åˆ†cè¯­è¨€è¿ç®—ç¬¦è¡¨"><a href="#4-4-1-éƒ¨åˆ†cè¯­è¨€è¿ç®—ç¬¦è¡¨" class="headerlink" title="4.4.1    éƒ¨åˆ†cè¯­è¨€è¿ç®—ç¬¦è¡¨"></a>4.4.1    éƒ¨åˆ†cè¯­è¨€è¿ç®—ç¬¦è¡¨</h3><p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-19%20%E4%B8%8B%E5%8D%888.44.42.png" alt="Alt text"></p>
<h3 id="4-4-2-ä¸ºè¡¨è¾¾å¼æ·»åŠ åœ†æ‹¬å·"><a href="#4-4-2-ä¸ºè¡¨è¾¾å¼æ·»åŠ åœ†æ‹¬å·" class="headerlink" title="4.4.2    ä¸ºè¡¨è¾¾å¼æ·»åŠ åœ†æ‹¬å·"></a>4.4.2    ä¸ºè¡¨è¾¾å¼æ·»åŠ åœ†æ‹¬å·</h3><blockquote>
<p><strong>è¿‡ç¨‹ï¼š</strong>æ£€æŸ¥è¡¨è¾¾å¼ï¼Œæ‰¾åˆ°æœ€é«˜ä¼˜å…ˆçº§åœ°è¿ç®—ç¬¦åï¼Œç”¨åœ†æ‹¬å·æŠŠè¿ç®—ç¬¦åˆç›¸åº”çš„æ“ä½œæ•°æ‹¬èµ·æ¥ï¼Œåœ†æ‹¬å·çš„å†…å®¹å°†è¢«çœ‹æˆä¸€ä¸ªå•ç‹¬çš„æ“ä½œæ•°ã€‚ç„¶åé‡å¤æ­¤ç±»æ“ä½œæŒ‡å¯¼è¡¨è¾¾å¼è¢«å®Œå…¨åŠ ä¸Šåœ†æ‹¬å·ã€‚ </p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">s=&gt;start: start</span><br><span class="line">e=&gt;end: end</span><br><span class="line">op1=&gt;operation: a = b += c++ - d + --e / -f</span><br><span class="line">op2=&gt;operation: a = b += (c++) - d + (--e) / (-f)</span><br><span class="line">op3=&gt;operation: a = b += (c++) - d + ((--e) / (-f))</span><br><span class="line">op4=&gt;operation: a = b += ((c++) - d + (((--e) / (-f))))</span><br><span class="line">op5=&gt;operation: (a = b += ((c++) - d + (((--e) / (-f)))))</span><br><span class="line"></span><br><span class="line">s-&gt;op1-&gt;op2-&gt;op3-&gt;op4-&gt;op5-&gt;e</span><br></pre></td></tr></table></figure>
<h3 id="4-4-3-å­è¡¨è¾¾å¼çš„æ±‚å€¼é¡ºåº"><a href="#4-4-3-å­è¡¨è¾¾å¼çš„æ±‚å€¼é¡ºåº" class="headerlink" title="4.4.3    å­è¡¨è¾¾å¼çš„æ±‚å€¼é¡ºåº"></a>4.4.3    å­è¡¨è¾¾å¼çš„æ±‚å€¼é¡ºåº</h3><blockquote>
<p><strong>æ³¨æ„ï¼š</strong>cè¯­è¨€å¹¶æ²¡æœ‰å®šä¹‰å­è¡¨è¾¾å¼çš„æ±‚å€¼é¡ºåºï¼ˆ<code>&amp;&amp;</code> <code>||</code> <code>æ¡ä»¶è¿ç®—ç¬¦</code> <code>é€—å·è¿ç®—ç¬¦</code>é™¤å¤–ï¼‰</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">5</span>;</span><br><span class="line">c = (b = a + <span class="number">2</span>) - (a = <span class="number">1</span>)<span class="comment">//cå¯èƒ½æ˜¯6ä¹Ÿå¯èƒ½æ˜¯2</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>å»ºè®®ï¼š</strong>ä¸åœ¨è¡¨è¾¾å¼ç§ä½¿ç”¨èµ‹å€¼è¿ç®—ç¬¦ï¼Œè€Œæ˜¯é‡‡ç”¨ä¸€ä¸²åˆ†ç¦»çš„èµ‹å€¼è¡¨è¾¾å¼ã€‚</p>
</blockquote>
<h2 id="4-5-è¡¨è¾¾å¼è¯­å¥"><a href="#4-5-è¡¨è¾¾å¼è¯­å¥" class="headerlink" title="4.5    è¡¨è¾¾å¼è¯­å¥"></a>4.5    è¡¨è¾¾å¼è¯­å¥</h2><blockquote>
<p><strong>è¡¨è¾¾å¼è½¬æ¢ä¸ºè¯­å¥ï¼š</strong>ä»»ä½•è¡¨è¾¾å¼éƒ½å¯ä»¥é€šè¿‡æ·»åŠ åˆ†å·è½¬æ¢ä¸ºè¯­å¥ã€‚<br><strong>æ³¨æ„ï¼š</strong>é™¤éè¡¨è¾¾å¼æœ‰å‰¯ä½œç”¨ï¼Œå¦åˆ™å°†è¡¨è¾¾å¼ç”¨ä½œè¯­å¥å¹¶æ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line">i --;<span class="comment">//å› ä¸ºå‰¯ä½œç”¨çš„å…³ç³»èµ·åˆ°äº†ä½œç”¨</span></span><br><span class="line"></span><br><span class="line">i * j - <span class="number">1</span>;<span class="comment">//å› ä¸ºæ²¡æœ‰å‰¯ä½œç”¨ï¼Œå°†è¯¥è¡¨è¾¾å¼ä½œä¸ºè¯­å¥ä½¿ç”¨æ²¡æœ‰ä»»ä½•æ„ä¹‰</span></span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/08/3 æ ¼å¼åŒ–è¾“å…¥ï¼è¾“å‡º/" itemprop="url">
                  3 æ ¼å¼åŒ–è¾“å…¥ï¼è¾“å‡º
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-08T22:48:34+08:00" content="2016-05-08">
              2016-05-08
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/08/3 æ ¼å¼åŒ–è¾“å…¥ï¼è¾“å‡º/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/08/3 æ ¼å¼åŒ–è¾“å…¥ï¼è¾“å‡º/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="3-1-printfå‡½æ•°"><a href="#3-1-printfå‡½æ•°" class="headerlink" title="3.1    printfå‡½æ•°"></a>3.1    printfå‡½æ•°</h2><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>printf(æ ¼å¼ä¸²,è¡¨è¾¾å¼1,è¡¨è¾¾å¼2,...)</code><br><strong>è½¬æ¢è¯´æ˜ï¼ˆconversion specificationï¼‰ï¼š</strong>ä»¥å­—ç¬¦<code>%</code>å¼€å¤´ï¼Œç”¨æ¥è¡¨ç¤ºæ‰“å°è¿‡ç¨‹ä¸­å¡«å……äº†å€¼çš„å ä½ç¬¦ã€‚<code>%</code>åé¢çš„ä¿¡æ¯æŒ‡å®šäº†æŠŠæ•°å€¼ä»å†…éƒ¨ï¼ˆäºŒè¿›åˆ¶ï¼‰å½¢å¼è½¬æ¢æˆæ‰“å°ï¼ˆå­—ç¬¦ï¼‰å½¢å¼çš„æ–¹æ³•ã€‚<br><strong>æ³¨æ„ï¼š</strong></p>
<ol>
<li>å•ç‹¬è°ƒç”¨ä¸€æ¬¡prinfå‡½æ•°æ—¶å¯ä»¥æ‰“å°çš„å€¼çš„ä¸ªæ•°æ²¡æœ‰é™åˆ¶</li>
<li>cè¯­è¨€ç¼–è¯‘å™¨ä¸ä¼šæ£€æµ‹æ ¼å¼ä¸²ä¸­è½¬æ¢è¯´æ˜çš„æ•°æ®æ˜¯å¦å’Œè¾“å‡ºé¡¹çš„æ•°é‡ç›¸åŒ¹é…</li>
<li>ä¹Ÿä¸æ£€æµ‹è½¬æ¢è¯´æ˜æ˜¯å¦é€‚åˆè¦æ˜¾ç¤ºé¡¹çš„æ•°æ®ç±»å‹</li>
</ol>
</blockquote>
<h3 id="3-1-1-è½¬æ¢è¯´æ˜"><a href="#3-1-1-è½¬æ¢è¯´æ˜" class="headerlink" title="3.1.1    è½¬æ¢è¯´æ˜"></a>3.1.1    è½¬æ¢è¯´æ˜</h3><blockquote>
<p><strong>æ ¼å¼ï¼š</strong><code>%m.pX</code>æˆ–<code>%-m.pX</code></p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:center">ç»„ä»¶</th>
<th style="text-align:center">å«ä¹‰</th>
<th style="text-align:left">å¿…é€‰</th>
<th>ç”¨é€”</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-</td>
<td style="text-align:center">å·¦å¯¹é½</td>
<td style="text-align:left">å¦</td>
<td>å·¦å¯¹é½ï¼ˆé»˜è®¤å³å¯¹é½ï¼‰</td>
<td></td>
</tr>
<tr>
<td style="text-align:center">m</td>
<td style="text-align:center">minimum field width</td>
<td style="text-align:left">å¦</td>
<td>æœ€å°å­—æ®µå®½åº¦</td>
<td>å½“<code>æ‰“å°å­—ç¬¦æ•°&lt;m</code>æ—¶ä¼šæ ¹æ®å¯¹é½æ–¹å¼åœ¨å‰æˆ–åæ”¾ç½®é¢å¤–çš„ç©ºæ ¼ï¼›<code>æ‰“å°å­—ç¬¦æ•°&gt;m</code>æ—¶å­—æ®µå®½åº¦ä¼šè‡ªåŠ¨æ‰©å±•ä¸ºéœ€è¦çš„å°ºå¯¸ã€‚</td>
</tr>
<tr>
<td style="text-align:center">.</td>
<td style="text-align:center">åˆ†éš”</td>
<td style="text-align:left">å¦</td>
<td>åˆ†éš”må’Œpï¼Œpå­˜åœ¨æ—¶æ‰å­˜åœ¨</td>
<td></td>
</tr>
<tr>
<td style="text-align:center">p</td>
<td style="text-align:center">precision</td>
<td style="text-align:left">å¦</td>
<td>å«ä¹‰ä¾èµ–äº<code>X</code>çš„é€‰æ‹©</td>
<td><code>d</code>(æ•°å­—çš„æœ€å°‘ä¸ªæ•°ï¼Œä¸å¤Ÿç”¨0è¡¥å¤Ÿï¼Œé»˜è®¤1)ï¼›<code>e</code>(å°æ•°ç‚¹åæ•°å­—ä¸ªæ•°ï¼Œé»˜è®¤6) ;<code>f</code>(åŒe); <code>g</code>(æœ‰æ•ˆæ•°å­—çš„æœ€å¤§æ•°é‡)</td>
</tr>
<tr>
<td style="text-align:center">X</td>
<td style="text-align:center">conversion specifier</td>
<td style="text-align:left">æ˜¯</td>
<td>åœ¨æ˜¾ç¤ºæ•°å€¼å‰å¯¹å…¶è¿›è¡Œé‚£ç§è½¬æ¢</td>
<td><code>d</code>(åè¿›åˆ¶)ï¼›<code>e</code>(æŒ‡æ•°)ï¼›<code>f</code>(æµ®ç‚¹æ•°)<code>g</code>(æ ¹æ®æ•°çš„å¤§å°å†³å®šæŒ‡æ•°å½¢å¼è¿˜æ˜¯æµ®ç‚¹æ•°å½¢å¼)</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong>ä»¥ä¸Šåªå°±éƒ¨åˆ†è½¬æ¢è¯´æ˜ç¬¦è¿›è¡Œäº†è¯´æ˜ã€‚</p>
</blockquote>
<h3 id="3-1-2-ç¨‹åºï¼šç”¨printfå‡½æ•°æ ¼å¼åŒ–æ•°"><a href="#3-1-2-ç¨‹åºï¼šç”¨printfå‡½æ•°æ ¼å¼åŒ–æ•°" class="headerlink" title="3.1.2    ç¨‹åºï¼šç”¨printfå‡½æ•°æ ¼å¼åŒ–æ•°"></a>3.1.2    ç¨‹åºï¼šç”¨printfå‡½æ•°æ ¼å¼åŒ–æ•°</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Prints int and float values in various formats</span><br><span class="line"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> i;</span><br><span class="line"> 	<span class="keyword">float</span> x;</span><br><span class="line"></span><br><span class="line"> 	i = <span class="number">40</span>;</span><br><span class="line"> 	x = <span class="number">839.21</span>;</span><br><span class="line"></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"|%d|%5d|%-5d|%5.3d|\n"</span>, i, i, i, i);</span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"|%10.3f|%10.3e|%-10g|\n"</span>, x, x, x);</span><br><span class="line"></span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ./tprintf </span><br><span class="line"> |40|   40|40   |  040|</span><br><span class="line"> |   839.210| 8.392e+02|839.21    |</span><br></pre></td></tr></table></figure>
<h3 id="3-1-3-è½¬ä¹‰åºåˆ—"><a href="#3-1-3-è½¬ä¹‰åºåˆ—" class="headerlink" title="3.1.3    è½¬ä¹‰åºåˆ—"></a>3.1.3    è½¬ä¹‰åºåˆ—</h3><blockquote>
<p><strong>ç®€ä»‹ï¼š</strong>é€šè¿‡ä½¿ç”¨<code>\</code>ç»„åˆå…¶å®ƒå­—ç¬¦å®ç°å¯¹å­—ç¬¦çš„è½¬ä¹‰ï¼Œè½¬ä¹‰å­—ç¬¦ä½¿å­—ç¬¦ä¸²åŒ…å«ä¸€äº›ç‰¹æ®Šå­—ç¬¦è€Œåˆä¸ä¼šä½¿ç¼–è¯‘å™¨å¼•å‘é—®é¢˜ï¼ŒåŒ…æ‹¬éæ‰“å°çš„æ§åˆ¶å­—ç¬¦å’Œå¯¹ç¼–è¯‘å™¨æœ‰ç‰¹æ®Šå«ä¹‰çš„å­—ç¬¦ï¼ˆæ¯”å¦‚<code>&quot;</code>ï¼‰ã€‚</p>
</blockquote>
<p><code>åªæä¾›éƒ¨åˆ†</code></p>
<table>
<thead>
<tr>
<th>è½¬ä¹‰å­—ç¬¦</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>\a</td>
<td>è­¦æŠ¥ï¼ˆå“é“ƒï¼‰</td>
</tr>
<tr>
<td>\b</td>
<td>å›é€€ç¬¦</td>
</tr>
<tr>
<td>\n</td>
<td>æ¢è¡Œç¬¦</td>
</tr>
<tr>
<td>\t</td>
<td>æ¨ªå‘åˆ¶è¡¨ç¬¦</td>
</tr>
</tbody>
</table>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">"Item\tUnit\tPurpose\n\tPrice\tDate\n"</span>)</span><br></pre></td></tr></table></figure>
<h2 id="3-2-scanfå‡½æ•°"><a href="#3-2-scanfå‡½æ•°" class="headerlink" title="3.2    scanfå‡½æ•°"></a>3.2    scanfå‡½æ•°</h2><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>scanf(æ ¼å¼ä¸², è¡¨è¾¾å¼1, è¡¨è¾¾å¼2, ...)</code><br><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>ç¼–è¯‘å™¨ä¸ä¼šæ£€æŸ¥è½¬æ¢è¯´æ˜çš„æ•°é‡ä¸è¾“å…¥å˜é‡æ˜¯å¦ç›¸åŒ¹é…</li>
<li>ç¼–è¯‘å™¨ä¸ä¼šæ£€æŸ¥è½¬æ¢è¯´æ˜å’Œå¯¹åº”è¾“å…¥å˜é‡æ ¼å¼æ˜¯å¦åˆé€‚</li>
<li>å¿˜è®°åœ¨å˜é‡å‰æ”¾ç½®ç¬¦å·<code>&amp;</code>å°†ä¼šäº§ç”Ÿä¸å¯é¢„çŸ¥çš„ç»“æœï¼ˆæ¯”å¦‚å˜é‡æ²¡æœ‰åˆå§‹åŒ–ï¼‰</li>
</ul>
</blockquote>
<h3 id="3-2-1-scanfå‡½æ•°çš„å·¥ä½œæ–¹æ³•"><a href="#3-2-1-scanfå‡½æ•°çš„å·¥ä½œæ–¹æ³•" class="headerlink" title="3.2.1    scanfå‡½æ•°çš„å·¥ä½œæ–¹æ³•"></a>3.2.1    scanfå‡½æ•°çš„å·¥ä½œæ–¹æ³•</h3><blockquote>
<p><strong>ç®€è¿°ï¼š</strong>scanfå‡½æ•°æœ¬è´¨ä¸Šæ˜¯ä¸€ç§â€œæ¨¡å¼åŒ¹é…â€å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯•å›¾æŠŠè¾“å…¥çš„å­—ç¬¦ç»„ä¸è½¬æ¢è¯´æ˜åŒ¹é…æˆåŠŸã€‚<br><strong>ç©ºç™½å­—ç¬¦(white-space)ï¼š</strong>ç©ºæ ¼ã€æ¨ªå‘ï¼ˆçºµå‘ï¼‰åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ã€æ¢è¡Œç¬¦ã€‚<br><strong>åŒ¹é…è§„åˆ™ï¼š</strong></p>
<ol>
<li>ä»å·¦è¾¹å¼€å§‹å¤„ç†è¾“å…¥çš„å­—ç¬¦ä¸²çš„ä¿¡æ¯</li>
<li>å¯¹æ ¼å¼ä¸²ä¸­çš„æ¯ä¸€ä¸ªè½¬æ¢è¯´æ˜ï¼Œscanfå‡½æ•°åŠªåŠ›ä»è¾“å…¥çš„æ•°æ®ä¸­å®šä½é€‚å½“ç±»å‹çš„é¡¹ï¼Œå¹¶ä¸”è·³è¿‡å¿…è¦çš„ç©ºç™½ç¬¦</li>
<li>é‡åˆ°ä¸å¯èƒ½å±äºå½“å‰è½¬æ¢è¯´æ˜çš„å­—ç¬¦æ—¶ç»“æŸå¯¹å½“å‰è½¬æ¢å­—ç¬¦çš„åŒ¹é…ï¼Œå¹¶å°†å·²ç»åŒ¹é…çš„å­—ç¬¦èµ‹å€¼ç»™å¯¹åº”å˜é‡</li>
<li>å¦‚æœç”¨æˆ·è¾“å…¥çš„å­—ç¬¦éƒ½å’Œå½“å‰è½¬æ¢è¯´æ˜ä¸åŒ¹é…ï¼Œåˆ™ä¸å†æŸ¥çœ‹æ ¼å¼ä¸²çš„å‰©ä½™éƒ¨åˆ†</li>
</ol>
</blockquote>
<h3 id="3-2-2-æ ¼å¼ä¸²ä¸­çš„æ™®é€šå­—ç¬¦"><a href="#3-2-2-æ ¼å¼ä¸²ä¸­çš„æ™®é€šå­—ç¬¦" class="headerlink" title="3.2.2    æ ¼å¼ä¸²ä¸­çš„æ™®é€šå­—ç¬¦"></a>3.2.2    æ ¼å¼ä¸²ä¸­çš„æ™®é€šå­—ç¬¦</h3><blockquote>
<p><strong>ç©ºç™½å­—ç¬¦</strong>ï¼šå½“å†æ ¼å¼ä¸²ä¸­é‡åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªè¿ç»­çš„ç©ºç™½å­—ç¬¦æ—¶ï¼Œscanfå‡½æ•°ä»è¾“å…¥ä¸­é‡å¤è¯»ç©ºç™½å­—ç¬¦ç›´åˆ°é‡åˆ°ä¸€ä¸ªéç©ºç™½å­—ç¬¦ã€‚<br><strong>å…¶ä»–å­—ç¬¦ï¼š</strong>å½“æ ¼å¼ä¸²ä¸­å›½å¹´é‡åˆ°ä¸€ä¸ªéç©ºç™½å­—ç¬¦æ—¶ï¼Œscanfä¼šæŠŠå®ƒä¸ä¸‹ä¸€ä¸ªè¾“å…¥å­—ç¬¦è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœåŒ¹é…åˆ™ä¸¢æ‰åŒ¹é…çš„éƒ¨åˆ†ï¼Œå¹¶é’ˆå¯¹åé¢çš„è¾“å…¥åŠå¯¹åº”çš„æ ¼å¼ä¸²è¿›è¡Œå¤„ç†ï¼›å¦åˆ™å¼‚å¸¸é€€å‡ºã€‚</p>
</blockquote>
<h3 id="3-2-3-æ··æ·†printfå‡½æ•°å’Œscanfå‡½æ•°"><a href="#3-2-3-æ··æ·†printfå‡½æ•°å’Œscanfå‡½æ•°" class="headerlink" title="3.2.3    æ··æ·†printfå‡½æ•°å’Œscanfå‡½æ•°"></a>3.2.3    æ··æ·†printfå‡½æ•°å’Œscanfå‡½æ•°</h3><p><strong>å¸¸è§é—®é¢˜</strong></p>
<ul>
<li>åœ¨printfå‡½æ•°è°ƒç”¨æ—¶åœ¨å˜é‡å‰é¢æ”¾ç½®<code>&amp;</code></li>
<li>scanfä¸­æ ¼å¼ä¸²ä¸­å‡ºç°ä¸å¿…è¦çš„<code>\n</code>ï¼Œå¯¼è‡´äº¤äº’ç¨‹åºä¼šä¸€ç›´åŒ¹é…ç”¨æˆ·è¾“å…¥çš„ç©ºç™½ç¬¦</li>
</ul>
<h3 id="3-2-4-ç¨‹åºï¼šè®¡ç®—æŒæœ‰çš„è‚¡ç¥¨çš„ä»·å€¼"><a href="#3-2-4-ç¨‹åºï¼šè®¡ç®—æŒæœ‰çš„è‚¡ç¥¨çš„ä»·å€¼" class="headerlink" title="3.2.4    ç¨‹åºï¼šè®¡ç®—æŒæœ‰çš„è‚¡ç¥¨çš„ä»·å€¼"></a>3.2.4    ç¨‹åºï¼šè®¡ç®—æŒæœ‰çš„è‚¡ç¥¨çš„ä»·å€¼</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> * Computes the value of stock holdings</span><br><span class="line"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> price, shares;</span><br><span class="line"> 	<span class="keyword">float</span> num, denom, value;</span><br><span class="line"></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter share price (must inclide a fraction):\n"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%d%f/%f"</span>, &amp;price, &amp;num, &amp;denom);</span><br><span class="line"></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter number of shares:"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;shares);</span><br><span class="line"></span><br><span class="line"> 	value = (price + num / denom) * shares;</span><br><span class="line"></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Value of holdings:$%.2f\n"</span>, value);</span><br><span class="line"></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ ./stocks </span><br><span class="line"> Enter share price (must inclide a fraction):</span><br><span class="line"> 64 18/40</span><br><span class="line"> Enter number of shares:100</span><br><span class="line"> Value of holdings:<span class="variable">$6445</span>.00</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/08/2 cè¯­è¨€åŸºæœ¬æ¦‚å¿µ/" itemprop="url">
                  2 cè¯­è¨€åŸºæœ¬æ¦‚å¿µ
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-08T22:24:08+08:00" content="2016-05-08">
              2016-05-08
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/08/2 cè¯­è¨€åŸºæœ¬æ¦‚å¿µ/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/08/2 cè¯­è¨€åŸºæœ¬æ¦‚å¿µ/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>2    cè¯­è¨€åŸºæœ¬æ¦‚å¿µ</p>
<h2 id="2-1-ç¼–å†™ä¸€ä¸ªç®€å•åœ°cç¨‹åº"><a href="#2-1-ç¼–å†™ä¸€ä¸ªç®€å•åœ°cç¨‹åº" class="headerlink" title="2.1    ç¼–å†™ä¸€ä¸ªç®€å•åœ°cç¨‹åº"></a>2.1    ç¼–å†™ä¸€ä¸ªç®€å•åœ°cç¨‹åº</h2><h3 id="2-1-1-ç¨‹åºï¼šæ˜¾ç¤ºåŒå…³è¯­"><a href="#2-1-1-ç¨‹åºï¼šæ˜¾ç¤ºåŒå…³è¯­" class="headerlink" title="2.1.1    ç¨‹åºï¼šæ˜¾ç¤ºåŒå…³è¯­"></a>2.1.1    ç¨‹åºï¼šæ˜¾ç¤ºåŒå…³è¯­</h3><blockquote>
<p><strong>æ³¨æ„ï¼š</strong>ç¼–è¯‘å™¨å¾€å¾€è¦æ±‚æ–‡ä»¶çš„æ‰©å±•åä¸º<code>.c</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"To c, or not to c:that is the question.\n"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-1-2-ç¼–è¯‘å’Œé“¾æ¥"><a href="#2-1-2-ç¼–è¯‘å’Œé“¾æ¥" class="headerlink" title="2.1.2    ç¼–è¯‘å’Œé“¾æ¥"></a>2.1.2    ç¼–è¯‘å’Œé“¾æ¥</h3><blockquote>
<p><strong>é¢„å¤„ç†å™¨ï¼ˆprocessorï¼‰ï¼š</strong>ä¼˜ç‚¹ç±»ä¼¼ç¼–è¾‘å™¨ï¼Œå®ƒå¯ä»¥ç»™ç¨‹åºæ·»åŠ å†…å®¹ï¼Œä¹Ÿå¯ä»¥å¯¹ç¨‹åºè¿›è¡Œä¿®æ”¹ã€‚<br><strong>æŒ‡ä»¤ï¼ˆdirectiveï¼‰ï¼š</strong>ä»¥<code>#</code>å¼€å¤´çš„å‘½ä»¤ï¼Œç”±é¢„å¤„ç†å™¨æ‰§è¡Œä¸ºç¨‹åºæ–‡ä»¶æ·»åŠ å†…å®¹ã€‚<br><strong>ç›®æ ‡ä»£ç ï¼ˆobject codeï¼‰ï¼š</strong>ç¼–è¯‘ç”Ÿæˆçš„æœºå™¨æŒ‡ä»¤ï¼ˆéœ€è¦é“¾æ¥æ‰èƒ½è¿è¡Œï¼‰<br><strong>ç¼–è¯‘å™¨ï¼ˆcomplierï¼‰ï¼š</strong>åœ¨ç¼–è¯‘é˜¶æ®µå°†ç¨‹åºç¿»è¯‘æˆç›®æ ‡ä»£ç ã€‚æ¯”å¦‚UNIXä¸‹çš„<code>cc</code><br><strong>è¿æ¥å™¨ï¼ˆlinkerï¼‰ï¼š</strong>æŠŠç¼–è¯‘äº§ç”Ÿçš„ç›®æ ‡ä»£ç å’Œä»»ä½•å…¶å®ƒé™„åŠ ä»£ç æ•´åˆåœ¨ä¸€èµ·ï¼Œç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">st=&gt;start: ç¼–å†™ç¨‹åº</span><br><span class="line">e=&gt;end: æ‰§è¡Œ</span><br><span class="line"></span><br><span class="line">op1=&gt;operation: é¢„å¤„ç†ï¼šæ‰§è¡ŒæŒ‡ä»¤ï¼Œå¼•å…¥ç›¸å…³ä»£ç </span><br><span class="line">op2=&gt;operation: ç¼–è¯‘ï¼šå°†é¢„å¤„ç†åçš„ä»£ç ç¿»è¯‘ä¸ºç›®æ ‡ä»£ç </span><br><span class="line">op3=&gt;operation: é“¾æ¥ï¼šæ•´åˆç›®æ ‡ä»£ç å’Œé™„åŠ ä»£ç ï¼ˆåŒ…æ‹¬åº“å‡½æ•°ï¼‰ï¼Œç”Ÿæˆå®Œå…¨å¯æ‰§è¡Œçš„ç¨‹åº</span><br><span class="line"></span><br><span class="line">st-&gt;op1-&gt;op2-&gt;op3-&gt;e</span><br></pre></td></tr></table></figure>
<h4 id="cc"><a href="#cc" class="headerlink" title="cc"></a>cc</h4><table>
<thead>
<tr>
<th>-o</th>
<th>å…è®¸ä¸ºå«æœ‰å¯æ‰§è¡Œç¨‹åºçš„æ–‡ä»¶å‘½å</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>ä½¿ç”¨æŠ€å·§</strong></p>
<ul>
<li><strong>è‡ªåŠ¨é“¾æ¥ï¼š</strong>ä½¿ç”¨<code>cc</code>è¿›è¡Œç¼–è¯‘æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è¿›è¡Œé“¾æ¥æ“ä½œï¼Œä¸éœ€è¦å•ç‹¬çš„é“¾æ¥å‘½ä»¤</li>
<li><strong>å¯æ‰§è¡Œæ–‡ä»¶å‘½åï¼š</strong>é»˜è®¤ä¸º<code>æ–‡ä»¶å.out</code></li>
</ul>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cc -o pun pun.c<span class="comment"># å¯æ‰§è¡Œæ–‡ä»¶åä¸ºpun</span></span><br></pre></td></tr></table></figure>
<h4 id="gcc-GNU-C-Complierï¼‰"><a href="#gcc-GNU-C-Complierï¼‰" class="headerlink" title="gcc(GNU C Complierï¼‰"></a>gcc(GNU C Complierï¼‰</h4><table>
<thead>
<tr>
<th>-Wall</th>
<th>ä½¿gccæ¯”å¹³å¸¸æ›´å½»åº•åœ°æ£€æŸ¥ç¨‹åºå¹¶è­¦å‘Šå¯èƒ½å‘ç”Ÿçš„é—®é¢˜</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>ç®€ä»‹ï¼š</strong>UNIXç³»ç»Ÿä¸­æœ€å¸¸ç”¨çš„ç¼–è¯‘å™¨ä¹‹ä¸€ã€‚<br><strong>è‡ªç”±è½¯ä»¶åŸºé‡‘ä¼šï¼ˆFree Software Foundation, FSFï¼‰ï¼š</strong>ç”±<code>Richard M.Stallman</code>åˆ›å»ºï¼Œæ—¨åœ¨å¯¹æŠ—UNIXæ­£ç‰ˆè½¯ä»¶çš„ä½¿ç”¨é™åˆ¶å’Œé«˜é¢è´¹ç”¨ã€‚é‡å†™äº†å¤§é‡UNIXè½¯ä»¶å¹¶å…è´¹å‘å¸ƒã€‚</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gcc -Wall -o pun pun.c</span><br></pre></td></tr></table></figure>
<h2 id="2-2-ç®€å•ç¨‹åºçš„é€šç”¨å½¢å¼"><a href="#2-2-ç®€å•ç¨‹åºçš„é€šç”¨å½¢å¼" class="headerlink" title="2.2    ç®€å•ç¨‹åºçš„é€šç”¨å½¢å¼"></a>2.2    ç®€å•ç¨‹åºçš„é€šç”¨å½¢å¼</h2><blockquote>
<p><strong>ä¸€èˆ¬å½¢å¼ï¼š</strong><br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">æŒ‡ä»¤</span><br><span class="line">main()&#123;</span><br><span class="line">    è¯­å¥</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>3ä¸ªå…³é”®è¯­è¨€ç‰¹æ€§ï¼š</strong><code>æŒ‡ä»¤</code> <code>å‡½æ•°</code> <code>è¯­å¥</code></p>
</blockquote>
<h3 id="2-2-1-æŒ‡ä»¤"><a href="#2-2-1-æŒ‡ä»¤" class="headerlink" title="2.2.1    æŒ‡ä»¤"></a>2.2.1    æŒ‡ä»¤</h3><blockquote>
<p><strong>å¤´æ–‡ä»¶ï¼š</strong>éƒ½åŒ…å«ä¸€äº›æ ‡å‡†åº“çš„å†…å®¹<br><strong>è¯­æ³•ï¼š</strong></p>
<ol>
<li>æ‰€æœ‰çš„æŒ‡ä»¤éƒ½ä»¥<code>#</code>å¼€å§‹ï¼Œç”¨ä»¥å’Œcç¨‹åºçš„å…¶å®ƒä»£ç è¿›è¡ŒåŒºåˆ†</li>
<li>é»˜è®¤æƒ…å†µä¸‹æŒ‡ä»¤æ˜¯ä¸€è¡Œ</li>
<li>åœ¨æ¯æ¡æŒ‡ä»¤çš„ç»“å°¾æ—¢æ²¡æœ‰åˆ†å·ä¹Ÿæ²¡æœ‰å…¶å®ƒç‰¹æ®Šæ ‡è®°</li>
</ol>
</blockquote>
<h3 id="2-2-2-å‡½æ•°"><a href="#2-2-2-å‡½æ•°" class="headerlink" title="2.2.2    å‡½æ•°"></a>2.2.2    å‡½æ•°</h3><blockquote>
<p><strong>å®šä¹‰ï¼š</strong>ä¸€ç³»åˆ—ç»„åˆåœ¨ä¸€èµ·å¹¶ä¸”èµ‹äºˆäº†åå­—çš„è¯­å¥<br><strong>åˆ†2ç±»ï¼š</strong></p>
<ul>
<li>ç¨‹åºå‘˜ç¼–å†™çš„å‡½æ•°</li>
<li>ç¼–è¯‘å™¨æä¾›çš„åº“å‡½æ•°(<code>library function</code>)</li>
</ul>
</blockquote>
<h4 id="mainå‡½æ•°"><a href="#mainå‡½æ•°" class="headerlink" title="mainå‡½æ•°"></a><code>main</code>å‡½æ•°</h4><blockquote>
<p><strong>ç®€ä»‹ï¼š</strong>cç¨‹åºå¯ä»¥åŒ…å«å¤šä¸ªå‡½æ•°ï¼Œä½†å‰ç½®è§„å®šå¿…é¡»æœ‰ä¸€ä¸ª<code>main</code>å‡½æ•°<br><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>åœ¨æ‰§è¡Œç¨‹åºæ—¶ç³»ç»Ÿä¼šè‡ªåŠ¨è°ƒç”¨mainå‡½æ•°</li>
<li>åå­—<code>main</code>æ˜¯è‡³å…³é‡è¦çš„ï¼Œä¸èƒ½æ”¹å†™ä¸º<code>begin</code> <code>start</code>ï¼Œç”šè‡³<code>MAIN</code></li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong>å»ºè®®åœ¨<code>main</code>å‡½æ•°æœ«å°¾ç”¨ä¸€æ¡<code>return</code>ç»“æŸè¯­å¥ï¼Œ<code>Q&amp;A</code>å¦‚æœä¸è¿™æ ·åšï¼ŒæŸäº›ç¼–è¯‘å™¨å¯èƒ½ä¼šäº§ç”Ÿä¸€æ¡è­¦å‘Šä¿¡æ¯ã€‚</p>
</blockquote>
<h3 id="2-2-3-è¯­å¥"><a href="#2-2-3-è¯­å¥" class="headerlink" title="2.2.3    è¯­å¥"></a>2.2.3    è¯­å¥</h3><blockquote>
<p><strong>å®šä¹‰ï¼š</strong>ç¨‹åºè¿è¡Œæ—¶æ‰§è¡Œçš„å‘½ä»¤<br><strong>è¯­æ³•ï¼š</strong></p>
<ul>
<li>é™¤å¤åˆè¯­å¥å’ŒæŒ‡ä»¤é™¤å¤–ï¼Œæ¯æ¡è¯­å¥éƒ½è¦ç”¨<code>;</code>ç»“å°¾</li>
</ul>
</blockquote>
<h3 id="2-2-4-æ˜¾ç¤ºå­—ç¬¦ä¸²"><a href="#2-2-4-æ˜¾ç¤ºå­—ç¬¦ä¸²" class="headerlink" title="2.2.4    æ˜¾ç¤ºå­—ç¬¦ä¸²"></a>2.2.4    æ˜¾ç¤ºå­—ç¬¦ä¸²</h3><blockquote>
<p><strong>å­—ç¬¦ä¸²å­—é¢é‡ï¼š</strong>ç”¨ä¸€å¯¹åŒå¼•å·ä¿å«çš„ä¸€ç³»åˆ—å­—ç¬¦<br><code>printf</code>ï¼šä¸ä¼šè‡ªåŠ¨è·³è½¬åˆ°ä¸‹ä¸€è¡Œï¼ˆé™¤éåœ¨æœ«å°¾æ·»åŠ <code>\n</code>ï¼‰</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">"To, or not to c:"</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"that is the question.\n:"</span>);</span><br></pre></td></tr></table></figure>
<h2 id="2-3-æ³¨é‡Š"><a href="#2-3-æ³¨é‡Š" class="headerlink" title="2.3    æ³¨é‡Š"></a>2.3    æ³¨é‡Š</h2><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>/**/</code>ï¼Œå¯ä»¥å‡ºç°åœ¨ç¨‹åºçš„ä»»ä½•ä½ç½®ï¼Œå•ç‹¬å è¡Œæˆ–å’Œå…¶å®ƒç¨‹åºæ”¾åœ¨åŒä¸€è¡Œã€‚</p>
</blockquote>
<h3 id="2-3-1-æ–‡æ¡£è¯´æ˜"><a href="#2-3-1-æ–‡æ¡£è¯´æ˜" class="headerlink" title="2.3.1    æ–‡æ¡£è¯´æ˜"></a>2.3.1    æ–‡æ¡£è¯´æ˜</h3><h4 id="2-3-1-1-ä¸¾ä¸ªæ —å­"><a href="#2-3-1-1-ä¸¾ä¸ªæ —å­" class="headerlink" title="2.3.1.1    ä¸¾ä¸ªæ —å­"></a>2.3.1.1    ä¸¾ä¸ªæ —å­</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Name:	pun.c 			 */</span></span><br><span class="line"><span class="comment">/* Purpose:	Prints a bad pun */</span></span><br><span class="line"><span class="comment">/* Author:	K. N. King		 */</span></span><br><span class="line"><span class="comment">/* Date written:	5/21/95	 */</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"To c, or not to c:that is the question.\n"</span>);</span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-3-1-2-å…¶å®ƒå½¢å¼"><a href="#2-3-1-2-å…¶å®ƒå½¢å¼" class="headerlink" title="2.3.1.2    å…¶å®ƒå½¢å¼"></a>2.3.1.2    å…¶å®ƒå½¢å¼</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/******************************</span><br><span class="line"> * Name:	pun.c 			  *</span><br><span class="line"> * Purpose:	Prints a bad pun  *</span><br><span class="line"> * Author:	K. N. King		  *</span><br><span class="line"> * Date written:	5/21/95	  *</span><br><span class="line"> * ****************************/</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span><br><span class="line">* Name:	pun.c 	</span><br><span class="line">* Purpose:	Prints a bad pun </span><br><span class="line">* Author:	K. N. King	</span><br><span class="line">* Date written:	5/21/95	 </span><br><span class="line">*/</span></span><br></pre></td></tr></table></figure>
<h3 id="2-3-2-ç¿¼å‹æ³¨é‡Š"><a href="#2-3-2-ç¿¼å‹æ³¨é‡Š" class="headerlink" title="2.3.2    ç¿¼å‹æ³¨é‡Š"></a>2.3.2    ç¿¼å‹æ³¨é‡Š</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">main()<span class="comment">/* Beginning of main program */</span></span><br></pre></td></tr></table></figure>
<h2 id="2-4-å˜é‡å’Œèµ‹å€¼"><a href="#2-4-å˜é‡å’Œèµ‹å€¼" class="headerlink" title="2.4    å˜é‡å’Œèµ‹å€¼"></a>2.4    å˜é‡å’Œèµ‹å€¼</h2><h3 id="2-4-1-ç±»å‹"><a href="#2-4-1-ç±»å‹" class="headerlink" title="2.4.1    ç±»å‹"></a>2.4.1    ç±»å‹</h3><blockquote>
<p><strong>ç®€ä»‹ï¼š</strong>ç±»å‹ç”¨æ¥å¯¿å‘½å˜é‡æ‰€å­˜å‚¨çš„æ•°æ®çš„ç§ç±»ã€‚ç±»å‹ä¼šå½±å“å˜é‡çš„å­˜å‚¨æ–¹å¼ï¼Œæ‰€ä»¥é€‰æ‹©åˆé€‚çš„ç±»å‹éå¸¸å…³é”®ã€‚</p>
<h4 id="intå’Œfloat"><a href="#intå’Œfloat" class="headerlink" title="intå’Œfloat"></a><code>int</code>å’Œ<code>float</code></h4><table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
<th>é€Ÿåº¦</th>
<th>å­˜å‚¨</th>
<th>å–å€¼ç‰¹ç‚¹</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>int</td>
<td>æ•´æ•°</td>
<td>è¾ƒå¿«</td>
<td>å ç”¨å°‘</td>
<td>å–å€¼èŒƒå›´å°</td>
<td></td>
</tr>
<tr>
<td>float</td>
<td>æµ®ç‚¹æ•°</td>
<td>è¾ƒæ…¢</td>
<td>å ç”¨å¤š</td>
<td>å–å€¼èŒƒå›´å¤§</td>
<td>å­˜å‚¨çš„æ•°å€¼å¾€å¾€åªæ˜¯æ•°å€¼çš„è¿‘ä¼¼å€¼ï¼Œå­˜åœ¨æ‘„å…¥è¯¯å·®</td>
</tr>
</tbody>
</table>
<h3 id="2-4-2-å£°æ˜"><a href="#2-4-2-å£°æ˜" class="headerlink" title="2.4.2    å£°æ˜"></a>2.4.2    å£°æ˜</h3><p><strong>è¯­æ³•ï¼š</strong></p>
<ul>
<li>æ¯æ¡å£°æ˜éƒ½è¦ä»¥<code>;</code>ç»“å°¾</li>
<li>å£°æ˜å¤šä¸ªç›¸åŒç±»å‹çš„å˜é‡æ—¶ï¼Œä¸­é—´ç”¨<code>,</code>éš”å¼€</li>
</ul>
<p><strong>å»ºè®®ï¼š</strong>åœ¨å£°æ˜å’Œè¯­å¥ä¹‹é—´ç•™å‡ºç©ºç™½ã€‚<br><strong>æ³¨æ„ï¼š</strong><code>main</code> å‡½æ•°åŒ…å«å£°æ˜æ—¶ï¼Œå¿…é¡»æŠŠå£°æ˜æ”¾ç½®åœ¨è¯­å¥ä¹‹å‰ã€‚<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">main()&#123;</span><br><span class="line">  å£°æ˜</span><br><span class="line">  è¯­å¥</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h3 id="2-4-3-èµ‹å€¼"><a href="#2-4-3-èµ‹å€¼" class="headerlink" title="2.4.3    èµ‹å€¼"></a>2.4.3    èµ‹å€¼</h3><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>å˜é‡ = è¡¨è¾¾å¼</code><br><strong>è¡¨è¾¾å¼ï¼š</strong>èµ‹å€¼è¿ç®—çš„å³ä¾§çš„åŒ…å«å¸¸é‡ã€å˜é‡å’Œè¿ç®—ç¬¦çš„å…¬å¼ã€‚</p>
</blockquote>
<h3 id="2-4-4-æ˜¾ç¤ºå˜é‡çš„å€¼"><a href="#2-4-4-æ˜¾ç¤ºå˜é‡çš„å€¼" class="headerlink" title="2.4.4    æ˜¾ç¤ºå˜é‡çš„å€¼"></a>2.4.4    æ˜¾ç¤ºå˜é‡çš„å€¼</h3><blockquote>
<p><strong>æ–¹å¼ï¼š</strong>é€šè¿‡<code>printf</code></p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">"Height: %d Length: %d\n"</span>, height, length);</span><br></pre></td></tr></table></figure>
<h3 id="2-4-5-ç¨‹åºï¼šè®¡ç®—ç®±å­çš„ç©ºé—´é‡é‡"><a href="#2-4-5-ç¨‹åºï¼šè®¡ç®—ç®±å­çš„ç©ºé—´é‡é‡" class="headerlink" title="2.4.5    ç¨‹åºï¼šè®¡ç®—ç®±å­çš„ç©ºé—´é‡é‡"></a>2.4.5    ç¨‹åºï¼šè®¡ç®—ç®±å­çš„ç©ºé—´é‡é‡</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Name:	pun.c 			 */</span></span><br><span class="line"><span class="comment">/* Purpose:	Prints a bad pun */</span></span><br><span class="line"><span class="comment">/* Author:	K. N. King		 */</span></span><br><span class="line"><span class="comment">/* Date written:	5/21/95	 */</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> height, length, width, volume, weight;</span><br><span class="line">	</span><br><span class="line">	height = <span class="number">8</span>;</span><br><span class="line">	length = <span class="number">12</span>;</span><br><span class="line">	width = <span class="number">10</span>;</span><br><span class="line">	volume = height * length * width;</span><br><span class="line">	weight = (volume + <span class="number">165</span>) / <span class="number">166</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Dimensions: %dx%dx%d\n"</span>, length, width, height);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"volume(cubic inches):%d\n"</span>, volume);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Dimensional weight (pounds):%d\n"</span>, weight);</span><br><span class="line"></span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ gcc -Wall -o pun pun.c</span><br><span class="line">$ ./pun</span><br><span class="line"> Dimensions: 12x10x8</span><br><span class="line"> volume(cubic inches):960</span><br><span class="line"> Dimensional weight (pounds):6</span><br></pre></td></tr></table></figure>
<h3 id="2-4-6-åˆå§‹åŒ–"><a href="#2-4-6-åˆå§‹åŒ–" class="headerlink" title="2.4.6    åˆå§‹åŒ–"></a>2.4.6    åˆå§‹åŒ–</h3><blockquote>
<p><strong>åˆå§‹åŒ–å¼ï¼ˆinitializerï¼‰ï¼š</strong>åœ¨å˜é‡å£°æ˜ä¸­åŠ å…¥åˆå§‹å€¼ã€‚<br><strong>æ³¨æ„ï¼š</strong>ç¨‹åºå¼€å§‹æ‰§è¡Œæ—¶ï¼Œé»˜å¥‘çƒ­æƒ…å†µä¸‹æŸäº›å˜é‡ä¼šè‡ªåŠ¨è®¾ç½®ä¸ºé›¶ï¼Œè€Œå¤§å¤šæ•°å˜é‡åˆ™ä¸ä¼šã€‚</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> height, length = <span class="number">12</span>, width = <span class="number">12</span>;<span class="comment">/*å…¶ä¸­ç¬¬ä¸€ä¸ªä¸ªå˜é‡çš„å€¼æœªçŸ¥*/</span></span><br></pre></td></tr></table></figure>
<h3 id="2-4-7-æ˜¾ç¤ºè¡¨è¾¾å¼çš„å€¼"><a href="#2-4-7-æ˜¾ç¤ºè¡¨è¾¾å¼çš„å€¼" class="headerlink" title="2.4.7    æ˜¾ç¤ºè¡¨è¾¾å¼çš„å€¼"></a>2.4.7    æ˜¾ç¤ºè¡¨è¾¾å¼çš„å€¼</h3><p><code>åœ¨ä»»ä½•éœ€è¦æ•°å€¼çš„åœ°æ–¹ï¼Œéƒ½å¯ä»¥ä½¿ç”¨å…·æœ‰ç›¸åŒç±»å‹çš„è¡¨è¾¾å¼ã€‚</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">prinf(<span class="string">"%d\n"</span>, height * length * width);</span><br></pre></td></tr></table></figure>
<h2 id="2-5-è¯»å…¥è¾“å…¥"><a href="#2-5-è¯»å…¥è¾“å…¥" class="headerlink" title="2.5    è¯»å…¥è¾“å…¥"></a>2.5    è¯»å…¥è¾“å…¥</h2><blockquote>
<p><code>scanf</code>:å’Œ<code>printf</code>ç›¸å¯¹åº”çš„cåº“å‡½æ•°ã€‚<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;i);<span class="comment">/*è¯»å…¥ä¸€ä¸ªæ•´æ•°ç»™i*/</span></span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%f"</span>, &amp;x);<span class="comment">/*è¯»å…¥ä¸€ä¸ªfloatæ•°å€¼ç»™x*/</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<h3 id="ç¨‹åºï¼šè®¡ç®—ç®±å­çš„ç©ºé—´é‡é‡ï¼ˆæ”¹è¿›ç‰ˆï¼‰"><a href="#ç¨‹åºï¼šè®¡ç®—ç®±å­çš„ç©ºé—´é‡é‡ï¼ˆæ”¹è¿›ç‰ˆï¼‰" class="headerlink" title="ç¨‹åºï¼šè®¡ç®—ç®±å­çš„ç©ºé—´é‡é‡ï¼ˆæ”¹è¿›ç‰ˆï¼‰"></a>ç¨‹åºï¼šè®¡ç®—ç®±å­çš„ç©ºé—´é‡é‡ï¼ˆæ”¹è¿›ç‰ˆï¼‰</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span><br><span class="line"> * Computes the dimensioal weight of a box</span><br><span class="line"> * from input provided by the user</span><br><span class="line"> */</span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> height, length, width, volume, weight;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Enter height of box:"</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;height);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Enter length of box:"</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;length);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Enter width of box:"</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;width);</span><br><span class="line"></span><br><span class="line">	volume = height * length * width;</span><br><span class="line">	weight = (volume + <span class="number">165</span>) / <span class="number">166</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"volume(cubic inches):%d\n"</span>, volume);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Dimensional weight (pounds):%d\n"</span>, weight);</span><br><span class="line"></span><br><span class="line">	return <span class="number">0</span>;	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ ./dweight2 </span><br><span class="line"> Enter height of box:2</span><br><span class="line"> Enter length of box:3</span><br><span class="line"> Enter width of box:4</span><br><span class="line"> volume(cubic inches):24</span><br><span class="line"> Dimensional weight (pounds):1</span><br></pre></td></tr></table></figure>
<h2 id="2-6-å®šä¹‰å¸¸é‡"><a href="#2-6-å®šä¹‰å¸¸é‡" class="headerlink" title="2.6    å®šä¹‰å¸¸é‡"></a>2.6    å®šä¹‰å¸¸é‡</h2><blockquote>
<p><strong>å®å®šä¹‰ï¼ˆmacro definitionï¼‰ï¼š</strong>å¯¹ç¨‹åºè¿›è¡Œé¢„å¤„ç†æ—¶ï¼Œé¢„å¤„ç†å™¨ä¼šæŠŠæ¯ä¸€ä¸ªå®ç”¨å…¶è¡¨ç¤ºçš„å€¼æ›¿æ¢å›æ¥ã€‚<br><strong>è¯­æ³•ï¼š</strong><code># define å®å˜é‡å å­—é¢é‡æˆ–è¡¨è¾¾å¼</code><br><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>å¸¸é‡çš„åå­—ä½¿ç”¨å¤§å†™å­—æ¯ï¼ˆæ²¿ç”¨äº†10å‡ å¹´çš„è§„èŒƒï¼‰</li>
<li>å½“å®åŒ…å«è¿ç®—ç¬¦æ—¶ï¼Œå¿…é¡»ä½¿ç”¨æ‹¬å·æŠŠè¡¨è¾¾å¼æ‹¬èµ·æ¥</li>
</ul>
</blockquote>
<h3 id="ç¨‹åºï¼šåæ°æ¸©åº¦è½¬æ¢ä¸ºæ‘„æ°æ¸©åº¦"><a href="#ç¨‹åºï¼šåæ°æ¸©åº¦è½¬æ¢ä¸ºæ‘„æ°æ¸©åº¦" class="headerlink" title="ç¨‹åºï¼šåæ°æ¸©åº¦è½¬æ¢ä¸ºæ‘„æ°æ¸©åº¦"></a>ç¨‹åºï¼šåæ°æ¸©åº¦è½¬æ¢ä¸ºæ‘„æ°æ¸©åº¦</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/************************************************</span><br><span class="line"> * Converts a Fahrenheit temperature to Celsius *</span><br><span class="line"> * **********************************************/</span></span><br><span class="line"></span><br><span class="line"> <span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"> <span class="meta"># <span class="meta-keyword">define</span> FREEZING_PT  32.0</span></span><br><span class="line"> <span class="meta"># <span class="meta-keyword">define</span> SCALE_FACTOR (5.0 / 9.0)<span class="comment">/*å¦‚æœæ˜¯(5/9)ç»“æœä¸º0*/</span></span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">float</span> fahrenheit, celsius;</span><br><span class="line"></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Enter Fahrenheit temperature:"</span>);</span><br><span class="line"> 	<span class="built_in">scanf</span>(<span class="string">"%f"</span>, &amp;fahrenheit);</span><br><span class="line"></span><br><span class="line"> 	celsius = (fahrenheit - FREEZING_PT) * SCALE_FACTOR;<span class="comment">/*æ¸©åº¦è½¬æ¢*/</span></span><br><span class="line"></span><br><span class="line"> 	<span class="built_in">printf</span>(<span class="string">"Celsius equivalent:%.1f\n"</span>, celsius);<span class="comment">/*ä¿ç•™å°æ•°ç‚¹åä¸€ä½*/</span></span><br><span class="line"> 	return <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ./celsius </span><br><span class="line"> Enter Fahrenheit temperature:32</span><br><span class="line"> Celsius equivalent:0.0</span><br></pre></td></tr></table></figure>
<h2 id="2-7-æ ‡è¯†ç¬¦"><a href="#2-7-æ ‡è¯†ç¬¦" class="headerlink" title="2.7    æ ‡è¯†ç¬¦"></a>2.7    æ ‡è¯†ç¬¦</h2><blockquote>
<p><strong>å®šä¹‰ï¼š</strong>å˜é‡ã€å‡½æ•°ï¼½å®å’Œå…¶ä»–å°¸ä½“çš„åå­—æˆä¸ºæ ‡è¯†ç¬¦(identifier)ã€‚<br><strong>è§„åˆ™ï¼š</strong></p>
<ol>
<li>å¯ä»¥åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿</li>
<li>å¿…é¡»ä»¥å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿å¼€å¤´</li>
<li>åŒºåˆ†å¤§å°å†™</li>
<li><code>Q&amp;A</code>æ ‡å‡†Cå¯¹æ ‡è¯†ç¬¦çš„æœ€å¤§é•¿åº¦æ²¡æœ‰é™åˆ¶</li>
<li>ä¸èƒ½ä½¿ç”¨<code>å…³é”®å­—</code>ä½œä¸ºæ ‡è¯†ç¬¦<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202015-06-16%20%E4%B8%8B%E5%8D%882.54.55.png" alt="Alt text"></li>
</ol>
</blockquote>
<h2 id="2-8-cè¯­è¨€ç¨‹åºçš„å¸ƒå±€"><a href="#2-8-cè¯­è¨€ç¨‹åºçš„å¸ƒå±€" class="headerlink" title="2.8    cè¯­è¨€ç¨‹åºçš„å¸ƒå±€"></a>2.8    cè¯­è¨€ç¨‹åºçš„å¸ƒå±€</h2><h3 id="åŸåˆ™"><a href="#åŸåˆ™" class="headerlink" title="åŸåˆ™"></a>åŸåˆ™</h3><ul>
<li>è¯­å¥å¯ä»¥åˆ’åˆ†åœ¨ä»»æ„å¤šè¡Œå†…</li>
<li>è®°å·é—´çš„ç©ºæ ¼åº”è¯¥ä¾¿äºè‚‰çœ¼åŒºåˆ«è®°å·ã€‚å› æ­¤é€šå¸¸åœ¨æ¯ä¸ªè¿ç®—ç¬¦çš„å‰åéƒ½æ”¾ä¸Šä¸€ä¸ªç©ºæ ¼ã€‚</li>
<li>ç¼©è¿›æœ‰åŠ©äºè½»æ¾è¯†åˆ«ç¨‹åºåµŒå¥—</li>
<li>ç©ºè¡Œå¯ä»¥æŠŠç¨‹åºåˆ’åˆ†æˆé€»è¾‘å•å…ƒï¼Œä»è€Œä½¿è¯»è€…æ›´å®¹æ˜“è¾¨åˆ«ç¨‹åºçš„ç»“æ„ã€‚</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/08/1 cè¯­è¨€æ¦‚è¿°/" itemprop="url">
                  1 cè¯­è¨€æ¦‚è¿°
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-08T21:47:27+08:00" content="2016-05-08">
              2016-05-08
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/08/1 cè¯­è¨€æ¦‚è¿°/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/08/1 cè¯­è¨€æ¦‚è¿°/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-1-cè¯­è¨€çš„å†å²"><a href="#1-1-cè¯­è¨€çš„å†å²" class="headerlink" title="1.1    cè¯­è¨€çš„å†å²"></a>1.1    cè¯­è¨€çš„å†å²</h2><h3 id="1-1-1-èµ·æº"><a href="#1-1-1-èµ·æº" class="headerlink" title="1.1.1    èµ·æº"></a>1.1.1    èµ·æº</h3><blockquote>
<p><strong>ç®€ä»‹ï¼š</strong>cè¯­è¨€æ˜¯åœ¨è´å°”å®éªŒå®¤ç”±<code>Ken Thompson</code> <code>Dennis Ritchie</code>åŠå…¶åŒäº‹åœ¨å¼€å‘UNIXæ“ä½œç³»ç»Ÿçš„è¿‡ç¨‹ä¸­çš„å‰¯äº§å“ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">st=&gt;start: 1969</span><br><span class="line">e=&gt;end: 1973</span><br><span class="line"></span><br><span class="line">op1=&gt;operation: Thompsonç‹¬è‡ªåŠ¨æ‰‹ä½¿ç”¨æ±‡ç¼–è¯­è¨€ç¼–å†™äº†UNIXæ“ä½œç³»ç»Ÿçš„æœ€åˆç‰ˆæœ¬</span><br><span class="line">op2=&gt;operation: Thompsonåœ¨BCPLè¯­è¨€ï¼ˆåŸºäºALGOL 60ï¼‰çš„åŸºç¡€ä¸Šå¼€å‘Bè¯­è¨€</span><br><span class="line">op3=&gt;operation: 1970å¹´ï¼ŒBè¯­è¨€ç»è¿‡æ”¹è¿›è¿è¡Œåœ¨PDP-11ä¸Š</span><br><span class="line">op4=&gt;operation: 1971å¹´ï¼ŒBè¯­è¨€æš´éœ²å‡ºä¸é€‚åˆPDP-11çš„é—®é¢˜</span><br><span class="line">op5=&gt;operation: Ritchieå¼€å§‹å¼€å‘Bè¯­è¨€çš„å‡çº§ç‰ˆï¼ŒNB</span><br><span class="line">op6=&gt;operation: NBè¶Šæ¥è¶Šè„±ç¦»B,æ”¹åCè¯­è¨€</span><br><span class="line"></span><br><span class="line">st-&gt;op1-&gt;op2-&gt;op3-&gt;op4-&gt;op5-&gt;op6-&gt;e</span><br></pre></td></tr></table></figure>
<h3 id="1-1-2-æ ‡å‡†åŒ–"><a href="#1-1-2-æ ‡å‡†åŒ–" class="headerlink" title="1.1.2    æ ‡å‡†åŒ–"></a>1.1.2    æ ‡å‡†åŒ–</h3><blockquote>
<p><strong>æ³¨æ„ï¼š</strong>cè¯­è¨€ç›®å‰æœ€æ–°æ ‡å‡†æ˜¯1999å¹´ä¿®è®¢çš„<code>C99</code>(ISO 9899:1999)ï¼Œä½†ç›®å‰æ²¡æœ‰å¾—åˆ°å¹¿å‘åº”ç”¨ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">st=&gt;start: 1978</span><br><span class="line">e=&gt;end: 1990</span><br><span class="line">op1=&gt;operation: 1978å¹´ï¼Œã€ŠThe C Programming Languageã€‹ç¬¬ä¸€ç‰ˆå‡ºç‰ˆï¼Œæˆä¸ºäº‹å®æ ‡å‡†ï¼Œå³ç»å…¸C(K&amp;R C)</span><br><span class="line">op2=&gt;operation: 1983å¹´ï¼ŒANSIå¼€å§‹ç¼–åˆ¶Cè¯­è¨€æ ‡å‡†</span><br><span class="line">op3=&gt;operation: 1988å¹´ï¼Œç»è¿‡å¤šæ¬¡ä¿®è®¢ï¼ŒCè¯­è¨€æ ‡å‡†å®Œæˆ</span><br><span class="line">op4=&gt;operation: 1989å¹´12æœˆé€šè¿‡ï¼Œæˆä¸ºANSIæ ‡å‡†X3.159-1989</span><br><span class="line">op5=&gt;operation: 1990å¹´ï¼ŒISOé€šè¿‡æ­¤é¡¹æ ‡å‡†ï¼Œæˆä¸ºISO/IEC 9899-1990å›½é™…æ ‡å‡†ï¼Œå³æ ‡å‡†C(ANSI Cæˆ–ANSI/ISO C)</span><br><span class="line"></span><br><span class="line">st-&gt;op1-&gt;op2-&gt;op3-&gt;op4-&gt;op5-&gt;e</span><br></pre></td></tr></table></figure>
<h3 id="1-1-3-C-è¯­è¨€"><a href="#1-1-3-C-è¯­è¨€" class="headerlink" title="1.1.3    C++è¯­è¨€"></a>1.1.3    C++è¯­è¨€</h3><blockquote>
<p><strong>ç›¸å…³ï¼š</strong><code>Concurrent C</code> <code>Object C</code> <code>C++</code><br><strong>C++ç®€ä»‹ï¼š</strong>è´å°”å®éªŒå®¤çš„<code>Bjarne Stroustrup</code>è®¾è®¡ï¼Œåœ¨è®¸å¤šæ–¹é¢å¯¹Cè¯­è¨€è¿›è¡Œæ‰©å±•ï¼Œæ”¯æŒé¢å‘å¯¹è±¡ã€‚<br><strong>ä¸ºä»€ä¹ˆä¸ç›´æ¥å­¦ä¹ c++ï¼š</strong></p>
<ul>
<li>+c++è¯­è¨€æ¯”cè¯­è¨€æ›´åŠ éš¾å­¦ï¼Œæœ€å¥½å…ˆç²¾é€šc</li>
<li>å­˜åœ¨å¤§é‡cè¯­è¨€ä»£ç éœ€è¦ç»´æŠ¤</li>
<li>å¹¶ä¸æ˜¯æ‰€æœ‰åœºæ™¯éƒ½é€‚åˆc++</li>
</ul>
</blockquote>
<h2 id="1-2-Cè¯­è¨€çš„ä¼˜ç¼ºç‚¹"><a href="#1-2-Cè¯­è¨€çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="1.2    Cè¯­è¨€çš„ä¼˜ç¼ºç‚¹"></a>1.2    Cè¯­è¨€çš„ä¼˜ç¼ºç‚¹</h2><blockquote>
<ul>
<li>cè¯­è¨€æ˜¯ä¸€ç§ä½çº§è¯­è¨€</li>
<li>cè¯­è¨€æ˜¯ä¸€ç§å°å‹è¯­è¨€</li>
<li>cè¯­è¨€æ˜¯ä¸€ç§åŒ…å®¹æ€§è¯­è¨€</li>
</ul>
</blockquote>
<h3 id="1-2-1-ä¼˜ç‚¹"><a href="#1-2-1-ä¼˜ç‚¹" class="headerlink" title="1.2.1    ä¼˜ç‚¹"></a>1.2.1    ä¼˜ç‚¹</h3><ul>
<li>é«˜æ•ˆæ€§</li>
<li>å¯ç§»æ¤</li>
<li>åŠŸèƒ½å¼ºå¤§</li>
<li>çµæ´»æ€§</li>
<li>æ ‡å‡†åº“</li>
<li>ä¸UNIXç³»ç»Ÿçš„é›†æˆ</li>
</ul>
<h3 id="1-2-2-ç¼ºç‚¹"><a href="#1-2-2-ç¼ºç‚¹" class="headerlink" title="1.2.2 ç¼ºç‚¹"></a>1.2.2 ç¼ºç‚¹</h3><ul>
<li>cè¯­è¨€å¯èƒ½ä¼šæ¼æ´ç™¾å‡º</li>
<li>cç¨‹åºå¯èƒ½ä¼šéš¾ä»¥ç†è§£</li>
<li>cç¨‹åºå¯èƒ½ä¼šéš¾ä»¥ä¿®æ”¹</li>
</ul>
<h3 id="1-2-3-é«˜æ•ˆåœ°ä½¿ç”¨cè¯­è¨€"><a href="#1-2-3-é«˜æ•ˆåœ°ä½¿ç”¨cè¯­è¨€" class="headerlink" title="1.2.3    é«˜æ•ˆåœ°ä½¿ç”¨cè¯­è¨€"></a>1.2.3    é«˜æ•ˆåœ°ä½¿ç”¨cè¯­è¨€</h3><ul>
<li>å­¦ä¹ å¦‚ä½•è§„é¿cè¯­è¨€åœ°ç¼ºé™·</li>
<li>ä½¿ç”¨è½¯ä»¶å·¥å…·ä½¿ç¨‹åºæ›´åŠ å¯é </li>
<li>åˆ©ç”¨ç°æœ‰åœ°ä»£ç åº“</li>
<li>é‡‡ç”¨ä¸€å¥—åˆ‡åˆå®é™…åœ°ç¼–ç è§„èŒƒ</li>
<li>é¿å…â€œæŠ•æœºå–å·§â€å’Œæåº¦å¤æ‚åœ°ä»£ç </li>
<li>é¿å…ä¸å¯ç§»æ¤æ€§</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Sean" />
          <p class="site-author-name" itemprop="name">Sean</p>
          <p class="site-description motion-element" itemprop="description">æ•´ç†äº†ä¸€æ‰¹è¿‡å»ä¸€æ®µæ—¶é—´iosç›¸å…³çš„ç¬”è®°ï¼Œå…¶å®ƒçš„ç¬”è®°ä¹Ÿæ•´ç†ä¸‹ï¼Ÿæºç åˆ†äº«å‡ºæ¥ï¼Ÿå†è¯´å§...åæ­£ä¹Ÿåªæœ‰è‡ªå·±ä¼šçœ‹å§...</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">100</span>
              <span class="site-state-item-name">æ—¥å¿—</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">14</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Sean</span>
</div>

<div class="powered-by">
  ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"lapuda-er"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  

  

  

  

</body>
</html>
