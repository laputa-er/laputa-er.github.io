<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="æ•´ç†äº†ä¸€æ‰¹è¿‡å»ä¸€æ®µæ—¶é—´iosç›¸å…³çš„ç¬”è®°ï¼Œå…¶å®ƒçš„ç¬”è®°ä¹Ÿæ•´ç†ä¸‹ï¼Ÿæºç åˆ†äº«å‡ºæ¥ï¼Ÿå†è¯´å§...åæ­£ä¹Ÿåªæœ‰è‡ªå·±ä¼šçœ‹å§...">
<meta property="og:type" content="website">
<meta property="og:title" content="Sean">
<meta property="og:url" content="http://laputa-er.github.io/page/6/index.html">
<meta property="og:site_name" content="Sean">
<meta property="og:description" content="æ•´ç†äº†ä¸€æ‰¹è¿‡å»ä¸€æ®µæ—¶é—´iosç›¸å…³çš„ç¬”è®°ï¼Œå…¶å®ƒçš„ç¬”è®°ä¹Ÿæ•´ç†ä¸‹ï¼Ÿæºç åˆ†äº«å‡ºæ¥ï¼Ÿå†è¯´å§...åæ­£ä¹Ÿåªæœ‰è‡ªå·±ä¼šçœ‹å§...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Sean">
<meta name="twitter:description" content="æ•´ç†äº†ä¸€æ‰¹è¿‡å»ä¸€æ®µæ—¶é—´iosç›¸å…³çš„ç¬”è®°ï¼Œå…¶å®ƒçš„ç¬”è®°ä¹Ÿæ•´ç†ä¸‹ï¼Ÿæºç åˆ†äº«å‡ºæ¥ï¼Ÿå†è¯´å§...åæ­£ä¹Ÿåªæœ‰è‡ªå·±ä¼šçœ‹å§...">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'åšä¸»'
    }
  };
</script>




  <link rel="canonical" href="http://laputa-er.github.io/page/6/"/>

  <title> Sean </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Sean</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">ç¬”è®°åˆ†äº«</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/TSPL2_03  å­—ç¬¦ä¸²å’Œå­—ç¬¦/" itemprop="url">
                  3 å­—ç¬¦ä¸²å’Œå­—ç¬¦
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T19:32:42+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/TSPL2_03  å­—ç¬¦ä¸²å’Œå­—ç¬¦/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/TSPL2_03  å­—ç¬¦ä¸²å’Œå­—ç¬¦/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æœ‰åºçš„<code>Character</code>ç±»å‹çš„å€¼çš„é›†åˆï¼Œé€šè¿‡<code>Stringç±»</code>æ¥è¡¨ç¤ºã€‚</p>
<ul>
<li>æ¯ä¸€ä¸ªå­—ç¬¦ä¸²éƒ½æ˜¯ç”±ç¼–ç æ— å…³çš„<code>Unicide</code>å­—ç¬¦ç»„æˆ</li>
<li>å¯ä»¥é€šè¿‡å…§æ’çš„æ–¹å¼å°†å­—ç¬¦ä¸²æ’å…¥åˆ°å¸¸é‡ã€å˜é‡ã€å­—é¢é‡è¡¨è¾¾å¼ä¸­</li>
</ul>
<p><strong>æ‰©å±•ï¼š</strong>å’ŒCocoaä¸­çš„Foundationæ¡†æ¶ä¸­çš„<code>NSStringç±»</code>è¿›è¡Œäº†æ— ç¼å¯¹æ¥</p>
<ul>
<li>å¯ä»¥å°†åˆ›å»ºçš„ä»»ä½•å­—ç¬¦ä¸²çš„å€¼è½¬æ¢æˆ<code>NSString</code></li>
<li>å¯ä»¥è°ƒç”¨ä»»æ„çš„<code>NSString</code>API</li>
<li>å¯ä»¥åœ¨ä»»æ„è¦æ±‚ä¼ å…¥<code>NSString</code>å®ä¾‹ä½œä¸ºå‚æ•°çš„APIä¸­ç”¨<code>Stringç±»</code>çš„å€¼ä»£æ›¿</li>
</ul>
</blockquote>
<p>##3.1    å­—ç¬¦ä¸²å­—é¢é‡</p>
<blockquote>
<p><strong>æ ¼å¼ï¼š</strong><code>&quot;å›ºå®šé¡ºåºçš„æ–‡æœ¬å­—ç¬¦é›†&quot;</code><br><strong>åº”ç”¨ï¼š</strong>ä¸ºå¸¸é‡æˆ–å˜é‡æä¾›åˆå§‹å€¼</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> someString = <span class="string">"Some string literal value"</span></span><br></pre></td></tr></table></figure>
<p>##3.2    åˆå§‹åŒ–ç©ºå­—ç¬¦ä¸²</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>2ç§å½¢å¼</p>
<ol>
<li>å°†ç©ºçš„å­—ç¬¦ä¸²å­—é¢é‡èµ‹å€¼ç»™å˜é‡</li>
<li>åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„<code>String</code>å®ä¾‹</li>
</ol>
<p><strong>åˆ¤ç©ºï¼š</strong>å¯ä»¥é€šè¿‡å­—ç¬¦ä¸²å®ä¾‹çš„<code>isEmpty</code>å±æ€§(Boolean)æ¥åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å½¢å¼1</span></span><br><span class="line"><span class="keyword">var</span> emptyString = <span class="string">""</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å½¢å¼2</span></span><br><span class="line"><span class="keyword">var</span> anotherEmptyString = <span class="type">String</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ¤ç©º</span></span><br><span class="line"><span class="keyword">if</span> emptyString.isEmpty &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Nothing to see here"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>##3.3    å­—ç¬¦ä¸²å¯å˜æ€§</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å’ŒSwiftä¸­å…¶å®ƒå€¼ç±»å‹ä¸€æ ·ï¼Œå¯å˜æ€§å–å†³äºå®šä¹‰ä¸ºå¸¸é‡è¿˜æ˜¯å˜é‡</p>
<ul>
<li>å¸¸é‡ï¼šä¸å¯æ”¹å˜</li>
<li>å˜é‡ï¼šå¯ä»¥æ”¹å˜</li>
</ul>
<p><strong>æ‰©å±•ï¼š</strong>åœ¨O-Cå’ŒCocoaä¸­ï¼Œå­—ç¬¦ä¸²çš„å¯å˜æ€§å–å†³äºä½¿ç”¨<code>NSStringç±»</code>è¿˜æ˜¯<code>NSMutableStringç±»</code>ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ä¸ºå˜é‡</span></span><br><span class="line"><span class="keyword">var</span> variableString = <span class="string">"Hourse"</span></span><br><span class="line"><span class="comment">// æ‰€ä»¥å¯ä»¥ä¿®æ”¹</span></span><br><span class="line">variableString += <span class="string">" add carriage"</span></span><br></pre></td></tr></table></figure>
<p>##3.4    å­—ç¬¦ä¸²æ˜¯å€¼ç±»å‹</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ„å‘³ç€åœ¨ä»¥ä¸‹æ“ä½œä¸­é€šè¿‡æ‹·è´æ¥ä¼ é€’å€¼</p>
<ul>
<li>å¸¸é‡ã€å˜é‡èµ‹å€¼æ“ä½œ</li>
<li>åœ¨å‡½æ•°ã€æ–¹æ³•ä¸­ä¼ å‚</li>
</ul>
<p><strong>æ„ä¹‰ï¼š</strong>ç¡®ä¿ä¼ é€’çš„å­—ç¬¦ä¸²ä¸ä¼šè¢«æ„å¤–ä¿®æ”¹ã€‚<br><strong>æ‰©å±•ï¼š</strong>ä¸ºäº†ä¿è¯æ€§èƒ½ï¼ŒSwiftç¼–è¯‘å™¨åªä¼šåœ¨ç»å¯¹å¿…è¦çš„æƒ…å†µä¸‹æ‰è¿›è¡Œå¤åˆ¶ã€‚</p>
<p>##3.5    ä½¿ç”¨å­—ç¬¦<br><strong>è¯´æ˜ï¼š</strong><code>Character</code></p>
<ul>
<li>å­—ç¬¦ç±»å‹çš„å¸¸é‡å’Œå­—ç¬¦ä¸²ç›¸ä¼¼ï¼Œä¸åŒç‚¹åœ¨äºè‡ªèƒ½åŒ…å«ä¸€ä¸ªå­—ç¬¦ã€‚</li>
<li>ç”¨å­—ç¬¦å¸¸é‡åˆå§‹åŒ–å­—ç¬¦ç±»å‹å¿…é¡»æŒ‡å®šå¸¸é‡æˆ–å˜é‡ä¸º<code>Character</code>ï¼Œå¦åˆ™é»˜è®¤ä¸ºå­—ç¬¦ä¸²ç±»å‹ã€‚</li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> exclamatuinMark: <span class="type">Character</span> = <span class="string">"!"</span></span><br></pre></td></tr></table></figure>
<p>###3.5.1    å­—ç¬¦ä¸²çš„Chracterså±æ€§</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯ä»¥é€šè¿‡è¯¥å±æ€§éå†å­—ç¬¦ä¸²å¯¹åº”çš„å­—ç¬¦æ•°ç»„ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éå†å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦</span></span><br><span class="line"><span class="keyword">for</span> character <span class="keyword">in</span> <span class="string">"Dog"</span>.characters &#123;</span><br><span class="line">    <span class="built_in">print</span>(character)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>###3.5.2    å­—ç¬¦æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜å­—ç¬¦æ•°ç»„</span></span><br><span class="line"><span class="keyword">let</span> catCharacters: [<span class="type">Character</span>] = [<span class="string">"C"</span>, <span class="string">"a"</span>, <span class="string">"t"</span>]</span><br><span class="line"><span class="comment">// å°†å­—ç¬¦æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">let</span> catString = <span class="type">String</span>(catCharacters)</span><br><span class="line"><span class="built_in">print</span>(catString)<span class="comment">// "Cat"</span></span><br></pre></td></tr></table></figure>
<p>##3.6    è¿æ¥å­—ç¬¦ä¸²å’Œå­—ç¬¦</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸¤ç§æ–¹å¼</p>
<ul>
<li><code>+</code>ã€<code>+=</code>ï¼šå­—ç¬¦ä¸²æ‹¼æ¥</li>
<li><code>appendæ–¹æ³•</code><br>###appendæ–¹æ³•<br><strong>è¯´æ˜ï¼š</strong>å°†ä¸€ä¸ªå­—ç¬¦é™„åŠ åˆ°å­—ç¬¦ä¸²å˜é‡çš„å°¾éƒ¨<br><strong>åŸå‹ï¼š</strong><code>Stringç±»å®ä¾‹æ–¹æ³•</code></li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">/**</span><br><span class="line">&gt;* @param &#123;Character&#125; c å­—ç¬¦</span><br><span class="line">&gt;*/</span></span><br><span class="line">&gt;void append(<span class="built_in">c</span>: <span class="type">Character</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong>å‚æ•°åªèƒ½æ˜¯<code>Character</code>å¸¸é‡æˆ–å˜é‡ï¼Œä¸èƒ½æ˜¯å­—é¢é‡(å› ä¸ºå­˜åœ¨æ­§ä¹‰)</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str1 = <span class="string">"hello"</span></span><br><span class="line"><span class="keyword">let</span> str2 = <span class="string">" there"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//+</span></span><br><span class="line"><span class="keyword">var</span> welcome = str1 + str2<span class="comment">// hello there</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//+=</span></span><br><span class="line"><span class="keyword">var</span> instruction = <span class="string">"look over"</span></span><br><span class="line">instruction += str2<span class="comment">// look over there</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//append</span></span><br><span class="line"><span class="keyword">let</span> exclamationMark: <span class="type">Character</span> = <span class="string">"!"</span></span><br><span class="line">instruction.append(exclamationMark)</span><br></pre></td></tr></table></figure>
<p>##3.7    å­—ç¬¦ä¸²æ’å€¼</p>
<blockquote>
<p><strong>ç”¨é€”ï¼š</strong>æ„å»ºæ–°çš„å­—ç¬¦ä¸²ã€‚<br><strong>è¯­æ³•ï¼š</strong><code>\(è¡¨è¾¾å¼)</code></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> multiplier = <span class="number">3</span></span><br><span class="line"><span class="comment">// é€šè¿‡æ’å€¼æ„å»ºæ–°çš„å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">let</span> message = <span class="string">"\(multiplier) times 2.5 is \(Double(multiplier) * 2.5)"</span></span><br></pre></td></tr></table></figure>
<p>##3.8    Unicode</p>
<p>###3.8.1    Unicodeæ ‡é‡</p>
<blockquote>
<p><strong>Unicodeç ä½ï¼š</strong>æ ¼å¼ä¸º<code>U+[1åˆ°8ä½16è¿›åˆ¶æ•°å­—]</code></p>
<ul>
<li><strong>Unicodeæ ‡é‡ç ä½ï¼š</strong>æ˜¯å¯¹åº”å­—ç¬¦æˆ–è€…ä¿®é¥°ç¬¦çš„å”¯ä¸€çš„21ä½æ•°å­—ï¼Œæ¯ä¸ª<code>Unicodeæ ‡é‡</code>éƒ½å¯¹åº”ç€ä¸€ä¸ª<code>Unicodeç ä½</code>ï¼Œä½†åè¿‡æ¥ä¸æˆç«‹ã€‚</li>
<li><strong>Unicodeä»£ç†é¡¹ç ä½ï¼š</strong>Unicodeç ä½ä¸­ä¸å±äºUnicodeæ ‡é‡çš„éƒ¨åˆ†ã€‚</li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th>U+0000~U+D7FF</th>
<th>U+D800~U+DFFF</th>
<th>U+E000~U+10FFF</th>
</tr>
</thead>
<tbody>
<tr>
<td>Unicodeæ ‡é‡</td>
<td>unicodeä»£ç†é¡¹</td>
<td>Unicodeæ ‡é‡</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>åº”ç”¨ï¼š</strong>Swiftçš„<code>String</code>ç±»å‹æ˜¯åŸºäºUnicodeæ ‡é‡å»ºç«‹çš„ã€‚</p>
</blockquote>
<p>###3.8.2    å­—ç¬¦ä¸²å­—é¢é‡çš„ç‰¹æ®Šå­—ç¬¦</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ†ä¸¤ç±»</p>
<ul>
<li>è½¬ä¹‰å­—ç¬¦</li>
<li>Unicodeæ ‡é‡</li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th>ç‰¹æ®Šå­—ç¬¦</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>\0</code></td>
<td>ç©ºå­—ç¬¦</td>
</tr>
<tr>
<td><code>\\</code></td>
<td>åæ–œçº¿</td>
</tr>
<tr>
<td><code>\t</code></td>
<td>æ°´å¹³åˆ¶è¡¨ç¬¦</td>
</tr>
<tr>
<td><code>\n</code></td>
<td>æ¢è¡Œç¬¦</td>
</tr>
<tr>
<td><code>\r</code></td>
<td>å›è½¦ç¬¦</td>
</tr>
<tr>
<td><code>\&quot;</code></td>
<td>åŒå¼•å·</td>
</tr>
<tr>
<td><code>\&#39;</code></td>
<td>å•å¼•å·</td>
</tr>
<tr>
<td><code>\u{1åˆ°8ä½16è¿›åˆ¶æ•°}</code></td>
<td>Unicodeæ ‡é‡</td>
</tr>
</tbody>
</table>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// \"</span></span><br><span class="line"><span class="keyword">let</span> wiseWords = <span class="string">"\"Imagination is more importent than knowledge\" - Einstein"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Unocodeæ ‡é‡</span></span><br><span class="line"><span class="keyword">let</span> dollarSign = <span class="string">"\u&#123;24&#125;"</span></span><br></pre></td></tr></table></figure>
<p>###3.8.3    å¯æ‰©å±•çš„å­—å½¢ç¾¤é›†</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æœ‰äº›å­—ç¬¦ç”±å¤šä¸ªéƒ¨åˆ†ç»„æˆï¼Œæ¯ä¸ªéƒ¨åˆ†éƒ½å¯ä»¥ç”¨ä¸€ä¸ªUnicodeæ ‡é‡è¡¨ç¤ºã€‚ç»„åˆèµ·æ¥å°±å½¢æˆäº†ä¸€ä¸ªæ–°å­—ç¬¦ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Ã©</span></span><br><span class="line"><span class="keyword">let</span> eAcute: <span class="type">Character</span> = <span class="string">"\u&#123;E9&#125;"</span><span class="comment">// Ã©</span></span><br><span class="line"><span class="keyword">let</span> combinedEAcute: <span class="type">Character</span> = <span class="string">"\u&#123;65&#125;\u&#123;301&#125;"</span><span class="comment">// Ã©</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// í•œ</span></span><br><span class="line"><span class="keyword">let</span> precomposed: <span class="type">Character</span> = <span class="string">"\u&#123;D55C&#125;"</span><span class="comment">// í•œ</span></span><br><span class="line"><span class="keyword">let</span> decomposed: <span class="type">Character</span> = <span class="string">"\u&#123;1112&#125;\u&#123;1161&#125;\u&#123;11AB&#125;"</span><span class="comment">// í•œ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Ã©âƒ</span></span><br><span class="line"><span class="keyword">let</span> encosedEAcute: <span class="type">Character</span> = <span class="string">"\u&#123;E9&#125;\u&#123;20DD&#125;"</span><span class="comment">// Ã©âƒ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ğŸ‡ºğŸ‡¸</span></span><br><span class="line"><span class="keyword">let</span> regionalIndicatorForUS: <span class="type">Character</span> = <span class="string">"\u&#123;1F1FA&#125;\u&#123;1F1F8&#125;"</span><span class="comment">// ğŸ‡ºğŸ‡¸</span></span><br></pre></td></tr></table></figure>
<p>##3.9    è®¡ç®—å­—ç¬¦æ•°é‡</p>
<p>###characters.countå±æ€§</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>String</code>ç±»å®ä¾‹æˆå‘˜<code>characters</code>æä¾›çš„è®°å½•å­—ç¬¦æ€»æ•°çš„å±æ€§ã€‚<br><strong>æ€§èƒ½é—®é¢˜ï¼š</strong>å­—ç¬¦ä¸²ä¸­å¯èƒ½åŒ…å«å¯æ‰©å±•å­—ç¬¦ç¾¤ï¼Œåªæœ‰éå†<code>Unicode</code>æ ‡é‡ç¡®å®šå­—ç¬¦ç¾¤è¡¨ç¤ºçš„å­—ç¬¦åæ‰èƒ½ç¡®å®šå­—ç¬¦ä¸²çš„é•¿åº¦<br><strong>æ‰©å±•ï¼š</strong><code>NSString</code>çš„<code>length</code>å±æ€§ä¸åŒäºswiftçš„<code>String</code>çš„<code>count</code>å±æ€§ã€‚å‰è€…åˆ©ç”¨<code>UTF-16</code>è¡¨ç¤ºçš„16ä½ä»£ç å•å…ƒæ•°å­—ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> unusualMenagerie = <span class="string">"Koala, Snail, Penguin, Dromedary"</span></span><br><span class="line"><span class="comment">// è·å¾—å­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„æ•°é‡</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"unusualMenagerie has \(unusualMenagerie.characters.count)"</span>)<span class="comment">// 32</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨å¯æ‰©å±•çš„ç¾¤ç»„ä½œä¸ºCharacteræ‹¼æ¥åˆ°å­—ç¬¦ä¸²æ—¶ï¼Œå­—ç¬¦ä¸²çš„å­—ç¬¦æ•°é‡å¹¶ä¸ä¸€å®šä¼šæ”¹å˜</span></span><br><span class="line"><span class="keyword">var</span> word = <span class="string">"cafe"</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"the number of characters in \(word) is \(word.characters.count)"</span>)<span class="comment">// 4</span></span><br><span class="line"></span><br><span class="line">word += <span class="string">"\u&#123;301&#125;"</span><span class="comment">// cafÃ©</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"the number of characters in \(word) is \(word.characters.count)"</span>)<span class="comment">// 4</span></span><br></pre></td></tr></table></figure>
<p>##3.10    è®¿é—®å’Œä¿®æ”¹å­—ç¬¦ä¸²</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸¤ç§æ–¹å¼</p>
<ul>
<li>å­—ç¬¦ä¸²çš„å±æ€§å’Œæ–¹æ³•</li>
<li>ä¸‹æ ‡è¯­æ³•<br>###3.10.1    å­—ç¬¦ä¸²ç´¢å¼•<br>####ç›¸å…³å±æ€§(2ä¸ª)</li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th>å­—ç¬¦ä¸²å®ä¾‹å±æ€§</th>
<th>è¯´æ˜</th>
<th>ç©ºå­—ç¬¦ä¸²ç›¸åº”å±æ€§å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td>startIndex</td>
<td>ç¬¬ä¸€ä¸ª<code>Character</code>çš„ä¸‹æ ‡</td>
<td>0</td>
</tr>
<tr>
<td>endIndex</td>
<td>æœ€åä¸€ä¸ª<code>Character</code>çš„ä¸‹æ ‡ + 1</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>####predecessoræ–¹æ³•</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šè¿‡å½“å‰ä¸‹æ ‡è·å¾—å‰ä¸€ä¸ªä¸‹æ ‡<br><strong>åŸå‹ï¼š</strong><code>Indexç±»å‹çš„æˆå‘˜æ–¹æ³•</code></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">/**</span><br><span class="line">&gt;* @return  &#123;String.CharacterView.Index&#125; ä¸‹æ ‡ç´¢å¼•</span><br><span class="line">&gt;*/</span></span><br><span class="line">&gt;<span class="function"><span class="keyword">func</span> <span class="title">predecessor</span> -&gt; <span class="title">String</span>.<span class="title">CharacterView</span>.<span class="title">Index</span></span></span><br></pre></td></tr></table></figure>
<p>####successoræ–¹æ³•</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šè¿‡å½“å‰ç´¢å¼•è·å¾—åé¢ä¸€ä¸ªç´¢å¼•ã€‚<br><strong>åŸå‹ï¼š</strong><code>Indexç±»å‹çš„æˆå‘˜æ–¹æ³•</code></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">/**</span><br><span class="line">&gt;* @return  &#123;String.CharacterView.Index&#125; ä¸‹æ ‡ç´¢å¼•</span><br><span class="line">&gt;*/</span></span><br><span class="line">&gt;<span class="function"><span class="keyword">func</span> <span class="title">successor</span> -&gt; <span class="title">String</span>.<span class="title">CharacterView</span>.<span class="title">Index</span></span></span><br></pre></td></tr></table></figure>
<p>####indiceså±æ€§</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åŒ…å«å…¨éƒ¨ç´¢å¼•çš„<code>Range</code><br><strong>ç±»å‹ï¼š</strong><code>Range &lt;Index&gt;</code><br><strong>åŸå‹ï¼š</strong><code>String&gt;charactersçš„æˆå‘˜å±æ€§</code></p>
</blockquote>
<p>####advancedByæ–¹æ³•</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä»¥å½“å‰ä½ç½®ä¸ºå‚ç…§ï¼Œè·å¾—ç›¸éš”æŒ‡å®šæ•°é‡ä¸ªä¸‹æ ‡çš„ä½ç½®å¤„çš„ä¸‹æ ‡ã€‚<br><strong>åŸå‹ï¼š</strong><code>String.CharacterView.Indexç±»å‹çš„æˆå‘˜æ–¹æ³•</code></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">/**</span><br><span class="line">&gt;* @param &#123;Int&#125; n è·ç¦»ï¼ˆæ­£æ•°ä»£è¡¨å‘å³ç§»åŠ¨ï¼Œè´Ÿæ•°ä»£è¡¨å‘å·¦ç§»åŠ¨ï¼‰</span><br><span class="line">&gt;* @return &#123;Index&#125; ä¸‹æ ‡</span><br><span class="line">&gt;*/</span></span><br><span class="line">&gt;<span class="function"><span class="keyword">func</span> <span class="title">advancedBy</span><span class="params">(n: Int)</span></span> -&gt; <span class="type">String</span>.<span class="type">CharacterView</span>.<span class="type">Index</span></span><br></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> greeting = <span class="string">"Gunten Tag!"</span></span><br><span class="line"><span class="comment">// è®¿é—®ç¬¬ä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line">greeting[greeting.startIndex]<span class="comment">// G</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¿é—®æœ€åä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line">greeting[greeting.endIndex.predecessor()]<span class="comment">// !</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¿é—®ç¬¬äºŒä¸ªå­—ç¬¦</span></span><br><span class="line">greeting[greeting.startIndex.successor()]<span class="comment">// u</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¿é—®æœ€åä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line">greeting[greeting.endIndex.advancedBy(-<span class="number">1</span>)] <span class="comment">// !</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// indiceså±æ€§</span></span><br><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> greeting.characters.<span class="built_in">indices</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"\(greeting[index])"</span>, terminator: <span class="string">""</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>###3.10.2    æ’å…¥å’Œåˆ é™¤</p>
<p>####insertå‡½æ•°</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²çš„æŒ‡å®šç´¢å¼•æ’å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚<br><strong>åŸå‹ï¼š</strong><code>Stringç±»å‹çš„å®ä¾‹æ–¹æ³•</code></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">/**</span><br><span class="line">&gt;* @param &#123;Character&#125; newElement è¦æ’å…¥çš„å­—ç¬¦</span><br><span class="line">&gt;* @param &#123;Index&#125; atIndex æ’å…¥çš„ä½ç½®</span><br><span class="line">&gt;*/</span></span><br><span class="line">&gt;<span class="function"><span class="keyword">func</span> <span class="title">insert</span><span class="params">(newElement: Character, atIndex: Index)</span></span> -&gt; void</span><br></pre></td></tr></table></figure>
<p>####insertContentsOfå‡½æ•°</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²çš„æŒ‡å®šç´¢å¼•æ’å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚<br><strong>åŸå‹ï¼š</strong><code>Stringç±»å‹çš„å®ä¾‹æ–¹æ³•</code></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">/**</span><br><span class="line">&gt;* @param &#123;CollectionType&#125; newElements æ’å…¥çš„é›†åˆ</span><br><span class="line">&gt;* @param &#123;Index&#125; at æ’å…¥ä½ç½®</span><br><span class="line">&gt;*/</span></span><br><span class="line">&gt;<span class="function"><span class="keyword">func</span> <span class="title">insertContentsOf</span><span class="params">(newElements: CollectionType, at: Index)</span></span> -&gt; void</span><br></pre></td></tr></table></figure>
<p>####removeAtIndexå‡½æ•°</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„æŒ‡å®šç´¢å¼•åˆ é™¤ä¸€ä¸ªå­—ç¬¦<br><strong>åŸå‹ï¼š</strong><code>Stringç±»å‹çš„å®ä¾‹æ–¹æ³•</code></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">/**</span><br><span class="line">&gt;* @param  &#123;Index&#125; i è¦åˆ é™¤çš„å­—ç¬¦å¯¹åº”çš„ç´¢å¼•</span><br><span class="line">&gt;* @return &#123;Character&#125; åˆ é™¤çš„å­—ç¬¦</span><br><span class="line">&gt;*/</span></span><br><span class="line">&gt;<span class="function"><span class="keyword">func</span> <span class="title">removeAtIndex</span><span class="params">(i: Index)</span></span> -&gt; <span class="type">Character</span></span><br></pre></td></tr></table></figure>
<p>####removeRangeå‡½æ•°</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²çš„æŒ‡å®šç´¢å¼•åˆ é™¤ä¸€ä¸ªå­—ä¸²<br><strong>åŸå‹ï¼š</strong><code>Stringç±»å‹çš„å®ä¾‹æ–¹æ³•</code></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="function"><span class="keyword">func</span> <span class="title">removeRange</span><span class="params">(subRange: Range&lt;Index&gt;)</span></span> -&gt; void</span><br></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> welcome = <span class="string">"hello"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨å­—ç¬¦ä¸²å°¾éƒ¨æ’å…¥ä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line">welcome.insert(<span class="string">"!"</span>, atIndex: welcome.endIndex)<span class="comment">// hello</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨å­—ç¬¦ä¸²å€’æ•°ç¬¬äºŒä¸ªä½ç½®æ’å…¥å¦ä¸€ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line">welcome.insertContentsOf(<span class="string">" there"</span>.characters, at: welcome.endIndex.predecessor())<span class="comment">// hello!</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤æŒ‡å®šç´¢å¼•å¤„çš„å­—ç¬¦</span></span><br><span class="line">welcome.removeAtIndex(welcome.endIndex.predecessor())<span class="comment">// hello there!</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤å­ä¸²</span></span><br><span class="line"><span class="keyword">let</span> range = welcome.endIndex.advancedBy(-<span class="number">6</span>)..&lt;welcome.endIndex<span class="comment">// 5..&lt;11</span></span><br><span class="line">welcome.removeRange(range)<span class="comment">// hello</span></span><br></pre></td></tr></table></figure>
<p>##3.11    æ¯”è¾ƒå­—ç¬¦ä¸²</p>
<p>###3.11.1    å­—ç¬¦ä¸²/å­—ç¬¦ç›¸ç­‰</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä½¿ç”¨<code>!=</code>å’Œ<code>==</code></p>
<ul>
<li>å¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²ï¼ˆæˆ–å­—ç¬¦ï¼‰çš„å¯æ‰©å±•å­—å½¢ç¾¤é›†æ˜¯æ ‡å‡†ç›¸ç­‰ï¼ˆUnicodeæ ‡é‡ä¸åŒï¼Œè¯­è¨€å¤–è§‚ç›¸åŒï¼‰çš„ï¼Œé‚£å°±è®¤ä¸ºå®ƒä»¬æ˜¯ç›¸ç­‰çš„</li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ¯”è¾ƒæ™®é€šä¸¤ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">let</span> quotation = <span class="string">"we're a lot alike, you and I."</span></span><br><span class="line"><span class="keyword">let</span> sameQuotation = <span class="string">"we're a lot alike, you and I."</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> quotation == sameQuotation &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"There two strings are considered equal"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¯”è¾ƒä¸¤ä¸ªUnicodeæ ‡é‡ä¸åŒä½†å¤–è§‚ç›¸åŒçš„å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">let</span> eAcuteQuestion = <span class="string">"Voulez-vous un caf\u&#123;E9&#125;?"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> combinedEAcuteQuestion = <span class="string">"Voulez-vous uncaf\u&#123;65&#125;\u&#123;301&#125;?"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> eAcuteQuestion == combinedEAcuteQuestion &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"These twostrings are considered equal"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>###33.11.2        å‰ç¼€/åç¼€ç›¸ç­‰</p>
<p>####hasPrefixå‡½æ•°</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«æŸç§å‰ç¼€ã€‚<br><strong>åŸå‹ï¼š</strong><code>Stringç±»å‹çš„å®ä¾‹æ–¹æ³•</code></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">/**</span><br><span class="line">&gt;* @param &#123;String&#125; prefix å‰ç¼€</span><br><span class="line">&gt;* @return &#123;Boolean&#125; true : åŒ…å«å‰ç¼€ï¼›false : ä¸åŒ…å«å‰ç¼€</span><br><span class="line">&gt;*/</span></span><br><span class="line">&gt;<span class="function"><span class="keyword">func</span> <span class="title">hasPrefix</span><span class="params">(<span class="keyword">prefix</span>: String)</span></span> -&gt; <span class="type">Boolean</span></span><br></pre></td></tr></table></figure>
<p>####hasSuffixå‡½æ•°</p>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«æŸç§åç¼€ã€‚<br><strong>åŸå‹ï¼š</strong><code>Stringç±»å‹çš„å®ä¾‹æ–¹æ³•</code></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">/**</span><br><span class="line">&gt;* @param &#123;String&#125; suffix å‰ç¼€</span><br><span class="line">&gt;* @return &#123;Boolean&#125; true : åŒ…å«åç¼€ï¼›false : ä¸åŒ…å«åç¼€</span><br><span class="line">&gt;*/</span></span><br><span class="line">&gt;<span class="function"><span class="keyword">func</span> <span class="title">hasSuffix</span><span class="params">(<span class="keyword">prefix</span>: String)</span></span> -&gt; <span class="type">Boolean</span></span><br></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœºæ™¯ä½ç½®</span></span><br><span class="line"><span class="keyword">let</span> romeoAndJuliet = [</span><br><span class="line">    <span class="string">"Act 1 Scene 1: Verona, A public place"</span>,</span><br><span class="line">    <span class="string">"Act 1 Scene 2: Capulet's mansion"</span>,</span><br><span class="line">    <span class="string">"Act 1 Scene 3: A room in Capulet's room"</span>,</span><br><span class="line">    <span class="string">"Act 2 Scene 1: Outside Capulet's mansion"</span>,</span><br><span class="line">    <span class="string">"Act 2 Scene 2: Capulet's orchard"</span>,</span><br><span class="line">    <span class="string">"Act 2 Scene 3: Ouside Friar Lawrence's cell"</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> act1SceneCount = <span class="number">0</span><span class="comment">// åœºæ™¯ä¸€æ•°é‡</span></span><br><span class="line"><span class="comment">// æ ¹æ®å‰ç¼€åˆ é€‰æ•°æ®é¡¹</span></span><br><span class="line"><span class="keyword">for</span> scene <span class="keyword">in</span> romeoAndJuliet &#123;</span><br><span class="line">    <span class="keyword">if</span> scene.hasPrefix(<span class="string">"Act 1 "</span>) &#123;</span><br><span class="line">        ++act1SceneCount</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"There are \(act1SceneCount) scenes in Act 1"</span>)</span><br></pre></td></tr></table></figure>
<p>##3.12    å­—ç¬¦ä¸²çš„Unicodeè¡¨ç¤ºå½¢å¼</p>
<blockquote>
<p><strong>ç¼–ç æ–¹å¼å’Œå­—ç¬¦é›†ï¼š</strong>äº‹å®ä¸Šï¼Œè®¡ç®—æœºå­˜å‚¨ä»»ä½•æ•°æ®ï¼ˆåŒ…æ‹¬æ–‡æœ¬æ–‡ä»¶ï¼‰éƒ½æ˜¯ä»¥<code>äºŒè¿›åˆ¶æ–¹å¼</code>å­˜å‚¨çš„ï¼Œä½†å­—ç¬¦å¦‚ä½•å¯¹åº”åˆ°äºŒè¿›åˆ¶æ•°æ®ï¼Œæˆ–è€…è¯´äºŒè¿›åˆ¶æ•°æ®å¦‚ä½•è§£è¯»æˆå­—ç¬¦æ˜¯ç”±<code>ç¼–ç æ–¹å¼</code>å’Œ<code>å­—ç¬¦é›†</code>å†³å®šçš„ã€‚æ¯ç§<code>å­—ç¬¦é›†</code>éƒ½å¯¹åº”ä¸€ç§æˆ–å¤šç§<code>ç¼–ç æ–¹å¼</code>ã€‚<br><strong>è¯´æ˜ï¼š</strong>å½“å­—ç¬¦ä¸²è¢«ä¿å­˜åˆ°æ–‡æœ¬æ–‡ä»¶æ—¶ï¼Œä¼šæŒ‰ç…§æŸç§ç¼–ç æ–¹å¼å­˜å‚¨ã€‚è€ŒUnicodeæ ‡é‡å¯¹åº”çš„ç¼–ç æ–¹å¼åŒ…æ‹¬ä»¥ä¸‹ä¸‰ç§ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>Unicodeå­—ç¬¦é›†å¯¹åº”çš„ç¼–ç æ–¹å¼</th>
<th>ä»£ç å•å…ƒå¤§å°ï¼ˆbitï¼‰</th>
<th>å¯¹åº”çš„Stringçš„æˆå‘˜å±æ€§</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>UTF-8</strong></td>
<td>8</td>
<td>utf8</td>
</tr>
<tr>
<td><strong>UTF-16</strong></td>
<td>16</td>
<td>utf16</td>
</tr>
<tr>
<td><strong>UTF-32(Unicodeæ ‡é‡é›†åˆ)</strong></td>
<td>32</td>
<td>unicodeScalars</td>
</tr>
</tbody>
</table>
<p>###ä¸¾ä¸ªä¾‹å­ï¼š<code>Dogâ€¼ğŸ¶</code></p>
<table>
<thead>
<tr>
<th>code unit(åè¿›åˆ¶)</th>
<th>D</th>
<th>o</th>
<th>g</th>
<th>!!</th>
<th>ğŸ¶</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>UTF-8ç¼–ç </strong></td>
<td>68</td>
<td>111</td>
<td>103</td>
<td>226 128 188</td>
<td>240 159 144 182</td>
</tr>
<tr>
<td><strong>UTF-16ç¼–ç </strong></td>
<td>68</td>
<td>111</td>
<td>103</td>
<td>8252</td>
<td>55357 56374</td>
</tr>
<tr>
<td><strong>UTF-32(Unicodeæ ‡é‡)</strong></td>
<td>68</td>
<td>111</td>
<td>103</td>
<td>8252</td>
<td>128054</td>
</tr>
</tbody>
</table>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/TSPL2_02  åŸºæœ¬è¿ç®—ç¬¦/" itemprop="url">
                  2 åŸºæœ¬è¿ç®—ç¬¦
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T19:32:24+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/TSPL2_02  åŸºæœ¬è¿ç®—ç¬¦/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/TSPL2_02  åŸºæœ¬è¿ç®—ç¬¦/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <table>
<thead>
<tr>
<th>åŸºæœ¬è¿ç®—</th>
<th>æ­£è´Ÿ</th>
<th>è‡ªåŠ /å‡</th>
<th>è‡ªè¿”è¿ç®—</th>
</tr>
</thead>
<tbody>
<tr>
<td>a+b</td>
<td>+a</td>
<td>a++/++a</td>
<td>a+=b</td>
</tr>
<tr>
<td>a-b</td>
<td>-b</td>
<td><code>b--/--b</code></td>
<td>a-=b</td>
</tr>
<tr>
<td>a*b</td>
<td></td>
<td></td>
<td>a*=b</td>
</tr>
<tr>
<td>a/b</td>
<td></td>
<td></td>
<td>a/=b</td>
</tr>
<tr>
<td>a%b</td>
<td></td>
<td></td>
<td>a%=b</td>
</tr>
</tbody>
</table>
<p>[toc]</p>
<h2 id="2-1-æœ¯è¯­"><a href="#2-1-æœ¯è¯­" class="headerlink" title="2.1    æœ¯è¯­"></a>2.1    æœ¯è¯­</h2><ul>
<li>è¿ç®—ç¬¦</li>
</ul>
<table>
<thead>
<tr>
<th>æŒ‰ç…§æ“ä½œæ•°æ•°é‡åˆ†ç±»</th>
<th>è¯´æ˜</th>
<th>ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>ä¸€å…ƒè¿ç®—ç¬¦</td>
<td>åˆ†ä¸ºå‰å€¼è¿ç®—ç¬¦å’Œåå€¼è¿ç®—ç¬¦</td>
<td><code>!</code>ã€<code>++</code>ã€<code>--</code>ç­‰</td>
</tr>
<tr>
<td>äºŒå…ƒè¿ç®—ç¬¦</td>
<td>åœ¨ä¸¤ä¸ªæ“ä½œæ•°ä¹‹é—´</td>
<td>å¤§éƒ¨åˆ†è¿ç®—ç¬¦éƒ½å±äºäºŒå…ƒè¿ç®—ç¬¦</td>
</tr>
<tr>
<td>ä¸‰å…ƒè¿ç®—ç¬¦</td>
<td>å’ŒCè¯­è¨€ä¸€æ ·åªæœ‰ä¸€ä¸ªä¸‰ç›®è¿ç®—ç¬¦</td>
<td><code>a ? b : c</code></td>
</tr>
</tbody>
</table>
<ul>
<li>æ“ä½œæ•°ï¼šå—è¿ç®—å½±å“çš„å€¼å«åšæ“ä½œæ•°</li>
</ul>
<h2 id="2-2-èµ‹å€¼è¿ç®—ç¬¦"><a href="#2-2-èµ‹å€¼è¿ç®—ç¬¦" class="headerlink" title="2.2    èµ‹å€¼è¿ç®—ç¬¦"></a>2.2    èµ‹å€¼è¿ç®—ç¬¦</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç”¨æ¥è·Ÿæ–°æˆ–åˆå§‹åŒ–å˜é‡æˆ–å¸¸é‡ã€‚</p>
<ul>
<li>å³è¾¹å¦‚æœæ˜¯å…ƒç»„ï¼Œä¼šè¢«åˆ†è§£æˆå¤šä¸ªå¸¸é‡æˆ–å˜é‡</li>
<li>ä¸è¿”å›å€¼ï¼ˆä¸åŒäºcå’Œo-cï¼‰</li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> (x, y) = (<span class="number">1</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<h2 id="2-3-ç®—æœ¯è¿ç®—ç¬¦"><a href="#2-3-ç®—æœ¯è¿ç®—ç¬¦" class="headerlink" title="2.3    ç®—æœ¯è¿ç®—ç¬¦"></a>2.3    ç®—æœ¯è¿ç®—ç¬¦</h2><h3 id="2-3-1-å››åˆ™è¿ç®—"><a href="#2-3-1-å››åˆ™è¿ç®—" class="headerlink" title="2.3.1    å››åˆ™è¿ç®—"></a>2.3.1    å››åˆ™è¿ç®—</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å…¶ä¸­<code>+</code>å…è®¸æ“ä½œæ•°ä¸ºå­—ç¬¦ä¸²ï¼Œæ­¤æ—¶ä¸å†æ˜¯å››åˆ™è¿ç®—ä¸­çš„åŠ æ³•è¿ç®—ï¼Œè€Œæ˜¯ç”¨æ¥æ‹¼æ¥å­—ç¬¦ä¸²ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>å››åˆ™è¿ç®—ç¬¦</th>
<th>è¯´æ˜</th>
<th>æ“ä½œæ•°ç±»å‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>åŠ æ³•æˆ–è¿æ¥ç¬¦</td>
<td>æ•°å€¼ç±»å‹æˆ–å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>-</td>
<td>å‡æ³•</td>
<td>æ•°å€¼ç±»å‹</td>
</tr>
<tr>
<td>*</td>
<td>ä¹˜æ³•</td>
<td>æ•°å€¼ç±»å‹</td>
</tr>
<tr>
<td>/</td>
<td>é™¤æ³•</td>
<td>æ•°å€¼ç±»å‹ï¼ˆä¸¤ä¸ªæ“ä½œæ•°éƒ½æ˜¯æ•´æ•°åˆ™ç»“æœå–æ•´(<code>Int</code>)ï¼Œå¦åˆ™ä¸º<code>Double</code>ï¼‰</td>
</tr>
</tbody>
</table>
<h3 id="2-3-2-æ±‚ä½™è¿ç®—ç¬¦"><a href="#2-3-2-æ±‚ä½™è¿ç®—ç¬¦" class="headerlink" title="2.3.2    æ±‚ä½™è¿ç®—ç¬¦"></a>2.3.2    æ±‚ä½™è¿ç®—ç¬¦</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨å…¶å®ƒè¯­è¨€ä¸­ä¹Ÿå«åšå–è†œè¿ç®—ã€‚<br><strong>è§„åˆ™ï¼š</strong><code>ä½™æ•° = a % b</code>ï¼Œå…¶ä¸­<code>a = (|b| x å€æ•°) + ä½™æ•°</code></p>
<ul>
<li><code>b</code>çš„ç¬¦å·å°†ä¼šè¢«å¿½ç•¥ï¼Œä¹Ÿå°±æ˜¯è¯´ <code>a % b</code>å’Œ<code>a % -b</code>ç›¸åŒ</li>
</ul>
</blockquote>
<h3 id="2-3-3-æµ®ç‚¹æ•°æ±‚ä½™è¿ç®—"><a href="#2-3-3-æµ®ç‚¹æ•°æ±‚ä½™è¿ç®—" class="headerlink" title="2.3.3    æµ®ç‚¹æ•°æ±‚ä½™è¿ç®—"></a>2.3.3    æµ®ç‚¹æ•°æ±‚ä½™è¿ç®—</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸åŒäº<code>c</code>å’Œ<code>o-c</code>ï¼Œ<code>Swift</code>ä¸­å¯ä»¥å¯¹æµ®ç‚¹æ•°è¿›è¡Œæ±‚ä½™ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">8</span> % <span class="number">2.5</span><span class="comment">// 0.5</span></span><br></pre></td></tr></table></figure>
<h3 id="2-3-4-è‡ªå¢å’Œè‡ªå‡è¿ç®—"><a href="#2-3-4-è‡ªå¢å’Œè‡ªå‡è¿ç®—" class="headerlink" title="2.3.4    è‡ªå¢å’Œè‡ªå‡è¿ç®—"></a>2.3.4    è‡ªå¢å’Œè‡ªå‡è¿ç®—</h3><blockquote>
<p><strong>æ“ä½œå¯¹è±¡ï¼š</strong>æ•´å‹å’Œæµ®ç‚¹å‹<br><strong>æŠ€å·§ï¼š</strong>å…ˆä¿®æ”¹åè¿”å›æ›´ç¬¦åˆæˆ‘ä»¬çš„é€»è¾‘ï¼Œå› æ­¤é™¤ééœ€è¦<code>i++ï¼ˆi--ï¼‰</code>çš„ç‰¹æ€§ï¼Œå¦åˆ™æ¨èä½¿ç”¨<code>++i(--i)</code></p>
</blockquote>
<table>
<thead>
<tr>
<th>ç›¸å¯¹æ“ä½œæ•°çš„ä½ç½®</th>
<th>è‡ªå¢</th>
<th>è‡ªå‡</th>
<th>è¿”å›å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td>å‰ç½®</td>
<td><code>++i</code></td>
<td><code>--i</code></td>
<td>å…ˆè‡ªå¢ï¼Œåè¿”å›</td>
</tr>
<tr>
<td>åç½®</td>
<td><code>i++</code></td>
<td><code>i++</code></td>
<td>å…ˆè¿”å›ï¼Œåè‡ªå¢</td>
</tr>
</tbody>
</table>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">0</span></span><br><span class="line"><span class="keyword">let</span> b = ++a<span class="comment">// a 1, b 1</span></span><br><span class="line"><span class="keyword">let</span> <span class="built_in">c</span> = a++<span class="comment">// a 2, c 1</span></span><br></pre></td></tr></table></figure>
<h3 id="2-3-5-ä¸€å…ƒè´Ÿå·è¿ç®—ç¬¦"><a href="#2-3-5-ä¸€å…ƒè´Ÿå·è¿ç®—ç¬¦" class="headerlink" title="2.3.5    ä¸€å…ƒè´Ÿå·è¿ç®—ç¬¦"></a>2.3.5    ä¸€å…ƒè´Ÿå·è¿ç®—ç¬¦</h3><blockquote>
<p><strong>ç¬¦å·ï¼š</strong><code>-</code><br><strong>è¯´æ˜ï¼š</strong>å†™åœ¨æ“ä½œæ•°ä¹‹å‰ï¼Œä¸­é—´æ²¡æœ‰ç©ºæ ¼</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> three = <span class="number">3</span></span><br><span class="line"><span class="keyword">let</span> minusThree = -three</span><br><span class="line"><span class="keyword">let</span> plusThree = -minusThree</span><br></pre></td></tr></table></figure>
<h3 id="2-3-6-ä¸€å…ƒæ­£å·è¿ç®—ç¬¦"><a href="#2-3-6-ä¸€å…ƒæ­£å·è¿ç®—ç¬¦" class="headerlink" title="2.3.6    ä¸€å…ƒæ­£å·è¿ç®—ç¬¦"></a>2.3.6    ä¸€å…ƒæ­£å·è¿ç®—ç¬¦</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸åšä»»ä½•æ”¹å˜åœ°è¿”å›æ“ä½œæ•°çš„å€¼<br><strong>ç”¨é€”ï¼š</strong>å’Œè´Ÿæ•°ä¸€èµ·ä½¿ç”¨æ—¶ä¸ºæ•´æ•°æ·»åŠ <code>+</code>ç¬¦å·ä½¿ä»£ç çœ‹èµ·æ¥æ›´åŠ å¯¹ç§°ã€‚</p>
</blockquote>
<h2 id="2-4-å¤åˆèµ‹å€¼"><a href="#2-4-å¤åˆèµ‹å€¼" class="headerlink" title="2.4    å¤åˆèµ‹å€¼"></a>2.4    å¤åˆèµ‹å€¼</h2><table>
<thead>
<tr>
<th>è‡ªè¿”è¿ç®—(å¤åˆèµ‹å€¼)</th>
</tr>
</thead>
<tbody>
<tr>
<td>a+=2</td>
</tr>
<tr>
<td>a-=2</td>
</tr>
<tr>
<td>a*=2</td>
</tr>
<tr>
<td>a/=2</td>
</tr>
<tr>
<td>a%=2</td>
</tr>
</tbody>
</table>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span></span><br><span class="line">a += <span class="number">2</span><span class="comment">// a 3</span></span><br></pre></td></tr></table></figure>
<h2 id="2-5-æ¯”è¾ƒè¿ç®—ç¬¦"><a href="#2-5-æ¯”è¾ƒè¿ç®—ç¬¦" class="headerlink" title="2.5    æ¯”è¾ƒè¿ç®—ç¬¦"></a>2.5    æ¯”è¾ƒè¿ç®—ç¬¦</h2><blockquote>
<p><strong>åº”ç”¨ï¼š</strong>å¤šç”¨äº<code>if</code>è¯­å¥</p>
</blockquote>
<table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>a == b</td>
<td>ç­‰äº</td>
</tr>
<tr>
<td>a != b</td>
<td>ä¸ç­‰äº</td>
</tr>
<tr>
<td>a &gt; b</td>
<td>å¤§äº</td>
</tr>
<tr>
<td>a &lt; b</td>
<td>å°äº</td>
</tr>
<tr>
<td>a === b</td>
<td>ä¸¤ä¸ªå¼•ç”¨æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡å®ä¾‹</td>
</tr>
<tr>
<td>a !== b</td>
<td>ä¸¤ä¸ªå¼•ç”¨ä¸æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡å®ä¾‹</td>
</tr>
</tbody>
</table>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">"word"</span></span><br><span class="line"><span class="keyword">if</span> name == <span class="string">"wword"</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"hello world"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"I'm sorry \(name), but I don't recognize you"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-6-ä¸‰ç›®è¿ç®—ç¬¦"><a href="#2-6-ä¸‰ç›®è¿ç®—ç¬¦" class="headerlink" title="2.6    ä¸‰ç›®è¿ç®—ç¬¦"></a>2.6    ä¸‰ç›®è¿ç®—ç¬¦</h2><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>é—®é¢˜ ? ç­”æ¡ˆ1 : ç­”æ¡ˆ2</code><br><strong>æŠ€å·§ï¼š</strong>è¿‡åº¦ä½¿ç”¨ä¸‰ç›®è¿ç®—ç¬¦ä¼šä½¿ç®€æ´çš„ä»£ç å˜å¾—éš¾æ‡‚ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> contentHeight = <span class="number">40</span></span><br><span class="line"><span class="keyword">let</span> hasHeader = <span class="literal">true</span></span><br><span class="line"><span class="keyword">let</span> rowHeight = contentHeight + (hasHeader ? <span class="number">50</span> : <span class="number">20</span>)</span><br></pre></td></tr></table></figure>
<h2 id="2-7-ç©ºåˆè¿ç®—ç¬¦"><a href="#2-7-ç©ºåˆè¿ç®—ç¬¦" class="headerlink" title="2.7    ç©ºåˆè¿ç®—ç¬¦"></a>2.7    ç©ºåˆè¿ç®—ç¬¦</h2><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>a ?? b</code><br><strong>è¯´æ˜ï¼š</strong>å¯¹å¯é€‰ç±»å‹<code>a</code>è¿›è¡Œç©ºåˆ¤æ–­ï¼Œå¦‚æœ<code>a</code>åŒ…å«ä¸€ä¸ªå€¼å°±è¿›è¡Œè§£å°ï¼Œå¦åˆ™å°±è¿”å›ä¸€ä¸ªé»˜è®¤å€¼<code>b</code>ã€‚</p>
<ul>
<li><code>a ?? b</code>ç­‰ä»·äº<code>a != nil ? a! : b</code></li>
<li>è¡¨è¾¾å¼<code>a</code>å¿…é¡»æ˜¯<code>Optional</code>ç±»å‹</li>
<li>é»˜è®¤å€¼<code>b</code>çš„ç±»å‹å¿…é¡»è¦å’Œ<code>a</code>å­˜å‚¨çš„ç±»å‹ä¿æŒä¸€è‡´</li>
<li>çŸ­è·¯æ±‚å€¼ï¼šå¦‚æœ<code>a</code>ä¸æ˜¯<code>nil</code>ï¼Œåˆ™<code>b</code>ä¸ä¼šè¢«ä¼°å€¼</li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> defaultColorName = <span class="string">"red"</span></span><br><span class="line"><span class="keyword">var</span> userDefinedColorName: <span class="type">String</span>?<span class="comment">// nil</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> colorNameToUse = userDefinedColorName ?? defaultColorName<span class="comment">// red</span></span><br></pre></td></tr></table></figure>
<h2 id="2-8-åŒºé—´è¿ç®—ç¬¦"><a href="#2-8-åŒºé—´è¿ç®—ç¬¦" class="headerlink" title="2.8    åŒºé—´è¿ç®—ç¬¦"></a>2.8    åŒºé—´è¿ç®—ç¬¦</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ†ä¸¤ç§</p>
<ul>
<li>é—­åŒºé—´è¿ç®—ç¬¦ï¼ˆ<code>a...b</code>ï¼‰ï¼šåŒ…å«aå’Œb</li>
<li>åŠå¼€åŒºé—´è¿ç®—ç¬¦ï¼ˆ<code>a..&lt;b</code>ï¼‰ï¼šåŒ…å«aä¸åŒ…å«b</li>
</ul>
<p><strong>åº”ç”¨ï¼š</strong>åœ¨è¿­ä»£ä¸€ä¸ªåŒºé—´çš„æ‰€æœ‰å€¼æ—¶éå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚åœ¨<code>for-in</code>å¾ªç¯ä¸­ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> names = [<span class="string">"Anna"</span>, <span class="string">"Alex"</span>, <span class="string">"Brain"</span>, <span class="string">"Jack"</span>]</span><br><span class="line"><span class="keyword">let</span> <span class="built_in">count</span> = names.<span class="built_in">count</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;<span class="built_in">count</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"ç¬¬ \(i + 1) ä¸ªäººå« \(names[i])"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-9-é€»è¾‘è¿ç®—ç¬¦"><a href="#2-9-é€»è¾‘è¿ç®—ç¬¦" class="headerlink" title="2.9    é€»è¾‘è¿ç®—ç¬¦"></a>2.9    é€»è¾‘è¿ç®—ç¬¦</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸€å…±3ä¸ª</p>
</blockquote>
<table>
<thead>
<tr>
<th>é€»è¾‘è¿ç®—ç¬¦</th>
<th>è¯´æ˜</th>
<th>æ˜¯å¦çŸ­è·¯</th>
<th>ç»“åˆæ€§</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>!a</code></td>
<td>é€»è¾‘é</td>
<td></td>
</tr>
<tr>
<td><code>a &amp;&amp; b</code></td>
<td>é€»è¾‘ä¸</td>
<td>æ˜¯</td>
<td>å·¦ç»“åˆ</td>
</tr>
<tr>
<td><code>aï½œï½œb</code></td>
<td>é€»è¾‘æˆ–</td>
<td>æ˜¯</td>
<td>å·¦ç»“åˆ</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æé«˜å¯è¯»æ€§ï¼š</strong></p>
<ul>
<li>å¤šä¸ªé€»è¾‘è¿ç®—ç¬¦ç»„åˆè¿ç®—æ—¶ä½¿ç”¨æ‹¬å·æ¥æ˜ç¡®ä¼˜å…ˆçº§</li>
<li>å°å¿ƒåœ°é€‰æ‹©å¸ƒå°”å¸¸é‡æˆ–å˜é‡</li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (enteredDoorCode &amp;&amp; passedRetinaScan) || hasDoorKey || knowsOverridePassword &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Welcome!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"ACCESS DENIED"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/TSPL2_01  åŸºç¡€éƒ¨åˆ†/" itemprop="url">
                  1 åŸºç¡€éƒ¨åˆ†
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T19:31:53+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/TSPL2_01  åŸºç¡€éƒ¨åˆ†/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/TSPL2_01  åŸºç¡€éƒ¨åˆ†/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-1-å¸¸é‡å’Œå˜é‡"><a href="#1-1-å¸¸é‡å’Œå˜é‡" class="headerlink" title="1.1    å¸¸é‡å’Œå˜é‡"></a>1.1    å¸¸é‡å’Œå˜é‡</h2><blockquote>
<p><strong>æè¿°ï¼š</strong>å¸¸é‡å’Œå˜é‡æŠŠä¸€ä¸ªåå­—å’Œä¸€ä¸ªæŒ‡å®šç±»å‹çš„å€¼å…³è‰¯èµ·æ¥ã€‚<br><strong>è¯´æ˜ï¼š</strong>ä¸¤è€…çš„åŒºåˆ«åœ¨äºè®¾å®šåæ˜¯å¦è¿˜èƒ½ä¿®æ”¹</p>
<ul>
<li>å¸¸é‡ï¼šè®¾å®šåä¸å¯èƒ½ä¿®æ”¹</li>
<li>å˜é‡ï¼šå¯ä»¥éšæ„æ›´æ”¹</li>
</ul>
</blockquote>
<h3 id="1-1-1-å£°æ˜å¸¸é‡å’Œå˜é‡"><a href="#1-1-1-å£°æ˜å¸¸é‡å’Œå˜é‡" class="headerlink" title="1.1.1    å£°æ˜å¸¸é‡å’Œå˜é‡"></a>1.1.1    å£°æ˜å¸¸é‡å’Œå˜é‡</h3><blockquote>
<p><strong>å…±åŒè§„åˆ™ï¼š</strong></p>
<ul>
<li>å¯ä»¥åœ¨ä¸€è¡Œä¸­å£°æ˜å¤šä¸ªï¼Œç”¨<code>,</code>åˆ†éš”</li>
</ul>
<p><strong>å…³é”®å­—ï¼š</strong></p>
<ul>
<li><code>let</code>ï¼šå¸¸é‡</li>
<li><code>var</code>ï¼šå˜é‡</li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¸¸é‡å£°æ˜</span></span><br><span class="line"><span class="keyword">let</span> maximunNumberOfLoginAttemts = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å˜é‡å£°æ˜</span></span><br><span class="line"><span class="keyword">var</span> currentLoginAttempts = <span class="number">0</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">0.0</span>, y = <span class="number">0.0</span>, z = <span class="number">0.0</span></span><br></pre></td></tr></table></figure>
<h3 id="1-1-2-ç±»å‹æ ‡æ³¨"><a href="#1-1-2-ç±»å‹æ ‡æ³¨" class="headerlink" title="1.1.2    ç±»å‹æ ‡æ³¨"></a>1.1.2    ç±»å‹æ ‡æ³¨</h3><blockquote>
<p><strong>ç”¨é€”ï¼š</strong>è¯´æ˜å¸¸é‡æˆ–è€…å˜é‡ä¸­è¦å­˜å‚¨çš„å€¼çš„ç±»å‹<br><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>å¦‚æœæ²¡æœ‰ç±»å‹æ ‡æ³¨ï¼Œå£°æ˜æ—¶éƒ½å¿…é¡»è®¾ç½®ä¸€ä¸ªå€¼ä½œä¸ºåˆå§‹å€¼ï¼Œå¦åˆ™æŠ¥é”™</li>
<li>ç±»å‹æ ‡æ³¨å¯ä»¥çœç•¥ï¼Œæ­¤æ—¶Swiftå¯ä»¥é€šè¿‡èµ‹çš„åˆå§‹å€¼æ¨æ–­å…¶ç±»å‹</li>
</ul>
<p><strong>è¯­æ³•ï¼š</strong><code>var welcomeMessage: String</code></p>
</blockquote>
<table>
<thead>
<tr>
<th>var</th>
<th>welcomeMessage:</th>
<th></th>
<th>String</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>let(var)</code></td>
<td>å¸¸é‡(å˜é‡)å</td>
<td><code>:</code></td>
<td><code>ç©ºæ ¼</code></td>
<td>ç±»å‹åç§°</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯ä»¥åœ¨ä¸€è¡Œä¸­å®šä¹‰å¤šä¸ªåŒæ ·ç±»å‹çš„å˜é‡ï¼Œ<code>,</code>åˆ†éš”ï¼Œå¹¶åœ¨æœ€åä¸€ä¸ªæ¯”å˜é‡åä¹‹åæ·»åŠ <code>ç±»å‹æ ‡æ³¨</code></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜</span></span><br><span class="line"><span class="keyword">var</span> welcomeMessage: <span class="type">String</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// èµ‹å€¼</span></span><br><span class="line">welcomeMessage = <span class="string">"Hello"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å£°æ˜å¤šä¸ªå…·æœ‰ç›¸åŒç±»å‹æ ‡æ³¨çš„å˜é‡çš„ç•¥å†™æ–¹å¼</span></span><br><span class="line"><span class="keyword">var</span> red, green, blue:<span class="type">Double</span></span><br></pre></td></tr></table></figure>
<h3 id="1-1-3-å¸¸é‡å’Œå˜é‡çš„å‘½å"><a href="#1-1-3-å¸¸é‡å’Œå˜é‡çš„å‘½å" class="headerlink" title="1.1.3    å¸¸é‡å’Œå˜é‡çš„å‘½å"></a>1.1.3    å¸¸é‡å’Œå˜é‡çš„å‘½å</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å£°æ˜å®Œæˆåï¼Œä¸€äº›ç‰¹æ€§å°†ä¸èƒ½å†æ¬¡ä¿®æ”¹</p>
<ul>
<li>å·²ç»å£°æ˜çš„åå­—ä¸èƒ½å†æ¬¡ç”¨æ¥å£°æ˜</li>
<li>å£°æ˜æ—¶ç¡®å®šçš„ç±»å‹ä¸èƒ½æ›´æ”¹</li>
<li>å¸¸é‡ä¸å˜é‡ä¸èƒ½ç›¸äº’è½¬æ¢</li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th>ä¸å…è®¸çš„å­—ç¬¦</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ•°å­¦ç¬¦å·</td>
</tr>
<tr>
<td>ç®­å¤´</td>
</tr>
<tr>
<td>ä¿ç•™çš„ï¼ˆéæ³•çš„ï¼‰<code>Univode</code>ç ä½</td>
</tr>
<tr>
<td>è¿çº¿</td>
</tr>
<tr>
<td>åˆ¶è¡¨ç¬¦</td>
</tr>
<tr>
<td>æ•°å­—ï¼ˆä»…å¼€å¤´ä¸èƒ½ä½¿ç”¨ï¼‰</td>
</tr>
</tbody>
</table>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¸¸é‡å’Œå˜é‡çš„å‘½å</span></span><br><span class="line"><span class="keyword">let</span> Ï€ = <span class="number">3.141592654</span></span><br><span class="line"><span class="keyword">let</span> ä½ å¥½ = <span class="string">"Hello"</span></span><br><span class="line"><span class="keyword">let</span> ï¼Ÿï¼Ÿ = <span class="string">"dog"</span><span class="comment">// ä¸­æ–‡å…¨è§’çš„</span></span><br></pre></td></tr></table></figure>
<h3 id="1-1-4-è¾“å‡ºå¸¸é‡å’Œå˜é‡"><a href="#1-1-4-è¾“å‡ºå¸¸é‡å’Œå˜é‡" class="headerlink" title="1.1.4    è¾“å‡ºå¸¸é‡å’Œå˜é‡"></a>1.1.4    è¾“å‡ºå¸¸é‡å’Œå˜é‡</h3><h4 id="printå‡½æ•°"><a href="#printå‡½æ•°" class="headerlink" title="printå‡½æ•°"></a>printå‡½æ•°</h4><blockquote>
<p><strong>æè¿°ï¼š</strong>ä¸€ä¸ªç”¨æ¥è¾“å‡ºä¸€ä¸ªæˆ–å¤šä¸ªå€¼åˆ°é€‚å½“è¾“å‡ºåŒºçš„å…¨å±€å‡½æ•°ã€‚<br><strong>è¯´æ˜ï¼š</strong>å¯ä»¥ç›´æ¥é€šè¿‡<code>\(è¡¨è¾¾å¼)</code>çš„æ–¹å¼åœ¨å­—ç¬¦ä¸²ä¸­æ’å€¼ï¼ˆ<code>String interprolation</code>ï¼‰<br><strong>åŸå‹ï¼š</strong><code>å…¨å±€å‡½æ•°</code></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">/**</span><br><span class="line">&gt;* @param &#123;Any...&#125; items å¯å˜ä¸ªä»»æ„ç±»å‹çš„å‚æ•°</span><br><span class="line">&gt;* @param &#123;String=&#125; separator è¿æ¥ç¬¦ï¼ˆé»˜è®¤ä¸ºç©ºæ ¼ï¼Œå¯çœç•¥ï¼‰</span><br><span class="line">&gt;* @param &#123;String=&#125; terminator è‡ªåŠ¨è¿½åŠ å†æœ«å°¾çš„å­—ä¸²ï¼ˆé»˜è®¤ä¸ºæ¢è¡Œç¬¦ï¼Œå¯çœç•¥ï¼‰</span><br><span class="line">&gt;* @param &#123;&amp;Target=&#125; toStream è¾“å‡ºæµï¼ˆé»˜è®¤ä¸ºæ ‡å‡†è¾“å‡ºæµï¼Œå¯çœç•¥ï¼‰</span><br><span class="line">&gt;*/</span></span><br><span class="line">&gt;void <span class="built_in">print</span>(items: <span class="type">Any</span>..., separator: <span class="type">String</span>, terminator: <span class="type">String</span>, toStream: &amp;<span class="type">Target</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str1 = <span class="string">"hello"</span></span><br><span class="line"><span class="keyword">var</span> str2 = <span class="string">"world"</span></span><br><span class="line"><span class="comment">// hello,world!</span></span><br><span class="line"><span class="built_in">print</span>(str1, str2, separator:<span class="string">","</span>, terminator:<span class="string">"!"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// hello world\n</span></span><br><span class="line"><span class="built_in">print</span>(str1, str2)</span><br></pre></td></tr></table></figure>
<h2 id="1-2-æ³¨é‡Š"><a href="#1-2-æ³¨é‡Š" class="headerlink" title="1.2    æ³¨é‡Š"></a>1.2    æ³¨é‡Š</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å’ŒCè¯­è¨€çš„æ³¨é‡Šéå¸¸ç›¸ä¼¼</p>
<ul>
<li>å•è¡Œæ³¨é‡Šï¼š<code>// è¿™æ˜¯ä¸€ä¸ªæ³¨é‡Š</code></li>
<li>å¤šè¡Œæ³¨é‡Šï¼š<code>/* å¤šè¡Œæ³¨é‡Š */</code></li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong>å’ŒCè¯­è¨€ä¸åŒçš„æ˜¯ï¼Œswiftæ”¯æŒå‰å¥—çš„å¤šè¡Œæ³¨é‡Šã€‚ä¾¿äºåœ¨åŸå…ˆå¤šè¡Œæ³¨é‡Šçš„åŸºç¡€ä¸Šæ‰©å¤§æ³¨é‡ŠèŒƒå›´ã€‚</p>
</blockquote>
<h2 id="1-3-åˆ†å·"><a href="#1-3-åˆ†å·" class="headerlink" title="1.3    åˆ†å·"></a>1.3    åˆ†å·</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å’Œå¤§éƒ¨åˆ†è¯­å¥æœ‰æ‰€ä¸åŒ</p>
<ul>
<li>å•ç‹¬å ä¸€è¡Œçš„è¯­å¥çš„ç»“å°¾å¤„çš„åˆ†å·å¯ä»¥çœç•¥</li>
<li>ä¸€è¡Œä»£ç å­˜åœ¨å¤šä¸ªè¯­å¥ï¼Œåˆ™è¯­å¥ä¹‹é—´çš„<code>;</code>ä¸èƒ½çœç•¥</li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> cat = <span class="string">"?"</span>; <span class="built_in">print</span>(cat)</span><br></pre></td></tr></table></figure>
<h2 id="1-3-æ•´æ•°"><a href="#1-3-æ•´æ•°" class="headerlink" title="1.3    æ•´æ•°"></a>1.3    æ•´æ•°</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸€å…±æœ‰<code>10</code>ç§æ•´æ•°ç±»å‹ï¼ˆ<code>(U)Int(4ç§å®½åº¦)</code>ï¼‰<br><strong>æ³¨æ„ï¼š</strong>å…¶ä¸­8ç§ç±»å‹æ˜¯æŒ‡å®šçš„å®½åº¦çš„ï¼Œ<code>Int</code>å’Œ<code>UInt</code>ç±»å‹æ¯”è¾ƒç‰¹æ®Šï¼Œå…¶å®½åº¦ä¾èµ–äºå¤„ç†å™¨æ¶æ„ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>é•¿åº¦(bit)</th>
<th>æœ‰ç¬¦å·</th>
<th>æ— ç¬¦å·</th>
</tr>
</thead>
<tbody>
<tr>
<td>8</td>
<td>Int8</td>
<td>UInt8</td>
</tr>
<tr>
<td>16</td>
<td>Int16</td>
<td>UInt16</td>
</tr>
<tr>
<td>32</td>
<td>Int32</td>
<td>UInt32</td>
</tr>
<tr>
<td>64</td>
<td>Int64</td>
<td>UInt64</td>
</tr>
<tr>
<td>ä¾èµ–å¹³å°</td>
<td>Int</td>
<td>UInt</td>
</tr>
</tbody>
</table>
<h3 id="1-3-1-æ•´æ•°èŒƒå›´"><a href="#1-3-1-æ•´æ•°èŒƒå›´" class="headerlink" title="1.3.1    æ•´æ•°èŒƒå›´"></a>1.3.1    æ•´æ•°èŒƒå›´</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯ä»¥é€šè¿‡<code>mix</code>å’Œ<code>max</code>å±æ€§è·å¾—ç›¸åº”ç±»å‹çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> minValue = <span class="type">UInt8</span>.<span class="built_in">min</span><span class="comment">// 0</span></span><br><span class="line"><span class="keyword">let</span> maxValue = <span class="type">UInt8</span>.<span class="built_in">max</span><span class="comment">// 255</span></span><br></pre></td></tr></table></figure>
<h3 id="1-3-2-Int"><a href="#1-3-2-Int" class="headerlink" title="1.3.2    Int"></a>1.3.2    Int</h3><blockquote>
<p><strong>æŠ€å·§ï¼š</strong>å¤§å¤šæ•°æ—¶å€™ä½¿ç”¨<code>Int</code>ç±»å‹</p>
<ul>
<li>å¯ä»¥æé«˜ä»£ç çš„ä¸€è‡´æ€§å’Œå¯å¤ç”¨æ€§</li>
<li>å³ä½¿åœ¨32ä½æœºå™¨ä¸Šï¼Œä¹Ÿè¶³å¤Ÿå¤§äº†ï¼ˆ<code>-2,147,483,648~2,147,483,647</code>ï¼‰</li>
</ul>
</blockquote>
<h3 id="1-3-3-UInt"><a href="#1-3-3-UInt" class="headerlink" title="1.3.3    UInt"></a>1.3.3    UInt</h3><blockquote>
<p><strong>æŠ€å·§ï¼š</strong>å°½å¯èƒ½ä½¿ç”¨<code>Int</code>è€Œä¸æ˜¯<code>UInt</code>ï¼Œå³ä½¿å·²çŸ¥å€¼æ˜¯éè´Ÿçš„</p>
<ul>
<li>ä¸€è‡´å‹å’Œå¯å¤ç”¨æ€§</li>
<li>é¿å…ä¸åŒç±»å‹æ•°å­—ä¹‹é—´çš„è½¬æ¢(é»˜è®¤çš„å¯¹æ•´æ•°ç±»å‹çš„è¡¨è¾¾å¼çš„æ¨æ–­ç±»å‹ä¸º<code>Int</code>)</li>
</ul>
</blockquote>
<h2 id="1-4-æµ®ç‚¹æ•°"><a href="#1-4-æµ®ç‚¹æ•°" class="headerlink" title="1.4    æµ®ç‚¹æ•°"></a>1.4    æµ®ç‚¹æ•°</h2><blockquote>
<p><strong>å®šä¹‰ï¼š</strong>æœ‰å°æ•°éƒ¨åˆ†çš„æ•°å­—<br><strong>è¯´æ˜ï¼š</strong>æœ‰ä¸¤ç§æœ‰ç¬¦å·æµ®ç‚¹æ•°ç±»å‹</p>
</blockquote>
<table>
<thead>
<tr>
<th>æµ®ç‚¹ç±»å‹</th>
<th>è§£é‡Š</th>
<th>æœ€å¤§ç²¾åº¦ï¼ˆæ•´æ•°éƒ¨åˆ†å’Œå°æ•°éƒ¨åˆ†æ•°å­—ä½æ•°ä¹‹å’Œï¼‰</th>
<th>é€‚ç”¨</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Double</td>
<td>64ä½æµ®ç‚¹æ•°</td>
<td>7</td>
<td>éœ€è¦å­˜å‚¨å¾ˆå¤§æˆ–å¾ˆé«˜ç²¾åº¦çš„æµ®ç‚¹æ•°æ—¶</td>
</tr>
<tr>
<td>Float</td>
<td>32ä½æµ®ç‚¹æ•°</td>
<td>16</td>
<td>ç²¾åº¦è¦æ±‚ä¸é«˜æ—¶</td>
</tr>
</tbody>
</table>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> f:<span class="type">Float</span> = <span class="number">0.123456789</span><span class="comment">// 0.1234568</span></span><br><span class="line"><span class="keyword">var</span> d:<span class="type">Double</span> = <span class="number">0.12345678901234567</span><span class="comment">// 0.1234567890123457</span></span><br></pre></td></tr></table></figure>
<h2 id="1-5-ç±»å‹å®‰å…¨å’Œç±»å‹æ¨æ–­"><a href="#1-5-ç±»å‹å®‰å…¨å’Œç±»å‹æ¨æ–­" class="headerlink" title="1.5    ç±»å‹å®‰å…¨å’Œç±»å‹æ¨æ–­"></a>1.5    ç±»å‹å®‰å…¨å’Œç±»å‹æ¨æ–­</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li><strong>ç±»å‹å®‰å…¨ï¼š</strong>ç¼–è¯‘å™¨ä¼šåœ¨ç¼–è¯‘é˜¶æ®µè¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œå¹¶æŠŠä¸åŒ¹é…çš„ç±»å‹æ ‡è®°ä¸ºé”™è¯¯</li>
<li><strong>ç±»å‹æ¨æ–­ï¼š</strong>å¦‚æœåœ¨å£°æ˜é˜¶æ®µæ²¡æœ‰æ˜¾ç¤ºæŒ‡å®šç±»å‹ï¼Œç¼–è¯‘å™¨å›é€šè¿‡èµ‹çš„å€¼è‡ªåŠ¨æ¨æ–­å‡ºè¡¨è¾¾å¼çš„ç±»å‹</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>å½“æ¨æ–­æµ®ç‚¹æ•°çš„ç±»å‹æ—¶ï¼ŒSwift æ€»æ˜¯ä¼šé€‰æ‹©<code>Double</code>è€Œä¸æ˜¯<code>Float</code></li>
<li>å¦‚æœè¡¨è¾¾å¼ä¸­åŒæ—¶å‡ºç°æ•´æ•°å’Œæµ®ç‚¹æ•°ï¼Œåˆ™è®¡ç®—ç»“æœè¢«æ¨æ–­ä¸º<code>Double</code></li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// meaningOfLife ä¼šè¢«æ¨æµ‹ä¸º Int ç±»å‹</span></span><br><span class="line"><span class="keyword">let</span> meaningOfLife = <span class="number">42</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// pi ä¼šè¢«æ¨æµ‹ä¸º Double ç±»å‹</span></span><br><span class="line"><span class="keyword">let</span> pi = <span class="number">3.14159</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¡¨è¾¾å¼ç§å‡ºç°äº†ä¸€ä¸ªæµ®ç‚¹å­—é¢é‡ï¼Œæ‰€ä»¥è¡¨è¾¾å¼è¢«æ¨æ–­ä¸º Double ç±»å‹</span></span><br><span class="line"><span class="keyword">let</span> anotherPi = <span class="number">3</span> + <span class="number">0.14159</span></span><br></pre></td></tr></table></figure>
<h2 id="1-6-æ•°å€¼å‹å­—é¢é‡"><a href="#1-6-æ•°å€¼å‹å­—é¢é‡" class="headerlink" title="1.6    æ•°å€¼å‹å­—é¢é‡"></a>1.6    æ•°å€¼å‹å­—é¢é‡</h2><h3 id="æ•´æ•°å­—é¢é‡"><a href="#æ•´æ•°å­—é¢é‡" class="headerlink" title="æ•´æ•°å­—é¢é‡"></a>æ•´æ•°å­—é¢é‡</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ ¹æ®è¿›åˆ¶åˆ’åˆ†æœ‰<code>4</code>ç§</p>
</blockquote>
<table>
<thead>
<tr>
<th>è¿›åˆ¶</th>
<th>å‰ç¼€</th>
</tr>
</thead>
<tbody>
<tr>
<td>åè¿›åˆ¶</td>
<td>æ— </td>
</tr>
<tr>
<td>äºŒè¿›åˆ¶</td>
<td><code>0b</code></td>
</tr>
<tr>
<td>å…«è¿›åˆ¶</td>
<td><code>0o</code></td>
</tr>
<tr>
<td>åå…­è¿›åˆ¶</td>
<td><code>0x</code></td>
</tr>
</tbody>
</table>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 17</span></span><br><span class="line"><span class="keyword">let</span> decimalInteger = <span class="number">17</span><span class="comment">// åè¿›åˆ¶</span></span><br><span class="line"><span class="keyword">let</span> binaryInter = <span class="number">0b10001</span><span class="comment">// äºŒè¿›åˆ¶</span></span><br><span class="line"><span class="keyword">let</span> octalInteger = <span class="number">0o21</span><span class="comment">// å…«è¿›åˆ¶</span></span><br><span class="line"><span class="keyword">let</span> hexadecimalInteger = <span class="number">0x11</span><span class="comment">// åå…­è¿›åˆ¶</span></span><br></pre></td></tr></table></figure>
<h3 id="æµ®ç‚¹æ•°å­—é¢é‡"><a href="#æµ®ç‚¹æ•°å­—é¢é‡" class="headerlink" title="æµ®ç‚¹æ•°å­—é¢é‡"></a>æµ®ç‚¹æ•°å­—é¢é‡</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ ¹æ®è¿›åˆ¶åˆ’åˆ†æœ‰<code>2</code>ç§</p>
</blockquote>
<table>
<thead>
<tr>
<th>è¿›åˆ¶</th>
<th>å‰ç¼€</th>
<th>å°æ•°ç‚¹ä¸¤è¾¹</th>
<th>å¯é€‰çš„æŒ‡æ•°</th>
</tr>
</thead>
<tbody>
<tr>
<td>åè¿›åˆ¶</td>
<td>æ— </td>
<td>è‡³å°‘æœ‰ä¸€ä¸ªåè¿›åˆ¶æ•°</td>
<td><code>(E)e</code>ï¼Œ åŸºæ•°ä¸º10</td>
</tr>
<tr>
<td>åå…­è¿›åˆ¶</td>
<td><code>0x</code></td>
<td>è‡³å°‘æœ‰ä¸€ä¸ªåå…­è¿›åˆ¶æ•°</td>
<td><code>(P)p</code></td>
<td>åŸºæ•°ä¸º2</td>
</tr>
</tbody>
</table>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 10è¿›åˆ¶</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="number">1.25e2</span><span class="comment">// 1.25 x 10^2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 16è¿›åˆ¶</span></span><br><span class="line"><span class="keyword">let</span> b = 0xFp-<span class="number">2</span><span class="comment">// 15 x 2^-2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 12.1875</span></span><br><span class="line"><span class="keyword">let</span> decimalDouble = <span class="number">12.1875</span></span><br><span class="line"><span class="keyword">let</span> exponentDouble = <span class="number">1.21876e1</span></span><br><span class="line"><span class="keyword">let</span> hexadecimalDouble = <span class="number">0xC.3p0</span></span><br></pre></td></tr></table></figure>
<h3 id="å¢å¼ºå¯è¯»æ€§"><a href="#å¢å¼ºå¯è¯»æ€§" class="headerlink" title="å¢å¼ºå¯è¯»æ€§"></a>å¢å¼ºå¯è¯»æ€§</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ•´æ•°å’Œæµ®ç‚¹æ•°éƒ½å¯ä»¥æ·»åŠ é¢å¤–çš„é›¶å¹¶ä¸”åŒ…å«ä¸‹åˆ’çº¿æ¥å¢å¼ºå¯è¯»æ€§</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é¢å¤–çš„é›¶</span></span><br><span class="line"><span class="keyword">let</span> paddedDouble = <span class="number">000123.456</span></span><br><span class="line"><span class="comment">// é¢å¤–çš„ä¸‹åˆ’çº¿</span></span><br><span class="line"><span class="keyword">let</span> oneMillon = <span class="number">1_000_000</span></span><br><span class="line"><span class="keyword">let</span> justOverOneMillion = <span class="number">1_000_000.000_000_1</span></span><br></pre></td></tr></table></figure>
<h2 id="1-7-æ•°å€¼å‹ç±»å‹è½¬æ¢"><a href="#1-7-æ•°å€¼å‹ç±»å‹è½¬æ¢" class="headerlink" title="1.7    æ•°å€¼å‹ç±»å‹è½¬æ¢"></a>1.7    æ•°å€¼å‹ç±»å‹è½¬æ¢</h2><blockquote>
<p><strong>ä½¿ç”¨<code>Int</code>ï¼š</strong>å³ä½¿ä»£ç ä¸­çš„æ•´æ•°å¸¸é‡æˆ–å˜é‡å·²çŸ¥éè´Ÿï¼Œä¹Ÿå°½é‡ä½¿ç”¨<code>Int</code></p>
<ul>
<li>ä¿è¯æ•´æ•°å˜é‡æˆ–å¸¸é‡å¯ä»¥ç›´æ¥è¢«å¤ç”¨</li>
<li>å¯ä»¥åŒ¹é…æ•´æ•°ç±»å­—é¢é‡çš„ç±»å‹æ¨æ–­ï¼ˆæ•´æ•°å­—é¢é‡åªä¼šè¢«æ¨æ–­ä¸º<code>Int</code>ï¼Œèµ‹å€¼ç»™å…¶å®ƒç±»å‹çš„æ•´æ•°éœ€è¦ç±»å‹è½¬æ¢ï¼‰</li>
</ul>
<p><strong>ä½¿ç”¨å…¶å®ƒæ•´æ•°ç±»å‹ï¼š</strong></p>
<ul>
<li>å¤„ç†å¤–éƒ¨çš„é•¿åº¦æ˜ç¡®çš„æ•°æ®æ—¶ï¼Œä¸ºäº†ä¼˜åŒ–æ€§èƒ½ã€å†…å­˜å ç”¨ç­‰</li>
<li>å¯ä»¥åŠæ—¶å‘ç°æº¢å‡º</li>
<li>å¯ä»¥æš—ç¤ºæ­£åœ¨å¤„ç†ç‰¹æ®Šæ•°æ®</li>
</ul>
</blockquote>
<h3 id="1-7-1-æ•´æ•°è½¬æ¢"><a href="#1-7-1-æ•´æ•°è½¬æ¢" class="headerlink" title="1.7.1    æ•´æ•°è½¬æ¢"></a>1.7.1    æ•´æ•°è½¬æ¢</h3><h4 id="1-7-1-1-å¿…è¦æ€§"><a href="#1-7-1-1-å¿…è¦æ€§" class="headerlink" title="1.7.1.1    å¿…è¦æ€§"></a>1.7.1.1    å¿…è¦æ€§</h4><blockquote>
<ul>
<li>å¦‚æœæ•°å­—è¶…è¿‡äº†å¸¸é‡æˆ–å˜é‡å¯å­˜å‚¨çš„èŒƒå›´ï¼Œç¼–è¯‘çš„æ—¶å€™ä¼šæŠ¥é”™</li>
<li>ä¸¤ç§ç±»å‹ï¼ˆ<code>Int</code>é™¤å¤–ï¼‰çš„æ•´æ•°ä¸èƒ½ç›´æ¥ç›¸åŠ </li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¼šæŠ¥é”™ï¼Œå› ä¸º UInt8 ä¸èƒ½å­˜å‚¨è´Ÿæ•°</span></span><br><span class="line"><span class="keyword">let</span> cannotBeNegative:<span class="type">UInt8</span> = -<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¼šæŠ¥é”™ï¼Œå› ä¸ºè¶…è¿‡äº†æœ€å¤§å€¼</span></span><br><span class="line"><span class="keyword">let</span> tooBig:<span class="type">Int8</span> = <span class="type">Int8</span>.<span class="built_in">max</span> + <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h4 id="1-7-1-2-ä½¿ç”¨ç±»å‹å¯¹åº”çš„æ„é€ å™¨è¿›è¡Œè½¬æ¢"><a href="#1-7-1-2-ä½¿ç”¨ç±»å‹å¯¹åº”çš„æ„é€ å™¨è¿›è¡Œè½¬æ¢" class="headerlink" title="1.7.1.2    ä½¿ç”¨ç±»å‹å¯¹åº”çš„æ„é€ å™¨è¿›è¡Œè½¬æ¢"></a>1.7.1.2    ä½¿ç”¨ç±»å‹å¯¹åº”çš„æ„é€ å™¨è¿›è¡Œè½¬æ¢</h4><blockquote>
<p><strong>æ³¨æ„ï¼š</strong>ä¸èƒ½ä¼ å…¥ä»»æ„ç±»å‹çš„å€¼ç»™æ„é€ å™¨ï¼Œåªèƒ½æ˜¯æœ‰å¯¹åº”æ„é€ å™¨çš„å€¼<br><strong>æ‰©å±•ï¼š</strong>å¯ä»¥é€šè¿‡æ‰©å±•ç°æœ‰çš„ç±»å‹è®©å®ƒå¯ä»¥æ¥å—å…¶å®ƒç±»å‹çš„å€¼</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> twoThousand: <span class="type">UInt16</span> = <span class="number">2_000</span></span><br><span class="line"><span class="keyword">let</span> one: <span class="type">UInt8</span> = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å°† one ç”± UInt8 è½¬æ¢ä¸º UInt16ï¼Œæœ€ç»ˆ twoThousandAndOne è¢«æ¨æ–­ä¸º UInt16</span></span><br><span class="line"><span class="keyword">let</span> twoThousandAndOne = twoThousand + <span class="type">UInt16</span>(one)</span><br></pre></td></tr></table></figure>
<h3 id="1-7-2-æ•´æ•°å’Œæµ®ç‚¹æ•°è½¬æ¢"><a href="#1-7-2-æ•´æ•°å’Œæµ®ç‚¹æ•°è½¬æ¢" class="headerlink" title="1.7.2    æ•´æ•°å’Œæµ®ç‚¹æ•°è½¬æ¢"></a>1.7.2    æ•´æ•°å’Œæµ®ç‚¹æ•°è½¬æ¢</h3><h4 id="1-7-2-1-æ•´æ•°-gt-æµ®ç‚¹æ•°"><a href="#1-7-2-1-æ•´æ•°-gt-æµ®ç‚¹æ•°" class="headerlink" title="1.7.2.1    æ•´æ•°-&gt;æµ®ç‚¹æ•°"></a>1.7.2.1    æ•´æ•°-&gt;æµ®ç‚¹æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li><strong>å¼ºåˆ¶è½¬æ¢ï¼š</strong>å¯¹ä¸æ‰€æœ‰ç±»å‹çš„æ•´æ•°å¸¸é‡æˆ–å˜é‡ï¼Œå¯ä»¥å¼ºåˆ¶è½¬æ¢ä¸º<code>Double</code>æˆ–<code>Float</code></li>
<li><strong>éšå¼è½¬æ¢ï¼š</strong>å£°æ˜æ—¶æŒ‡å®š<code>Double</code>æˆ–<code>Float</code>ï¼Œåˆ™ç”¨æ¥åˆå§‹åŒ–çš„æ•´æ•°å­—é¢é‡ä¼šè¢«è‡ªåŠ¨è½¬æ¢</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong>æ•°å€¼ç±»å¸¸é‡æˆ–å˜é‡ä¸åŒäºæ•°å€¼ç±»å­—é¢é‡ï¼Œåè€…å¯ä»¥ä¸åŒç±»å‹å¯ä»¥ä¸€èµ·è¿ç®—ï¼Œå› ä¸ºå­—é¢é‡æœ¬èº«æ²¡æœ‰æ˜ç¡®çš„ç±»å‹</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éšå¼è½¬æ¢</span></span><br><span class="line"><span class="keyword">let</span> d:<span class="type">Double</span> = <span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼ºåˆ¶è½¬æ¢</span></span><br><span class="line"><span class="keyword">let</span> three = <span class="number">3</span></span><br><span class="line"><span class="keyword">let</span> pointOneFourOneFineNine = <span class="number">0.14159</span></span><br><span class="line"><span class="keyword">let</span> pi = <span class="type">Double</span>(three) + pointOneFourOneFineNine</span><br></pre></td></tr></table></figure>
<h4 id="1-7-2-2-æµ®ç‚¹æ•°-gt-æ•´æ•°"><a href="#1-7-2-2-æµ®ç‚¹æ•°-gt-æ•´æ•°" class="headerlink" title="1.7.2.2    æµ®ç‚¹æ•°-&gt;æ•´æ•°"></a>1.7.2.2    æµ®ç‚¹æ•°-&gt;æ•´æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å£°æ˜å˜é‡æˆ–å¸¸é‡æ—¶æŒ‡å®šä»»ä½•ä¸€ç§æ•´æ•°ç±»å‹ï¼Œåˆ™ç”¨æ¥åˆå§‹åŒ–å­—é¢é‡åªèƒ½æ˜¯æ•´æ•°ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼ºåˆ¶è½¬æ¢</span></span><br><span class="line"><span class="keyword">let</span> pi = <span class="number">3.14</span></span><br><span class="line"><span class="keyword">let</span> integerPi = <span class="type">Int</span>(pi)</span><br></pre></td></tr></table></figure>
<h2 id="1-8-ç±»å‹åˆ«å"><a href="#1-8-ç±»å‹åˆ«å" class="headerlink" title="1.8    ç±»å‹åˆ«å"></a>1.8    ç±»å‹åˆ«å</h2><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>typealias åˆ«å = åŸå§‹ç±»å‹å</code><br><strong>ç”¨é€”ï¼š</strong>ç»™ç°æœ‰ç±»å‹èµ·ä¸€ä¸ªæ›´æœ‰æ„ä¹‰çš„åå­—ã€‚<br><strong>è¯´æ˜ï¼š</strong>å®šä¹‰äº†ç±»å‹åˆ«åä¹‹åï¼Œå¯ä»¥åœ¨ä»»ä½•ä½¿ç”¨åŸå§‹ç±»å‹åçš„åœ°æ–¹ä½¿ç”¨ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ç±»å‹åˆ«å</span></span><br><span class="line"><span class="keyword">typealias</span> <span class="type">AudioSample</span> = <span class="type">UInt16</span></span><br><span class="line"><span class="comment">// è°ƒç”¨ç±»å‹åˆ«å</span></span><br><span class="line"><span class="keyword">var</span> maxAmolitudeFound = <span class="type">AudioSample</span>.<span class="built_in">min</span></span><br></pre></td></tr></table></figure>
<h2 id="1-9-å¸ƒå°”å€¼"><a href="#1-9-å¸ƒå°”å€¼" class="headerlink" title="1.9    å¸ƒå°”å€¼"></a>1.9    å¸ƒå°”å€¼</h2><blockquote>
<p><strong>ç±»å‹ï¼š</strong><code>Bool</code><br><strong>å­—é¢é‡ï¼š</strong></p>
<ul>
<li>true</li>
<li>false</li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ©™å­æ˜¯æ©™å­ï¼Œtrue</span></span><br><span class="line"><span class="keyword">let</span> orangesAreOrange = <span class="literal">true</span></span><br><span class="line"><span class="comment">// èåœå¾ˆå¥½åƒï¼Œfalse</span></span><br><span class="line"><span class="keyword">let</span> turnipsAreDelicious = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> turnipsAreDelicious &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Mmm, tasty turnips"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Eww, turnips are horrible."</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="1-10-å…ƒç»„"><a href="#1-10-å…ƒç»„" class="headerlink" title="1.10    å…ƒç»„"></a>1.10    å…ƒç»„</h2><blockquote>
<p><strong>ç”¨é€”ï¼š</strong>å…ƒç»„æŠŠå¤šä¸ªå€¼ç»„åˆæˆä¸€ä¸ªå¤åˆå€¼<br><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>å…ƒç»„å†…çš„å€¼å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œå¹¶ä¸è¦æ±‚æ˜¯ç›¸åŒç±»å‹ã€‚</li>
<li>å¯ä»¥ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼</li>
<li>å¯ä»¥ä¸ºå…ƒç»„ä¸­çš„æ¯ä¸ªå…ƒç´ å‘½å</li>
<li>å¯ä»¥é€šè¿‡ä¸‹æ ‡è®¿é—®å…ƒç»„ä¸­çš„æ¯ä¸ªå…ƒç´ </li>
</ul>
<p><strong>è¯­æ³•ï¼š</strong><code>(å­—é¢é‡1, å­—é¢é‡2, ...)</code></p>
<p><strong>é™åˆ¶ï¼š</strong>å…ƒç»„åœ¨ä¸´æ—¶ç»„ç»‡å€¼çš„æ—¶å€™å¾ˆæœ‰ç”¨ï¼Œä½†ä¸é€‚åˆåˆ›å»ºå¤æ‚çš„æ•°æ®ç»“æ„ã€‚<br><strong>æ‰©å±•ï¼š</strong>å¦‚æœæ•°æ®ç»“æ„ä¸æ˜¯ä¸´æ—¶ä½¿ç”¨ï¼Œè¯·ä½¿ç”¨ç±»æˆ–è€…ç»“æ„ä½“è€Œä¸æ˜¯å…ƒç»„ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜ï¼šä¸€ä¸ªç±»å‹ä¸º (Int, String) çš„å…ƒç»„</span></span><br><span class="line"><span class="keyword">let</span> http404Error = (<span class="number">404</span>, <span class="string">"Not found"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ†è§£</span></span><br><span class="line"><span class="keyword">let</span> (statusCode, statusMessage) = http404Error</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"The status code is \(statusCode)"</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"The status message is \(statusMessage)"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ†è§£æ—¶ç”¨_å¿½ç•¥</span></span><br><span class="line"><span class="keyword">let</span> (justTheStatusCode, <span class="number">_</span>) = http404Error</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡ä¸‹æ ‡è®¿é—®å…ƒç»„ä¸­çš„å…ƒç´ </span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"The status code is \(http404Error.1))"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰å…ƒç»„æ—¶ä¸ºå•ä¸ªå…ƒç´ å‘½å</span></span><br><span class="line"><span class="keyword">let</span> http200Status = (statusCode: <span class="number">200</span>, description: <span class="string">"OK"</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"The status code is \(http200Status.statusCode)"</span>)</span><br></pre></td></tr></table></figure>
<h2 id="1-11-å¯é€‰ç±»å‹"><a href="#1-11-å¯é€‰ç±»å‹" class="headerlink" title="1.11    å¯é€‰ç±»å‹"></a>1.11    å¯é€‰ç±»å‹</h2><blockquote>
<p><strong>ç”¨é€”ï¼š</strong>å€¼å¯èƒ½ç¼ºå¤±çš„æƒ…å†µ<br><strong>åº”ç”¨ï¼š</strong>ä»»ä½•ç±»å‹</p>
</blockquote>
<h3 id="1-11-1-nil"><a href="#1-11-1-nil" class="headerlink" title="1.11.1    nil"></a>1.11.1    nil</h3><blockquote>
<p><strong>è¯­æ³•ï¼š</strong><code>var(let) æ ‡è¯†ç¬¦: ç±»å‹? = è¡¨è¾¾å¼</code><br><strong>ç›¸å…³å­—é¢é‡ï¼š</strong><code>nil</code></p>
<ul>
<li><code>nil</code>ä¸èƒ½ç”¨äºéå¯é€‰çš„å¸¸é‡æˆ–å˜é‡</li>
<li>å¦‚æœå£°æ˜ä¸€ä¸ªå¯é€‰å¸¸é‡æˆ–è€…å˜é‡ä½†æ˜¯æ²¡æœ‰èµ‹å€¼ï¼Œä»–ä»¬ä¼šè‡ªåŠ¨è¢«è®¾ç½®ä¸º<code>nil</code></li>
<li>ä»»ä½•ç±»å‹çš„å¯é€‰çŠ¶æ€éƒ½å¯ä»¥è¢«è®¾ç½®ä¸º<code>nil</code></li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> serverResponseCode: <span class="type">Int</span>? = <span class="number">404</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// nilæ˜¯ä¸€ç±»å¯é€‰ç±»å‹å­—é¢é‡ï¼Œè¡¨ç¤ºæ²¡æœ‰å€¼</span></span><br><span class="line">serverResponseCode = <span class="literal">nil</span></span><br></pre></td></tr></table></figure>
<h3 id="1-11-2-ifè¯­å¥ä»¥åŠå¼ºåˆ¶è§£æ"><a href="#1-11-2-ifè¯­å¥ä»¥åŠå¼ºåˆ¶è§£æ" class="headerlink" title="1.11.2        ifè¯­å¥ä»¥åŠå¼ºåˆ¶è§£æ"></a>1.11.2        ifè¯­å¥ä»¥åŠå¼ºåˆ¶è§£æ</h3><blockquote>
<ol>
<li>é€šè¿‡åˆ¤æ–­å¯é€‰å‹æ˜¯å¦<code>!= nil</code>,åˆ¤æ–­å¯é€‰å‹æ˜¯å¦å­˜åœ¨å€¼</li>
<li>å¦‚æœå­˜åœ¨(å¦åˆ™ä¼šæŠ¥é”™)é€šè¿‡<code>å¯é€‰å‹å˜é‡æˆ–å¸¸é‡!</code>å¼ºåˆ¶è§£æ</li>
</ol>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> possibleNumber = <span class="string">"123"</span></span><br><span class="line"><span class="comment">// å¼ºåˆ¶ç±»å‹è½¬æ¢è¿”å›çš„æ˜¯ä¸€ä¸ªå¯é€‰å‹</span></span><br><span class="line"><span class="keyword">let</span> convertedNumber = <span class="type">Int</span>(possibleNumber)</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡ !å¼ºåˆ¶è§£æ</span></span><br><span class="line"><span class="keyword">if</span> convertedNumber != <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"convertedNumber has an integer value of \(convertedNumber!)"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-11-3-å¯é€‰ç»‘å®š"><a href="#1-11-3-å¯é€‰ç»‘å®š" class="headerlink" title="1.11.3    å¯é€‰ç»‘å®š"></a>1.11.3    å¯é€‰ç»‘å®š</h3><blockquote>
<p><strong>ç”¨é€”ï¼š</strong>æ›´åŠ ä¾¿æ·åœ°è§£åŒ…å¯é€‰å‹å€¼ã€‚<br><strong>é™åˆ¶ï¼š</strong>åªèƒ½ç»“åˆ<code>if</code>æˆ–<code>while</code>ä½¿ç”¨<br><strong>è¯´æ˜ï¼š</strong>å¦‚æœåŒ…å«å€¼å°±æŠŠå€¼èµ‹ç»™ä¸€ä¸ªä¸´æ—¶<code>å¸¸é‡</code>æˆ–è€…<code>å˜é‡</code>ã€‚</p>
</blockquote>
<h4 id="ç»‘å®šä¸€ä¸ª"><a href="#ç»‘å®šä¸€ä¸ª" class="headerlink" title="ç»‘å®šä¸€ä¸ª"></a>ç»‘å®šä¸€ä¸ª</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> possibleNumber = <span class="string">"abc"</span>;</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> actualNumber = <span class="type">Int</span>(possibleNumber) &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœç¡®å®åŒ…å«ä¸€ä¸ªå€¼</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"\'\(possibleNumber)\' has an integer value of \(actualNumber)"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// å¯é€‰å€¼ä¸ºnil</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"\'\(possibleNumber)\' could not be converted to an integer"</span>)<span class="comment">// 'abc' could not be converted to an intege</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="æ‰¹é‡ç»‘å®š"><a href="#æ‰¹é‡ç»‘å®š" class="headerlink" title="æ‰¹é‡ç»‘å®š"></a>æ‰¹é‡ç»‘å®š</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> firstNumber = <span class="type">Int</span>(<span class="string">"4"</span>), secondNumber = <span class="type">Int</span>(<span class="string">"42"</span>) <span class="keyword">where</span> firstNumber &lt; secondNumber &#123;</span><br><span class="line">    <span class="comment">// 4 &lt; 42</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"\(firstNumber) &lt; \(secondNumber)"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-11-4-éšå¼è§£æå¯é€‰ç±»å‹"><a href="#1-11-4-éšå¼è§£æå¯é€‰ç±»å‹" class="headerlink" title="1.11.4    éšå¼è§£æå¯é€‰ç±»å‹"></a>1.11.4    éšå¼è§£æå¯é€‰ç±»å‹</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç›¸å½“äºå£°æ˜å¯é€‰å‹(<code>ç±»å‹?</code>)å’Œå¼ºåˆ¶è§£åŒ…(<code>å¯é€‰å‹!</code>)ä¸¤ä¸ªè¿‡ç¨‹çš„ç»“åˆã€‚</p>
<ul>
<li>è¢«èµ‹å€¼åï¼Œå€¼è¦ä¹ˆæ˜¯è§£åŒ…åçš„å€¼ï¼Œè¦ä¹ˆæ˜¯<code>nil</code></li>
<li>åœ¨å¯é€‰ç»‘å®šä¸­ä»ç„¶å¯ä»¥ä½œä¸ºæ™®é€šå¯é€‰ç±»å‹ä½¿ç”¨</li>
</ul>
<p><strong>é™åˆ¶ï¼š</strong>å³è¾¹è¡¨è¾¾å¼çš„è¿”å›å€¼å¿…é¡»æ˜¯å¯é€‰å‹ï¼Œå¦åˆ™å°†æŠ¥é”™ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜å¯é€‰å‹å¹¶å¼ºåˆ¶è§£æ</span></span><br><span class="line"><span class="keyword">let</span> possibleString: <span class="type">String</span>? = <span class="string">"An optional string."</span></span><br><span class="line"><span class="keyword">let</span> forcedString: <span class="type">String</span> = possibleString!</span><br><span class="line"></span><br><span class="line"><span class="comment">// éšå¼è§£æ(ä¸€æ­¥åˆ°ä½)</span></span><br><span class="line"><span class="keyword">let</span> assumedString: <span class="type">String</span>! = <span class="string">"An implicitly unwrapped optional string."</span></span><br><span class="line"><span class="keyword">if</span> assumedString != <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(assumedString)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨å¯é€‰ç»‘å®šä¸­ä½¿ç”¨éšå¼è§£æå¯é€‰ç±»å‹</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> definiteString = assumedString &#123;</span><br><span class="line">    <span class="built_in">print</span>(definiteString)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="1-12-é”™è¯¯å¤„ç†"><a href="#1-12-é”™è¯¯å¤„ç†" class="headerlink" title="1.12    é”™è¯¯å¤„ç†"></a>1.12    é”™è¯¯å¤„ç†</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ†ä½ä¸¤æ­¥</p>
<ol>
<li>å®šä¹‰å‡½æ•°æ—¶ï¼Œä½¿ç”¨<code>throws</code>æ ‡è®°å¯èƒ½æŠ›å‡ºé”™è¯¯çš„å‡½æ•°</li>
<li>ç”¨<code>do-try-catch</code>åŒ…å«å‡½æ•°çš„è°ƒç”¨è¿‡ç¨‹å’Œé”™è¯¯å¤„ç†æ–¹å¼</li>
</ol>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">makeASandwich</span><span class="params">()</span></span> <span class="keyword">throws</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="comment">// å¯èƒ½æŠ¥é”™çš„å‡½æ•°çš„è°ƒç”¨å‰å¿…é¡»åŠ å…³é”®å­— try</span></span><br><span class="line">    <span class="keyword">try</span> makeASandwich()</span><br><span class="line">    <span class="comment">// å¦‚æœæ²¡æœ‰æŠ¥é”™åˆ™æ‰§è¡Œ</span></span><br><span class="line">    eatASandwich()</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> <span class="type">Error</span>.<span class="type">OutOfCleanDishes</span> &#123;</span><br><span class="line">    <span class="comment">// æ•è·é”™è¯¯ç±»å‹1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> <span class="type">Error</span>.<span class="type">MissingIngredients</span>(<span class="keyword">let</span> ingredients) &#123;</span><br><span class="line">    <span class="comment">// æ•è·é”™è¯¯ç±»å‹2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="1-13-æ–­è¨€"><a href="#1-13-æ–­è¨€" class="headerlink" title="1.13    æ–­è¨€"></a>1.13    æ–­è¨€</h2><blockquote>
<p><strong>ç”¨é€”ï¼š</strong>å½“æ»¡è¶³ä¸€å®šæ¡ä»¶æ—¶ç»“æŸä»£ç è¿è¡Œé€šè¿‡è°ƒè¯•æ¥æ‰¾åˆ°å€¼ç¼ºå¤±çš„åŸå› ã€‚<br><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>æ•´æ•°ç±»å‹çš„ä¸‹æ ‡ç´¢å¼•è¢«ä¼ å…¥ä¸€ä¸ªè‡ªå®šä¹‰ä¸‹æ ‡è„šæœ¬å®ç°ï¼Œä½†æ˜¯ä¸‹æ ‡ç´¢å¼•å€¼å¯èƒ½å¤ªå°æˆ–è€…å¤ªå¤§</li>
<li>éœ€è¦ç»™å‡½æ•°ä¼ å…¥ä¸€ä¸ªå€¼ï¼Œä½†æ˜¯éæ³•çš„å€¼å¯èƒ½å¯¼è‡´å‡½æ•°ä¸èƒ½æ­£å¸¸æ‰§è¡Œ</li>
<li>ä¸€ä¸ªå¯é€‰å€¼ç°åœ¨æ˜¯<code>nil</code>ï¼Œä½†æ˜¯åé¢çš„ä»£ç è¿è¡Œéœ€è¦ä¸€ä¸ªé<code>nil</code>çš„å€¼</li>
</ul>
</blockquote>
<h3 id="assertå‡½æ•°"><a href="#assertå‡½æ•°" class="headerlink" title="assertå‡½æ•°"></a>assertå‡½æ•°</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä¸€ä¸ªé€»è¾‘æ¡ä»¶æ˜¯å¦ä¸º<code>true</code></p>
<ul>
<li>å¦‚æœä¸º<code>true</code>ï¼Œä»£ç ç»§ç»­è¿è¡Œ</li>
<li>å¦‚æœä¸º<code>false</code>ï¼Œä»£ç æ‰§è¡Œç»“æŸ</li>
<li>å¯ä»¥é™„åŠ ä¸€æ¡è°ƒè¯•ä¿¡æ¯</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong>åœ¨Xcode ä¸­ä½¿ç”¨<code>target Release</code>é…ç½®ä¸º<code>build</code>æ—¶ï¼Œæ–­è¨€ä¼šè¢«ç¦ç”¨ã€‚<br><strong>åŸå‹ï¼š</strong><code>å…¨å±€</code></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">/**</span><br><span class="line">&gt;* @param &#123;Bool&#125; condition ç»“æœä¸ºtrueæˆ–falseçš„è¡¨è¾¾å¼</span><br><span class="line">&gt;* @param &#123;String=&#125; message è°ƒè¯•ä¿¡æ¯</span><br><span class="line">&gt;*/</span></span><br><span class="line">&gt;<span class="type">Void</span> <span class="built_in">assert</span>(condition: <span class="type">Bool</span>,  message: <span class="type">String</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> age = -<span class="number">3</span></span><br><span class="line"><span class="built_in">assert</span>(age &gt;= <span class="number">0</span>, <span class="string">"Aperson's age cannot be less than zero"</span>);</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/TSPL2_0 ç®€ä»‹/" itemprop="url">
                  ç®€ä»‹
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T19:31:15+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/TSPL2_0 ç®€ä»‹/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/TSPL2_0 ç®€ä»‹/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="0-1-å…³äºSwift-About-Swift"><a href="#0-1-å…³äºSwift-About-Swift" class="headerlink" title="0.1    å…³äºSwift(About Swift)"></a>0.1    å…³äºSwift(About Swift)</h2><blockquote>
<p><strong>ç”¨é€”ï¼š</strong>ç¼–å†™<code>IOS</code>ã€<code>OS X</code>ã€<code>watchOS</code>åº”ç”¨ç¨‹åº<br><strong>ç‰¹ç‚¹å½’çº³ï¼š</strong></p>
<ul>
<li>åŸºäº<code>Cocoa</code>å’Œ<code>Cocoa Touch</code>æ¡†æ¶</li>
<li>è‡ªåŠ¨åƒåœ¾å›æ”¶ï¼ˆè‡ªåŠ¨å¼•ç”¨è®¡æ•°ï¼‰</li>
<li>é‡‡ç”¨äº†<code>Object-C</code>çš„å‘½åå‚æ•°å’ŒåŠ¨æ€å¯¹è±¡æ¨¡å‹ï¼Œå…¼å®¹<code>Object-C</code>ï¼Œå¯ä»¥æ— ç¼å¯¹æ¥åˆ°ç°æœ‰çš„<code>Cocoa</code>æ¡†æ¶</li>
<li>æ”¯æŒ<code>è¿‡ç¨‹å¼ç¼–ç¨‹</code>å’Œ<code>é¢å‘å¯¹è±¡ç¼–ç¨‹</code></li>
<li>æ”¯æŒä»£ç é¢„è§ˆï¼ˆåƒè„šæœ¬è¯­è¨€ä¸€æ ·ï¼Œå¯ä»¥å®æ—¶æŸ¥çœ‹ç»“æœï¼‰</li>
</ul>
</blockquote>
<h2 id="0-2-Swiftåˆè§ï¼ˆA-Swift-Tourï¼‰"><a href="#0-2-Swiftåˆè§ï¼ˆA-Swift-Tourï¼‰" class="headerlink" title="0.2    Swiftåˆè§ï¼ˆA Swift Tourï¼‰"></a>0.2    Swiftåˆè§ï¼ˆA Swift Tourï¼‰</h2><h3 id="0-2-1-ç®€å•å€¼ï¼ˆSimple-Valuesï¼‰"><a href="#0-2-1-ç®€å•å€¼ï¼ˆSimple-Valuesï¼‰" class="headerlink" title="0.2.1    ç®€å•å€¼ï¼ˆSimple Valuesï¼‰"></a>0.2.1    ç®€å•å€¼ï¼ˆSimple Valuesï¼‰</h3><h4 id="0-2-1-1-è‡ªåŠ¨æ¨æ–­ç±»å‹"><a href="#0-2-1-1-è‡ªåŠ¨æ¨æ–­ç±»å‹" class="headerlink" title="0.2.1.1    è‡ªåŠ¨æ¨æ–­ç±»å‹"></a>0.2.1.1    è‡ªåŠ¨æ¨æ–­ç±»å‹</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å£°æ˜çš„åŒæ—¶èµ‹å€¼çš„è¯ï¼Œå¦‚æœä¸æŒ‡å®šç±»å‹ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ¨æ–­å…¶ç±»å‹ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è‡ªåŠ¨æ¨æ–­ç±»å‹ä¸ºinteger</span></span><br><span class="line"><span class="keyword">let</span> implicitInteger = <span class="number">70</span></span><br><span class="line"><span class="comment">// è‡ªåŠ¨æ¨æ–­ç±»å‹ä¸ºdouble</span></span><br><span class="line"><span class="keyword">let</span> implicitDouble = <span class="number">70.0</span></span><br></pre></td></tr></table></figure>
<h4 id="0-2-1-2-æŒ‡å®šç±»å‹"><a href="#0-2-1-2-æŒ‡å®šç±»å‹" class="headerlink" title="0.2.1.2    æŒ‡å®šç±»å‹"></a>0.2.1.2    æŒ‡å®šç±»å‹</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æŒ‡å®šç±»å‹ä¼šå¯¼è‡´å¼ºåˆ¶ç±»å‹è½¬æ¢</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŒ‡å®šç±»å‹ä¸ºdouble</span></span><br><span class="line"><span class="keyword">let</span> explicitDouble:<span class="type">Double</span> = <span class="number">70</span></span><br></pre></td></tr></table></figure>
<h4 id="0-2-1-3-æ˜¾ç¤ºè½¬æ¢ï¼ˆåœ¨è¡¨è¾¾å¼ä¸­ï¼‰"><a href="#0-2-1-3-æ˜¾ç¤ºè½¬æ¢ï¼ˆåœ¨è¡¨è¾¾å¼ä¸­ï¼‰" class="headerlink" title="0.2.1.3    æ˜¾ç¤ºè½¬æ¢ï¼ˆåœ¨è¡¨è¾¾å¼ä¸­ï¼‰"></a>0.2.1.3    æ˜¾ç¤ºè½¬æ¢ï¼ˆåœ¨è¡¨è¾¾å¼ä¸­ï¼‰</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è¡¨è¾¾å¼ä¸­çš„å€¼ä»»ä½•æ—¶å€™éƒ½ä¸ä¼šå‘ç”Ÿéšå¼è½¬åŒ–ã€‚éœ€è¦è½¬æ¢ä¸ºå…¶å®ƒç±»å‹å¿…é¡»è¿›è¡Œæ˜¾ç¤ºè½¬æ¢ã€‚<br><strong>ç‰¹åˆ«ï¼š</strong><code>\(å˜é‡æˆ–è¡¨è¾¾å¼)</code>ï¼ˆè½¬æ¢æˆå­—ç¬¦ä¸²ç±»å‹ï¼‰</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// string</span></span><br><span class="line"><span class="keyword">let</span> label = <span class="string">"The width is"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// integer</span></span><br><span class="line"><span class="keyword">let</span> width = <span class="number">94</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// integeræ˜¾ç¤ºè½¬æ¢ä¸ºstring</span></span><br><span class="line"><span class="keyword">let</span> widthLabel = label + <span class="type">String</span>(width)</span><br></pre></td></tr></table></figure>
<p><em><code>\(å˜é‡æˆ–è¡¨è¾¾å¼)</code></em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> apples = <span class="number">3</span></span><br><span class="line"><span class="keyword">let</span> oranges = <span class="number">5</span></span><br><span class="line"><span class="keyword">let</span> appleSummary = <span class="string">"I have \(apples) apples."</span></span><br><span class="line"><span class="keyword">let</span> fruitSummary = <span class="string">"I have \(apples + oranges) pices of fruit."</span></span><br></pre></td></tr></table></figure>
<h4 id="0-2-1-4-æ•°ç»„å’Œå­—å…¸"><a href="#0-2-1-4-æ•°ç»„å’Œå­—å…¸" class="headerlink" title="0.2.1.4    æ•°ç»„å’Œå­—å…¸"></a>0.2.1.4    æ•°ç»„å’Œå­—å…¸</h4><p><em>å£°æ˜å¹¶åˆå§‹åŒ–ï¼ˆè‡ªåŠ¨æ¨æ–­ç±»å‹ï¼‰</em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•°ç»„</span></span><br><span class="line"><span class="keyword">var</span> shoppingList = [<span class="string">"catfish"</span>, <span class="string">"water"</span>, <span class="string">"tulips"</span>, <span class="string">"blue paint"</span>]</span><br><span class="line">shoppingList[<span class="number">1</span>] = <span class="string">"bottle of water"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å­—å…¸</span></span><br><span class="line"><span class="keyword">var</span> occupations = [</span><br><span class="line">    <span class="string">"Malcolm"</span>: <span class="string">"Caption"</span>,</span><br><span class="line">    <span class="string">"Kaylee"</span>: <span class="string">"Mechanic"</span></span><br><span class="line">]</span><br><span class="line">occupations[<span class="string">"Jayne"</span>] = <span class="string">"Public Relations"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¸…ç©ºï¼ˆç±»å‹ä¿¡æ¯å¯ä»¥è¢«æ¨æ–­å‡ºæ¥ï¼‰</span></span><br><span class="line">shoppingList = []</span><br><span class="line">occuations = [:]</span><br></pre></td></tr></table></figure>
<p><em>ç©ºæ•°ç»„å’Œç©ºå­—å…¸</em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç©ºæ•°ç»„(æŒ‡å®šæ¯ä¸ªå…ƒç´ çš„ç±»å‹)</span></span><br><span class="line"><span class="keyword">let</span> emptyArry = [<span class="type">String</span>]()</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç©ºå­—å…¸ï¼ˆæŒ‡å®šé”®çš„ç±»å‹å’Œå€¼çš„ç±»å‹ï¼‰</span></span><br><span class="line"><span class="keyword">let</span> emptyDictionary = [<span class="type">String</span>:<span class="type">Float</span>]()</span><br></pre></td></tr></table></figure>
<h3 id="0-2-2-æ§åˆ¶æµï¼ˆControl-Flowï¼‰"><a href="#0-2-2-æ§åˆ¶æµï¼ˆControl-Flowï¼‰" class="headerlink" title="0.2.2    æ§åˆ¶æµï¼ˆControl Flowï¼‰"></a>0.2.2    æ§åˆ¶æµï¼ˆControl Flowï¼‰</h3><h4 id="0-2-2-1-æ¡ä»¶åˆ¤æ–­"><a href="#0-2-2-1-æ¡ä»¶åˆ¤æ–­" class="headerlink" title="0.2.2.1    æ¡ä»¶åˆ¤æ–­"></a>0.2.2.1    æ¡ä»¶åˆ¤æ–­</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æœ‰ä¸¤ç±»</p>
<ul>
<li>if</li>
<li>switch</li>
</ul>
<p><strong>ifè¯­æ³•ï¼š</strong></p>
<ul>
<li>åŒ…è£¹æ¡ä»¶çš„<code>()</code>å¯ä»¥çœç•¥</li>
<li>è¯­å¥çš„<code>{}</code>ä¸å¯ä»¥çœç•¥</li>
<li><code>æ¡ä»¶</code>å¿…é¡»æ˜¯ä¸€ä¸ª<code>å¸ƒå°”è¡¨è¾¾å¼</code>ï¼ˆå…¶å®ƒæ•°æ®ç±»å‹ä¼šæŠ¥é”™ï¼Œå› ä¸ºä¸ä¼šéšå¼è½¬æ¢ï¼‰</li>
</ul>
<p><strong>switchè¯­æ³•ï¼š</strong></p>
<ul>
<li>æ”¯æŒä»»æ„ç±»å‹ï¼ˆä¸ä»…ä»…æ˜¯æ•´æ•°ï¼‰</li>
<li>æ”¯æŒå„ç§æ¯”è¾ƒæ“ä½œï¼ˆä¸ä»…ä»…æ˜¯æµ‹è¯•æƒ³ç­‰ï¼‰</li>
<li><code>case</code>åå¯ä»¥æœ‰å¤šä¸ªæ•°æ®</li>
<li><code>case</code>åå¯ä»¥ä½¿ç”¨<code>where</code>å­—å¥</li>
<li>åŒ¹é…å­—å¥åç¨‹åºä¼šé€€å‡º<code>switch</code>ï¼Œä¸éœ€è¦åœ¨æ¯ä¸ªå­—å¥ç»“å°¾å†™break</li>
<li>â€¦<br><strong>æŠ€å·§ï¼š</strong><code>if</code>å’Œ<code>let</code>ç»„åˆèµ·æ¥ä½¿ç”¨å¯ä»¥æ¥ä¸ºå¯é€‰å€¼è§£åŒ…</li>
</ul>
</blockquote>
<p><em>if(é…åˆletè§£åŒ…å¯é€‰å€¼)</em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> optionalString:<span class="type">String</span>? = <span class="string">"Hello"</span></span><br><span class="line"><span class="built_in">print</span>(optionalString == <span class="literal">nil</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> optionalName:<span class="type">String</span>? = <span class="string">"Join Appleseed"</span></span><br><span class="line"><span class="keyword">var</span> greeting = <span class="string">"Hello"</span></span><br><span class="line"><span class="comment">// å°†å¯é€‰å€¼optionalNameè§£åŒ…åçš„å€¼ç»™name</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> name = optionalName &#123;</span><br><span class="line">    greeting = <span class="string">"Hello, \(name)"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    greeting = <span class="string">"Hello"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>switch</em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> vegetable = <span class="string">"red pepper"</span></span><br><span class="line"><span class="keyword">switch</span> vegetable &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"celery"</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Add some raisins and make ants on a log."</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"cucumber"</span>, <span class="string">"watercress"</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"That would make a good tea sandwich."</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">let</span> x <span class="keyword">where</span> x.hasSuffix(<span class="string">"pepper"</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Is it a spicy \(x)?"</span>)</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"Everything tasts good in soup."</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="0-2-2-2-å¾ªç¯"><a href="#0-2-2-2-å¾ªç¯" class="headerlink" title="0.2.2.2    å¾ªç¯"></a>0.2.2.2    å¾ªç¯</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æœ‰4ç±»</p>
<ul>
<li>for-in</li>
<li>for</li>
<li>while</li>
<li>repeat-while</li>
</ul>
</blockquote>
<p><em>for-in</em></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯»æ‰¾å­—å…¸ä¸­çš„æ‰€æœ‰æ•°ç»„ä¸­çš„æœ€å¤§å€¼</span></span><br><span class="line">let interestingNumbers = [</span><br><span class="line">    <span class="string">"Prime"</span>: [<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">13</span>],</span><br><span class="line">    <span class="string">"Fibonacci"</span>: [<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">8</span>],</span><br><span class="line">    <span class="string">"Square"</span>: [<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>]</span><br><span class="line">]</span><br><span class="line">var largest = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> (kind, numbers) in interestingNumbers &#123;</span><br><span class="line">    <span class="keyword">for</span> number in numbers &#123;</span><br><span class="line">        <span class="keyword">if</span> number &gt; largest &#123;</span><br><span class="line">            largest = number</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">print(largest)<span class="comment">// 25</span></span><br></pre></td></tr></table></figure>
<p><em>repeat-while</em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n = <span class="number">2</span></span><br><span class="line"><span class="keyword">while</span> n &lt; <span class="number">100</span> &#123;</span><br><span class="line">    n = n * <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(n)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> m = <span class="number">2</span></span><br><span class="line"><span class="keyword">repeat</span> &#123;</span><br><span class="line">    m = m * <span class="number">2</span></span><br><span class="line">&#125; <span class="keyword">while</span> m &lt; <span class="number">100</span></span><br><span class="line"><span class="built_in">print</span>(m)</span><br></pre></td></tr></table></figure>
<p><em>for</em></p>
<blockquote>
<p><strong>åŒºé—´ï¼š</strong></p>
<ul>
<li>åŒ…å«è¾¹ç•Œï¼š<code>...</code></li>
<li>ä¸åŒ…å«ä¸Šè¾¹ç•Œï¼š<code>..&lt;</code></li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŒºé—´çš„æ–¹å¼</span></span><br><span class="line"><span class="keyword">var</span> firstForLoop = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;<span class="number">4</span> &#123;</span><br><span class="line">    firstForLoop += i</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(firstForLoop)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¼ ç»Ÿçš„æ–¹å¼</span></span><br><span class="line"><span class="keyword">var</span> secondForLoop = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> <span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; ++i &#123;</span><br><span class="line">    secondForLoop += i</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(secondForLoop)</span><br></pre></td></tr></table></figure>
<h3 id="0-2-3-å‡½æ•°å’Œé—­åŒ…ï¼ˆFunctions-and-Closuresï¼‰"><a href="#0-2-3-å‡½æ•°å’Œé—­åŒ…ï¼ˆFunctions-and-Closuresï¼‰" class="headerlink" title="0.2.3    å‡½æ•°å’Œé—­åŒ…ï¼ˆFunctions and Closuresï¼‰"></a>0.2.3    å‡½æ•°å’Œé—­åŒ…ï¼ˆFunctions and Closuresï¼‰</h3><h4 id="0-2-3-1-ç®€å•å‡½æ•°"><a href="#0-2-3-1-ç®€å•å‡½æ•°" class="headerlink" title="0.2.3.1    ç®€å•å‡½æ•°"></a>0.2.3.1    ç®€å•å‡½æ•°</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">greet</span><span class="params">(name: String, day: String)</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Hello \(name), today is \(day)."</span></span><br><span class="line">&#125;</span><br><span class="line">greet(<span class="string">"Bob"</span>, day: <span class="string">"Tuesday"</span>)<span class="comment">// ç¬¬ä¸€ä¸ªå‚æ•°ä¸ç”¨è¯´æ˜label</span></span><br></pre></td></tr></table></figure>
<h4 id="0-2-3-2-è¿”å›å…ƒç»„"><a href="#0-2-3-2-è¿”å›å…ƒç»„" class="headerlink" title="0.2.3.2    è¿”å›å…ƒç»„"></a>0.2.3.2    è¿”å›å…ƒç»„</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‰¾åˆ°å…ƒç»„çš„æœ€å¤§å€¼ã€æœ€å°å€¼å’Œæ€»å’Œ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">calculateStatistics</span><span class="params">(scores: [Int])</span></span> -&gt; (<span class="built_in">min</span>: <span class="type">Int</span>, <span class="built_in">max</span>: <span class="type">Int</span>, sum: <span class="type">Int</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="built_in">min</span> = scores[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">var</span> <span class="built_in">max</span> = scores[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">var</span> sum = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> score <span class="keyword">in</span> scores &#123;</span><br><span class="line">        <span class="keyword">if</span> score &gt; <span class="built_in">max</span> &#123;</span><br><span class="line">            <span class="built_in">max</span> = score</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> score &lt; <span class="built_in">min</span> &#123;</span><br><span class="line">            <span class="built_in">min</span> = score</span><br><span class="line">        &#125;</span><br><span class="line">        sum += score</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="built_in">min</span>, <span class="built_in">max</span>, sum)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="keyword">let</span> statistics = calculateStatistics([<span class="number">5</span>, <span class="number">3</span>, <span class="number">100</span>, <span class="number">3</span>, <span class="number">9</span>])</span><br><span class="line"><span class="built_in">print</span>(statistics.sum)</span><br><span class="line"><span class="built_in">print</span>(statistics.<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<h4 id="0-2-3-3-å¯å˜å‚æ•°"><a href="#0-2-3-3-å¯å˜å‚æ•°" class="headerlink" title="0.2.3.3    å¯å˜å‚æ•°"></a>0.2.3.3    å¯å˜å‚æ•°</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯å˜å‚æ•°å‡½æ•°</span></span><br><span class="line"><span class="comment">// è®¡ç®—æ€»å’Œ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sumOf</span><span class="params">(numbers: Int...)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> sum = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> number <span class="keyword">in</span> numbers &#123;</span><br><span class="line">        sum += number</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum</span><br><span class="line">&#125;</span><br><span class="line">sumOf()</span><br><span class="line">sumOf(<span class="number">42</span>, <span class="number">597</span>, <span class="number">12</span>)</span><br></pre></td></tr></table></figure>
<h4 id="0-2-3-4-å‡½æ•°åµŒå¥—"><a href="#0-2-3-4-å‡½æ•°åµŒå¥—" class="headerlink" title="0.2.3.4    å‡½æ•°åµŒå¥—"></a>0.2.3.4    å‡½æ•°åµŒå¥—</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¦‚æœåµŒå¥—çš„å‡½æ•°è¢«è¿”å›ï¼Œè°ƒç”¨è¿”å›çš„å‡½æ•°å°±ä¼šå‡ºç°é—­åŒ…çš„æ•ˆæœã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡½æ•°åµŒå¥—</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">returnFifteen</span><span class="params">()</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> y = <span class="number">10</span></span><br><span class="line">    <span class="comment">// å‡½æ•°å†…éƒ¨çš„å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">()</span></span> &#123;</span><br><span class="line">        y += <span class="number">5</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è°ƒç”¨å‡½æ•°å†…éƒ¨çš„å‡½æ•°</span></span><br><span class="line">    add()</span><br><span class="line">    <span class="keyword">return</span> y</span><br><span class="line">&#125;</span><br><span class="line">returnFifteen()</span><br></pre></td></tr></table></figure>
<h4 id="0-2-3-5-è¿”å›å‡½æ•°"><a href="#0-2-3-5-è¿”å›å‡½æ•°" class="headerlink" title="0.2.3.5    è¿”å›å‡½æ•°"></a>0.2.3.5    è¿”å›å‡½æ•°</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è¿”å›çš„å‡½æ•°æ˜¯é—­åŒ…çš„ä¸€ç§</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿”å›å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">makeIncrementer</span><span class="params">()</span></span> -&gt; (<span class="type">Int</span> -&gt; <span class="type">Int</span>) &#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">addOne</span><span class="params">(number: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> + number</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> addOne</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> increment = makeIncrementer()</span><br><span class="line">increment(<span class="number">7</span>)</span><br></pre></td></tr></table></figure>
<h4 id="0-2-3-6-å‡½æ•°ä½œä¸ºå‚æ•°"><a href="#0-2-3-6-å‡½æ•°ä½œä¸ºå‚æ•°" class="headerlink" title="0.2.3.6    å‡½æ•°ä½œä¸ºå‚æ•°"></a>0.2.3.6    å‡½æ•°ä½œä¸ºå‚æ•°</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨å‡½æ•°ä½œä¸ºå‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">hasAnyMatches</span><span class="params">(list: [Int], condition: Int -&gt; Bool)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> list &#123;</span><br><span class="line">        <span class="keyword">if</span> condition(item) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¢«ä½œä¸ºå‚æ•°çš„å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">lessThanThen</span><span class="params">(number: Int)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> number &lt; <span class="number">10</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="keyword">var</span> numbers = [<span class="number">20</span>, <span class="number">19</span>, <span class="number">7</span>, <span class="number">12</span>]</span><br><span class="line">hasAnyMatches(numbers, condition: lessThanThen)</span><br></pre></td></tr></table></figure>
<h4 id="0-2-3-7-åŒ¿åå‡½æ•°ï¼ˆåŒ¿åé—­åŒ…ï¼‰"><a href="#0-2-3-7-åŒ¿åå‡½æ•°ï¼ˆåŒ¿åé—­åŒ…ï¼‰" class="headerlink" title="0.2.3.7    åŒ¿åå‡½æ•°ï¼ˆåŒ¿åé—­åŒ…ï¼‰"></a>0.2.3.7    åŒ¿åå‡½æ•°ï¼ˆåŒ¿åé—­åŒ…ï¼‰</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åŒ¿åå‡½æ•°å†™æ³•éå¸¸è‡ªç”±</p>
<ul>
<li>å¦‚æœä¸€ä¸ªé—­åŒ…çš„ç±»å‹å·²çŸ¥ï¼Œæ¯”å¦‚ä½œä¸ºä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå¯ä»¥å¿½ç•¥å‚æ•°çš„ç±»å‹å’Œè¿”å›å€¼</li>
<li>å•ä¸ªè¯­å¥é—­åŒ…ä¼šæŠŠå®ƒè¯­å¥çš„å€¼å½“ä½œç»“æœè¿”å›</li>
<li>å¯ä»¥é€šè¿‡å‚æ•°ä½ç½®è€Œä¸æ˜¯å‚æ•°åå¼•ç”¨å‚æ•°</li>
<li>å½“ä¸€ä¸ªé—­åŒ…ä½œä¸ºæœ€åä¸€ä¸ªå‚æ•°ä¼ ç»™ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œå®ƒå¯ä»¥ç›´æ¥è·Ÿåœ¨æ‹¬å·åé¢</li>
<li>å½“ä¸€ä¸ªé—­åŒ…æ˜¯ä¼ ç»™å‡½æ•°çš„å”¯ä¸€å‚æ•°ï¼Œå¯ä»¥å®Œå…¨å¿½ç•¥<code>()</code></li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŒ¿åé—­åŒ…1ï¼ˆåŒ…å«å‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹ï¼‰</span></span><br><span class="line">numbers.<span class="built_in">map</span>(&#123;</span><br><span class="line">    (number:<span class="type">Int</span>) -&gt; <span class="type">Int</span> <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">let</span> result = <span class="number">3</span> * number</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// åŒ¿åé—­åŒ…2ï¼ˆå¯ä»¥æ¨å¯¼å‡ºé—­åŒ…çš„å‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹çš„è¯ï¼Œä¸¤è€…éƒ½å¯ä»¥çœç•¥ï¼‰</span></span><br><span class="line"><span class="keyword">let</span> mappedNumbers = numbers.<span class="built_in">map</span>(&#123;number <span class="keyword">in</span> <span class="number">3</span> * number&#125;)</span><br><span class="line"><span class="built_in">print</span>(mappedNumbers)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŒ¿åé—­åŒ…3ï¼ˆå‡½æ•°ä½“ä¸­é€šè¿‡å‚æ•°ä½ç½®è€Œä¸æ˜¯å‚æ•°åè®¿é—®å‚æ•°ï¼‰</span></span><br><span class="line"><span class="keyword">let</span> sortedNumbers = numbers.<span class="built_in">sort</span> &#123; $<span class="number">0</span> &gt; $<span class="number">1</span> &#125;</span><br><span class="line"><span class="built_in">print</span>(sortedNumbers)</span><br></pre></td></tr></table></figure>
<h3 id="0-2-4-å¯¹è±¡å’Œç±»ï¼ˆObject-and-Classesï¼‰"><a href="#0-2-4-å¯¹è±¡å’Œç±»ï¼ˆObject-and-Classesï¼‰" class="headerlink" title="0.2.4    å¯¹è±¡å’Œç±»ï¼ˆObject and Classesï¼‰"></a>0.2.4    å¯¹è±¡å’Œç±»ï¼ˆObject and Classesï¼‰</h3><blockquote>
<p><strong>è¯­æ³•ï¼š</strong></p>
<ul>
<li><code>class ç±»å‹å {...}</code></li>
<li>ä½¿ç”¨<code>.</code>è®¿é—®å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•</li>
<li>åœ¨æˆå‘˜æ–¹æ³•ä¸­ä½¿ç”¨<code>self</code>å¼•ç”¨å½“å‰å®ä¾‹å¯¹è±¡</li>
<li>ä½¿ç”¨æ„é€ å‡½æ•°<code>init</code>åˆå§‹åŒ–ç±»å®ä¾‹</li>
<li>ä½¿ç”¨ææ„å‡½æ•°<code>deinit</code>åœ¨åˆ é™¤å¯¹è±¡ä¹‹å‰åšä¸€äº›æ¸…ç†å·¥ä½œ</li>
<li>æ²¡æœ‰æ ‡å‡†çš„æ ¹ç±»ï¼ˆä¸åŒäº<code>java</code>ï¼‰</li>
<li>å­ç±»çš„å®šä¹‰ï¼š<code>class å­ç±»å:çˆ¶ç±»å</code></li>
<li>é‡å†™çˆ¶ç±»çš„æ–¹æ³•è®¸å¿…é¡»ç”¨<code>override</code>æ ‡è®°</li>
</ul>
</blockquote>
<p><em>ç®€å•ç±»</em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å½¢çŠ¶</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å®ä¾‹å±æ€§</span></span><br><span class="line">    <span class="keyword">var</span> numberOfSides = <span class="number">0</span></span><br><span class="line">    <span class="comment">// å®ä¾‹æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">simpleDescription</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"A shape with \(numberOfSides) sides."</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºå®ä¾‹</span></span><br><span class="line"><span class="keyword">var</span> shape = <span class="type">Shape</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ“ä½œå®ä¾‹çš„æˆå‘˜</span></span><br><span class="line">shape.numberOfSides = <span class="number">7</span></span><br><span class="line"><span class="keyword">var</span> shapeDescription = shape.simpleDescription()</span><br></pre></td></tr></table></figure>
<p><em>æ„é€ å‡½æ•°å’Œå­ç±»</em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¸¦åå­—çš„å½¢çŠ¶ï¼ˆåŸºç±»ï¼‰</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NamedShape</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> numberOfSides: <span class="type">Int</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="keyword">init</span>(name: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.name = name</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æˆå‘˜æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">simpleDescription</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"A shape with \(numberOfSides) sides."</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£æ–¹å½¢ï¼ˆå­ç±»ï¼‰</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Square</span>: <span class="title">NamedShape</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> sideLength: <span class="type">Double</span></span><br><span class="line">    <span class="keyword">init</span>(sideLength: <span class="type">Double</span>, name: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.sideLength = sideLength</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(name: name)</span><br><span class="line">        numberOfSides = <span class="number">4</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">area</span><span class="params">()</span></span> -&gt;  <span class="type">Double</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> sideLength * sideLength</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é‡å†™</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">simpleDescription</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"A square with sides of length \(sideLength)."</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> test = <span class="type">Square</span>(sideLength: <span class="number">5.2</span>, name: <span class="string">"my test square"</span>)</span><br><span class="line">test.area()</span><br><span class="line">test.simpleDescription()</span><br></pre></td></tr></table></figure>
<h4 id="0-2-4-1-è®¡ç®—å±æ€§"><a href="#0-2-4-1-è®¡ç®—å±æ€§" class="headerlink" title="0.2.4.1    è®¡ç®—å±æ€§"></a>0.2.4.1    è®¡ç®—å±æ€§</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è®¡ç®—å±æ€§æœ‰getterå’Œsetter</p>
<ul>
<li>getï¼šè¯»å–å±æ€§æ—¶è¿”å›è®¡ç®—å‡ºçš„å±æ€§å€¼</li>
<li>setï¼šå†™å…¥å€¼æ—¶è¢«è°ƒç”¨ï¼Œå…¶ä¸­å†…ç½®å˜é‡<code>newValue</code>å­˜å‚¨æ–°å€¼</li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç­‰è…°ä¸‰è§’å½¢ï¼ˆå­ç±»ï¼‰</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EquilateralTriangle</span>: <span class="title">NamedShape</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> sideLength: <span class="type">Double</span> = <span class="number">0.0</span></span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="keyword">init</span>(sideLength: <span class="type">Double</span>, name: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.sideLength = sideLength</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(name: name)</span><br><span class="line">        numberOfSides = <span class="number">3</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è®¡ç®—å±æ€§ï¼šæä¾›getå’Œset</span></span><br><span class="line">    <span class="keyword">var</span> perimeter: <span class="type">Double</span> &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">3.0</span> * sideLength</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">set</span> &#123;</span><br><span class="line">            sideLength = newValue / <span class="number">3.0</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é‡å†™</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">simpleDescription</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"An equilateral triagle with sides of length \(sideLength)."</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> triangle = <span class="type">EquilateralTriangle</span>(sideLength: <span class="number">3.1</span>, name: <span class="string">"a triangle"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¿é—®è®¡ç®—å±æ€§ï¼ˆgetè¢«è°ƒç”¨ï¼‰</span></span><br><span class="line"><span class="built_in">print</span>(triangle.perimeter)</span><br><span class="line"><span class="comment">// è®¾ç½®è®¡ç®—å±æ€§ï¼ˆsetè®¡ç®—å±æ€§ï¼‰</span></span><br><span class="line">triangle.perimeter = <span class="number">9.9</span></span><br><span class="line"><span class="comment">// è®¿é—®å­˜å‚¨å±æ€§</span></span><br><span class="line"><span class="built_in">print</span>(triangle.sideLength)</span><br></pre></td></tr></table></figure>
<h4 id="0-2-4-2-å±æ€§ç›‘æ§"><a href="#0-2-4-2-å±æ€§ç›‘æ§" class="headerlink" title="0.2.4.2    å±æ€§ç›‘æ§"></a>0.2.4.2    å±æ€§ç›‘æ§</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸éœ€è¦è®¡ç®—å±æ€§ï¼Œä½†æ˜¯ä»ç„¶éœ€è¦åœ¨è®¾ç½®ä¸€ä¸ªæ–°å€¼ä¹‹å‰æˆ–è€…ä¹‹åè¿è¡Œä»£ç ã€‚å¯ä»¥ä½¿ç”¨<code>willset</code>å’Œ<code>didSet</code>ã€‚</p>
<ul>
<li>willsetï¼šåœ¨è®¾ç½®ä¹‹å‰è°ƒç”¨</li>
<li>didSetï¼šåœ¨è®¾ç½®ååè°ƒç”¨</li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŒ…å«ä¸€ä¸ªä¸‰è§’å½¢å®ä¾‹å’Œä¸€ä¸ªæ­£æ–¹å½¢å®ä¾‹ä½œä¸ºæˆå‘˜ï¼Œå¹¶ç¡®ä¿è¾¹é•¿ç›¸ç­‰</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TriangleAndSquare</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> triangle: <span class="type">EquilateralTriangle</span> &#123;</span><br><span class="line">        <span class="comment">// è®¾ç½®æ–°å€¼å‰è°ƒç”¨</span></span><br><span class="line">        <span class="keyword">willSet</span> &#123;</span><br><span class="line">            square.sideLength = newValue.sideLength</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> square: <span class="type">Square</span> &#123;</span><br><span class="line">        <span class="comment">// è®¾ç½®æ–°å€¼ä¹‹å‰è°ƒç”¨</span></span><br><span class="line">        <span class="keyword">willSet</span> &#123;</span><br><span class="line">            triangle.sideLength = newValue.sideLength</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">init</span> (size: <span class="type">Double</span>, name: <span class="type">String</span>) &#123;</span><br><span class="line">        square = <span class="type">Square</span>(sideLength: size, name: name)</span><br><span class="line">        triangle = <span class="type">EquilateralTriangle</span>(sideLength: size, name: name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºå®ä¾‹</span></span><br><span class="line"><span class="keyword">var</span> triangleAndSquare = <span class="type">TriangleAndSquare</span>(size: <span class="number">10</span>, name: <span class="string">"another test shape"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®å‰</span></span><br><span class="line"><span class="built_in">print</span>(triangleAndSquare.square.sideLength)</span><br><span class="line"><span class="built_in">print</span>(triangleAndSquare.triangle.sideLength)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®å…¶ä¸­ä¸€ä¸ªæˆå‘˜ï¼ˆä¼šè§¦å‘willsetï¼‰</span></span><br><span class="line">triangleAndSquare.square = <span class="type">Square</span>(sideLength: <span class="number">50</span>, name: <span class="string">"larger square"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®ä¹‹å</span></span><br><span class="line"><span class="built_in">print</span>(triangleAndSquare.triangle.sideLength)</span><br></pre></td></tr></table></figure>
<h4 id="0-2-4-3-å®ä¾‹æ˜¯å¯é€‰å€¼"><a href="#0-2-4-3-å®ä¾‹æ˜¯å¯é€‰å€¼" class="headerlink" title="0.2.4.3    å®ä¾‹æ˜¯å¯é€‰å€¼"></a>0.2.4.3    å®ä¾‹æ˜¯å¯é€‰å€¼</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å½“å®ä¾‹æ˜¯nilæ˜¯ï¼Œéœ€è¦é¿å…è®¿é—®å®ä¾‹çš„æˆå‘˜å¯¼è‡´æŠ¥é”™ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜å¯é€‰å‹</span></span><br><span class="line"><span class="keyword">let</span> optionalSquare: <span class="type">Square</span>? = <span class="type">Square</span>(sideLength: <span class="number">2.5</span>, name: <span class="string">"optional square"</span>)</span><br><span class="line"><span class="comment">// åœ¨æ“ä½œï¼ˆæ–¹æ³•è°ƒç”¨ï¼å±æ€§è®¿é—®ï¼å­è„šæœ¬è®¿é—®ï¼‰å‰åŠ ?</span></span><br><span class="line"><span class="keyword">let</span> sideLength = optionalSquare?.sideLength</span><br></pre></td></tr></table></figure>
<h3 id="0-2-5-æšä¸¾å’Œç»“æ„ä½“ï¼ˆEnumerations-and-Structuresï¼‰"><a href="#0-2-5-æšä¸¾å’Œç»“æ„ä½“ï¼ˆEnumerations-and-Structuresï¼‰" class="headerlink" title="0.2.5    æšä¸¾å’Œç»“æ„ä½“ï¼ˆEnumerations and Structuresï¼‰"></a>0.2.5    æšä¸¾å’Œç»“æ„ä½“ï¼ˆEnumerations and Structuresï¼‰</h3><h4 id="0-2-5-1-æšä¸¾"><a href="#0-2-5-1-æšä¸¾" class="headerlink" title="0.2.5.1    æšä¸¾"></a>0.2.5.1    æšä¸¾</h4><blockquote>
<p><strong>å…³é”®å­—ï¼š</strong><code>enum</code><br><strong>è¯´æ˜ï¼š</strong>swiftä¸­çš„æ‰€æœ‰å‘½åç±»å‹éƒ½å¯ä»¥åŒ…å«æ–¹æ³•ï¼ˆåŒ…æ‹¬æšä¸¾ï¼‰ã€‚</p>
<ul>
<li>å¯ä»¥ä¸è®¾ç½®æšä¸¾å€¼çš„åŸå§‹å€¼ç±»å‹</li>
<li>åŒä¸€æšä¸¾ç±»å‹çš„å®ä¾‹çš„æˆå‘˜ï¼ˆæšä¸¾å€¼ï¼‰çš„åŸå§‹å€¼ï¼ˆå¯ä»¥åœ¨åˆ›å»ºå®ä¾‹çš„æ—¶å€™ä¼ å…¥å€¼ï¼‰å¯ä»¥ä¸åŒ</li>
<li>å¦‚æœåŸå§‹å€¼ç±»å‹ä¸º<code>Int</code>ï¼Œå¯ä»¥åªè®¾ç½®ç¬¬ä¸€ä¸ªåŸå§‹å€¼ï¼Œå‰©ä¸‹çš„åŸå§‹å€¼ä¼šæŒ‰ç…§é¡ºåºè‡ªåŠ¨å®Œæˆèµ‹å€¼</li>
<li>ä¹Ÿå¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²æˆ–è€…æµ®ç‚¹æ•°ä½œä¸ºæšä¸¾çš„åŸå§‹å€¼</li>
<li>ä½¿ç”¨<code>rawValue</code>å±æ€§æ¥è®¿é—®ä¸€ä¸ªæšä¸¾æˆå‘˜çš„åŸå§‹å€¼</li>
<li>å­˜åœ¨ä¸€ä¸ªé»˜è®¤çš„åˆå§‹åŒ–æ„é€ å™¨<code>init?(rawValue:)</code>ï¼Œè¿™æ„å‘³ç€å¯ä»¥é€šè¿‡åŸå§‹å€¼åˆ›å»ºå¯é€‰å‹ç¾å‰§å€¼ï¼ˆä½¿ç”¨å‰éœ€è¦è§£åŒ…ï¼‰</li>
<li>å£°æ˜æšä¸¾ç±»å‹å¸¸é‡æˆ–åœ¨<code>switch</code>ä¸­æ—¶ï¼Œå½“æŒ‡å®šäº†æšä¸¾ç±»å‹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<code>.æšä¸¾å€¼</code>çš„æ–¹å¼</li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‰‘å…‹ç‰Œçº§åˆ«</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Rank</span>: <span class="title">Int</span></span>&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="type">Ace</span> = <span class="number">1</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">Two</span>, <span class="type">Three</span>, <span class="type">Four</span>, <span class="type">Five</span>, <span class="type">Six</span>, <span class="type">Seven</span>, <span class="type">Eight</span>, <span class="type">Nine</span>, <span class="type">Ten</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">Jack</span>, <span class="type">Queen</span>, <span class="type">King</span></span><br><span class="line">    <span class="comment">// æšä¸¾ç±»å‹å¯ä»¥å£°æ˜æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">simpleDescription</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> .<span class="type">Ace</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"ace"</span></span><br><span class="line">        <span class="keyword">case</span> .<span class="type">Jack</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"jack"</span></span><br><span class="line">        <span class="keyword">case</span> .<span class="type">Queen</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"queen"</span></span><br><span class="line">        <span class="keyword">case</span> .<span class="type">King</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"king"</span></span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="type">String</span>(<span class="keyword">self</span>.rawValue)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æšä¸¾ç±»å‹å˜é‡</span></span><br><span class="line"><span class="keyword">let</span> ace = <span class="type">Rank</span>.<span class="type">Ace</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨æšä¸¾ç±»å‹å€¼çš„æ–¹æ³•</span></span><br><span class="line">ace.simpleDescription()</span><br><span class="line"></span><br><span class="line"><span class="comment">// æšä¸¾ç±»å‹å˜é‡çš„åŸå§‹å€¼</span></span><br><span class="line"><span class="keyword">let</span> aceRawValue = ace.rawValue<span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£åŒ…é€šè¿‡init?(rawValue:)åˆå§‹åŒ–æ„é€ å™¨åˆ›å»ºçš„æšä¸¾ç±»å‹å€¼</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> convertedRank = <span class="type">Rank</span>(rawValue: <span class="number">3</span>) &#123;</span><br><span class="line">	<span class="keyword">let</span> threeDescription = convertedRank.simpleDescription()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>ä¸è®¾ç½®åŸå§‹å€¼ç±»å‹</em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‰‘å…‹ç‰ŒèŠ±è‰²</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Suit</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="type">Spades</span>, <span class="type">Hearts</span>, <span class="type">Diamonds</span>, <span class="type">Clubs</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">simpleDescription</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> .<span class="type">Spades</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"spades"</span></span><br><span class="line">        <span class="keyword">case</span> .<span class="type">Hearts</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"hearts"</span></span><br><span class="line">        <span class="keyword">case</span> .<span class="type">Diamonds</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"diamonds"</span></span><br><span class="line">        <span class="keyword">case</span> .<span class="type">Clubs</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"clubs"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æšä¸¾å€¼</span></span><br><span class="line"><span class="keyword">let</span> hearts = <span class="type">Suit</span>.<span class="type">Hearts</span></span><br><span class="line"><span class="comment">// è°ƒç”¨æšä¸¾å€¼çš„æ–¹æ³•æŸ¥çœ‹æšä¸¾å€¼å¯¹åº”çš„è¯´æ˜</span></span><br><span class="line"><span class="keyword">let</span> heartsDescription = hearts.simpleDescription()</span><br></pre></td></tr></table></figure>
<p><em>æšä¸¾çš„æ¯ä¸ªcaseè¿˜å¯ä»¥åŒ…å«ä¸€äº›å€¼</em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æœåŠ¡å™¨å“åº”</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">ServerResponse</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æ­£ç¡®å“åº”</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">Result</span>(<span class="type">String</span>, <span class="type">String</span>)</span><br><span class="line">    <span class="comment">// è¯·æ±‚å¤±è´¥</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">Error</span>(<span class="type">String</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä¸ºå®ä¾‹ä¼ å€¼</span></span><br><span class="line"><span class="keyword">let</span> success = <span class="type">ServerResponse</span>.<span class="type">Result</span>(<span class="string">"6:00 am"</span>, <span class="string">"8:09 pm"</span>)</span><br><span class="line"><span class="keyword">let</span> failure = <span class="type">ServerResponse</span>.<span class="type">Error</span>(<span class="string">"Out of cheese"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> success &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="keyword">let</span> .<span class="type">Result</span>(sunrise, sunset):</span><br><span class="line">    <span class="comment">// è·å–æšä¸¾å®ä¾‹çš„å€¼</span></span><br><span class="line">    <span class="keyword">let</span> serverResponse = <span class="string">"sunset is at \(sunrise) and sunset is at \(sunset)."</span></span><br><span class="line"><span class="keyword">case</span> <span class="keyword">let</span> .<span class="type">Error</span>(error):</span><br><span class="line">    <span class="keyword">let</span> serverResponse = <span class="string">"Failure... \(error)"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="0-2-5-2-ç»“æ„ä½“"><a href="#0-2-5-2-ç»“æ„ä½“" class="headerlink" title="0.2.5.2    ç»“æ„ä½“"></a>0.2.5.2    ç»“æ„ä½“</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç»“æ„ä½“å’Œç±»æœ‰å¾ˆå¤šç›¸åŒçš„åœ°æ–¹ï¼Œæ¯”å¦‚æ–¹æ³•å’Œæ„é€ å™¨ã€‚å®ƒä»¬ä¹‹é—´æœ€å¤§çš„åŒºåˆ«å°±æ˜¯ç»“æ„ä½“æ˜¯ä¼ å€¼ï¼Œç±»æ˜¯ä¼ å¼•ç”¨ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‰‘å…‹ç‰Œ</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Card</span> </span>&#123;</span><br><span class="line">    <span class="comment">// çº§åˆ«</span></span><br><span class="line">    <span class="keyword">var</span> rank: <span class="type">Rank</span></span><br><span class="line">    <span class="comment">// èŠ±è‰²</span></span><br><span class="line">    <span class="keyword">var</span> suit: <span class="type">Suit</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">simpleDescription</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"The \(rank.simpleDescription()) of \(suit.simpleDescription())"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// é»‘æ¡ƒ3</span></span><br><span class="line"><span class="keyword">let</span> threeOfSpades = <span class="type">Card</span>(rank: .<span class="type">Three</span>, suit: .<span class="type">Spades</span>)</span><br><span class="line"><span class="keyword">let</span> threeOfSpandesDescription = threeOfSpades.simpleDescription()</span><br></pre></td></tr></table></figure>
<h3 id="0-2-6-åè®®å’Œæ‰©å±•ï¼ˆProtocols-and-Extensionsï¼‰"><a href="#0-2-6-åè®®å’Œæ‰©å±•ï¼ˆProtocols-and-Extensionsï¼‰" class="headerlink" title="0.2.6    åè®®å’Œæ‰©å±•ï¼ˆProtocols and Extensionsï¼‰"></a>0.2.6    åè®®å’Œæ‰©å±•ï¼ˆProtocols and Extensionsï¼‰</h3><h4 id="0-2-6-1-åè®®"><a href="#0-2-6-1-åè®®" class="headerlink" title="0.2.6.1    åè®®"></a>0.2.6.1    åè®®</h4><blockquote>
<p><strong>å…³é”®å­—ï¼š</strong><code>protocol</code><br><strong>è¯´æ˜ï¼š</strong>ç±»ä¼¼äºæ¥å¥ï¼Œç±»ã€æšä¸¾ã€ç»“æ„ä½“éƒ½å¯ä»¥å®ç°åè®®ã€‚<br><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>ä½¿ç”¨ç»“æ„ä½“å®ç°åè®®æ—¶ï¼Œå¦‚æœå®ç°çš„æ–¹æ³•ä¼šä¿®æ”¹ç»“æ„ä½“ï¼Œéœ€è¦ç”¨<code>mutating</code>æ ‡è®°ã€‚</li>
<li>å¯ä»¥ç›´æ¥ä½¿ç”¨åè®®å£°æ˜å˜é‡æˆ–å¸¸é‡ï¼Œä½†æ— æ³•è°ƒç”¨è¿è¡Œæ—¶ç±»å‹å®ç°çš„åè®®å€¼å®Œçš„æ–¹æ³•æˆ–å±æ€§</li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ªåè®®</span></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">ExampleProtocol</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> simpleDescription: <span class="type">String</span> &#123;<span class="keyword">get</span>&#125;</span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">adjust</span><span class="params">()</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€šè¿‡ç±»å®ç°è¿™ä¸ªåè®®</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SimpleClass</span>: <span class="title">ExampleProtocol</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> simpleDescription: <span class="type">String</span> = <span class="string">"A very simple class."</span></span><br><span class="line">    <span class="keyword">var</span> anotherProperty: <span class="type">Int</span> = <span class="number">69105</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">adjust</span><span class="params">()</span></span> &#123;</span><br><span class="line">        simpleDescription += <span class="string">" Now 100% adjust."</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åˆ›å»ºå®ä¾‹</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="type">SimpleClass</span>()</span><br><span class="line">a.adjust()</span><br><span class="line"><span class="keyword">let</span> aDescription = a.simpleDescription</span><br><span class="line"><span class="comment">// åƒä½¿ç”¨å…¶ä»–å‘½åç±»å‹ä¸€æ ·ä½¿ç”¨åè®®åï¼Œç”¨å…¶å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œå¹¶å°†å®ç°äº†è¯¥åè®®çš„ç±»çš„å®ä¾‹èµ‹å€¼ç»™å®ƒ</span></span><br><span class="line"><span class="keyword">let</span> protocolValue: <span class="type">ExampleProtocol</span> = a</span><br><span class="line"><span class="comment">// ä½¿ç”¨åè®®æœ¬èº«å£°æ˜çš„å˜é‡æˆ–å¸¸é‡ä¸èƒ½è®¿é—®åè®®å¤–å®šä¹‰æˆå‘˜</span></span><br><span class="line"><span class="comment">// print(protocolValue.anotherProperty)</span></span><br></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€šè¿‡ç»“æ„ä½“å®ç°è¿™ä¸ªåè®®</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">SimpleStructure</span>: <span class="title">ExampleProtocol</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> simpleDescription: <span class="type">String</span> = <span class="string">"A simple structure"</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">adjust</span><span class="params">()</span></span> &#123;</span><br><span class="line">        simpleDescription += <span class="string">"(adjusted)"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åˆ›å»ºå®ä¾‹</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="type">SimpleStructure</span>()</span><br><span class="line"><span class="comment">// è°ƒç”¨æ–¹æ³•</span></span><br><span class="line">b.adjust()</span><br><span class="line"><span class="keyword">let</span> bDesctiption = b.simpleDescription</span><br></pre></td></tr></table></figure>
<h4 id="0-2-6-2-æ‰©å±•"><a href="#0-2-6-2-æ‰©å±•" class="headerlink" title="0.2.6.2    æ‰©å±•"></a>0.2.6.2    æ‰©å±•</h4><blockquote>
<p><strong>å…³é”®å­—ï¼š</strong><code>extension</code><br><strong>æè¿°ï¼š</strong>ä¸ºç°æœ‰çš„ç±»å‹æ·»åŠ åŠŸèƒ½ï¼Œæ¯”å¦‚æ–°çš„æ–¹æ³•å’Œè®¡ç®—å±æ€§ã€‚<br><strong>è¯´æ˜ï¼š</strong>ä½ å¯ä»¥ä½¿ç”¨æ‰©å±•åœ¨åˆ«å¤„ä¿®æ”¹å®šä¹‰ï¼Œç”šè‡³æ˜¯ä»å¤–éƒ¨åº“æ´»ç€æ¡†æ¶å¼•å…¥çš„ä¸€ä¸ªç±»å‹ï¼Œä½¿å¾—è¿™ä¸ªç±»å‹éµå¾ªæŸä¸ªåè®®ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‰©å±•</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Int</span>: <span class="title">ExampleProtocol</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> simpleDescription: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"The number \(self)"</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">adjust</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">self</span> += <span class="number">42</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="number">7</span>.simpleDescription)</span><br></pre></td></tr></table></figure>
<h3 id="0-2-7-èŒƒå‹ï¼ˆGenericsï¼‰"><a href="#0-2-7-èŒƒå‹ï¼ˆGenericsï¼‰" class="headerlink" title="0.2.7    èŒƒå‹ï¼ˆGenericsï¼‰"></a>0.2.7    èŒƒå‹ï¼ˆGenericsï¼‰</h3><blockquote>
<p><strong>æè¿°ï¼š</strong>åœ¨<code>&lt;&gt;</code>ä¸­å†™ä¸€ä¸ªåå­—æ¥åˆ›å»ºä¸€ä¸ªèŒƒå‹å‡½æ•°æˆ–è€…ç±»å‹ã€‚<br><strong>è¯´æ˜ï¼š</strong>å¯ä»¥åº”ç”¨äº</p>
<ul>
<li>å‡½æ•°</li>
<li>æ–¹æ³•</li>
<li>ç±»</li>
<li>æšä¸¾</li>
<li>ç»“æ„ä½“</li>
</ul>
<p><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>å¯ä»¥ä½¿ç”¨<code>where</code>æ¥æŒ‡å®šå¯¹ç±»å‹çš„è¦æ±‚</li>
<li><code>&lt;T: Equatable&gt;</code>å’Œ<code>&lt;T where T: Equatable&gt;</code>ç­‰ä»·</li>
</ul>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">anyCommonElements</span> &lt;T: SequenceType, U: SequenceType where T.Generator.Element: Equatable, T.Generator.Element == U.Generator.Element&gt; <span class="params">(lhs: T, <span class="number">_</span> rhs: U)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> lhsItem <span class="keyword">in</span> lhs &#123;</span><br><span class="line">        <span class="keyword">for</span> rhsItem <span class="keyword">in</span> rhs &#123;</span><br><span class="line">            <span class="keyword">if</span> lhsItem == rhsItem &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line">anyCommonElements([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">3</span>])</span><br></pre></td></tr></table></figure>
<h2 id="0-3-Swiftç‰ˆæœ¬å†å²è®°å½•"><a href="#0-3-Swiftç‰ˆæœ¬å†å²è®°å½•" class="headerlink" title="0.3    Swiftç‰ˆæœ¬å†å²è®°å½•"></a>0.3    Swiftç‰ˆæœ¬å†å²è®°å½•</h2><h2 id="0-4-The-Swift-Programing-languageä¸­æ–‡ç‰ˆ"><a href="#0-4-The-Swift-Programing-languageä¸­æ–‡ç‰ˆ" class="headerlink" title="0.4    The Swift Programing languageä¸­æ–‡ç‰ˆ"></a>0.4    The Swift Programing languageä¸­æ–‡ç‰ˆ</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_20 NSPredicate/" itemprop="url">
                  20 NSpredicate
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T10:43:10+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_20 NSPredicate/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_20 NSPredicate/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>Cocoa</code>æä¾›äº†ä¸€ä¸ªåä¸º<code>NSPredicate</code>çš„ç±»ï¼Œç”¨äºæŒ‡å®šè¿‡æ»¤å™¨çš„æ¡ä»¶ã€‚<br><strong>åŸç†ï¼š</strong>å¯ä»¥åˆ›å»º<code>NSPredicate</code>å¯¹è±¡ï¼Œé€šè¿‡å®ƒå‡†ç¡®æè¿°æ‰€éœ€çš„æ¡ä»¶ï¼Œé€šè¿‡<code>è°“è¯</code>(è®¡ç®—çœŸå€¼å’Œå‡å€¼çš„å‡½æ•°)ç­›é€‰æ¯ä¸ªå¯¹è±¡ï¼Œåˆ¤æ–­å®ƒä»¬æ˜¯å¦ä¸æ¡ä»¶ç›¸åŒ¹é…ã€‚</p>
</blockquote>
<h2 id="20-1-åˆ›å»ºè°“è¯"><a href="#20-1-åˆ›å»ºè°“è¯" class="headerlink" title="20.1    åˆ›å»ºè°“è¯"></a>20.1    åˆ›å»ºè°“è¯</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä½¿ç”¨<code>è°“è¯</code>æœ‰ä¸¤ç§æ–¹å¼</p>
</blockquote>
<table>
<thead>
<tr>
<th>æ–¹å¼</th>
<th>é€‚ç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>åˆ›å»ºè®¸å¤š<code>NSPredicate</code>å¯¹è±¡ï¼Œç»„åˆä½¿ç”¨</td>
<td>æ„å»ºé€šç”¨ç”¨æˆ·ç•Œé¢æ¥æŒ‡å®šæŸ¥è¯¢çš„åœºæ™¯</td>
</tr>
<tr>
<td>è°“è¯å­—ç¬¦ä¸²</td>
<td>é€‚ç”¨äºåˆå­¦è€…ä½¿ç”¨ï¼Œæ¯”è¾ƒç®€å•</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>å»ºè®®ï¼š</strong>é€šå¸¸å°†ä»¥ä½¿ç”¨<code>é¢å‘å­—ç¬¦ä¸²</code>çš„<code>API</code>ï¼Œå°¤å…¶æ˜¯åœ¨ç¼ºå°‘ç¼–è¯‘å™¨çš„é”™è¯¯æ£€æŸ¥å’Œå¥‡æ€ªçš„è¿è¡Œæ—¶é”™è¯¯çš„æ—¶å€™ã€‚</p>
</blockquote>
<h3 id="predicateWithFormatå·¥å‚æ–¹æ³•"><a href="#predicateWithFormatå·¥å‚æ–¹æ³•" class="headerlink" title="predicateWithFormatå·¥å‚æ–¹æ³•"></a>predicateWithFormatå·¥å‚æ–¹æ³•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åŸºäº<code>è°“è¯å­—ç¬¦ä¸²</code>åœ¨åå°æ„å»º<code>å¯¹è±¡æ•°</code>ï¼Œåˆ›å»º<code>è°“è¯</code>ã€‚<br><strong>è°“è¯å­—ç¬¦ä¸²ï¼š</strong>ç”¨é€”ç±»ä¼¼<code>sql</code>ï¼Œè¯­æ³•ç±»ä¼¼æ ‡å‡†cè¯­è¨€è¡¨è¾¾å¼<br><strong>åŸå‹ï¼š</strong><code>NSPredicate</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSString *&#125; predicateFormat è°“è¯å­—ç¬¦ä¸²ï¼ˆåœ°ä½ç±»ä¼¼æ ¼å¼ä¸²ï¼‰</span><br><span class="line">* @param &#123;...&#125; å¯¹åº”ä¸ºæ­¤å­—ç¬¦ä¸²ä¸­çš„å ä½ç¬¦</span><br><span class="line">*/</span></span><br><span class="line">+ (<span class="built_in">NSPredicate</span> *)predicateWithFormat:(<span class="built_in">NSString</span> *)predicateFormat, ...;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ±½è½¦é›†åˆ</span></span><br><span class="line">Garage *garage = [[Garage alloc] init];</span><br><span class="line">garage.name = <span class="string">@"Joe's Garage"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å­˜å…¥æ±½è½¦å®ä¾‹</span></span><br><span class="line">Car *car;</span><br><span class="line">car = makeCar(<span class="string">@"Herbie"</span>, <span class="string">@"Honda"</span>, <span class="string">@"CRX"</span>, <span class="number">1984</span>, <span class="number">2</span>, <span class="number">34000</span>, <span class="number">58</span>);</span><br><span class="line">[garage addCar:car];</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºè°“è¯ï¼šè¿‡æ»¤ name å±æ€§å€¼ä¸º Herbie çš„è½¦</span></span><br><span class="line"><span class="built_in">NSPredicate</span> *predicate;</span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"name == 'Herbie'"</span>];</span><br></pre></td></tr></table></figure>
<h2 id="20-2-è®¡ç®—è°“è¯"><a href="#20-2-è®¡ç®—è°“è¯" class="headerlink" title="20.2    è®¡ç®—è°“è¯"></a>20.2    è®¡ç®—è°“è¯</h2><h3 id="evaluateWithObjectå®ä¾‹æ–¹æ³•"><a href="#evaluateWithObjectå®ä¾‹æ–¹æ³•" class="headerlink" title="evaluateWithObjectå®ä¾‹æ–¹æ³•"></a>evaluateWithObjectå®ä¾‹æ–¹æ³•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šçŸ¥æ¥æ”¶å¯¹è±¡ï¼ˆå³<code>è°“è¯</code>ï¼‰æ ¹æ®<code>æŒ‡å®šçš„å¯¹è±¡</code>è®¡ç®—è‡ªèº«çš„å€¼ã€‚<br><strong>ç”¨é€”ï¼š</strong>è®¡ç®—<code>æŸä¸ªå¯¹è±¡</code>æ˜¯å¦ç¬¦åˆæŸä¸ª<code>è°“è¯</code>ä¸­çš„åˆ¤æ–­é€»è¾‘ã€‚<br><strong>åŸå‹ï¼š</strong>``</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;id&#125; object è°“è¯çš„ä¸»è¯­</span><br><span class="line">* @return &#123;BOOL&#125; YES åˆ¤æ–­ä¸ºçœŸï¼Œ NO åˆ¤æ–­ä¸ºå‡</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)evaluateWithObject:(nullable <span class="keyword">id</span>)object;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è°“è¯1ï¼šè¿‡æ»¤ name å±æ€§å€¼ä¸º Herbie çš„è½¦</span></span><br><span class="line"><span class="built_in">NSPredicate</span> *predicate;</span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"name == 'Herbie'"</span>];</span><br><span class="line"><span class="comment">// æ­é…ä¸»è¯­è¿›è¡Œåˆ¤æ–­</span></span><br><span class="line"><span class="built_in">BOOL</span> match = [predicate evaluateWithObject:car];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%s"</span>, (match) ? <span class="string">"YES"</span> : <span class="string">"NO"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°“è¯2ï¼šå¼•æ“é©¬åŠ›å¤§äº150</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"engine.horsepower &gt; 150"</span>];</span><br><span class="line">match = [predicate evaluateWithObject:car];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%s"</span>, (match) ? <span class="string">"YES"</span> : <span class="string">"NO"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°“è¯3ï¼šå’Œè°“è¯1ç­‰ä»·</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"name == %@"</span>, <span class="string">@"Herbie"</span>];</span><br><span class="line">match = [predicate evaluateWithObject:car];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%s"</span>, (match) ? <span class="string">"YES"</span> : <span class="string">"NO"</span>);</span><br></pre></td></tr></table></figure>
<h2 id="20-3-æ•°ç»„è¿‡æ»¤å™¨"><a href="#20-3-æ•°ç»„è¿‡æ»¤å™¨" class="headerlink" title="20.3    æ•°ç»„è¿‡æ»¤å™¨"></a>20.3    æ•°ç»„è¿‡æ»¤å™¨</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æŸäº›<code>ç±»åˆ«</code>å°†<code>è°“è¯è¿‡æ»¤æ–¹æ³•</code>æ·»åŠ åˆ°äº†<code>Cocoa</code>é›†åˆç±»ï¼ˆæ¯”å¦‚<code>NSArray</code>ï¼‰ä¸­ã€‚</p>
</blockquote>
<h3 id="filteredArrayUsingPredicateå®ä¾‹æ–¹æ³•"><a href="#filteredArrayUsingPredicateå®ä¾‹æ–¹æ³•" class="headerlink" title="filteredArrayUsingPredicateå®ä¾‹æ–¹æ³•"></a>filteredArrayUsingPredicateå®ä¾‹æ–¹æ³•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¾ªç¯è¿‡æ»¤æ•°ç»„å†…å®¹ï¼Œæ ¹æ®<code>è°“è¯</code>è®¡ç®—æ¯ä¸ªå¯¹è±¡çš„å€¼ï¼Œå¹¶å°†å€¼ä¸º<code>YES</code>çš„å¯¹è±¡ç´¯è®¡åˆ°å°†è¢«æ”¾å›çš„æ–°æ•°ç»„ä¸­ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æ•°ç»„è¿‡æ»¤ */</span></span><br><span class="line"><span class="comment">// åˆ›å»ºæ±½è½¦é›†åˆ</span></span><br><span class="line">Garage *garage = [[Garage alloc] init];</span><br><span class="line">garage.name = <span class="string">@"Joe's Garage"</span>;</span><br><span class="line"><span class="comment">// æ·»åŠ æ±½è½¦å®ä¾‹</span></span><br><span class="line">car = makeCar (<span class="string">@"Badger"</span>, <span class="string">@"Acura"</span>, <span class="string">@"Integra"</span>, <span class="number">1987</span>, <span class="number">5</span>, <span class="number">217036.7</span>, <span class="number">130</span>);</span><br><span class="line">[garage addCar: car];</span><br><span class="line"></span><br><span class="line">car = makeCar (<span class="string">@"Elvis"</span>, <span class="string">@"Acura"</span>, <span class="string">@"Legend"</span>, <span class="number">1989</span>, <span class="number">4</span>, <span class="number">28123.4</span>, <span class="number">151</span>);</span><br><span class="line">[garage addCar: car];</span><br><span class="line"></span><br><span class="line">car = makeCar (<span class="string">@"Phoenix"</span>, <span class="string">@"Pontiac"</span>, <span class="string">@"Firebird"</span>, <span class="number">1969</span>, <span class="number">2</span>, <span class="number">85128.3</span>, <span class="number">345</span>);</span><br><span class="line">[garage addCar: car];</span><br><span class="line"></span><br><span class="line">car = makeCar (<span class="string">@"Streaker"</span>, <span class="string">@"Pontiac"</span>, <span class="string">@"Silver Streak"</span>, <span class="number">1950</span>, <span class="number">2</span>, <span class="number">39100.0</span>, <span class="number">36</span>);</span><br><span class="line">[garage addCar: car];</span><br><span class="line"></span><br><span class="line">car = makeCar (<span class="string">@"Judge"</span>, <span class="string">@"Pontiac"</span>, <span class="string">@"GTO"</span>, <span class="number">1969</span>, <span class="number">2</span>, <span class="number">45132.2</span>, <span class="number">370</span>);</span><br><span class="line">[garage addCar: car];</span><br><span class="line"></span><br><span class="line">car = makeCar (<span class="string">@"Paper Car"</span>, <span class="string">@"Plymouth"</span>, <span class="string">@"Valiant"</span>, <span class="number">1965</span>, <span class="number">2</span>, <span class="number">76800</span>, <span class="number">105</span>);</span><br><span class="line">[garage addCar: car];</span><br><span class="line"><span class="comment">// åˆ›å»ºè°“è¯</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"engine.horsepower &gt; 150"</span>];</span><br><span class="line"><span class="comment">// è·å–æ±½è½¦å®ä¾‹ç»„æˆçš„æ•°ç»„</span></span><br><span class="line"><span class="built_in">NSArray</span> *cars = [garage cars];</span><br><span class="line"><span class="comment">// éå†æ•°ç»„</span></span><br><span class="line"><span class="keyword">for</span> (Car *car <span class="keyword">in</span> cars) &#123;</span><br><span class="line">    <span class="keyword">if</span> ([predicate evaluateWithObject:car]) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, car.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åˆ›å»ºè°“è¯</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"engine.horsepower &gt; %d"</span>, <span class="number">50</span>];</span><br><span class="line"><span class="comment">// è¿‡æ»¤æ•°ç»„ï¼šå¼•æ“é©¬åŠ›å¤§äº50çš„</span></span><br><span class="line"><span class="built_in">NSArray</span> *results = [cars filteredArrayUsingPredicate:predicate];</span><br></pre></td></tr></table></figure>
<h3 id="filterUsingPredicateå®ä¾‹æ–¹æ³•"><a href="#filterUsingPredicateå®ä¾‹æ–¹æ³•" class="headerlink" title="filterUsingPredicateå®ä¾‹æ–¹æ³•"></a>filterUsingPredicateå®ä¾‹æ–¹æ³•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šè¿‡<code>è°“è¯</code>å‰”é™¤å¯å˜æ•°ç»„ä¸­è®¡ç®—ç»“æœä¸ä¸ºçœŸçš„å¯¹è±¡ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSMutableArray</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSPredicate *&#125; predicate è°“è¯</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="keyword">void</span>)filterUsingPredicate:(<span class="built_in">NSPredicate</span> *)predicate;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//------------------å¯å˜æ•°ç»„è¿‡æ»¤</span></span><br><span class="line"><span class="built_in">NSMutableArray</span> *carsCopy = [cars mutableCopy];</span><br><span class="line"><span class="comment">// è¿‡æ»¤ï¼ˆæœ‰å‰¯ä½œç”¨çš„è¿‡æ»¤ï¼‰</span></span><br><span class="line">[carsCopy filterUsingPredicate:predicate];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, results);</span><br></pre></td></tr></table></figure>
<h2 id="20-4-æ ¼å¼è¯´æ˜ç¬¦"><a href="#20-4-æ ¼å¼è¯´æ˜ç¬¦" class="headerlink" title="20.4    æ ¼å¼è¯´æ˜ç¬¦"></a>20.4    æ ¼å¼è¯´æ˜ç¬¦</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ç¡¬ç¼–ç å¹¶éå¥½äº‹ï¼Œå¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼å°†ä¸åŒçš„å†…åŒæ”¾å…¥<code>è°“è¯æ ¼å¼å­—ç¬¦ä¸²</code>ä¸­</p>
<ul>
<li>æ ¼å¼è¯´æ˜ç¬¦ï¼š<code>%æ ¼å¼è¯´æ˜ç¬¦</code></li>
<li>å˜é‡åï¼š<code>$å˜é‡å</code></li>
</ul>
</blockquote>
<h3 id="20-4-1-æ ¼å¼è¯´æ˜ç¬¦"><a href="#20-4-1-æ ¼å¼è¯´æ˜ç¬¦" class="headerlink" title="20.4.1    æ ¼å¼è¯´æ˜ç¬¦"></a>20.4.1    æ ¼å¼è¯´æ˜ç¬¦</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ†3ç§</p>
</blockquote>
<table>
<thead>
<tr>
<th>åˆ†ç±»</th>
<th>è¯´æ˜</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>printfè¯´æ˜ç¬¦</td>
<td><code>c</code>è¯­è¨€ä½¿ç”¨çš„æ ¼å¼è¯´æ˜ç¬¦</td>
<td><code>%d</code>ã€<code>%f</code>ç­‰</td>
</tr>
<tr>
<td><code>%@</code></td>
<td>æ’å…¥<code>O-C</code>å­—ç¬¦ä¸²å€¼</td>
<td></td>
</tr>
<tr>
<td><code>%K</code></td>
<td>æ’å…¥é”®è·¯å¾„</td>
</tr>
</tbody>
</table>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨printfå¼æ ¼å¼å­—ç¬¦ä¸²</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"engine.horsepower &gt; %d"</span>, <span class="number">50</span>];</span><br><span class="line">results = [cars filteredArrayUsingPredicate:predicate];</span><br><span class="line"><span class="comment">// ä½¿ç”¨%@æ’å…¥å­—ç¬¦ä¸²å€¼</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"name == %@"</span>, <span class="string">@"Herbie"</span>];</span><br><span class="line"><span class="comment">// ä½¿ç”¨%KæŒ‡å®šé”®è·¯å¾„</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"%K == %@"</span>, <span class="string">@"name"</span>, <span class="string">@"Herbie"</span>];</span><br></pre></td></tr></table></figure>
<h3 id="20-4-2-æ’å…¥å˜é‡å"><a href="#20-4-2-æ’å…¥å˜é‡å" class="headerlink" title="20.4.2    æ’å…¥å˜é‡å"></a>20.4.2    æ’å…¥å˜é‡å</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>éœ€è¦é…åˆ<code>å­—å…¸</code>å’Œ<code>predicateWithSubstitutionVariables</code>å®ä¾‹æ–¹æ³•ä¸€èµ·ä½¿ç”¨ã€‚</p>
</blockquote>
<h4 id="predicateWithSubstitutionVariables"><a href="#predicateWithSubstitutionVariables" class="headerlink" title="predicateWithSubstitutionVariables"></a>predicateWithSubstitutionVariables</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šè¿‡å·²æœ‰çš„<code>è°“è¯</code>ï¼ˆ<code>è°“è¯å­—ç¬¦ä¸²</code>ä¸­åŒ…å«æ’å…¥çš„å˜é‡åï¼‰åˆ›å»ºæ›´åŠ å…·ä½“çš„<code>ä¸“ç”¨è°“è¯</code>ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSPredicate</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSDictionary&lt;NSString *, id&gt; *&#125; variables ç”¨äºå…·ä½“åŒ–è°“è¯çš„å­—å…¸</span><br><span class="line">* @return &#123;NSPredicate&#125; ä¸“ç”¨è°“è¯</span><br><span class="line">*/</span></span><br><span class="line">- (instancetype)predicateWithSubstitutionVariables:(<span class="built_in">NSDictionary</span>&lt;<span class="built_in">NSString</span> *, <span class="keyword">id</span>&gt; *)variables;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å°†å­—å…¸çš„é”®åæ’å…¥åˆ°è°“è¯å­—ç¬¦ä¸²ä¸­</span></span><br><span class="line"><span class="built_in">NSPredicate</span> *predicateTemplate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"name == $NAME"</span>];<span class="comment">// åˆ›å»ºè°“è¯æ¨¡ç‰ˆ</span></span><br><span class="line"><span class="built_in">NSDictionary</span> *varDict;</span><br><span class="line"><span class="comment">// å˜é‡åä¸ºNSStringç±»å‹</span></span><br><span class="line">varDict = [<span class="built_in">NSDictionary</span> dictionaryWithObjectsAndKeys:<span class="string">@"Heribie"</span>, <span class="string">@"NAME"</span>, <span class="literal">nil</span>];<span class="comment">// ç”¨æ¥ä¸ºä¸Šè¿°è°“è¯æ¨¡ç‰ˆçš„$NAMEèµ‹å€¼çš„å­—å…¸</span></span><br><span class="line">predicate = [predicateTemplate predicateWithSubstitutionVariables:varDict];<span class="comment">// é€šè¿‡è°“è¯æ¨¡ç‰ˆåˆ›å»ºè°“è¯</span></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"SNORGLEï¼š%@"</span>, predicate);</span><br><span class="line">match = [predicate evaluateWithObject:car];<span class="comment">// ä¸»è¯­ç»“åˆè°“è¯è¿›è¡Œè®¡ç®—</span></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%s"</span>, (match) ? <span class="string">"YES"</span> : <span class="string">"NO"</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">predicateTemplate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"engine.horsepower &gt; $POWER"</span>];</span><br><span class="line"><span class="comment">// å˜é‡åä¸ºNSNumberç±»å‹</span></span><br><span class="line">varDict = [<span class="built_in">NSDictionary</span> dictionaryWithObjectsAndKeys:[<span class="built_in">NSNumber</span> numberWithInt:<span class="number">150</span>], <span class="string">@"POWER"</span>, <span class="literal">nil</span>];</span><br><span class="line">predicate = [predicateTemplate predicateWithSubstitutionVariables:varDict];</span><br><span class="line">results = [cars filteredArrayUsingPredicate:predicate];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"OOP %@"</span>, results);</span><br></pre></td></tr></table></figure>
<h2 id="20-5-è¿ç®—ç¬¦"><a href="#20-5-è¿ç®—ç¬¦" class="headerlink" title="20.5    è¿ç®—ç¬¦"></a>20.5    è¿ç®—ç¬¦</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>NSPredicate</code>çš„æ ¼å¼ä¸²ä¸­åŒ…å«å¤§é‡ä¸åŒçš„è¿ç®—ç¬¦ã€‚<br><strong>æ³¨æ„ï¼š</strong>æœ¬ç« å°†ä»‹ç»å¤§å¤šæ•°è¿ç®—ç¬¦ï¼Œå…¶ä½™çš„å¯ä»¥é€šè¿‡è‹¹æœå…¬å¸çš„<code>åœ¨çº¿æ–‡æ¡£</code>è¿›è¡ŒæŸ¥è¯¢ã€‚</p>
</blockquote>
<h3 id="20-5-1-æ¯”è¾ƒå’Œé€»è¾‘è¿ç®—ç¬¦"><a href="#20-5-1-æ¯”è¾ƒå’Œé€»è¾‘è¿ç®—ç¬¦" class="headerlink" title="20.5.1    æ¯”è¾ƒå’Œé€»è¾‘è¿ç®—ç¬¦"></a>20.5.1    æ¯”è¾ƒå’Œé€»è¾‘è¿ç®—ç¬¦</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>è°“è¯å­—ç¬¦ä¸²</code>è¯­æ³•æ”¯æŒ<code>C</code>è¯­è¨€ä¸­ä¸€äº›å¸¸ç”¨çš„è¿ç®—ç¬¦</p>
<ul>
<li>ç­‰å·è¿ç®—ç¬¦ï¼š<code>==</code></li>
<li>ä¸ç­‰å·è¿ç®—ç¬¦ï¼š<code>&gt;</code>ã€<code>&lt;=</code>ã€<code>!=</code>ç­‰</li>
<li>èµ‹å€¼è¿ç®—ç¬¦ï¼š<code>=</code></li>
<li>é€»è¾‘è¿ç®—ç¬¦ï¼š<code>AND(&amp;&amp;)</code>ã€<code>OR(||)</code>ã€<code>NOT(!)</code></li>
</ul>
</blockquote>
<h4 id="20-5-1-1-æ¯”è¾ƒè¿ç®—ç¬¦"><a href="#20-5-1-1-æ¯”è¾ƒè¿ç®—ç¬¦" class="headerlink" title="20.5.1.1    æ¯”è¾ƒè¿ç®—ç¬¦"></a>20.5.1.1    æ¯”è¾ƒè¿ç®—ç¬¦</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åŒ…æ‹¬<code>ç­‰å·è¿ç®—ç¬¦</code>å’Œ<code>ä¸ç­‰å·è¿ç®—ç¬¦</code>ã€‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>==</code>(<code>&lt;&gt;</code>)</td>
<td>ç­‰äº</td>
</tr>
<tr>
<td><code>!=</code></td>
<td>ä¸ç­‰äº</td>
</tr>
<tr>
<td><code>&lt;</code></td>
<td>å°äº</td>
</tr>
<tr>
<td><code>&gt;</code></td>
<td>å¤§äº</td>
</tr>
<tr>
<td><code>&lt;=</code>(<code>=&lt;</code>)</td>
<td>å°äºæˆ–ç­‰äº</td>
</tr>
<tr>
<td><code>&gt;=</code>(<code>=&gt;</code>)</td>
<td>å¤§äºæˆ–ç­‰äº</td>
</tr>
</tbody>
</table>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ¯”è¾ƒè¿ç®—ç¬¦ï¼šè¿‡æ»¤å‡ºæ•°ç»„ä¸­nameå±æ€§å°äº"Newton"çš„å¯¹è±¡ç»„æˆçš„æ–°æ•°ç»„</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"name &lt; 'Newton'"</span>];</span><br><span class="line">results = [cars filteredArrayUsingPredicate:predicate];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, [results valueForKey:<span class="string">@"name"</span>]);</span><br></pre></td></tr></table></figure>
<h4 id="20-5-1-2-é€»è¾‘è¿ç®—ç¬¦"><a href="#20-5-1-2-é€»è¾‘è¿ç®—ç¬¦" class="headerlink" title="20.5.1.2    é€»è¾‘è¿ç®—ç¬¦"></a>20.5.1.2    é€»è¾‘è¿ç®—ç¬¦</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å…±3ä¸ª</p>
</blockquote>
<table>
<thead>
<tr>
<th>é€»è¾‘è¿ç®—ç¬¦</th>
<th><code>O-C</code>å½¢å¼</th>
<th>cè¯­è¨€å½¢å¼</th>
</tr>
</thead>
<tbody>
<tr>
<td>ä¸</td>
<td><code>AND</code></td>
<td><code>&amp;&amp;</code></td>
</tr>
<tr>
<td>æˆ–</td>
<td><code>OR</code></td>
<td>`</td>
<td></td>
<td>`</td>
</tr>
<tr>
<td>é</td>
<td><code>NOT</code></td>
<td><code>!</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong><code>è°“è¯å­—ç¬¦ä¸²</code>ä¸­çš„è¿ç®—ç¬¦ä¸åŒºåˆ†å¤§å°å†™</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€»è¾‘è¿ç®—ç¬¦</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"(engine.horsepower &gt; 50) AND (engine.horsepower &lt; 200)"</span>];</span><br><span class="line">results = [cars filteredArrayUsingPredicate:predicate];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"oop %@"</span>, results);</span><br></pre></td></tr></table></figure>
<h3 id="20-5-2-æ•°ç»„è¿ç®—ç¬¦"><a href="#20-5-2-æ•°ç»„è¿ç®—ç¬¦" class="headerlink" title="20.5.2    æ•°ç»„è¿ç®—ç¬¦"></a>20.5.2    æ•°ç»„è¿ç®—ç¬¦</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æœ‰2ä¸ª</p>
</blockquote>
<p>|æ•°ç»„è¿ç®—ç¬¦|è¯´æ˜|<br>|<code>BETWEEN</code>|åˆ¤æ–­æ˜¯å¦ä»‹äºä¸¤ä¸ªå€¼ä¹‹é—´|<br>|<code>IN</code>|åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦åŒ…å«æŸä¸ªå€¼|</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•°ç»„è¿ç®—ç¬¦ BETWEENï¼šä½¿ç”¨æ•°ç»„å­—é¢é‡</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:</span><br><span class="line">             <span class="string">@"engine.horsepower BETWEEN &#123; 50, 200 &#125;"</span>];</span><br><span class="line">results = [cars filteredArrayUsingPredicate: predicate];</span><br><span class="line"><span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, results);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°ç»„è¿ç®—ç¬¦ BETWEENï¼šä½¿ç”¨æ•°ç»„å˜é‡</span></span><br><span class="line"><span class="built_in">NSArray</span> *betweens = [<span class="built_in">NSArray</span> arrayWithObjects:</span><br><span class="line">                     [<span class="built_in">NSNumber</span> numberWithInt: <span class="number">50</span>], [<span class="built_in">NSNumber</span> numberWithInt: <span class="number">200</span>], <span class="literal">nil</span>];</span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat: <span class="string">@"engine.horsepower BETWEEN %@"</span>, betweens];</span><br><span class="line">results = [cars filteredArrayUsingPredicate: predicate];</span><br><span class="line"><span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, results);</span><br><span class="line"><span class="comment">// æ•°ç»„è¿ç®—ç¬¦ BETWEENï¼šä½¿ç”¨æ•°ç»„å˜é‡ï¼‹è°“è¯æ¨¡ç‰ˆ</span></span><br><span class="line">predicateTemplate = [<span class="built_in">NSPredicate</span> predicateWithFormat: <span class="string">@"engine.horsepower BETWEEN $POWERS"</span>];</span><br><span class="line">varDict = [<span class="built_in">NSDictionary</span> dictionaryWithObjectsAndKeys: betweens, <span class="string">@"POWERS"</span>, <span class="literal">nil</span>];</span><br><span class="line">predicate = [predicateTemplate predicateWithSubstitutionVariables: varDict];</span><br><span class="line">results = [cars filteredArrayUsingPredicate: predicate];</span><br><span class="line"><span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, results);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°ç»„è¿ç®—ç¬¦ INï¼šä½¿ç”¨æ•°ç»„å­—é¢é‡</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat: <span class="string">@"name IN &#123; 'Herbie', 'Snugs', 'Badger', 'Flap' &#125;"</span>];</span><br><span class="line">results = [cars filteredArrayUsingPredicate: predicate];</span><br><span class="line"><span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, [results valueForKey: <span class="string">@"name"</span>]);</span><br></pre></td></tr></table></figure>
<h2 id="20-6-æœ‰-SELF-å°±è¶³å¤Ÿäº†"><a href="#20-6-æœ‰-SELF-å°±è¶³å¤Ÿäº†" class="headerlink" title="20.6    æœ‰ SELF å°±è¶³å¤Ÿäº†"></a>20.6    æœ‰ SELF å°±è¶³å¤Ÿäº†</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åœ¨è°“è¯å­—ç¬¦ä¸²çš„<code>é”®è·¯å¾„</code>éƒ¨åˆ†ï¼Œé™¤äº†å¯ä»¥ä½¿ç”¨å¯¹è±¡çš„å±æ€§åå¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡<code>SELF</code>å¼•ç”¨è‡ªèº«ã€‚<br><strong>ç”¨é€”ï¼š</strong><code>SELF</code>è¡¨ç¤ºçš„æ˜¯å“åº”è°“è¯è®¡ç®—çš„å¯¹è±¡æœ¬èº«ï¼Œé€‚ç”¨äºå°†è°“è¯åº”ç”¨äºç®€å•çš„å€¼ï¼ˆä¾‹å¦‚çº¯æ–‡æœ¬å­—ç¬¦ä¸²ï¼‰ï¼Œè€Œéå“ªäº›å¯ä»¥é€šè¿‡é”®è·¯å¾„è¿›è¡Œæ“ä½œçš„å¤æ‚å¯¹è±¡ã€‚<br><strong>æŠ€å·§ï¼š</strong>å¯ä»¥ä½¿ç”¨<code>è°“è¯</code>è®¡ç®—ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†ï¼Œå…¶ä¸­ä¸€ä¸ªæ•°ç»„ä½œä¸º<code>ä¸»è¯­</code>ï¼Œå¦ä¸€ä¸ªåœ¨<code>è°“è¯</code>ä¸­ï¼Œä½¿ç”¨<code>IN</code>è¿ç®—ç¬¦ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//------------ SELF ï¼šåº”ç”¨äºå¤æ‚å¯¹è±¡</span></span><br><span class="line"><span class="comment">// åˆ¤æ–­ name å±æ€§æ˜¯ä¸æ˜¯åœ¨æŒ‡å®š å­—ç¬¦ä¸²æ•°ç»„ä¸­</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"SELF.name IN &#123;'Herbie', 'Snugs', 'Badger', 'Flap'&#125;"</span>];</span><br><span class="line"><span class="comment">// ä½¿ç”¨è°“è¯è¿‡æ»¤æ±½è½¦æ•°ç»„ï¼Œè·å–å­æ•°ç»„</span></span><br><span class="line">results = [cars filteredArrayUsingPredicate:predicate];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, results);</span><br><span class="line"></span><br><span class="line"><span class="comment">//------------ SELFï¼šåº”ç”¨äºç®€å•å¯¹è±¡</span></span><br><span class="line"><span class="comment">// å­—ç¬¦ä¸²æ•°ç»„</span></span><br><span class="line">names = [cars valueForKey:<span class="string">@"name"</span>];</span><br><span class="line"><span class="comment">// åˆ¤æ–­å­—ç¬¦ä¸²è‡ªèº«æ˜¯ä¸æ˜¯åœ¨æŒ‡å®š å­—ç¬¦ä¸²æ•°ç»„ä¸­</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"SELF IN &#123;'Herbie', 'Snugs', 'Bager', 'Flap'&#125;"</span>];</span><br><span class="line"><span class="comment">// ä¸»è¯­ï¼‹è°“è¯</span></span><br><span class="line">results = [cars filteredArrayUsingPredicate:predicate];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, results);</span><br><span class="line"></span><br><span class="line"><span class="comment">//-------- ä½¿ç”¨ IN è¿ç®—ç¬¦è®¡ç®—ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†</span></span><br><span class="line"><span class="built_in">NSArray</span> *names1 = [<span class="built_in">NSArray</span> arrayWithObjects: <span class="string">@"Herbie"</span>, <span class="string">@"Badger"</span>, <span class="string">@"Judge"</span>, <span class="string">@"Elvis"</span>, <span class="literal">nil</span>];</span><br><span class="line"><span class="built_in">NSArray</span> *names2 = [<span class="built_in">NSArray</span> arrayWithObjects: <span class="string">@"Judge"</span>, <span class="string">@"Paper Car"</span>, <span class="string">@"Badger"</span>, <span class="string">@"Phoenix"</span>, <span class="literal">nil</span>];</span><br><span class="line"></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat: <span class="string">@"SELF IN %@"</span>, names1];</span><br><span class="line">results = [names2 filteredArrayUsingPredicate: predicate];</span><br></pre></td></tr></table></figure>
<h2 id="20-7-å­—ç¬¦ä¸²è¿ç®—ç¬¦"><a href="#20-7-å­—ç¬¦ä¸²è¿ç®—ç¬¦" class="headerlink" title="20.7    å­—ç¬¦ä¸²è¿ç®—ç¬¦"></a>20.7    å­—ç¬¦ä¸²è¿ç®—ç¬¦</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>3ä¸ªä¸“é—¨é’ˆå¯¹å­—ç¬¦ä¸²çš„è¿ç®—ç¬¦</p>
</blockquote>
<table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>BEGINSWITH</code></td>
<td>å‰ç¼€æ˜¯å¦æ˜¯æŸä¸€ä¸ªå­—ç¬¦ä¸²</td>
</tr>
<tr>
<td><code>ENDSWITH</code></td>
<td>åç¼€æ˜¯æŸä¸€ä¸ªå­—ç¬¦ä¸²</td>
</tr>
<tr>
<td><code>CONTAINS</code></td>
<td>æ˜¯å¦åŒ…å«æŸä¸€ä¸ªå­ä¸²</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>è¿ç®—ç¬¦ä¿®é¥°ç¬¦ï¼š</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>ä¿®é¥°ç¬¦</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>c</code></td>
<td>ä¸åŒºåˆ†å¤§å°å†™</td>
</tr>
<tr>
<td><code>d</code></td>
<td>ä¸åŒºåˆ†å‘éŸ³ç¬¦å·</td>
</tr>
<tr>
<td><code>cd</code></td>
<td>ä¸åŒºåˆ†å¤§å°å†™å’Œå‘éŸ³ç¬¦å·</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>å»ºè®®ï¼š</strong>å¤„åˆ†æ˜¯éœ€è¦åŒºåˆ†å¤§å°å†™æˆ–é‡éŸ³ç¬¦å·çš„ç‰¹æ®ŠåŸå› ï¼Œå¦åˆ™è¯·å°½åŠ›ä½¿ç”¨<code>cd</code>ä¿®é¥°ç¬¦ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//----------- å­—ç¬¦ä¸²è¿ç®—ç¬¦</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat: <span class="string">@"name BEGINSWITH 'Bad'"</span>];</span><br><span class="line">results = [cars filteredArrayUsingPredicate: predicate];</span><br><span class="line"><span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, results);</span><br><span class="line"></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat: <span class="string">@"name BEGINSWITH 'HERB'"</span>];</span><br><span class="line">results = [cars filteredArrayUsingPredicate: predicate];</span><br><span class="line"><span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, results);</span><br><span class="line"></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat: <span class="string">@"name BEGINSWITH[cd] 'HERB'"</span>];</span><br><span class="line">results = [cars filteredArrayUsingPredicate: predicate];</span><br><span class="line"><span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, results);</span><br></pre></td></tr></table></figure>
<h2 id="20-8-LIKE-è¿ç®—ç¬¦"><a href="#20-8-LIKE-è¿ç®—ç¬¦" class="headerlink" title="20.8    LIKE è¿ç®—ç¬¦"></a>20.8    LIKE è¿ç®—ç¬¦</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>LIKE</code>è¿ç®—ç¬¦åŒ…å«2ä¸ªé€šé…ç¬¦</p>
</blockquote>
<table>
<thead>
<tr>
<th>é€šé…ç¬¦</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>*</code></td>
<td>ä¸ä»»æ„ä¸ªä»»æ„å­—ç¬¦åŒ¹é…</td>
</tr>
<tr>
<td><code>?</code></td>
<td>ä¸ä¸€ä¸ªä»»æ„å­—ç¬¦åŒ¹é…</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>æ‰©å±•ï¼š</strong>å¦‚æœçƒ­è¡·äºæ­£åˆ™è¡¨è¾¾å¼ï¼Œå¯ä»¥ä½¿ç”¨<code>MATCHES</code>è¿ç®—ç¬¦ã€‚<br><strong>æŠ€å·§ï¼š</strong>ç”±äºæ­£åˆ™è¡¨è¾¾å¼è®¡ç®—å¼€é”€æ¯”è¾ƒå¤§ï¼Œå› æ­¤å¯ä»¥åœ¨ä½¿ç”¨<code>MATCH</code>ä¹‹å‰å…ˆä½¿ç”¨å…¶å®ƒè¿ç®—ç¬¦åšåˆæ­¥è¿‡æ»¤ï¼Œä»è€Œæé«˜è¿ç®—é€Ÿåº¦ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//------------- like è¿ç®—ç¬¦</span></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat: <span class="string">@"name LIKE[cd] '*er*'"</span>];</span><br><span class="line">results = [cars filteredArrayUsingPredicate: predicate];</span><br><span class="line"><span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, results);</span><br><span class="line"></span><br><span class="line">predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat: <span class="string">@"name LIKE[cd] '???er*'"</span>];</span><br><span class="line">results = [cars filteredArrayUsingPredicate: predicate];</span><br><span class="line"><span class="built_in">NSLog</span> (<span class="string">@"%@"</span>, results);</span><br></pre></td></tr></table></figure>
<h2 id="20-9-ç»“è¯­"><a href="#20-9-ç»“è¯­" class="headerlink" title="20.9    ç»“è¯­"></a>20.9    ç»“è¯­</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_19 ä½¿ç”¨é™æ€åˆ†æå™¨/" itemprop="url">
                  19 ä½¿ç”¨é™æ€åˆ†æå™¨
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T10:42:52+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_19 ä½¿ç”¨é™æ€åˆ†æå™¨/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_19 ä½¿ç”¨é™æ€åˆ†æå™¨/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä»<code>Xcode 3.2</code>å¼€å§‹åŠ å…¥çš„æ–°åŠŸèƒ½ï¼Œä¸éœ€è¦è¿è¡Œç¨‹åºå°±å¯ä»¥ä»é€»è¾‘ä¸Šæ£€æµ‹ä»£ç çš„å·¥å…·ï¼Œå®ƒå¯ä»¥å¯»æ‰¾ä¼šæ¼”å˜æˆbugçš„é”™è¯¯ã€‚</p>
</blockquote>
<h2 id="19-1-é™æ€å·¥ä½œ"><a href="#19-1-é™æ€å·¥ä½œ" class="headerlink" title="19.1    é™æ€å·¥ä½œ"></a>19.1    é™æ€å·¥ä½œ</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>é™æ€åˆ†æå™¨</code>å¯ä»¥è¯†åˆ«ä»¥ä¸‹å‡ ç§é”™è¯¯</p>
<ul>
<li><strong>å®‰å…¨é—®é¢˜ï¼š</strong>æ¯”å¦‚å†…å­˜æ³„æ¼å’Œç¼“å†²åŒºæº¢å‡º</li>
<li><strong>å¹¶å‘æ€§é—®é¢˜ï¼š</strong>æ¯”å¦‚é™æ€æ¡ä»¶ï¼ˆä¹Ÿå°±æ˜¯ä¾èµ–æ—¶é—´çš„ä¸¤ä¸ªæˆ–å¤šä¸ªä»»åŠ¡å¤±æ•ˆï¼‰</li>
<li><strong>é€»è¾‘é—®é¢˜ï¼š</strong>åŒ…æ‹¬åºŸä»£ç å’Œä¸å¥½çš„ç¼–ç ä¹ æƒ¯</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong><code>é™æ€åˆ†æå™¨</code>å­˜åœ¨ä»¥ä¸‹ä¸è¶³</p>
<ul>
<li>æ‹–æ…¢æ„å»ºç¨‹åºçš„è¿‡ç¨‹ï¼šå› ä¸ºéœ€è¦æ¶ˆè€—æ—¶é—´æ¥è¿›è¡Œåˆ†æ</li>
<li>æœ‰æ—¶ä¼šè¯¯æŠ¥é”™è¯¯</li>
<li>éœ€è¦é€‚åº”ï¼šå› ä¸ºæ”¹å˜äº†ç†Ÿæ‚‰çš„å·¥ä½œæµç¨‹</li>
</ul>
</blockquote>
<h3 id="19-1-1-å¼€å§‹åˆ†æ"><a href="#19-1-1-å¼€å§‹åˆ†æ" class="headerlink" title="19.1.1    å¼€å§‹åˆ†æ"></a>19.1.1    å¼€å§‹åˆ†æ</h3><blockquote>
<p><strong>è¿è¡Œé™æ€åˆ†æå™¨ï¼š</strong><code>Product(èœå•) -&gt; Analyze</code>ï¼Œåˆ†è§£å†³è¿‡åœ¨å¯¼èˆªæ <code>issue</code>ä¸­å¯ä»¥çœ‹åˆ°<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-31%20%E4%B8%8B%E5%8D%885.26.58.png" alt="Alt text"></p>
</blockquote>
<h4 id="19-1-1-1-åºŸä»£ç "><a href="#19-1-1-1-åºŸä»£ç " class="headerlink" title="19.1.1.1    åºŸä»£ç "></a>19.1.1.1    åºŸä»£ç </h4><blockquote>
<p><strong>åºŸä»£ç ï¼š</strong>åˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡<code>pool</code>ï¼Œä½†ä»æ²¡æœ‰åœ¨ä»£ç ä¸­ç›´æ¥è®¿é—®è¿‡ï¼Œæ²¡æœ‰å‘å®ƒå‘é€æ¶ˆæ¯ä¹Ÿæ²¡æœ‰æ›´æ”¹è¿‡å®ƒã€‚<br><strong>ä¼˜åŒ–æ‰‹æ®µï¼š</strong>ç§»é™¤<code>åºŸä»£ç </code><br><strong>ä¼˜åŒ–æ„ä¹‰ï¼š</strong>åºŸä»£ç å¹¶ä¸ä¸€å®šä¼šç»™ç¨‹åºå¸¦æ¥åŠŸèƒ½ä¸Šçš„é—®é¢˜ï¼Œä½†ç»ˆå½’ä¼šæµªè´¹æ€§èƒ½ï¼Œç§»é™¤åºŸä»£ç å¯ä»¥ä½¿åº”ç”¨ç¨‹åºæ›´åŠ é«˜æ•ˆã€‚</p>
</blockquote>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-31%20%E4%B8%8B%E5%8D%886.42.15.png" alt="Alt text"></p>
<h4 id="19-1-1-2-å†…å­˜æ³„æ¼ï¼šå¯¹è±¡è¢«é‡Šæ”¾ä¹‹å‰ç¨‹åºreturn"><a href="#19-1-1-2-å†…å­˜æ³„æ¼ï¼šå¯¹è±¡è¢«é‡Šæ”¾ä¹‹å‰ç¨‹åºreturn" class="headerlink" title="19.1.1.2    å†…å­˜æ³„æ¼ï¼šå¯¹è±¡è¢«é‡Šæ”¾ä¹‹å‰ç¨‹åºreturn"></a>19.1.1.2    å†…å­˜æ³„æ¼ï¼šå¯¹è±¡è¢«é‡Šæ”¾ä¹‹å‰ç¨‹åºreturn</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šå¸¸è¿˜æ²¡æœ‰é‡Šæ”¾æ‰åˆ†é…çš„å†…å­˜çš„å¯¹è±¡ï¼Œå°±è¿‡æ—©è¿”å›æ—¶ä¾¿ä¼šå‡ºç°è¿™ç§æƒ…å†µã€‚<br><strong>æ‰©å±•ï¼š</strong>å¯ä»¥é€šè¿‡ç‚¹å‡»å¸¦æœ‰<code>åˆ†æå™¨å›¾æ ‡</code>çš„ä»£ç æ¥è§‚å¯Ÿä»£ç ä»å¼€å§‹åˆ°å½“å‰è¡Œçš„è¿è¡Œæµç¨‹</p>
<ol>
<li>è§¦å‘â€œè¿è¡Œæµç¨‹â€<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-31%20%E4%B8%8B%E5%8D%886.50.10.png" alt="Alt text"></li>
<li>å®Œæ¯•<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-31%20%E4%B8%8B%E5%8D%886.55.01.png" alt="Alt text"></li>
</ol>
</blockquote>
<h4 id="19-1-1-3-å†…å­˜æ³„æ¼ï¼šå‰¯æœ¬æ²¡æœ‰é‡Šæ”¾"><a href="#19-1-1-3-å†…å­˜æ³„æ¼ï¼šå‰¯æœ¬æ²¡æœ‰é‡Šæ”¾" class="headerlink" title="19.1.1.3    å†…å­˜æ³„æ¼ï¼šå‰¯æœ¬æ²¡æœ‰é‡Šæ”¾"></a>19.1.1.3    å†…å­˜æ³„æ¼ï¼šå‰¯æœ¬æ²¡æœ‰é‡Šæ”¾</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„å‰¯æœ¬ï¼Œè¦åœ¨é€‚å½“çš„æ—¶å€™å¯¹å…¶è¿›è¡Œé‡Šæ”¾ï¼Œå¦åˆ™å¼•å‘å†…å­˜æ³„æ¼ã€‚<br><strong>ä¼˜åŒ–æ‰‹æ®µï¼š</strong>åœ¨<code>main</code>å‡½æ•°ç»“å°¾å¤„é‡Šæ”¾<code>carCopy</code>ã€‚<br><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-31%20%E4%B8%8B%E5%8D%887.02.18.png" alt="Alt text"></p>
</blockquote>
<h4 id="19-1-1-4-å†…å­˜æ³„æ¼ï¼šdescriptionæ–¹æ³•ä¸­çš„descåœ¨è¿”å›å‰æ²¡æœ‰é‡Šæ”¾"><a href="#19-1-1-4-å†…å­˜æ³„æ¼ï¼šdescriptionæ–¹æ³•ä¸­çš„descåœ¨è¿”å›å‰æ²¡æœ‰é‡Šæ”¾" class="headerlink" title="19.1.1.4    å†…å­˜æ³„æ¼ï¼šdescriptionæ–¹æ³•ä¸­çš„descåœ¨è¿”å›å‰æ²¡æœ‰é‡Šæ”¾"></a>19.1.1.4    å†…å­˜æ³„æ¼ï¼šdescriptionæ–¹æ³•ä¸­çš„descåœ¨è¿”å›å‰æ²¡æœ‰é‡Šæ”¾</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>AllWeatherRadialç±»</code>ä¸­çš„<code>description</code>æ–¹æ³•ä¸­åˆ†é…äº†ä¸€ä¸ªå­—ç¬¦ä¸²<code>desc</code>ï¼Œä½†æ²¡æœ‰åœ¨è¿”å›å‡½æ•°ä¹‹å‰é‡Šæ”¾å®ƒã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">NSString</span> *) description</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSString</span> *desc;</span><br><span class="line">    desc = [[<span class="built_in">NSString</span> alloc] initWithFormat:</span><br><span class="line">                   <span class="string">@"AllWeatherRadial: %.1f / %.1f / %.1f / %.1f"</span>,</span><br><span class="line">               [<span class="keyword">self</span> pressure], [<span class="keyword">self</span> treadDepth],</span><br><span class="line">               [<span class="keyword">self</span> rainHandling], </span><br><span class="line">               [<span class="keyword">self</span> snowHandling]];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> [desc autorelease];</span><br><span class="line"></span><br><span class="line">&#125; <span class="comment">// description</span></span><br></pre></td></tr></table></figure>
<h3 id="19-1-2-ååŠ©åˆ†æå™¨"><a href="#19-1-2-ååŠ©åˆ†æå™¨" class="headerlink" title="19.1.2    ååŠ©åˆ†æå™¨"></a>19.1.2    ååŠ©åˆ†æå™¨</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>é™æ€åˆ†æå™¨</code>åˆ†æå‡ºçš„â€œé—®é¢˜â€å¦‚æœæ˜¯æˆ‘ä»¬æœ‰æ„çš„ï¼Œå¯ä»¥é€šè¿‡åœ¨å£°æ˜æ–¹æ³•æ—¶ä½¿ç”¨ä¸€äº›<code>å…³é”®å­—</code>é¿å…è¯¯æŠ¥ï¼›æˆ–è€…æœ‰äº›æƒ…å†µä¸‹ï¼Œæƒ³è¦ä½¿é€šå¸¸æ²¡é—®é¢˜çš„æ–¹å¼å‘å‡ºè­¦æŠ¥ã€‚æ¯”å¦‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>å…³é”®å­—</th>
<th>ç”¨é€”</th>
<th>å¯¹åº”çš„æƒ¯ä¾‹</th>
<th>è¿”å›å¯¹è±¡ä¸º<code>Core Foundation</code>å¯¹è±¡æ—¶</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>NS_RETURNS_RETAINTED</code></td>
<td>æ ‡è®°æ–¹æ³•ï¼Œä»¥è¿”å›ä¸€ä¸ªä¿ç•™è®¡æ•°å™¨çš„å€¼ä¸æ˜¯é›¶çš„å¯¹è±¡</td>
<td>åˆ†é…å†…å­˜çš„åœ°æ–¹ä¹Ÿè¦è´Ÿè´£æ¸…ç†å†…å­˜</td>
<td><code>CF_RETURNS_RETAINTED</code></td>
</tr>
<tr>
<td><code>NS_RETURNS_NOT_RETAINED</code></td>
<td>ä½¿<code>é™æ€åˆ†æå™¨</code>åœ¨æ–¹æ³•è¯•å›¾è¿”å›ä¸€ä¸ªä¿ç•™å¯¹è±¡æ—¶å‘å‡º<code>issue</code></td>
<td>è¿”å›ä¿ç•™å¯¹è±¡é€šå¸¸ä¸éœ€è¦åšé¢å¤–å†…å­˜ç®¡ç†</td>
<td><code>NS_RETURNS_NOT_RETAINED</code></td>
</tr>
<tr>
<td><code>CLANG_ANALYZER_NORETURN</code></td>
<td>å¦‚æœæ–¹æ³•æœ‰å€¼è¿”å›ï¼Œå°±åœ¨<code>é™æ€åˆ†æ</code>æ˜¯å‘å‡ºè­¦æŠ¥</td>
<td>æ–¹æ³•è¿”å›å€¼ä¸ä¼šå‘ç”Ÿ<code>issue</code></td>
<td>æ— æ„ä¹‰</td>
</tr>
</tbody>
</table>
<h4 id="NS-RETURNS-RETAINTEDï¼šè¿”å›ä¸€ä¸ªä¿ç•™çš„å¯¹è±¡"><a href="#NS-RETURNS-RETAINTEDï¼šè¿”å›ä¸€ä¸ªä¿ç•™çš„å¯¹è±¡" class="headerlink" title="NS_RETURNS_RETAINTEDï¼šè¿”å›ä¸€ä¸ªä¿ç•™çš„å¯¹è±¡"></a>NS_RETURNS_RETAINTEDï¼šè¿”å›ä¸€ä¸ªä¿ç•™çš„å¯¹è±¡</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">NSMutableArray</span> *) superDuperArrayCreator <span class="built_in">NS_RETURNS_RETAINED</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">NSMutableArray</span> *) superDuperArrayCreator</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">NSMutableArray</span> *myArray = [[<span class="built_in">NSMutableArray</span> alloc] init];</span><br><span class="line">	<span class="comment">// ...</span></span><br><span class="line">	<span class="comment">// æ²¡å°† myArray é‡Šæ”¾å°±è¿”å›äº†</span></span><br><span class="line">	<span class="keyword">return</span> myArray;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="NS-RETURNS-NOT-RETAINEDï¼šè¿”å›ä¸€ä¸ªæœªä¿ç•™çš„å¯¹è±¡"><a href="#NS-RETURNS-NOT-RETAINEDï¼šè¿”å›ä¸€ä¸ªæœªä¿ç•™çš„å¯¹è±¡" class="headerlink" title="NS_RETURNS_NOT_RETAINEDï¼šè¿”å›ä¸€ä¸ªæœªä¿ç•™çš„å¯¹è±¡"></a>NS_RETURNS_NOT_RETAINEDï¼šè¿”å›ä¸€ä¸ªæœªä¿ç•™çš„å¯¹è±¡</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ†æå™¨ä¼šåœ¨è¯¥æ–¹æ³•è§†å›¾è¿”å›ä¸€ä¸ªä¿ç•™å¯¹è±¡æ—¶æå‡ºissue</span></span><br><span class="line">- (<span class="built_in">NSMutableArray</span> *) superDuperArrayCreator <span class="built_in">NS_RETURNS_NOT_RETAINED</span>;</span><br></pre></td></tr></table></figure>
<h3 id="19-1-3-äº†è§£æ›´å¤š"><a href="#19-1-3-äº†è§£æ›´å¤š" class="headerlink" title="19.1.3    äº†è§£æ›´å¤š"></a>19.1.3    äº†è§£æ›´å¤š</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>é™æ€åˆ†æå™¨</code>èƒ½å¤Ÿæ‰¾åˆ°çš„å…¶å®ƒé—®é¢˜</p>
</blockquote>
<table>
<thead>
<tr>
<th><code>issue</code></th>
<th>è¯´æ˜</th>
<th>è§£å†³<code>issue</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>ç­‰å·é”™è¯¯</td>
<td><code>if (myValue = expression)</code>å­˜åœ¨æ­§ä¹‰</td>
<td>èµ‹å€¼ååˆ¤ç©ºï¼š<code>if ((myValue = expression))</code>ï¼›åˆ¤ç­‰ï¼š<code>if (nil != (myValue = expression))</code></td>
</tr>
<tr>
<td>å†…å­˜æ³„æ¼</td>
<td>æ–¹æ³•ä¸­çš„è¿è¡Œæ—¶é”™è¯¯ä½¿æ–¹æ³•æå‰returnï¼Œå¯¼è‡´releaseä»£ç æ²¡æœ‰æ‰§è¡Œè€Œå‘ç”Ÿå†…å­˜æ³„æ¼</td>
<td>æ— è®ºä»€ä¹ˆæ—¶å€™é€€å‡ºäº†æ–¹æ³•ï¼Œéƒ½éœ€è¦ç¡®è®¤æœ‰æ²¡æœ‰åˆ†é…äº†å•æµ·æ²¡æœ‰é‡Šæ”¾çš„å¯¹è±¡</td>
</tr>
<tr>
<td>è¿‡åº¦é‡Šæ”¾</td>
<td>é‡å¤<code>autorelease</code></td>
<td>ç§»é™¤å¤šä½™çš„<code>autorelease</code></td>
</tr>
<tr>
<td><code>@synchronizedè¯­å¥ä¸­çš„ç©ºå€¼</code></td>
<td><code>@synchronized(object)</code>ä¸­çš„<code>object</code>å¦‚æœä¸º<code>nil</code>å°±å‘å‡º<code>issue</code></td>
<td>ç¡®ä¿<code>object</code>ä¸ä¸º<code>nil</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>å»ºè®®ï¼š</strong>æŠŠ<code>é™æ€åˆ†æå™¨</code>ä½œä¸ºä¸€ä¸ªå–„æ„ä½†çƒ¦äººçš„æœ‹å‹ï¼Œå› ä¸ºå®ƒæ‰€è¯´çš„é€šå¸¸éƒ½æ˜¯å¯¹çš„ã€‚<br><strong>æ³¨æ„ï¼š</strong>ä¸è¦å¤ªä¾èµ–<code>é™æ€åˆ†æå™¨</code>æ¥æŸ¥æ‰¾æ¯ä¸€ä¸ªå†…å­˜æ³„æ¼å’ŒåºŸä»£ç ï¼Œè‡ªå·±è¦å¯¹è‡ªå·±çš„ä»£ç è´Ÿè´£ã€‚</p>
</blockquote>
<h2 id="19-2-å°ç»“"><a href="#19-2-å°ç»“" class="headerlink" title="19.2    å°ç»“"></a>19.2    å°ç»“</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_18 é”®ï¼å€¼ç¼–ç /" itemprop="url">
                  18 é”®/å€¼ç¼–ç 
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T10:42:32+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_18 é”®ï¼å€¼ç¼–ç /#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_18 é”®ï¼å€¼ç¼–ç /" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="18-1-å…¥é—¨é¡¹ç›®"><a href="#18-1-å…¥é—¨é¡¹ç›®" class="headerlink" title="18.1    å…¥é—¨é¡¹ç›®"></a>18.1    å…¥é—¨é¡¹ç›®</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong></p>
</blockquote>
<h2 id="18-2-KVCç®€ä»‹"><a href="#18-2-KVCç®€ä»‹" class="headerlink" title="18.2    KVCç®€ä»‹"></a>18.2    KVCç®€ä»‹</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šè¿‡<code>é”®ï¼å€¼ç¼–ç ï¼ˆKVCï¼‰</code>ï¼Œæ²¡æœ‰ç›¸åº”<code>getter</code>æ–¹æ³•ä¹Ÿèƒ½è·å–å±æ€§å€¼ï¼Œæ²¡æœ‰ç›¸åº”<code>setter</code>æ–¹æ³•ä¹Ÿèƒ½è®¾ç½®å±æ€§å€¼ã€‚<br><strong>è‡ªåŠ¨å¼€ç®±å’Œè£…ç®±ï¼š</strong>ä»…<code>KVC</code>å…·æœ‰è¿™ç§åŠŸèƒ½ï¼Œå¸¸è§„æ–¹æ³•è°ƒç”¨å’Œå±æ€§è¯­æ³•ä¸å…·å¤‡è¯¥åŠŸèƒ½ã€‚</p>
</blockquote>
<h3 id="valueForKeyå®ä¾‹æ–¹æ³•"><a href="#valueForKeyå®ä¾‹æ–¹æ³•" class="headerlink" title="valueForKeyå®ä¾‹æ–¹æ³•"></a>valueForKeyå®ä¾‹æ–¹æ³•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†å±æ€§åä½œä¸º<code>é”®</code>è·å–å±æ€§çš„<code>å€¼</code>ã€‚<br><strong>åŸç†ï¼š</strong>åœ¨<code>Objective-C</code>çš„è¿è¡Œä¸­ä½¿ç”¨å…ƒæ•°æ®æ‰“å¼€å¯¹è±¡å¹¶è¿›å…¥å…¶ä¸­æŸ¥æ‰¾éœ€è¦çš„ä¿¡æ¯ï¼ŒæŸ¥æ‰¾é¡ºåºä¸º</p>
<ol>
<li>ä»¥å‚æ•°å‘½å(<code>key</code>æˆ–<code>isKey</code>)çš„<code>getter</code></li>
<li>åç§°ä¸º<code>_key</code>æˆ–<code>key</code>çš„å®ä¾‹å˜é‡</li>
</ol>
<p><strong>è‡ªåŠ¨è£…ç®±ï¼š</strong>é€šè¿‡è¯¥æ–¹æ³•è·å–å±æ€§å€¼æ—¶ï¼Œå¦‚æœå±æ€§ä¸º<code>æ ‡é‡(intã€floatã€struct)</code>ï¼Œè¯¥æ–¹æ³•ä¼šæ ¹æ®éœ€è¦å°†å±æ€§æ”¾å…¥<code>NSNumber</code>æˆ–<code>NSValue</code>ä¸­ã€‚<br><strong>å…¼å®¹æ€§ï¼š</strong>åœ¨<code>C</code>æˆ–<code>C++</code>ä¸­ä¸èƒ½æ‰§è¡Œè¿™ç§æ“ä½œã€‚<br><strong>åŸå‹ï¼š</strong><code>NSKeyValueCoding.h</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSString *&#125; key å±æ€§å</span><br><span class="line">* @return &#123;id&#125; å±æ€§å€¼ï¼ˆæ ‡é‡ä¼šè¢«è‡ªåŠ¨è£…ç®±ï¼‰</span><br><span class="line">*/</span></span><br><span class="line">- (nullable <span class="keyword">id</span>)valueForKey:(<span class="built_in">NSString</span> *)key;</span><br></pre></td></tr></table></figure>
<h3 id="setValue-forkeyå®ä¾‹æ–¹æ³•"><a href="#setValue-forkeyå®ä¾‹æ–¹æ³•" class="headerlink" title="setValue:forkeyå®ä¾‹æ–¹æ³•"></a>setValue:forkeyå®ä¾‹æ–¹æ³•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†å±æ€§åä½œä¸º<code>é”®</code>è®¾ç½®å±æ€§çš„<code>å€¼</code>ã€‚<br><strong>è‡ªåŠ¨å¼€ç®±ï¼š</strong>ä½¿ç”¨è¯¥æ–¹æ³•è®¾ç½®å±æ€§æ—¶ï¼Œå¦‚æœå±æ€§æ˜¯<code>æ ‡é‡ï¼ˆintã€floatã€structï¼‰</code>ï¼Œåˆ™ä¼šä»æ–°å€¼ï¼ˆ<code>id</code>ï¼‰ä¸­æå–å‡ºå’Œå±æ€§ç±»å‹ç›¸ç¬¦çš„<code>æ ‡é‡</code>ã€‚<br><strong>æŠ€å·§ï¼š</strong>å¦‚æœæƒ³è®¾ç½®ä¸€ä¸ª<code>æ ‡é‡</code>å€¼ï¼Œåœ¨è°ƒç”¨<code>setValue</code>æ–¹æ³•ä¹‹å‰éœ€è¦å°†å®ƒä»¬åŒ…è£…ææ¥ï¼ˆå°è£…åˆ°å¯¹è±¡ä¸­ï¼‰ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSKeyValueCoding.h</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;id&#125; value è¦è®¾ç½®çš„å€¼ï¼ˆéœ€è¦çš„è¯ä¼šè¢«å¼€ç®±ï¼‰</span><br><span class="line">* @param &#123;NSString *&#125; key å±æ€§å</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="keyword">void</span>)setValue:(nullable <span class="keyword">id</span>)value forKey:(<span class="built_in">NSString</span> *)key;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// åˆ›å»º Car å¯¹è±¡</span></span><br><span class="line">Car *car = [[Car alloc] init];</span><br><span class="line">car.name = <span class="string">@"Herbie"</span>;</span><br><span class="line">car.make = <span class="string">@"Honda"</span>;</span><br><span class="line">car.model = <span class="string">@"CRX"</span>;</span><br><span class="line">car.modelYear = <span class="number">1984</span>;</span><br><span class="line">car.numberOfDoors = <span class="number">2</span>;</span><br><span class="line">car.mileage = <span class="number">110000</span>;</span><br><span class="line"><span class="comment">// åˆå§‹åŒ–è½®èƒ</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">    AllWeatherRadial *tire;</span><br><span class="line">    tire = [[AllWeatherRadial alloc] init];</span><br><span class="line">    [car setTire: tire atIndex:i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åˆå§‹åŒ–å¼•æ“</span></span><br><span class="line">Slant6 *engine = [[Slant6 alloc] init];</span><br><span class="line">car.engine = engine;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡ KVC è®¿é—®è½¦çš„å¼•æ“çš„é©¬åŠ›</span></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"horsepower is %@"</span>, [engine valueForKey:<span class="string">@"horsepower"</span>]);</span><br><span class="line"><span class="comment">// é€šè¿‡ KVC é‡æ–°è®¾ç½®è½¦çš„å¼•æ“çš„é©¬åŠ›</span></span><br><span class="line">[engine setValue:[<span class="built_in">NSNumber</span> numberWithInt:<span class="number">150</span>] forKey:<span class="string">@"horsepower"</span>];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"horsepower is %@"</span>, [engine valueForKey:<span class="string">@"horsepower"</span>]);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"Car is %@"</span>, car);</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡ KVC è®¿é—®è½¦çš„åå­—</span></span><br><span class="line"><span class="built_in">NSString</span> *name = [car valueForKey:<span class="string">@"name"</span>];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, name);</span><br><span class="line"><span class="comment">// é€šè¿‡ KVC è®¿é—®è½¦çš„åˆ¶é€ å•†</span></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"make is %@"</span>, [car valueForKey:<span class="string">@"make"</span>]);</span><br><span class="line"><span class="comment">// é€šè¿‡ KVC è®¿é—®è½¦çš„è½¦å‹å‡ºå‚æ—¥æœŸ</span></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"model year is %@"</span>, [car valueForKey:<span class="string">@"modelYear"</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡ KVC è®¾ç½®è½¦å</span></span><br><span class="line">[car setValue:<span class="string">@"Harold"</span> forKey:<span class="string">@"name"</span>];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"new car name is %@"</span>, [car name]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡ KVC è®¾ç½®é‡Œç¨‹æ•°</span></span><br><span class="line">[car setValue:[<span class="built_in">NSNumber</span> numberWithFloat:<span class="number">25062.4</span>] forKey:<span class="string">@"mileage"</span>];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"new mileage is %.1f"</span>, [car mileage]);</span><br></pre></td></tr></table></figure>
<h2 id="18-3-é”®è·¯å¾„"><a href="#18-3-é”®è·¯å¾„" class="headerlink" title="18.3    é”®è·¯å¾„"></a>18.3    é”®è·¯å¾„</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è¿›è¡Œ<code>get</code>å’Œ<code>set</code>æ“ä½œï¼Œé™¤äº†é€šè¿‡<code>é”®</code>ï¼Œè¿˜å¯ä»¥é€šè¿‡<code>é”®è·¯å¾„</code>ã€‚<code>é”®è·¯å¾„</code>å¯ä»¥æ ¹æ®<code>å¯¹è±¡å›¾</code>è®¿é—®åˆ°ä»»æ„æ·±åº¦çš„å¯¹è±¡ï¼Œæ¯”ä½¿ç”¨ä¸€ç³»åˆ—åµŒå¥—æ–¹æ³•è°ƒç”¨æ›´å®¹æ˜“è®¿é—®åˆ°å¯¹è±¡ã€‚</p>
</blockquote>
<h3 id="valueForKeyPathå®ä¾‹æ–¹æ³•"><a href="#valueForKeyPathå®ä¾‹æ–¹æ³•" class="headerlink" title="valueForKeyPathå®ä¾‹æ–¹æ³•"></a>valueForKeyPathå®ä¾‹æ–¹æ³•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†å±æ€§åä½œä¸º<code>é”®</code>è·å–å±æ€§çš„<code>å€¼</code>ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSKeyValueCoding.h</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSString *&#125; keyPath é”®è·¯å¾„</span><br><span class="line">* @return &#123;id&#125; å±æ€§å€¼ï¼ˆæ ‡é‡ä¼šè¢«è‡ªåŠ¨è£…ç®±ï¼‰</span><br><span class="line">*/</span></span><br><span class="line">- (nullable <span class="keyword">id</span>)valueForKeyPath:(<span class="built_in">NSString</span> *)keyPath;</span><br></pre></td></tr></table></figure>
<h3 id="setValue-forKeyPathå®ä¾‹æ–¹æ³•"><a href="#setValue-forKeyPathå®ä¾‹æ–¹æ³•" class="headerlink" title="setValue:forKeyPathå®ä¾‹æ–¹æ³•"></a>setValue:forKeyPathå®ä¾‹æ–¹æ³•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†å±æ€§åä½œä¸º<code>é”®</code>è®¾ç½®å±æ€§çš„<code>å€¼</code>ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSKeyValueCoding.h</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;id&#125; value è¦è®¾ç½®çš„å€¼ï¼ˆéœ€è¦çš„è¯ä¼šè¢«å¼€ç®±ï¼‰</span><br><span class="line">* @param &#123;NSString *&#125; keyPath é”®è·¯å¾„</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="keyword">void</span>)setValue:(nullable <span class="keyword">id</span>)value forKeyPath:(<span class="built_in">NSString</span> *)keyPath;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€šè¿‡ KVC è®¾ç½®è½¦çš„å¼•æ“çš„é©¬åŠ›</span></span><br><span class="line">[car setValue:[<span class="built_in">NSNumber</span> numberWithInt:<span class="number">155</span>] forKeyPath:<span class="string">@"engine.horsepower"</span>];</span><br><span class="line"><span class="comment">// é€šè¿‡ KVC è®¿é—®è½¦çš„å¼•æ“çš„é©¬åŠ›</span></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"horsepower is %@"</span>, [car valueForKeyPath:<span class="string">@"engine.horsepower"</span>]);</span><br></pre></td></tr></table></figure>
<h2 id="18-4-æ•´ä½“æ“ä½œ"><a href="#18-4-æ•´ä½“æ“ä½œ" class="headerlink" title="18.4    æ•´ä½“æ“ä½œ"></a>18.4    æ•´ä½“æ“ä½œ</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¦‚æœä½¿ç”¨<code>é”®å€¼</code>æˆ–<code>é”®è·¯å¾„</code>è®¿é—®ä½äºå¯¹è±¡ä¸­çš„æ•°ç»„ç±»å‹çš„<code>å®ä¾‹å±æ€§</code>çš„å…ƒç´ ï¼Œå®é™…ä¸Šä¼šå¯¹æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ è¿›è¡Œæ“ä½œã€‚å¦‚æœæ˜¯æŸ¥è¯¢æ“ä½œï¼Œåˆ™è¿˜ä¼šå°†æŸ¥è¯¢ç»“æœæ‰“åŒ…åˆ°å¦ä¸€ä¸ªæ•°ç»„ä¸­å¹¶è¿”å›ã€‚<br><strong>æ³¨æ„ï¼š</strong>è¿™ç§<code>æ•´ä½“æ“ä½œ</code>æ„å‘³ç€æ— æ³•åœ¨<code>é”®è·¯å¾„</code>ä¸­å•ç‹¬ç´¢å¼•æ•°ç»„ç±»å‹çš„å±æ€§çš„å…¶ä¸­ä¸€ä¸ªå…ƒç´ ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€šè¿‡ KVC è®¿é—®è½¦çš„è½®èƒçš„èƒå‹ï¼Œä¼šä¾¿åˆ©tiresçš„æ¯ä¸ªå±æ€§ï¼Œå¹¶å°†æ‰€æœ‰tiresçš„å±æ€§çš„pressureå˜é‡å°è£…åˆ° NSNumber å¯¹è±¡ä¸­å¹¶è¿”å›</span></span><br><span class="line"><span class="built_in">NSArray</span> *pressures = [car valueForKeyPath:<span class="string">@"tires.pressure"</span>];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"pressures %@"</span>, pressures);</span><br></pre></td></tr></table></figure>
<h3 id="18-4-1-ä¼‘æ¯ä¸€ä¸‹"><a href="#18-4-1-ä¼‘æ¯ä¸€ä¸‹" class="headerlink" title="18.4.1    ä¼‘æ¯ä¸€ä¸‹"></a>18.4.1    ä¼‘æ¯ä¸€ä¸‹</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»ç”¨äºåé¢çš„å­¦ä¹ ä½¿ç”¨ã€‚</p>
</blockquote>
<p><em>Garage.h</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Cocoa/Cocoa.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@class</span> <span class="title">Car</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Garage</span> : <span class="title">NSObject</span> </span>&#123;</span><br><span class="line">	<span class="built_in">NSString</span> *name;</span><br><span class="line">	<span class="built_in">NSMutableArray</span> *cars;</span><br><span class="line">	<span class="built_in">NSMutableDictionary</span> *stuff;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readwrite</span>, <span class="keyword">copy</span>) <span class="built_in">NSString</span> *name;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) addCar: (Car *) car;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) print;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">// Garage</span></span><br></pre></td></tr></table></figure>
<p><em>Garage.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Garage.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Garage</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@synthesize</span> name;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) addCar: (Car *) car &#123;</span><br><span class="line">	<span class="keyword">if</span> (cars == <span class="literal">nil</span>) &#123;</span><br><span class="line">		cars = [[<span class="built_in">NSMutableArray</span> alloc] init];</span><br><span class="line">	&#125;</span><br><span class="line">	[cars addObject: car];</span><br><span class="line">	</span><br><span class="line">&#125; <span class="comment">// addCar</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) dealloc &#123;</span><br><span class="line">	[name release];</span><br><span class="line">	[cars release];</span><br><span class="line">	[stuff release];</span><br><span class="line">	[<span class="keyword">super</span> dealloc];</span><br><span class="line">&#125; <span class="comment">// dealloc</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) print &#123;</span><br><span class="line">	<span class="built_in">NSLog</span> (<span class="string">@"%@:"</span>, name);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> (Car *car <span class="keyword">in</span> cars) &#123;</span><br><span class="line">		<span class="built_in">NSLog</span> (<span class="string">@"    %@"</span>, car);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125; <span class="comment">// print</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) setValue: (<span class="keyword">id</span>) value  forUndefinedKey: (<span class="built_in">NSString</span> *) key &#123;</span><br><span class="line">	<span class="keyword">if</span> (stuff == <span class="literal">nil</span>) &#123;</span><br><span class="line">		stuff = [[<span class="built_in">NSMutableDictionary</span> alloc] init];</span><br><span class="line">	&#125;</span><br><span class="line">	[stuff setValue: value forKey: key];</span><br><span class="line">&#125; <span class="comment">// setValueForUndefinedKey</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>) valueForUndefinedKey:(<span class="built_in">NSString</span> *)key &#123;</span><br><span class="line">	<span class="keyword">id</span> value = [stuff valueForKey: key];</span><br><span class="line">	<span class="keyword">return</span> (value);</span><br><span class="line">&#125; <span class="comment">// valueForUndefinedKey</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span>  <span class="comment">// Car</span></span><br></pre></td></tr></table></figure>
<p><em>main.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ±½è½¦é›†åˆ</span></span><br><span class="line">Garage *garage = [[Garage alloc] init];</span><br><span class="line">garage.name = <span class="string">@"Joe's Garage"</span>;</span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€äº›æ±½è½¦å®ä¾‹</span></span><br><span class="line">Car *car;</span><br><span class="line">car = makeCar(<span class="string">@"Herbie"</span>, <span class="string">@"Honda"</span>, <span class="string">@"CRX"</span>, <span class="number">1984</span>, <span class="number">2</span>, <span class="number">110000</span>, <span class="number">58</span>);</span><br><span class="line">[garage addCar:car];</span><br><span class="line">car = makeCar(<span class="string">@"Badger"</span>, <span class="string">@"Acura"</span>, <span class="string">@"integra"</span>, <span class="number">1987</span>, <span class="number">5</span>, <span class="number">217036</span>, <span class="number">130</span>);</span><br><span class="line">[garage addCar:car];</span><br><span class="line">car = makeCar(<span class="string">@"Elvis"</span>, <span class="string">@"Acura"</span>, <span class="string">@"Legend"</span>, <span class="number">1989</span>, <span class="number">4</span>, <span class="number">28123.4</span>, <span class="number">151</span>);</span><br><span class="line">[garage addCar:car];</span><br><span class="line">car = makeCar(<span class="string">@"Phoenix"</span>, <span class="string">@"Pontiac"</span>, <span class="string">@"Firebird"</span>, <span class="number">1969</span>, <span class="number">2</span>, <span class="number">85128.3</span>, <span class="number">345</span>);</span><br><span class="line">[garage addCar:car];</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§‚å¯Ÿæ±½è½¦é›†åˆ</span></span><br><span class="line">[garage print];</span><br></pre></td></tr></table></figure>
<h3 id="18-4-2-å¿«é€Ÿè¿ç®—"><a href="#18-4-2-å¿«é€Ÿè¿ç®—" class="headerlink" title="18.4.2    å¿«é€Ÿè¿ç®—"></a>18.4.2    å¿«é€Ÿè¿ç®—</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>é”®è·¯å¾„</code>ä¸­å¯ä»¥ä½¿ç”¨è¿›è¡Œå¼•ç”¨ä¸€äº›è¿ç®—ç¬¦è¿›è¡Œä¸€äº›è¿ç®—ï¼Œæ¯”å¦‚</p>
<ul>
<li><strong>prevProperty.<code>@count</code>ï¼š</strong>è®¡ç®— <strong>prevProperty</strong> åŒ…å«çš„å¯¹è±¡çš„æ€»æ•°</li>
<li><strong>prevProperty.<code>@sum</code>.nextPropertyï¼š</strong>è®¡ç®—<strong>prevProperty</strong>åŒ…å«çš„æ‰€æœ‰å¯¹è±¡çš„<strong>nextProperty</strong>å±æ€§çš„æ€»å’Œ</li>
<li><strong>prevProperty.<code>@avg</code>.nextPropertyï¼š</strong>è®¡ç®—<strong>prevProperty</strong>åŒ…å«çš„æ‰€æœ‰å¯¹è±¡çš„<strong>nextProperty</strong>å±æ€§çš„å¹³å‡å€¼</li>
<li><strong>prevProperty.<code>@max</code>.nextPropertyï¼š</strong>è®¡ç®—<strong>prevProperty</strong>åŒ…å«çš„æ‰€æœ‰å¯¹è±¡çš„<strong>nextProperty</strong>å±æ€§çš„æœ€å¤§å€¼</li>
<li><strong>prevProperty.<code>@min</code>.nextPropertyï¼š</strong>è®¡ç®—<strong>prevProperty</strong>åŒ…å«çš„æ‰€æœ‰å¯¹è±¡çš„<strong>nextProperty</strong>å±æ€§çš„æœ€å°å€¼</li>
<li><strong>prevProperty.<code>@distinctUnionOfObjects</code>.nextPropertyï¼š</strong>è·å¾—ä»<strong>prevProperty</strong>åŒ…å«çš„æ‰€æœ‰å¯¹è±¡çš„<strong>nextProperty</strong>å±æ€§æ„æˆçš„é›†åˆå»é‡åçš„é›†åˆ</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong>ä¸è¦æ»¥ç”¨<code>KVC</code>é€šè¿‡<code>é”®è·¯å¾„</code>æä¾›çš„å¤„ç†é›†åˆç±»çš„<code>å¿«é€Ÿè¿ç®—</code>ç‰¹æ€§ï¼Œå› ä¸º</p>
<ul>
<li>é€Ÿåº¦æ¯”è¾ƒæ…¢</li>
<li>ç¼–è¯‘å™¨æ— æ³•å¯¹å®ƒè¿›è¡Œé”™è¯¯æ£€æŸ¥ï¼ˆå‡ºç°è¿è¡Œæ—¶é”™è¯¯æ—¶æ‰èƒ½å‘è§‰ï¼‰</li>
</ul>
<p><strong>é™åˆ¶ï¼š</strong>æ— æ³•æ·»åŠ è‡ªå®šä¹‰çš„è¿ç®—ç¬¦</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// @count</span></span><br><span class="line"><span class="built_in">NSNumber</span> *count = [garage valueForKeyPath:<span class="string">@"cars.@count"</span>];</span><br><span class="line"><span class="comment">// @sum</span></span><br><span class="line"><span class="built_in">NSNumber</span> *sum = [garage valueForKeyPath:<span class="string">@"cars.@sum.mileage"</span>];</span><br><span class="line"><span class="comment">// @avg</span></span><br><span class="line"><span class="built_in">NSNumber</span> *avgMileage = [garage valueForKeyPath:<span class="string">@"cars.@avg.mileage"</span>];</span><br><span class="line"><span class="comment">// @maxã€ @min</span></span><br><span class="line"><span class="built_in">NSNumber</span> *min, *max;</span><br><span class="line">max = [garage valueForKeyPath:<span class="string">@"cars.@max.mileage"</span>];</span><br><span class="line">min = [garage valueForKeyPath:<span class="string">@"cars.@max.mileage"</span>];</span><br><span class="line"><span class="comment">// @distinctUnionOfObjects</span></span><br><span class="line"><span class="built_in">NSArray</span> *manufacture = [garage valueForKeyPath:<span class="string">@"cars.@distinctUnionOfObjects.make"</span>];</span><br></pre></td></tr></table></figure>
<h2 id="18-5-æ‰¹å¤„ç†"><a href="#18-5-æ‰¹å¤„ç†" class="headerlink" title="18.5    æ‰¹å¤„ç†"></a>18.5    æ‰¹å¤„ç†</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>KVC</code>æä¾›äº†å¯¹å¯¹è±¡è¿›è¡Œæ‰¹é‡æ“ä½œçš„æ–¹å¼ã€‚</p>
</blockquote>
<h3 id="setValuesForKeysWithDictionaryå®ä¾‹æ–¹æ³•"><a href="#setValuesForKeysWithDictionaryå®ä¾‹æ–¹æ³•" class="headerlink" title="setValuesForKeysWithDictionaryå®ä¾‹æ–¹æ³•"></a>setValuesForKeysWithDictionaryå®ä¾‹æ–¹æ³•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šè¿‡<code>å­—å…¸</code>å¯¹å¯¹è±¡è¿›è¡Œæ‰¹é‡<code>set</code>ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSKeyValueCoding.h</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSDictionary&lt;NSString *, id&gt; *&#125; keyedValues åŒ…å«ä¸€ç³»åˆ—å±æ€§åå’Œå€¼çš„å­—å…¸</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="keyword">void</span>)setValuesForKeysWithDictionary:(<span class="built_in">NSDictionary</span>&lt;<span class="built_in">NSString</span> *, <span class="keyword">id</span>&gt; *)keyedValues;</span><br></pre></td></tr></table></figure>
<h3 id="dictionaryWithValuesForKeyså®ä¾‹æ–¹æ³•"><a href="#dictionaryWithValuesForKeyså®ä¾‹æ–¹æ³•" class="headerlink" title="dictionaryWithValuesForKeyså®ä¾‹æ–¹æ³•"></a>dictionaryWithValuesForKeyså®ä¾‹æ–¹æ³•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šè¿‡<code>æ•°ç»„</code>å¯¹å¯¹è±¡è¿›è¡Œæ‰¹é‡<code>set</code><br><strong>åŸå‹ï¼š</strong><code>NSKeyValueCoding.h</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSArray&lt;NSString *&gt; *&#125; keys åŒ…å«è¦è·å–çš„å±æ€§çš„å±æ€§å</span><br><span class="line">* @return &#123;NSDictionary&lt;NSString *, id&gt; *&#125; åŒ…å«è¦è·å–çš„å±æ€§å/å±æ€§å€¼å¯¹çš„å­—å…¸</span><br><span class="line">*/</span></span><br><span class="line">- (<span class="built_in">NSDictionary</span>&lt;<span class="built_in">NSString</span> *, <span class="keyword">id</span>&gt; *)dictionaryWithValuesForKeys:(<span class="built_in">NSArray</span>&lt;<span class="built_in">NSString</span> *&gt; *)keys;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–æ±½è½¦é›†åˆä¸­çš„æœ€åä¸€ä¸ªæ±½è½¦å®ä¾‹</span></span><br><span class="line">car = [[garage valueForKeyPath:<span class="string">@"cars"</span>] lastObject];</span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼šåŒ…å«åˆ›å»ºå­—å…¸éœ€è¦çš„é”®é›†åˆ</span></span><br><span class="line"><span class="built_in">NSArray</span> *keys = [<span class="built_in">NSArray</span> arrayWithObjects:<span class="string">@"make"</span>, <span class="string">@"model"</span>, <span class="string">@"modelYear"</span>, <span class="literal">nil</span>];</span><br><span class="line"><span class="comment">// ä½¿ç”¨ KVC æ‰¹é‡getï¼šåˆ©ç”¨ä¸Šä¸€æ­¥åˆ›å»ºçš„åŒ…å«ä¸€ç³»åˆ—é”®çš„æ•°ç»„</span></span><br><span class="line"><span class="built_in">NSDictionary</span> *carValues = [car dictionaryWithValuesForKeys:keys];</span><br><span class="line"><span class="comment">// åˆ›å»ºå­—å…¸ï¼šç”¨äºåˆå§‹åŒ–æ±½è½¦å®ä¾‹çš„å±æ€§</span></span><br><span class="line"><span class="built_in">NSDictionary</span> *newValues = [<span class="built_in">NSDictionary</span> dictionaryWithObjectsAndKeys:</span><br><span class="line">                           <span class="string">@"Chevy"</span>, <span class="string">@"make"</span>,</span><br><span class="line">                           <span class="string">@"Nova"</span>,<span class="string">@"model"</span>,</span><br><span class="line">                           [<span class="built_in">NSNumber</span> numberWithInt:<span class="number">1964</span>], <span class="string">@"modelYear"</span>,</span><br><span class="line">                           [<span class="built_in">NSNull</span> null], <span class="string">@"mileage"</span>,</span><br><span class="line">                           <span class="literal">nil</span>];</span><br><span class="line"><span class="comment">// ä½¿ç”¨ KVC æ‰¹é‡setæ±½è½¦</span></span><br><span class="line">[car setValuesForKeysWithDictionary:newValues];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"car with new values is %@"</span>, car);</span><br></pre></td></tr></table></figure>
<h2 id="18-6-nil-ä»ç„¶å¯ç”¨"><a href="#18-6-nil-ä»ç„¶å¯ç”¨" class="headerlink" title="18.6    nil ä»ç„¶å¯ç”¨"></a>18.6    nil ä»ç„¶å¯ç”¨</h2><blockquote>
<p><strong>èƒŒæ™¯ï¼š</strong>é»˜è®¤æƒ…å†µä¸‹ï¼Œåº”ç”¨<code>KVC</code>è°ƒç”¨<code>setValue:forKey</code>è®¾ç½®æŸä¸ªå±æ€§çš„å€¼ä¸º<code>nil</code>æ—¶ï¼Œç¼–è¯‘å™¨ä¼šç»™å‡ºè­¦å‘Šã€‚<br><strong>è§£å†³ï¼š</strong>å¯ä»¥é€šè¿‡é‡å†™<code>setNilValueForKey</code>æ–¹æ³•ç»™å‡ºæœ‰æ„ä¹‰ä¸ªè¿”å›å€¼è€Œé¿å…è­¦å‘Šã€‚<br><strong>æ‰©å±•ï¼š</strong>è¿™é‡Œçš„ <code>nil</code>æ˜¯æ ‡é‡<code>nil</code>ï¼Œä¸è¦å’Œ<code>[NSNull null]</code>ç›¸æ··æ·†</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>) setNilValueForKey: (<span class="built_in">NSString</span> *) key &#123;</span><br><span class="line">	<span class="keyword">if</span> ([key isEqualToString: <span class="string">@"mileage"</span>]) &#123;</span><br><span class="line">		mileage = <span class="number">0</span>;</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		[<span class="keyword">super</span> setNilValueForKey: key];</span><br><span class="line">	&#125;</span><br><span class="line">&#125; <span class="comment">// setNilValueForKey</span></span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¼šå°† mileage è®¾ç½®ä¸º 0</span></span><br><span class="line">[car setValue: <span class="literal">nil</span> forKey: <span class="string">@"mileage"</span>];</span><br></pre></td></tr></table></figure>
<h2 id="18-7-å¤„ç†æœªå®šä¹‰é”®"><a href="#18-7-å¤„ç†æœªå®šä¹‰é”®" class="headerlink" title="18.7    å¤„ç†æœªå®šä¹‰é”®"></a>18.7    å¤„ç†æœªå®šä¹‰é”®</h2><blockquote>
<p><strong>èƒŒæ™¯ï¼š</strong>å¦‚æœ<code>KVC</code>æœºåˆ¶æ— æ³•æ‰¾åˆ°å¤„ç†æ–¹æ³•ï¼Œä¼šé€€å›å¹¶è¯¢é—®è¯¥å¦‚ä½•å¤„ç†ã€‚é»˜è®¤çš„å®ç°ä¼šå–æ¶ˆæ“ä½œã€‚<br><strong>è§£å†³ï¼š</strong>é€šè¿‡é‡å†™<code>setValue:forUndefinedKey</code>å’Œ<code>valueForUndefinedKey</code>æ›´æ”¹é»˜è®¤è¡Œä¸ºï¼Œä½¿å¯¹è±¡å¯ä»¥è®¾ç½®å’Œè·å–ä»»ä½•é”®ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line"> *  @override</span><br><span class="line"> *  å¤„ç†é€šè¿‡ KVC è®¾ç½®ä¸å­˜åœ¨çš„å±æ€§çš„å€¼</span><br><span class="line"> *</span><br><span class="line"> *  @param value è¦è®¾ç½®çš„å€¼</span><br><span class="line"> *  @param key   è¦è®¾ç½®çš„å±æ€§å</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>) setValue:(<span class="keyword">id</span>)value forUndefinedKey: (<span class="built_in">NSString</span> *) key</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// æƒ°æ€§åˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">if</span> (stuff == <span class="literal">nil</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        stuff = [[<span class="built_in">NSMutableDictionary</span> alloc] init];</span><br><span class="line">    &#125;</span><br><span class="line">    [stuff setValue:value forKey:key];</span><br><span class="line">&#125;<span class="comment">// setValueForUndefinedKey</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> *  @override</span><br><span class="line"> *  å¤„ç†é€šè¿‡ KVC æ–¹å¼è·å–ä¸å­˜åœ¨çš„å±æ€§çš„å€¼</span><br><span class="line"> *</span><br><span class="line"> *  @param key å±æ€§å</span><br><span class="line"> *</span><br><span class="line"> *  @return è¯•å›¾è·å–ä¸å­˜åœ¨çš„å±æ€§çš„å€¼æ—¶çš„è¿”å›å€¼</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">id</span>) valueForUndefinedKey:(<span class="built_in">NSString</span> *)key</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">id</span> value = [stuff valueForKey:key];</span><br><span class="line">    <span class="keyword">return</span> (value);</span><br><span class="line">&#125;<span class="comment">// valueForUnderfinedKey</span></span><br></pre></td></tr></table></figure>
<h2 id="18-8-å°ç»“"><a href="#18-8-å°ç»“" class="headerlink" title="18.8    å°ç»“"></a>18.8    å°ç»“</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_17 æ–‡ä»¶çš„åŠ è½½äºä¿å­˜/" itemprop="url">
                  17 æ–‡ä»¶çš„åŠ è½½ä¸ä¿å­˜
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T10:42:12+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_17 æ–‡ä»¶çš„åŠ è½½äºä¿å­˜/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_17 æ–‡ä»¶çš„åŠ è½½äºä¿å­˜/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="17-1-å±æ€§åˆ—è¡¨"><a href="#17-1-å±æ€§åˆ—è¡¨" class="headerlink" title="17.1    å±æ€§åˆ—è¡¨"></a>17.1    å±æ€§åˆ—è¡¨</h2><h3 id="17-1-1-NSDate"><a href="#17-1-1-NSDate" class="headerlink" title="17.1.1    NSDate"></a>17.1.1    NSDate</h3><h4 id="dateç±»æ–¹æ³•"><a href="#dateç±»æ–¹æ³•" class="headerlink" title="dateç±»æ–¹æ³•"></a>dateç±»æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è·å–å½“å‰æ—¥æœŸå’Œæ—¶é—´ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSDate</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @return &#123;instancetype&#125; NSDateç±»å®ä¾‹</span><br><span class="line">*/</span></span><br><span class="line">+ (instancetype)date;</span><br></pre></td></tr></table></figure>
<h4 id="dateWithTimeIntervalSinceNowç±»æ–¹æ³•"><a href="#dateWithTimeIntervalSinceNowç±»æ–¹æ³•" class="headerlink" title="dateWithTimeIntervalSinceNowç±»æ–¹æ³•"></a>dateWithTimeIntervalSinceNowç±»æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è·å–ä¸å½“å‰æ—¶é—´ç›¸éš”ä¸€å®šæ—¶å·®çš„æ—¥æœŸ<br><strong>åŸå‹ï¼š</strong><code>NSDate</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">*@return &#123;instancetype&#125; NSDateå®ä¾‹</span><br><span class="line">*/</span></span><br><span class="line">+ (instancetype)dateWithTimeIntervalSinceNow:(<span class="built_in">NSTimeInterval</span>)secs;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–å½“å‰çš„æ—¥æœŸå’Œæ—¶é—´</span></span><br><span class="line"><span class="built_in">NSDate</span> *date = [<span class="built_in">NSDate</span> date];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"today is %@"</span>, date);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–24å°æ—¶ä¹‹å‰çš„æ—¶é—´</span></span><br><span class="line"><span class="built_in">NSDate</span> *yesterday = [<span class="built_in">NSDate</span> dateWithTimeIntervalSinceNow:-(<span class="number">24</span>* <span class="number">60</span> *<span class="number">60</span>)];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"yesterday is %@"</span>, yesterday);</span><br></pre></td></tr></table></figure>
<h3 id="17-1-2-NSData"><a href="#17-1-2-NSData" class="headerlink" title="17.1.2    NSData"></a>17.1.2    NSData</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è¯¥ç±»å¯ä»¥åŒ…å«å¤§é‡çš„å­—èŠ‚ï¼Œå¯ä»¥è·å¾—æ•°æ®çš„é•¿åº¦å’ŒæŒ‡å‘å­—èŠ‚å¯ç¤ºä½ç½®çš„æŒ‡é’ˆ<br><strong>ç”¨é€”ï¼š</strong>å¦‚æœæƒ³å°†æ•°æ®å—ä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°æˆ–æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡ä¼ é€’ä¸€ä¸ª<code>NSData</code>æ¥å®ç°ã€‚<br>æ³¨æ„ï¼š<code>NSData</code>æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ”¯æŒ<code>è‡ªåŠ¨é‡Šæ”¾</code>çš„ï¼Œå¸¸è§„çš„å†…å­˜ç®¡ç†å¯¹å®ƒæ˜¯æœ‰æ•ˆçš„ï¼Œå› è€Œæ— éœ€æ‹…å¿ƒå†…å­˜æ¸…ç†çš„é—®é¢˜ã€‚</p>
</blockquote>
<h4 id="dataWithBytesç±»æ–¹æ³•"><a href="#dataWithBytesç±»æ–¹æ³•" class="headerlink" title="dataWithBytesç±»æ–¹æ³•"></a>dataWithBytesç±»æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åˆ›å»ºä¸€ä¸ªä¿å­˜ä¸€ä¸ªæ™®é€šCå­—ç¬¦ä¸²ï¼ˆä¸€ä¸ªå­—èŠ‚åºåˆ—ï¼‰çš„<code>NSData</code>å¯¹è±¡ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSData</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;nullable const void *&#125; bytes å­—ç¬¦ä¸²</span><br><span class="line">* @param &#123;NSUInteger&#125; length å­—ç¬¦ä¸²çš„é•¿åº¦ï¼ˆåŒ…æ‹¬å°¾éƒ¨çš„`\0`ï¼‰</span><br><span class="line">* @return &#123;instancetype&#125; NSDataå®ä¾‹</span><br><span class="line">*/</span></span><br><span class="line">+ (instancetype)dataWithBytes:(nullable <span class="keyword">const</span> <span class="keyword">void</span> *)bytes length:(<span class="built_in">NSUInteger</span>)length;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>æ‰©å±•ï¼š</strong><code>NSData</code>æ˜¯ä¸å¯å˜çš„ï¼Œåˆ›å»ºåä¸èƒ½æ”¹å˜å…¶ä¸­çš„å†…å®¹æ¥ï¼›<code>NSMutableData</code>æ˜¯å¯å˜çš„ï¼Œå¯ä»¥åœ¨æ•°æ®ä¸­æ·»åŠ å’Œåˆ é™¤å­—èŠ‚ã€‚</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// c è¯­è¨€å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> *string = <span class="string">"hi there, this is a C string!"</span>;</span><br><span class="line"><span class="comment">// åˆ›å»º NSData å¯¹è±¡</span></span><br><span class="line"><span class="built_in">NSData</span> *data = [<span class="built_in">NSData</span> dataWithBytes:string length:strlen(string) + <span class="number">1</span>];</span><br><span class="line"><span class="comment">// æ“ä½œ NSData å¯¹è±¡</span></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"data is %@"</span>, data);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%ld byte string is '%s'"</span>, [data length], [data bytes]);</span><br></pre></td></tr></table></figure>
<h3 id="17-1-3-å†™å…¥å’Œè¯»å–å±æ€§åˆ—è¡¨"><a href="#17-1-3-å†™å…¥å’Œè¯»å–å±æ€§åˆ—è¡¨" class="headerlink" title="17.1.3    å†™å…¥å’Œè¯»å–å±æ€§åˆ—è¡¨"></a>17.1.3    å†™å…¥å’Œè¯»å–å±æ€§åˆ—è¡¨</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å±æ€§åˆ—è¡¨ç±»å¯ä»¥å­˜å‚¨åˆ°æ–‡ä»¶ä¸­ï¼Œä¹Ÿå¯ä»¥ä»æ–‡ä»¶ä¸­è¯»å–å‡ºæ¥ã€‚æ­¤å¤–ï¼Œ<code>Xcode</code>åŒ…å«ä¸€ä¸ªå±æ€§åˆ—è¡¨ç¼–è¾‘å™¨ï¼Œå¯ä»¥ç”¨æ¥æ–¹ä¾¿åœ°æŸ¥çœ‹<code>plist</code>æ–‡ä»¶ã€‚<br><strong>æ³¨æ„ï¼š</strong>å¦‚æœå‡ºç°é—®é¢˜ï¼Œä¸‹é¢ä»‹ç»çš„å‡½æ•°éƒ½ä¸ä¼šè¿”å›å…·ä½“çš„é”™è¯¯çš„åŸå› ã€‚</p>
</blockquote>
<h4 id="writeToFileå®ä¾‹æ–¹æ³•"><a href="#writeToFileå®ä¾‹æ–¹æ³•" class="headerlink" title="writeToFileå®ä¾‹æ–¹æ³•"></a>writeToFileå®ä¾‹æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†å±æ€§åˆ—è¡¨çš„å†…å®¹å†™å…¥åˆ°æ–‡ä»¶ã€‚<br><strong>æŠ€å·§ï¼š</strong>åº”å°½é‡ä½¿ç”¨<code>atomically</code>çš„æ–¹å¼ä¿å­˜æ–‡ä»¶ï¼Œé™¤éä¿å­˜çš„æ–‡ä»¶å®¹é‡éå¸¸å¤§ï¼Œä¼šå ç”¨ç”¨æˆ·å¤§é‡çš„ç£ç›˜ç©ºé—´ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSArray</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSString *&#125; æ–‡ä»¶è·¯å¾„</span><br><span class="line">* @param &#123;BOOL&#125;useAuxiliaryFile æ˜¯å¦é¦–å…ˆå°†æ–‡ä»¶å†…å®¹ä¿å­˜åˆ°ä¸´æ—¶æ–‡ä»¶ä¸­ï¼ˆé˜²æ­¢æç«¯æƒ…å†µä¸‹åŸå§‹æ–‡ä»¶è¢«ç ´åï¼‰</span><br><span class="line">*/</span></span><br><span class="line">(<span class="built_in">BOOL</span>)writeToFile:(<span class="built_in">NSString</span> *)path atomically:(<span class="built_in">BOOL</span>)useAuxiliaryFile;</span><br></pre></td></tr></table></figure>
<h4 id="arrayWithContentsOfFileç±»æ–¹æ³•"><a href="#arrayWithContentsOfFileç±»æ–¹æ³•" class="headerlink" title="arrayWithContentsOfFileç±»æ–¹æ³•"></a>arrayWithContentsOfFileç±»æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>è¯»å–æ–‡ä»¶ä¸­çš„æ•°ç»„ä¿¡æ¯å¹¶æ®æ­¤åˆ›å»ºæ•°ç»„ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSArray</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSString *&#125; path æ–‡ä»¶è·¯å¾„</span><br><span class="line">* @return &#123;NSArray&#125; æ•°ç»„å®ä¾‹</span><br><span class="line">*/</span></span><br><span class="line">+ (nullable <span class="built_in">NSArray</span>&lt;ObjectType&gt; *)arrayWithContentsOfFile:(<span class="built_in">NSString</span> *)path;</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»º NSArray å®ä¾‹</span></span><br><span class="line"><span class="built_in">NSArray</span> *phrase;</span><br><span class="line">phrase = [<span class="built_in">NSArray</span> arrayWithObjects:<span class="string">@"I"</span>, <span class="string">@"seem"</span>, <span class="string">@"to"</span>, <span class="string">@"be"</span>, <span class="string">@"a"</span>, <span class="string">@"verb"</span>, <span class="literal">nil</span>];</span><br><span class="line"><span class="comment">// å°† NSArray å¯¹è±¡å†™å…¥æ–‡ä»¶</span></span><br><span class="line">[phrase writeToFile:<span class="string">@"/tmp/verbiage.txt"</span> atomically:<span class="literal">YES</span>];</span><br><span class="line"><span class="comment">// é€šè¿‡æ–‡ä»¶åˆ›å»º NSArray å®ä¾‹</span></span><br><span class="line"><span class="built_in">NSArray</span> *phrase2 = [<span class="built_in">NSArray</span> arrayWithContentsOfFile:<span class="string">@"/tmp/veribage.txt"</span>];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, phrase2);</span><br></pre></td></tr></table></figure>
<p><em>/tmp/verbiage.txt</em></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?</span>xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span><span class="meta">?&gt;</span></span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plist</span> <span class="attr">version</span>=<span class="string">"1.0"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">string</span>&gt;</span>I<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">string</span>&gt;</span>seem<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">string</span>&gt;</span>to<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">string</span>&gt;</span>be<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">string</span>&gt;</span>a<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">string</span>&gt;</span>verb<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plist</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="17-1-4-ä¿®æ”¹å¯¹è±¡ç±»å‹"><a href="#17-1-4-ä¿®æ”¹å¯¹è±¡ç±»å‹" class="headerlink" title="17.1.4    ä¿®æ”¹å¯¹è±¡ç±»å‹"></a>17.1.4    ä¿®æ”¹å¯¹è±¡ç±»å‹</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å­˜å‚¨æˆ–åŠ è½½å±æ€§åˆ—è¡¨æ—¶å¯ä»¥ä½¿ç”¨<code>NSPropertyListSerialization</code>æ·»åŠ ä¸€äº›è®¾å®šé¡¹ã€‚</p>
</blockquote>
<h4 id="dataFromPropertyListç±»æ–¹æ³•"><a href="#dataFromPropertyListç±»æ–¹æ³•" class="headerlink" title="dataFromPropertyListç±»æ–¹æ³•"></a>dataFromPropertyListç±»æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å­˜å‚¨åˆ°æ–‡ä»¶æ—¶æŒ‡å®šè®¾å®šé¡¹ã€‚å·²è¿‡æ—¶ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSPropertyListSerialization</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;id&#125; plist å±æ€§åˆ—è¡¨ç±»å‹å¯¹è±¡</span><br><span class="line">* @param &#123;NSPropertyListFormat&#125; format å­˜å‚¨å±æ€§åˆ—è¡¨çš„æ–¹å¼</span><br><span class="line">* @param &#123;NSString *&#125; errorDescription é”™è¯¯ä¿¡æ¯</span><br><span class="line">*/</span></span><br><span class="line">+ (nullable <span class="built_in">NSData</span> *)dataFromPropertyList:(<span class="keyword">id</span>)plist format:(<span class="built_in">NSPropertyListFormat</span>)format errorDescription:(<span class="keyword">out</span> __<span class="keyword">strong</span> <span class="built_in">NSString</span> * __nullable * __nullable)errorString <span class="built_in">NS_DEPRECATED</span>(<span class="number">10</span>_0, <span class="number">10</span>_10, <span class="number">2</span>_0, <span class="number">8</span>_0, <span class="string">"Use dataWithPropertyList:format:options:error: instead."</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯å˜æ•°ç»„(é¦–éƒ½é›†åˆ)</span></span><br><span class="line"><span class="built_in">NSMutableArray</span> *capitols = [<span class="built_in">NSMutableArray</span> arrayWithCapacity:<span class="number">10</span>];</span><br><span class="line"><span class="comment">// ç¬¬ä¸€ä¸ªå›½å®¶</span></span><br><span class="line"><span class="built_in">NSMutableDictionary</span> *capitol = [<span class="built_in">NSMutableDictionary</span> dictionaryWithObject:<span class="string">@"Canada"</span> forKey:<span class="string">@"country"</span>];</span><br><span class="line">[capitol setObject:<span class="string">@"Ottawa"</span> forKey:<span class="string">@"capitol"</span>];</span><br><span class="line">[capitols addObject:capitol];</span><br><span class="line"><span class="comment">// ç¬¬äºŒä¸ªå›½å®¶</span></span><br><span class="line">capitol = [<span class="built_in">NSMutableDictionary</span> dictionaryWithObject:<span class="string">@"Norway"</span> forKey:<span class="string">@"country"</span>];</span><br><span class="line">[capitol setObject:<span class="string">@"Oslo"</span> forKey:<span class="string">@"capitol"</span>];</span><br><span class="line">[capitols addObject:capitol];</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSString</span> *error = <span class="literal">nil</span>;</span><br><span class="line"><span class="comment">// å°† plist æ•°æ®å†…å®¹ä»¥äºŒè¿›åˆ¶å½¢å¼å†™å…¥æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">NSData</span> *encodeArray = [<span class="built_in">NSPropertyListSerialization</span> dataFromPropertyList:capitols format:<span class="built_in">NSPropertyListXMLFormat_v1_0</span> errorDescription:&amp;error];</span><br><span class="line">[encodeArray writeToFile:<span class="string">@"/tmp/capitols.txt"</span> atomically:<span class="literal">YES</span>];</span><br></pre></td></tr></table></figure>
<h4 id="propertyListFromDataå®ä¾‹æ–¹æ³•"><a href="#propertyListFromDataå®ä¾‹æ–¹æ³•" class="headerlink" title="propertyListFromDataå®ä¾‹æ–¹æ³•"></a>propertyListFromDataå®ä¾‹æ–¹æ³•</h4><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä»¥æŒ‡å®šå½¢å¼å°†æ–‡ä»¶è¯»å–åˆ°å†…å­˜ã€‚<br><strong>åŸå‹ï¼š</strong><code>NSPropertyListSerialization</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;NSData *&#125; data ä»æ–‡ä»¶è¯»å–åŸå§‹æ•°æ®</span><br><span class="line">* @param &#123;NSPropertyListMutabilityOptions&#125; opt format è¯»å–å½¢å¼</span><br><span class="line">* @param &#123;NSString *&#125; errorString å¯èƒ½çš„é”™è¯¯ä¿¡æ¯</span><br><span class="line">*/</span></span><br><span class="line">+ (nullable <span class="keyword">id</span>)propertyListFromData:(<span class="built_in">NSData</span> *)data mutabilityOption:(<span class="built_in">NSPropertyListMutabilityOptions</span>)opt format:(nullable <span class="built_in">NSPropertyListFormat</span> *)format errorDescription:(<span class="keyword">out</span> __<span class="keyword">strong</span> <span class="built_in">NSString</span> * __nullable * __nullable)errorString <span class="built_in">NS_DEPRECATED</span>(<span class="number">10</span>_0, <span class="number">10</span>_10, <span class="number">2</span>_0, <span class="number">8</span>_0, <span class="string">"Use propertyListWithData:options:format:error: instead."</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»æ–‡ä»¶ä¸­è¯»å–å±æ€§åˆ—è¡¨æ•°æ®</span></span><br><span class="line"><span class="built_in">NSData</span> *data = [<span class="built_in">NSData</span> dataWithContentsOfFile:<span class="string">@"/tmp/capitols.txt"</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥æŒ‡å®šçš„æ ¼å¼å°†æ–‡ä»¶ä¸­çš„å†…å®¹è¯»å–åˆ°å†…å­˜</span></span><br><span class="line"><span class="built_in">NSPropertyListFormat</span> properyListFormat = <span class="built_in">NSPropertyListXMLFormat_v1_0</span>;</span><br><span class="line"><span class="built_in">NSString</span> *error = <span class="literal">nil</span>;</span><br><span class="line"><span class="built_in">NSMutableArray</span> *capitols = [<span class="built_in">NSPropertyListSerialization</span> propertyListFromData:data mutabilityOption:<span class="built_in">NSPropertyListMutableContainersAndLeaves</span> format:&amp;properyListFormat errorDescription:&amp;error];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"capitols %@"</span>, capitols);</span><br></pre></td></tr></table></figure>
<h2 id="17-2-ç¼–ç å¯¹è±¡"><a href="#17-2-ç¼–ç å¯¹è±¡" class="headerlink" title="17.2    ç¼–ç å¯¹è±¡"></a>17.2    ç¼–ç å¯¹è±¡</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>Cocoa</code>å…·å¤‡ä¸€ç§å°†ä»»æ„å¯¹è±¡è½¬æ¢æˆæŸç§æ ¼å¼å¹¶ä¿å­˜åˆ°ç£ç›˜ä¸­çš„æœºåˆ¶ã€‚</p>
<ul>
<li><strong>åºåˆ—åŒ–ï¼ˆç¼–ç ï¼‰ï¼š</strong>å°†å¯¹è±¡çš„å®ä¾‹å˜é‡å’Œå…¶ä»–æ•°æ®ç¼–ç ä¸ºæ•°æ®å—ï¼Œç„¶åä¿å­˜åˆ°ç£ç›˜</li>
<li><strong>ååºåˆ—åŒ–ï¼ˆè§£ç ï¼‰ï¼š</strong>å°†æ•°æ®å—è¯»å›å†…å­˜ï¼Œå¹¶åŸºäºä¿å­˜çš„æ•°æ®åˆ›å»ºæ–°å¯¹è±¡</li>
</ul>
</blockquote>
<h3 id="NSCodingåè®®"><a href="#NSCodingåè®®" class="headerlink" title="NSCodingåè®®"></a>NSCodingåè®®</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šè¿‡é‡‡çº³è¯¥åè®®ï¼Œå¯ä»¥ä½¿å¯¹è±¡å…·å¤‡<code>åºåˆ—åŒ–å’Œååºåˆ—åŒ–</code>çš„èƒ½åŠ›ã€‚<br><strong>åŸå‹ï¼š</strong></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@protocol</span> <span class="title">NSCoding</span></span></span><br><span class="line"><span class="comment">// åºåˆ—åŒ–</span></span><br><span class="line">- (<span class="keyword">void</span>) encodeWithCoder: (<span class="built_in">NSCoder</span> *) encoder;</span><br><span class="line"><span class="comment">// ååºåˆ—åŒ–</span></span><br><span class="line">- (<span class="keyword">id</span>) initWithCoder: (<span class="built_in">NSCoder</span> *) decoder;</span><br><span class="line">&gt;<span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h3 id="archiveDataWithRootObjectç±»æ–¹æ³•"><a href="#archiveDataWithRootObjectç±»æ–¹æ³•" class="headerlink" title="archiveDataWithRootObjectç±»æ–¹æ³•"></a>archiveDataWithRootObjectç±»æ–¹æ³•</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯¹å¯¹è±¡è¿›è¡Œç¼–ç ã€‚</p>
<ol>
<li>åˆ›å»ºäº†ä¸€ä¸ª<code>KSKeyedArchier</code>å®ä¾‹</li>
<li>å°†ä¸Šä¸€æ­¥åˆ›å»ºçš„å®ä¾‹ä¼ é€’ç»™å‚æ•°æŒ‡å®šçš„å¯¹è±¡çš„<code>encodeWithCoder</code>æ–¹æ³•</li>
<li>é€’å½’ç¼–ç è‡ªèº«ä½¿ç”¨åˆ°çš„å…¶å®ƒå¯¹è±¡ï¼Œæ¯”å¦‚å­—ç¬¦ä¸²ã€æ•°ç»„åŠæ”¾å…¥æ•°ç»„ä¸­çš„ä»»ä½•å¯¹è±¡</li>
<li>æ‰€æœ‰å¯¹è±¡å®Œæˆé”®å€¼ç¼–ç åï¼Œè¢«æ”¾å…¥ä¸€ä¸ª<code>NSData</code>å¯¹è±¡å¹¶è¿”å›</li>
</ol>
<p><strong>åŸå‹ï¼š</strong><code>KSKeyedArchiver</code></p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">* @param &#123;id&#125; rootObject è¦è¢«åºåˆ—åŒ–çš„å¯¹è±¡</span><br><span class="line">* @return &#123;NSData *&#125; åºåˆ—åŒ–ä¸º NSData å‹æ•°æ®</span><br><span class="line">*/</span></span><br><span class="line">+ (<span class="built_in">NSData</span> *)archivedDataWithRootObject:(<span class="keyword">id</span>)rootObject;</span><br></pre></td></tr></table></figure>
<p><em>Thingie.h</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Thingie</span> : <span class="title">NSObject</span></span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSString</span> *name;</span><br><span class="line">    <span class="keyword">int</span> magicNumber;</span><br><span class="line">    <span class="keyword">float</span> shoeSize;</span><br><span class="line">    <span class="built_in">NSMutableArray</span> *subThingies;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">copy</span>) <span class="built_in">NSString</span> *name;</span><br><span class="line"><span class="keyword">@property</span> <span class="keyword">int</span> magicNumber;</span><br><span class="line"><span class="keyword">@property</span> <span class="keyword">float</span> shoeSize;</span><br><span class="line"><span class="keyword">@property</span> (retain) <span class="built_in">NSMutableArray</span> *subThingies;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>) initWithName: (<span class="built_in">NSString</span> *) n</span><br><span class="line">        magicNumber: (<span class="keyword">int</span>) mn</span><br><span class="line">           shoeSize: (<span class="keyword">float</span>) ss;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>Thingie.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"Thingie.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Thingie</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@synthesize</span> name;</span><br><span class="line"><span class="keyword">@synthesize</span> magicNumber;</span><br><span class="line"><span class="keyword">@synthesize</span> shoeSize;</span><br><span class="line"><span class="keyword">@synthesize</span> subThingies;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¾¿åˆ©æ„é€ å‡½æ•°ï¼šé€šè¿‡ç”¨æˆ·å</span></span><br><span class="line">- (<span class="keyword">id</span>) initWithName:(<span class="built_in">NSString</span> *)</span><br><span class="line">        magicNumber:(<span class="keyword">int</span>)mn</span><br><span class="line">        shoeSize:(<span class="keyword">float</span>)ss</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">super</span> init])</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">self</span>.name = n;</span><br><span class="line">        <span class="keyword">self</span>.magicNumber = mn;</span><br><span class="line">        <span class="keyword">self</span>.showSize = ss;</span><br><span class="line">        <span class="keyword">self</span>.subThingies = [<span class="built_in">NSMutableArray</span> array];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">self</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é‡‡çº³åè®®:ååºåˆ—åŒ–</span></span><br><span class="line">- (<span class="keyword">id</span>) initWithCoder: (<span class="built_in">NSCoder</span> *) decoder</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">super</span> init])</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">self</span>.name = [decoder decodeObjectForKey:<span class="string">@"name"</span>];</span><br><span class="line">        <span class="keyword">self</span>.magicNumber = [decoder decodeIntForKey:<span class="string">@"magicNumber"</span>];</span><br><span class="line">        <span class="keyword">self</span>.shoeSize = [decoder decodeIntForKey:<span class="string">@"shoeSize"</span>];</span><br><span class="line">        <span class="keyword">self</span>.subThingies = [decoder decodeObjectForKey:<span class="string">@"subThingies"</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">self</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é‡‡çº³åè®®ï¼šåºåˆ—åŒ–</span></span><br><span class="line">- (<span class="keyword">void</span>) encodeWithCoder: (<span class="built_in">NSCoder</span> *) coder</span><br><span class="line">&#123;</span><br><span class="line">    [coder encodeObject:name</span><br><span class="line">                 forKey:<span class="string">@"name"</span>];</span><br><span class="line">    [coder encodeInt:magicNumber</span><br><span class="line">              forKey:<span class="string">@"magicNumber"</span>];</span><br><span class="line">    [coder encodeFloat:shoeSize</span><br><span class="line">                forKey:<span class="string">@"shoeSize"</span>];</span><br><span class="line">    [coder encodeObject:subThingies</span><br><span class="line">                 forKey:<span class="string">@"subThingies"</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSString</span> *) description&#123;</span><br><span class="line">    <span class="built_in">NSString</span> *description = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%@: %d/%.1f %@"</span>, name, magicNumber, shoeSize, subThingies];</span><br><span class="line">    <span class="keyword">return</span> (description);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>) dealloc</span><br><span class="line">&#123;</span><br><span class="line">    [name release];</span><br><span class="line">    [subThingies release];</span><br><span class="line">    [<span class="keyword">super</span> dealloc];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>main.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"Thingie.h"</span></span></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    <span class="keyword">@autoreleasepool</span> &#123;</span><br><span class="line">        <span class="comment">/** ç®€å•æƒ…å½¢ **/</span></span><br><span class="line">        <span class="comment">// åˆ›å»ºå¯åºåˆ—åŒ–çš„å¯¹è±¡</span></span><br><span class="line">        Thingie *thing1;</span><br><span class="line">        thing1 = [[Thingie alloc]</span><br><span class="line">                  initWithName:<span class="string">@"thing1"</span></span><br><span class="line">                  magicNumber:<span class="number">42</span></span><br><span class="line">                  shoeSize:<span class="number">10.5</span>];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"some thing: @"</span>, thing1);</span><br><span class="line">        <span class="comment">// åºåˆ—åŒ–ä¸º NSData å¯¹è±¡</span></span><br><span class="line">        <span class="built_in">NSData</span> *freezeDried;</span><br><span class="line">        freezeDried = [<span class="built_in">NSKeyedArchiver</span> archivedDataWithRootObject:thing1];</span><br><span class="line">        [thing1 release];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ååºåˆ—åŒ–</span></span><br><span class="line">        thing1 = [<span class="built_in">NSKeyedUnarchiver</span> unarchiveObjectWithData:freezeDried];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"reconstitued thing: %@"</span>, thing1);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">/* å¤æ‚æƒ…å½¢ï¼šé€’å½’åºåˆ—åŒ– */</span></span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–thing1.subThingiesï¼ˆæ•°ç»„ï¼‰</span></span><br><span class="line">        Thingie *anotherThing;</span><br><span class="line">        anotherThing = [[[Thingle alloc]</span><br><span class="line">                         initWithName:<span class="string">@"thing2"</span></span><br><span class="line">                         magicNumber:<span class="number">23</span> shoeSize:<span class="number">13.0</span>]];</span><br><span class="line">        [thing1.subThingies addObject:anotherThing];</span><br><span class="line">        anotherThing = [[[Thingle alloc]</span><br><span class="line">                         initWithName:<span class="string">@"thing3"</span></span><br><span class="line">                         magicNumber:<span class="number">17</span> shoeSize:<span class="number">9.0</span>]];</span><br><span class="line">        [thing1.subThingies addObject:anotherThing];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"reconstitued muthing: %@"</span>, thing1);</span><br><span class="line">        <span class="comment">// åºåˆ—åŒ–</span></span><br><span class="line">        [freezeDried = [<span class="built_in">NSKeyedArchiver</span> archivedDataWithRootObject:thing1];</span><br><span class="line">        <span class="comment">// ååºåˆ—åŒ–</span></span><br><span class="line">        thing1 = [<span class="built_in">NSKeyedUnarchiver</span> unarchiveObjectWithData:freezeDried];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"reconstitued multiting: %@"</span>, thing1);</span><br><span class="line">         </span><br><span class="line">        <span class="comment">/* å¤æ‚æƒ…å½¢ï¼šè®¾ç½®ä¸€å¤„å¼•ç”¨è‡ªå·±çš„æ•°æ®ï¼Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–ä»èƒ½æ­£å¸¸å·¥ä½œ */</span></span><br><span class="line">        [thing1.subThingies addObject:thing1];</span><br><span class="line">        <span class="comment">// åºåˆ—åŒ–</span></span><br><span class="line">        freezeDried = [<span class="built_in">NSKeyedArchiver</span> archivedDataWithRootObject:thing1];</span><br><span class="line">        <span class="comment">// ååºåˆ—åŒ–</span></span><br><span class="line">        thing1 = [<span class="built_in">NSKeyedUnarchiver</span> unarchiveObjectWithData:freezeDried];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="17-3-å°ç»“"><a href="#17-3-å°ç»“" class="headerlink" title="17.3    å°ç»“"></a>17.3    å°ç»“</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_16 UIKitç®€ä»‹/" itemprop="url">
                  16 UIKitç®€ä»‹
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T10:41:48+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_16 UIKitç®€ä»‹/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_16 UIKitç®€ä»‹/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>Mac</code>åº”ç”¨ç¨‹åºä½¿ç”¨çš„æ˜¯<code>AppKit</code>æ¡†æ¶ï¼Œè€Œ<code>iOS</code>åº”ç”¨ç¨‹åºä½¿ç”¨çš„æ˜¯<code>UIKit</code>æ¡†æ¶ï¼Œå®ƒåŒ…å«äº†æ‰€æœ‰çš„<code>UI</code>ç»„ä»¶å’Œæ„æˆ<code>iOS</code>åº”ç”¨ç¨‹åºçš„èµ„æºã€‚<br><strong>æ³¨æ„ï¼š</strong><code>iOS</code>å’Œ<code>OS X</code>å­˜åœ¨ä»¥ä¸‹åŒºåˆ«</p>
<ul>
<li>æ²¡æœ‰<code>shell</code>å’Œæ§åˆ¶å°</li>
<li>åº”ç”¨ç¨‹åºåœ¨<code>Mac</code>ç”µè„‘çš„æ¨¡æ‹Ÿå™¨ä¸­è¿è¡Œ</li>
<li>æ— æ³•æ”¯æŒä¸€äº›æ— <code>UI</code>ç•Œé¢çš„<code>API</code></li>
<li>å¤§éƒ¨åˆ†ç¨‹åºå‘˜éƒ½è®¤ä¸ºå¼€å‘<code>iOS</code>åº”ç”¨æ›´åŠ è½»æ¾</li>
</ul>
<p><strong>é¡¹ç›®åˆ›å»ºï¼š</strong>æ­¥éª¤å¦‚ä¸‹</p>
<ol>
<li><code>File-&gt;New-&gt;New Project</code>(command + shift + n)</li>
<li>é€‰æ‹©åº”ç”¨ç¨‹åºæ¨¡ç‰ˆï¼šå·¦è¾¹åˆ—è¡¨é€‰æ‹©<code>iOS</code>ä¸‹çš„<code>Application</code>ï¼Œç„¶åå³è¾¹é€‰æ‹©<code>Single View Application</code></li>
</ol>
<ul>
<li><code>Master-Detail</code>ï¼šç”¨ä¸€ä¸ªå¯¼èˆªæ§åˆ¶å™¨å’Œä¸€ä¸ªè¡¨è§†å›¾æ¥æ˜¾ç¤ºé¡¹ç›®åˆ—è¡¨é—è¿¹é¡¹ç›®çš„è¯¦ç»†ä¿¡æ¯</li>
<li><code>OpenGL Game</code>ï¼šæ¸¸æˆ</li>
<li><code>Page-Based</code>ï¼šåˆ›å»ºç”µå­ä¹¦å¼çš„åº”ç”¨ï¼Œæ‹¥æœ‰ç¿»é¡µåŠ¨ç”»æ•ˆæœï¼ˆè¯¥æ•ˆæœæ”¯æŒipadï¼‰</li>
<li><code>Tabbed</code>ï¼šå¤šè§†å›¾åº”ç”¨ç¨‹åºï¼Œåº•éƒ¨åˆä¸€ä¸ªæ ‡ç­¾æ å¹¶ä¸”æ¯ä¸ªæ ‡ç­¾éƒ½æœ‰ä¸€ä¸ªè§†å›¾é¦™å…³è”çš„é‚£ç§åº”ç”¨ç¨‹åº</li>
<li><code>Utility</code>ï¼šå’Œ<code>Single View Application</code>ç›¸ä¼¼ï¼Œä½†è¿˜å¤šå¤„ä¸€ä¸ªç¿»è½¬è§†å›¾</li>
<li><code>Empty</code>ï¼šæ˜¯ä¸€ä¸ªé«˜çº§é€‰é¡¹ï¼Œå¦‚æœæ²¡æœ‰åˆé€‚çš„æ¨¡ç‰ˆï¼Œæˆ–æ˜¯ä½ éå¸¸äº†è§£å¦‚ä½•æ„å»ºä½ çš„åº”ç”¨ç¨‹åºï¼Œé‚£ä¹ˆåˆ»æ„é€‰æ‹©ä½¿ç”¨è¿™ä¸ªæ¨¡ç‰ˆ</li>
</ul>
<ol>
<li>ç‚¹å‡»<code>Next</code>æŒ‰é’®ï¼Œå¼¹å‡ºè¯¢é—®ç¨‹åºåç­‰ä¿¡æ¯çš„å¯¹è¯æ¡†</li>
</ol>
<ul>
<li>å¤é€‰æ¡†ï¼šä¸é€‰æ‹©<code>Use Storyboard</code>å’Œ<code>Include Unit Tests</code>ï¼Œé€‰ä¸­<code>Use Automatic Reference Counting</code></li>
<li><code>Device Family</code>ï¼šé€‰æ‹©<code>Universal</code>ï¼ˆæ„å‘³ç€å¯ä»¥åŒæ—¶è¿è¡Œåœ¨<code>iPhone</code>ã€<code>iPod</code>ã€<code>iPad</code>ä¸Šï¼‰</li>
</ul>
</blockquote>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-26%20%E4%B8%8B%E5%8D%8811.15.54.png" alt="Alt text"></p>
<p><em>AppDelegate.h</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;UIKit/UIKit.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">@class</span> <span class="title">ViewController</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">AppDelegate</span> : <span class="title">UIResponder</span> &lt;<span class="title">UIApplicationDelegate</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// çª—å£å¯¹è±¡</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">strong</span>, <span class="keyword">nonatomic</span>) <span class="built_in">UIWindow</span> *window;</span><br><span class="line"><span class="comment">// è§†å›¾æ§åˆ¶å™¨</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">strong</span>, <span class="keyword">nonatomic</span>) ViewController *viewController;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>AppDelegate.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"AppDelegate.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">AppDelegate</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">AppDelegate</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@synthesize</span> window = _window;</span><br><span class="line"><span class="keyword">@synthesize</span> viewController = _viewController;</span><br><span class="line"><span class="comment">// çª—å£è¢«åˆ›å»ºæ—¶å›è¢«è°ƒç”¨</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)application:(<span class="built_in">UIApplication</span> *)application didFinishLaunchingWithOptions:(<span class="built_in">NSDictionary</span> *)launchOptions &#123;</span><br><span class="line">    <span class="comment">/* åˆå§‹åŒ–çª—å£å¯¹è±¡ */</span></span><br><span class="line">    <span class="keyword">self</span>.window = [[<span class="built_in">UIWindow</span> alloc] initWithFrame:[[<span class="built_in">UIScreen</span> mainScreen] bounds]];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/* åˆå§‹è§†å›¾æ§åˆ¶å™¨ */</span></span><br><span class="line">    <span class="comment">// iPhone</span></span><br><span class="line">    <span class="keyword">if</span> ([[<span class="built_in">UIDevice</span> currentDevice] userInterfaceIdiom] == <span class="built_in">UIUserInterfaceIdiomPhone</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.viewController = [[ViewController alloc] initWithNibName:<span class="string">@"ViewController_iPhone"</span> bundle:<span class="literal">nil</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// iPad</span></span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.viewController = [[ViewController alloc] initWithNibName:<span class="string">@"ViewController_iPad"</span> bundle:<span class="literal">nil</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å°†è§†å›¾æ§åˆ¶å™¨çš„è§†å›¾æ·»åŠ åˆ°åº”ç”¨ç¨‹åºå±‚çº§</span></span><br><span class="line">    <span class="keyword">self</span>.window.rootViewController = <span class="keyword">self</span>.viewController;</span><br><span class="line">    [<span class="keyword">self</span>.window makeKeyAndVisible];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)applicationWillResignActive:(<span class="built_in">UIApplication</span> *)application &#123;</span><br><span class="line">    <span class="comment">// Sent when the application is about to move from active to inactive state. This can occur for certain types of temporary interruptions (such as an incoming phone call or SMS message) or when the user quits the application and it begins the transition to the background state.</span></span><br><span class="line">    <span class="comment">// Use this method to pause ongoing tasks, disable timers, and throttle down OpenGL ES frame rates. Games should use this method to pause the game.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)applicationDidEnterBackground:(<span class="built_in">UIApplication</span> *)application &#123;</span><br><span class="line">    <span class="comment">// Use this method to release shared resources, save user data, invalidate timers, and store enough application state information to restore your application to its current state in case it is terminated later.</span></span><br><span class="line">    <span class="comment">// If your application supports background execution, this method is called instead of applicationWillTerminate: when the user quits.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)applicationWillEnterForeground:(<span class="built_in">UIApplication</span> *)application &#123;</span><br><span class="line">    <span class="comment">// Called as part of the transition from the background to the inactive state; here you can undo many of the changes made on entering the background.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)applicationDidBecomeActive:(<span class="built_in">UIApplication</span> *)application &#123;</span><br><span class="line">    <span class="comment">// Restart any tasks that were paused (or not yet started) while the application was inactive. If the application was previously in the background, optionally refresh the user interface.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)applicationWillTerminate:(<span class="built_in">UIApplication</span> *)application &#123;</span><br><span class="line">    <span class="comment">// Called when the application is about to terminate. Save data if appropriate. See also applicationDidEnterBackground:.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h2 id="16-1-è§†å›¾æ§åˆ¶å™¨"><a href="#16-1-è§†å›¾æ§åˆ¶å™¨" class="headerlink" title="16.1    è§†å›¾æ§åˆ¶å™¨"></a>16.1    è§†å›¾æ§åˆ¶å™¨</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>Cocoa</code>ä¸»è¦ä½¿ç”¨çš„æ˜¯<code>MVC</code>æ¨¡å¼</p>
<ul>
<li><strong>è§†å›¾ï¼š</strong>ä»<code>nib</code>æ–‡ä»¶ä¸­è·å–è§†å›¾</li>
<li><strong>æ¨¡å‹ï¼š</strong>ä¸€ç»„æ•°æ®</li>
<li><strong>æ§åˆ¶å™¨ï¼š</strong><code>UIViewController</code>çš„å­ç±»</li>
</ul>
</blockquote>
<h3 id="16-1-1-åœ¨Nibæ–‡ä»¶ä¸­æ·»åŠ æ§ä»¶"><a href="#16-1-1-åœ¨Nibæ–‡ä»¶ä¸­æ·»åŠ æ§ä»¶" class="headerlink" title="16.1.1    åœ¨Nibæ–‡ä»¶ä¸­æ·»åŠ æ§ä»¶"></a>16.1.1    åœ¨Nibæ–‡ä»¶ä¸­æ·»åŠ æ§ä»¶</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å®Œæˆè§†å›¾çš„éƒ¨åˆ†</p>
<ul>
<li>æ‹–è¿›ä¸€ä¸ª<code>TextField</code>å¯¹è±¡</li>
<li>æ‹–è¿›ä¸€ä¸ª<code>Label</code></li>
<li>æ‹–è¿›ä¸¤ä¸ª<code>Button</code></li>
</ul>
</blockquote>
<p><img src="./å±å¹•å¿«ç…§ 2016-01-26 ä¸‹åˆ10.07.01.png" alt="Alt text"></p>
<h3 id="16-1-2-è§†å›¾ï¼ˆNibæ–‡ä»¶ï¼‰å’Œæ§åˆ¶å™¨å»ºç«‹è¿æ¥"><a href="#16-1-2-è§†å›¾ï¼ˆNibæ–‡ä»¶ï¼‰å’Œæ§åˆ¶å™¨å»ºç«‹è¿æ¥" class="headerlink" title="16.1.2    è§†å›¾ï¼ˆNibæ–‡ä»¶ï¼‰å’Œæ§åˆ¶å™¨å»ºç«‹è¿æ¥"></a>16.1.2    è§†å›¾ï¼ˆNibæ–‡ä»¶ï¼‰å’Œæ§åˆ¶å™¨å»ºç«‹è¿æ¥</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>æ‰“å¼€è¾…åŠ©çª—å£ï¼Œé€šè¿‡æ‹–æ‹½å®Œæˆ<code>è§†å›¾</code>(<code>Nib</code>æ–‡ä»¶)å’Œ<code>æ§åˆ¶å™¨</code>(<code>ViewController.h</code>)ä¹‹é—´çš„è¿æ¥ã€‚</p>
<ol>
<li>ä»£å¼€è¾…åŠ©çª—å£ï¼š<code>Command+Option+Return</code>æˆ–<code>Editor</code>ç»„ä¸­é—´çš„æŒ‰é’®</li>
<li>ä¸º<code>Text Field</code>å’Œ<code>Label</code>åˆ›å»ºè¾“å‡ºå£ï¼ˆ<code>outlet</code>ï¼‰ï¼šæŒ‰ä½<code>control</code>é”®ï¼Œå°†é¼ æ ‡ä»è§†å›¾ä¸­çš„å›¾åƒå…ƒç´ ä¸€ç›´æ‹–åˆ°<code>ViewController.h</code>ç›¸åº”ä½ç½®<br><img src="./å±å¹•å¿«ç…§ 2016-01-26 ä¸‹åˆ10.01.24 2.png" alt="Alt text"><br><img src="./å±å¹•å¿«ç…§ 2016-01-26 ä¸‹åˆ10.01.30 2.png" alt="Alt text"></li>
<li>ä¸ºä¸¤ä¸ªæŒ‰é’®åˆ›å»º<code>æ“ä½œ</code>(Action)</li>
</ol>
<ul>
<li>Nameï¼šæ“ä½œçš„åç§°</li>
<li>Typeï¼šæ“ä½œæ–¹æ³•å‚æ•°çš„ç±»å‹ï¼ˆé»˜è®¤ä¸º<code>id</code>ï¼‰</li>
<li>Eventï¼šäº‹ä»¶ç±»å‹</li>
<li>Argumentsï¼š<code>None</code>ã€<code>Sender</code>å’Œ<code>Event</code>ï¼ˆåŒ…å«ä¸€ä¸ª<code>UIEvent</code>ç±»å‹çš„å‚æ•°ï¼‰<br><img src="./å±å¹•å¿«ç…§ 2016-01-26 ä¸‹åˆ10.23.36.png" alt="Alt text"></li>
</ul>
</blockquote>
<h3 id="16-1-3-å®Œæˆä»£ç çš„æ‰‹åŠ¨ç¼–å†™éƒ¨åˆ†"><a href="#16-1-3-å®Œæˆä»£ç çš„æ‰‹åŠ¨ç¼–å†™éƒ¨åˆ†" class="headerlink" title="16.1.3    å®Œæˆä»£ç çš„æ‰‹åŠ¨ç¼–å†™éƒ¨åˆ†"></a>16.1.3    å®Œæˆä»£ç çš„æ‰‹åŠ¨ç¼–å†™éƒ¨åˆ†</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>åŒ…æ‹¬ç¨‹åºæ ¸å¿ƒåŠŸèƒ½çš„å®ç°ä»¥åŠä¸€äº›äº‹ä»¶çš„å›è°ƒã€‚</p>
</blockquote>
<p><em>ViewController.h</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;UIKit/UIKit.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> : <span class="title">UIViewController</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">weak</span>, <span class="keyword">nonatomic</span>) <span class="keyword">IBOutlet</span> <span class="built_in">UITextField</span> *textField;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">weak</span>, <span class="keyword">nonatomic</span>) <span class="keyword">IBOutlet</span> <span class="built_in">UILabel</span> *resultsField;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">IBAction</span>)uppercase;</span><br><span class="line">- (<span class="keyword">IBAction</span>)lowercase;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>ViewController.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@synthesize</span> textField;</span><br><span class="line"><span class="keyword">@synthesize</span> resultsField;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> *  é‡å†™çˆ¶ç±»çš„ä¾¿åˆ©æ„é€ å™¨ï¼šå®Œæˆè§†å›¾å’Œæ§åˆ¶å™¨çš„ç»‘å®š</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">id</span>)initWithNibName:(<span class="built_in">NSString</span> *)nibNameOrNil bundle:(<span class="built_in">NSBundle</span> *)nibBundleOrNil &#123;</span><br><span class="line">    <span class="keyword">self</span> = [<span class="keyword">super</span> initWithNibName:nibNameOrNil bundle:nibBundleOrNil];</span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">nil</span> != <span class="keyword">self</span>) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"init: text %@ / result %@"</span>, textField, resultsField);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> *  ç³»ç»Ÿåœ¨nibæ–‡ä»¶åŠ è½½å’Œå¯¹è±¡åˆå§‹åŒ–å®Œæˆåè°ƒç”¨ï¼šä»ios 5 ä¸ä¼šå†è°ƒç”¨è¯¥æ–¹æ³•äº†</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>)awakeFromNib &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"awake: text %@ / result %@"</span>, textField, resultsField);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> *  ç³»ç»Ÿåœ¨nibæ–‡ä»¶åŠ è½½å’Œå¯¹è±¡åˆå§‹åŒ–å®Œæˆåè°ƒç”¨</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">    <span class="comment">// Do any additional setup after loading the view, typically from a nib.</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"viewDidLoad: text %@ / results %@"</span>, textField, resultsField);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è®¾ç½®è¾“å…¥æ¡†çš„placeholder(å ä½ç¬¦)</span></span><br><span class="line">    [textField setPlaceholder:<span class="string">@"Enter text here"</span>];</span><br><span class="line">    <span class="comment">// è®¾ç½®Labelçš„é»˜è®¤å€¼</span></span><br><span class="line">    resultsField.text = <span class="string">@"Result"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> *  è§†å›¾ä»è§†å›¾å±‚çº§ä¸­ç§»é™¤åä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå¯ä»¥åœ¨è¿™é‡Œåšä¸€äº›å†…å­˜æ¸…ç†çš„äº‹æƒ…</span><br><span class="line"> *  è¯¥æ–¹æ³•å·²è¿‡æ—¶</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>)viewDidUnload &#123;</span><br><span class="line">    [<span class="keyword">self</span> setTextField:<span class="literal">nil</span>];</span><br><span class="line">    [<span class="keyword">self</span> setResultsField:<span class="literal">nil</span>];</span><br><span class="line">    [<span class="keyword">super</span> viewDidUnload];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)didReceiveMemoryWarning &#123;</span><br><span class="line">    [<span class="keyword">super</span> didReceiveMemoryWarning];</span><br><span class="line">    <span class="comment">// Dispose of any resources that can be recreated.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§†å›¾å‡ºç°å‰è°ƒç”¨</span></span><br><span class="line">- (<span class="keyword">void</span>)viewWillAppear:(<span class="built_in">BOOL</span>)animated</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">super</span> viewWillAppear:animated];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è§†å›¾å‡ºç°åè°ƒç”¨</span></span><br><span class="line">- (<span class="keyword">void</span>)viewDidAppear:(<span class="built_in">BOOL</span>)animated</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidAppear:animated];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è§†å›¾æ¶ˆå¤±å‰è°ƒç”¨</span></span><br><span class="line">- (<span class="keyword">void</span>)viewWillDisappear:(<span class="built_in">BOOL</span>)animated</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">super</span> viewWillDisappear:animated];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è§†å›¾æ¶ˆå¤±åè°ƒç”¨</span></span><br><span class="line">- (<span class="keyword">void</span>)viewDidDisappear:(<span class="built_in">BOOL</span>)animated</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidDisappear:animated];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">IBAction</span>)uppercase &#123;</span><br><span class="line">    <span class="built_in">NSString</span> *original = textField.text;</span><br><span class="line">    <span class="built_in">NSString</span> *uppercase = [original uppercaseString];</span><br><span class="line">    resultsField.text = uppercase;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">IBAction</span>)lowercase &#123;</span><br><span class="line">    <span class="built_in">NSString</span> *original = textField.text;</span><br><span class="line">    <span class="built_in">NSString</span> *lowercase = [original lowercaseString];</span><br><span class="line">    resultsField.text = lowercase;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h2 id="16-2-å°ç»“"><a href="#16-2-å°ç»“" class="headerlink" title="16.2    å°ç»“"></a>16.2    å°ç»“</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_15 AppKitç®€ä»‹/" itemprop="url">
                  15 AppKitç®€ä»‹
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-13T10:41:28+08:00" content="2016-05-13">
              2016-05-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_15 AppKitç®€ä»‹/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/13/o-cåŸºç¡€æ•™ç¨‹ç¬¬äºŒç‰ˆ_15 AppKitç®€ä»‹/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>Application Kit</code>ä¸­åŒ…å«<code>Cocoa</code>ä¸­å…³äºç”¨æˆ·ç•Œé¢çš„å¤§é‡èµ„æºã€‚<br><strong>æ³¨æ„ï¼š</strong>å­¦ä¹ è¿™ä¸€ç« èŠ‚æ—¶ï¼Œ<code>Xcode</code>çš„æœ€æ–°ç‰ˆæœ¬æ˜¯<code>7.2</code>ï¼Œéƒ¨åˆ†çŸ¥è¯†å·²ç»è¿‡æ—¶ã€‚æ¯”å¦‚ç›®å‰<code>storyboard</code>å·²ç»åŸºæœ¬å–ä»£äº†<code>xib</code>ã€‚</p>
</blockquote>
<h2 id="15-1-æ„å»ºé¡¹ç›®"><a href="#15-1-æ„å»ºé¡¹ç›®" class="headerlink" title="15.1    æ„å»ºé¡¹ç›®"></a>15.1    æ„å»ºé¡¹ç›®</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>ä¸‹é¢æ˜¯é€šè¿‡<code>Xcode</code>æ„å»º<code>Cocoa</code>åº”ç”¨ç¨‹åºé¡¹ç›®çš„æ­¥éª¤ã€‚</p>
<ol>
<li>File-&gt;New-&gt;New Projectï¼ˆCreate a New Xcode Projectï¼‰</li>
<li>å·¦è¾¹åˆ—è¡¨<code>Mac OS X</code>ä¸‹çš„<code>Application</code>é€‰é¡¹-&gt;<code>Cocoa Application</code>-&gt;Next</li>
<li>é¡¹ç›®ä¿¡æ¯</li>
</ol>
<ul>
<li><code>Product Name</code>ï¼šåº”ç”¨åç§°</li>
<li><code>Company Identifier</code>ï¼šä¼ä¸šæ ‡è¯†ç¬¦ï¼Œç”¨æ¥åŒºåˆ†åº”ç”¨ç¨‹åº</li>
<li><code>Class Prefix</code>ï¼šä¼ªå‘½åç©ºé—´ï¼Œé¿å…æ–‡ä»¶åå†²çª</li>
</ul>
<ol>
<li>å¤é€‰æ¡†</li>
</ol>
<ul>
<li><code>Create Document-Based Application</code></li>
<li><code>Use Core Data</code></li>
<li><code>Include Unit Test</code></li>
<li><code>Use Automatic Reference Counting</code></li>
</ul>
</blockquote>
<h2 id="15-2-åˆ›å»ºå§”æ‰˜æ–‡ä»¶-interfaceéƒ¨åˆ†"><a href="#15-2-åˆ›å»ºå§”æ‰˜æ–‡ä»¶-interfaceéƒ¨åˆ†" class="headerlink" title="15.2    åˆ›å»ºå§”æ‰˜æ–‡ä»¶@interfaceéƒ¨åˆ†"></a>15.2    åˆ›å»ºå§”æ‰˜æ–‡ä»¶<code>@interface</code>éƒ¨åˆ†</h2><blockquote>
<p><strong><code>Interface Builder</code>ï¼š</strong>ç®€ç§°<code>IB</code>ï¼Œç”¨å¯è§†åŒ–çš„æ–¹å¼ä¸º<code>OS X</code>å’Œ<code>iOS</code>å¸ƒå±€çª—å£å†…å®¹ï¼Œæ„å»ºç”¨æˆ·ç•Œé¢ã€‚<br><strong><code>IBOutlet</code>å’Œ<code>IBAction</code>ï¼š</strong>è¿™ä¸¤ä¸ªå…³é”®å­—ä¼šç»å¸¸å‡ºç°åœ¨ä»£ç ä¸­ï¼Œç”¨äº</p>
<ul>
<li>ä¸º<code>Interface Builder</code>æä¾›æ ‡è®°</li>
<li>å¸®åŠ©é˜…è¯»ä»£ç </li>
</ul>
</blockquote>
<h2 id="15-3-Interface-Builder"><a href="#15-3-Interface-Builder" class="headerlink" title="15.3    Interface Builder"></a>15.3    Interface Builder</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šè¿‡<code>.xib</code>æ–‡ä»¶å°±å¯ä»¥æ‰“å¼€<code>IB</code>çš„å¯è§†åŒ–ç¼–è¾‘å™¨ã€‚</p>
<ul>
<li><strong>nibæ–‡ä»¶ï¼š</strong>ç¼–è¯‘æ—¶ï¼Œ<code>.xib</code>(<code>XML</code>æ ¼å¼)æ–‡ä»¶ä¼šè¢«ç¼–è¯‘ä¸º<code>nib(NeXT Interface Builder)</code>æ–‡ä»¶ï¼Œå®ƒæ˜¯åŒ…å«äº†å‹ç¼©å¯¹è±¡çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œ</li>
<li><strong>å¯¹è±¡åº“ï¼š</strong>åŒ…å«äº†å¤§é‡å¯ä»¥æ‹–å…¥çª—å£çš„ä¸åŒç±»å‹çš„å¯¹è±¡ã€‚</li>
</ul>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-25%20%E4%B8%8B%E5%8D%8810.17.36.png" alt="Alt text"></p>
</blockquote>
<h2 id="15-4-è®¾è®¡ç”¨æˆ·ç•Œé¢"><a href="#15-4-è®¾è®¡ç”¨æˆ·ç•Œé¢" class="headerlink" title="15.4    è®¾è®¡ç”¨æˆ·ç•Œé¢"></a>15.4    è®¾è®¡ç”¨æˆ·ç•Œé¢</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å¯¹ç”¨æˆ·ç•Œé¢è¿›è¡Œå¸ƒå±€</p>
<ol>
<li>æ‹–å…¥ä¸€ä¸ª<code>Text Filed</code></li>
<li>æ‹–å…¥ä¸€ä¸ª<code>Label</code></li>
<li>æ‹–å…¥ä¸€ä¸ª<code>push button</code></li>
</ol>
</blockquote>
<p><img src="http://o6ul1xz4z.bkt.clouddn.com/img/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-25%20%E4%B8%8B%E5%8D%8810.42.36.png" alt="Alt text"></p>
<h2 id="15-5-åˆ›å»ºè¿æ¥"><a href="#15-5-åˆ›å»ºè¿æ¥" class="headerlink" title="15.5    åˆ›å»ºè¿æ¥"></a>15.5    åˆ›å»ºè¿æ¥</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†<code>ä»£ç </code>ä¸åˆšåˆ›å»ºçš„<code>ç”¨æˆ·ç•Œé¢å…ƒç´ </code>ç›¸è¿æ¥ã€‚</p>
</blockquote>
<h3 id="15-5-1-è¿æ¥è¾“å‡ºå£ï¼ˆIBOutletï¼‰"><a href="#15-5-1-è¿æ¥è¾“å‡ºå£ï¼ˆIBOutletï¼‰" class="headerlink" title="15.5.1    è¿æ¥è¾“å‡ºå£ï¼ˆIBOutletï¼‰"></a>15.5.1    è¿æ¥è¾“å‡ºå£ï¼ˆIBOutletï¼‰</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>é€šè¿‡æ‹–åŠ¨è‡ªåŠ¨ç”Ÿæˆç•Œé¢å…ƒç´ å¯¹åº”çš„ä»£ç ã€‚ä»¥å…¶ä¸­çš„<code>Text Field</code>ä¸ºä¾‹å­</p>
<ol>
<li>æ‰“å¼€è¾…åŠ©ç¼–è¾‘å™¨</li>
<li>æŒ‰ä½<code>Control</code>é”®å°†å…‰æ ‡ä»<code>æ–‡æœ¬æ¡†</code>æ‹–åŠ¨åˆ°<code>å¤´æ–‡ä»¶</code>ä¸­<code>@property</code>é‚£ä¸€è¡Œçš„ä¸‹é¢</li>
<li>å‡ºç°<code>Insert Outlet orAction</code>æç¤ºæ¶ˆæ¯æ—¶æ¾å¼€é¼ æ ‡</li>
<li>åœ¨å¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­è¾“å…¥<code>textField</code>ï¼Œç‚¹å‡»<code>Connect</code></li>
</ol>
</blockquote>
<h3 id="15-5-2-è¿æ¥æ“ä½œï¼ˆIBActionï¼‰"><a href="#15-5-2-è¿æ¥æ“ä½œï¼ˆIBActionï¼‰" class="headerlink" title="15.5.2    è¿æ¥æ“ä½œï¼ˆIBActionï¼‰"></a>15.5.2    è¿æ¥æ“ä½œï¼ˆIBActionï¼‰</h3><blockquote>
<p><strong>è¯´æ˜ï¼š</strong>å°†æŒ‰é’®è¿æ¥åˆ°æ“ä½œï¼Œè¿™æ ·æŒ‰ä¸‹æŒ‰é’®å°±ä¼šè§¦å‘ä»£ç ã€‚ä»¥<code>UpperCae</code>æŒ‰é’®ä¸ºä¾‹</p>
<ol>
<li>æŒ‰ä½<code>Control</code>é”®å’Œ<code>UpperCase</code>æŒ‰é’®</li>
<li>æ‹–åŠ¨ä¸€æ¡ç›´çº¿åˆ°<code>å¤´æ–‡ä»¶</code>çš„æœ€åä¸€è¡Œ<code>@property</code>è¯­å¥ä¸‹</li>
<li>å¼¹å‡ºè¿æ¥å¯¹è¯æ¡†ï¼Œé€‰æ‹©<code>Action</code>ç±»å‹</li>
<li>åœ¨Nameæ–‡æœ¬æ¡†ä¸­è¾“å…¥<code>uppercase</code>ï¼Œå¹¶ç‚¹å‡»<code>Connect</code>(è‡ªåŠ¨åœ¨å¤´æ–‡ä»¶ä¸­åˆ›å»ºæ–¹æ³•çš„å£°æ˜ï¼Œå¹¶åœ¨å®ç°æ–‡ä»¶ä¸­åˆ›å»ºæ–¹æ³•çš„å®ç°)</li>
</ol>
</blockquote>
<h2 id="15-6-åº”ç”¨ç¨‹åºå§”æ‰˜çš„å®ç°"><a href="#15-6-åº”ç”¨ç¨‹åºå§”æ‰˜çš„å®ç°" class="headerlink" title="15.6    åº”ç”¨ç¨‹åºå§”æ‰˜çš„å®ç°"></a>15.6    åº”ç”¨ç¨‹åºå§”æ‰˜çš„å®ç°</h2><blockquote>
<p><strong>è¯´æ˜ï¼š</strong><code>IBOutlet</code>çš„å·¥ä½œæ–¹å¼</p>
<ol>
<li>åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶ï¼Œ<code>MainMenu.nib</code>è¢«è‡ªåŠ¨åŠ è½½ï¼Œç•Œé¢å¯¹è±¡è¢«åˆ›å»º</li>
<li>åˆ†é…å¹¶åˆå§‹åŒ–<code>MSCApplelegate</code>å®ä¾‹ï¼ˆ<code>IBOutlet</code>çš„å®ä¾‹å˜é‡ï¼‰</li>
<li>å»ºç«‹è¿æ¥ï¼šå°†<code>NSTextField</code>ç­‰å¯¹è±¡çš„åœ°å€æ·»åŠ åˆ°<code>MSCAppDelegate</code>å®ä¾‹å˜é‡ä¸­ï¼Œç„¶ååƒæ¯ä¸ªæ¯ä¸ª<code>ç•Œé¢å¯¹è±¡</code>å‘é€<code>awakeFromNib</code>æ¶ˆæ¯ã€‚</li>
</ol>
</blockquote>
<p><em>MSCAppDelegate.h</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Cocoa/Cocoa.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">MSCAppDelegate</span> : <span class="title">NSObject</span> &lt;<span class="title">NSApplicationDelegate</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">assign</span>) <span class="keyword">IBOutlet</span> <span class="built_in">NSWindow</span> *window;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">weak</span>) <span class="keyword">IBOutlet</span> <span class="built_in">NSTextField</span> *textField;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">weak</span>) <span class="keyword">IBOutlet</span> <span class="built_in">NSTextField</span> *resultsField;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">IBAction</span>)uppercase:(<span class="keyword">id</span>)sender;</span><br><span class="line">- (<span class="keyword">IBAction</span>)lowercase:(<span class="keyword">id</span>)sender;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><em>MSCAppDelegate.m</em></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"MSCAppDelegate.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">MSCAppDelegate</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@synthesize</span> window = _window;</span><br><span class="line"><span class="keyword">@synthesize</span> textField = _textField;</span><br><span class="line"><span class="keyword">@synthesize</span> resultsField = _resultsField;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>)init &#123;</span><br><span class="line">	<span class="keyword">if</span> (<span class="literal">nil</span> != (<span class="keyword">self</span> = [<span class="keyword">super</span> init])) &#123;</span><br><span class="line">        <span class="comment">// æ­¤æ—¶è¿˜æ²¡å’Œç•Œé¢å¯¹è±¡å»ºç«‹è¿æ¥ï¼Œå› æ­¤éƒ½æ˜¯ nil</span></span><br><span class="line">		<span class="built_in">NSLog</span> (<span class="string">@"init: text %@ / results %@"</span>, _textField, _resultsField);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">self</span>;	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * å¯¹ç•Œé¢å¯¹è±¡è¿›è¡Œä¸€äº›åˆå§‹åŒ–å·¥ä½œ</span><br><span class="line"> * è¿æ¥å»ºç«‹åä¼šè¢«è°ƒç”¨</span><br><span class="line"> *  @override</span><br><span class="line"> */</span></span><br><span class="line">- (<span class="keyword">void</span>)awakeFromNib &#123;</span><br><span class="line">	<span class="built_in">NSLog</span> (<span class="string">@"awake: text %@ / results %@"</span>, _textField, _resultsField);</span><br><span class="line">	</span><br><span class="line">	[_textField setStringValue:<span class="string">@"Enter text here"</span>];</span><br><span class="line">	[_resultsField setStringValue:<span class="string">@"Results"</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)applicationDidFinishLaunching:(<span class="built_in">NSNotification</span> *)aNotification &#123;</span><br><span class="line">    <span class="comment">// Insert code here to initialize your application</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">IBAction</span>)uppercase:(<span class="keyword">id</span>)sender &#123;</span><br><span class="line">	<span class="built_in">NSString</span> *original = [_textField stringValue];</span><br><span class="line">	<span class="built_in">NSString</span> *uppercase = [original uppercaseString];</span><br><span class="line">	[_resultsField setStringValue:uppercase];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">IBAction</span>)lowercase:(<span class="keyword">id</span>)sender &#123;</span><br><span class="line">	<span class="built_in">NSString</span> *original = [_textField stringValue];</span><br><span class="line">	<span class="built_in">NSString</span> *lowercase = [original lowercaseString];</span><br><span class="line">	[_resultsField setStringValue:lowercase];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h2 id="15-7-å°ç»“"><a href="#15-7-å°ç»“" class="headerlink" title="15.7    å°ç»“"></a>15.7    å°ç»“</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Sean" />
          <p class="site-author-name" itemprop="name">Sean</p>
          <p class="site-description motion-element" itemprop="description">æ•´ç†äº†ä¸€æ‰¹è¿‡å»ä¸€æ®µæ—¶é—´iosç›¸å…³çš„ç¬”è®°ï¼Œå…¶å®ƒçš„ç¬”è®°ä¹Ÿæ•´ç†ä¸‹ï¼Ÿæºç åˆ†äº«å‡ºæ¥ï¼Ÿå†è¯´å§...åæ­£ä¹Ÿåªæœ‰è‡ªå·±ä¼šçœ‹å§...</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">100</span>
              <span class="site-state-item-name">æ—¥å¿—</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">14</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Sean</span>
</div>

<div class="powered-by">
  ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"lapuda-er"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  

  

  

  

</body>
</html>
